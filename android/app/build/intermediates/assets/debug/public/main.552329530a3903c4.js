(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8792],{3881:Jn=>{window,Jn.exports=function(ft){var y={};function c(d){if(y[d])return y[d].exports;var v=y[d]={i:d,l:!1,exports:{}};return ft[d].call(v.exports,v,v.exports,c),v.l=!0,v.exports}return c.m=ft,c.c=y,c.d=function(d,v,w){c.o(d,v)||Object.defineProperty(d,v,{enumerable:!0,get:w})},c.r=function(d){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},c.t=function(d,v){if(1&v&&(d=c(d)),8&v||4&v&&"object"==typeof d&&d&&d.__esModule)return d;var w=Object.create(null);if(c.r(w),Object.defineProperty(w,"default",{enumerable:!0,value:d}),2&v&&"string"!=typeof d)for(var N in d)c.d(w,N,function(A){return d[A]}.bind(null,N));return w},c.n=function(d){var v=d&&d.__esModule?function(){return d.default}:function(){return d};return c.d(v,"a",v),v},c.o=function(d,v){return Object.prototype.hasOwnProperty.call(d,v)},c.p="",c(c.s=38)}([function(ft,y,c){"use strict";y.__esModule=!0,y.validateConversationType=y.validateUpdateUser=y.validateCreateUser=y.validateMessage=y.validateChatType=y.validateMsgId=y.validateArray=y.validateHideMessagesFromBlockedUsers=y.validateId=y.validateCreateGroup=y.validateJoinGroup=y.validateUpdateGroup=y.validateScope=y.isAudio=y.isVideo=y.isImage=y.getUpdatedSettings=y.getAppSettings=y.getCurrentTime=y.Logger=y.createUidFromJid=y.format=y.getOrdinalSuffix=y.isFalsy=y.isTruthy=y.isObject=y.getJidHost=y.getChatHost=void 0;var d=c(14),v=c(1),w=c(6),N=c(2),A=c(16),I=c(17),P=c(19),F=c(3),C=c(13);function M($){return null!=$&&("string"==typeof $&&($=$.trim()),"object"==typeof $&&0===Object.keys($).length&&($=void 0)),["",0,"0",!1,null,"null",void 0,"undefined"].includes($)}function x($){for(var S=[],se=1;se<arguments.length;se++)S[se-1]=arguments[se];return $.split("%s").reduce(function(ue,Be,me){return ue+Be+(S[me]||"")},"")}y.getChatHost=function($){return $[v.APP_SETTINGS.KEYS.CHAT_HOST_OVERRIDE]?$[v.APP_SETTINGS.KEYS.CHAT_HOST_OVERRIDE]:$[v.APP_SETTINGS.KEYS.CHAT_HOST_APP_SPECIFIC]?$[v.APP_SETTINGS.KEYS.CHAT_HOST_APP_SPECIFIC]:$[v.APP_SETTINGS.KEYS.CHAT_HOST]},y.getJidHost=function($){return $[v.APP_SETTINGS.KEYS.JID_HOST_OVERRIDE]?$[v.APP_SETTINGS.KEYS.JID_HOST_OVERRIDE]:$[v.APP_SETTINGS.KEYS.CHAT_HOST]},y.isObject=function($){return $ instanceof Object&&$.constructor===Object},y.isTruthy=function($){return[!0,1,"1","true","TRUE"].includes($)},y.isFalsy=M,y.getOrdinalSuffix=function($){var S=$%10,se=$%100;return 1==S&&11!=se?$+"st":2==S&&12!=se?$+"nd":3==S&&13!=se?$+"rd":$+"th"},y.format=x,y.createUidFromJid=function($){return $.substring($.lastIndexOf("]")+1,$.lastIndexOf("@"))};var j=function(){function $(){}return $.log=function(S,se){},$.error=function(S,se){},$.info=function(S,se){},$}();function Q(){return new Promise(function($,S){w.makeApiCall("appSettings").then(function(se){d.LocalStorage.getInstance().set(v.LOCAL_STORE.KEY_APP_SETTINGS,se.data),se.data.MODE&&F.CometChat.setMode(se.data.MODE),$(se.data)},function(se){S(new N.CometChatException(se.error))})})}y.Logger=j,y.getCurrentTime=function(){return(new Date).getTime()},y.getAppSettings=function(){return new Promise(function($,S){d.LocalStorage.getInstance().get(v.LOCAL_STORE.KEY_APP_SETTINGS).then(function(se){M(se)?Q().then(function(ue){$(ue)},function(ue){S(ue)}):$(se)},function(se){S(se)})})},y.getUpdatedSettings=Q,y.isImage=function($){var S;return $.type&&$.type.toLowerCase().includes("image")&&(S=!0),S},y.isVideo=function($){var S;return $.type&&$.type.toLowerCase().includes("video")&&(S=!0),S},y.isAudio=function($){var S;return $.type&&$.type.toLowerCase().includes("audio")&&(S=!0),S},y.validateScope=function($){return typeof $!==v.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING?new N.CometChatException(JSON.parse(x(JSON.stringify(v.GENERAL_ERROR.MUST_BE_A_STRING),"SCOPE","SCOPE","Scope"))):M($)?new N.CometChatException(JSON.parse(x(JSON.stringify(v.GENERAL_ERROR.INVALID),"SCOPE","SCOPE","scope","scope"))):$!=F.CometChat.GROUP_MEMBER_SCOPE.ADMIN&&$!=F.CometChat.GROUP_MEMBER_SCOPE.MODERATOR&&$!=F.CometChat.GROUP_MEMBER_SCOPE.PARTICIPANT?new N.CometChatException(v.GroupErrors.INVALID_SCOPE):void 0},y.validateUpdateGroup=function($){return $.hasOwnProperty(v.GroupConstants.KEYS.GUID)?typeof $[v.GroupConstants.KEYS.GUID]!==v.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING?new N.CometChatException(JSON.parse(x(JSON.stringify(v.GENERAL_ERROR.MUST_BE_A_STRING),"GUID","GUID","GUID"))):M($[v.GroupConstants.KEYS.GUID])?new N.CometChatException(JSON.parse(x(JSON.stringify(v.GENERAL_ERROR.INVALID_GROUP_PROPERTY),"GUID","GUID","GUID","GUID"))):$.hasOwnProperty(v.GroupConstants.KEYS.NAME)&&""===$[v.GroupConstants.KEYS.NAME]?new N.CometChatException(JSON.parse(x(JSON.stringify(v.GENERAL_ERROR.EMPTY_STRING),"GROUP_NAME","GROUP_NAME","Group name"))):void 0:new N.CometChatException(JSON.parse(x(JSON.stringify(v.GENERAL_ERROR.PARAMETER_COMPULSORY),"GUID","GUID","GUID","GUID")))},y.validateJoinGroup=function($,S,se){if(typeof $==v.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.OBJECT){if(!$.hasOwnProperty(v.GroupConstants.KEYS.GUID))return new N.CometChatException(JSON.parse(x(JSON.stringify(v.GENERAL_ERROR.PARAMETER_COMPULSORY),"GUID","GUID","GUID","GUID")));if(typeof $[v.GroupConstants.KEYS.GUID]!==v.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new N.CometChatException(JSON.parse(x(JSON.stringify(v.GENERAL_ERROR.MUST_BE_A_STRING),"GUID","GUID","GUID")));if(M($[v.GroupConstants.KEYS.GUID]))return new N.CometChatException(JSON.parse(x(JSON.stringify(v.GENERAL_ERROR.INVALID_GROUP_PROPERTY),"GUID","GUID","GUID","GUID")));if(!$.hasOwnProperty(v.GroupConstants.KEYS.TYPE))return new N.CometChatException(JSON.parse(x(JSON.stringify(v.GENERAL_ERROR.PARAMETER_COMPULSORY),"GROUP_TYPE","GROUP_TYPE","Group type","Group type")));if(typeof $[v.GroupConstants.KEYS.TYPE]!==v.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new N.CometChatException(JSON.parse(x(JSON.stringify(v.GENERAL_ERROR.MUST_BE_A_STRING),"GROUP_TYPE","GROUP_TYPE","Group type")));if(M($[v.GroupConstants.KEYS.TYPE]))return new N.CometChatException(JSON.parse(x(JSON.stringify(v.GENERAL_ERROR.INVALID_GROUP_PROPERTY),"GROUP_TYPE","GROUP_TYPE","type","type")));if($[v.GroupConstants.KEYS.TYPE].toLowerCase()!=F.CometChat.GROUP_TYPE.PUBLIC&&$[v.GroupConstants.KEYS.TYPE].toLowerCase()!=F.CometChat.GROUP_TYPE.PASSWORD&&$[v.GroupConstants.KEYS.TYPE].toLowerCase()!=F.CometChat.GROUP_TYPE.PROTECTED&&$[v.GroupConstants.KEYS.TYPE].toLowerCase()!=F.CometChat.GROUP_TYPE.PRIVATE)return new N.CometChatException(v.GroupErrors.INVALID_GROUP_TYPE);if($[v.GroupConstants.KEYS.TYPE].toLowerCase()==F.CometChat.GROUP_TYPE.PASSWORD){if(!$.hasOwnProperty(v.GroupConstants.KEYS.PASSWORD))return new N.CometChatException(JSON.parse(x(JSON.stringify(v.GENERAL_ERROR.PASSWORD_COMPULSORY),"PASSWORD","PASSWORD")));if(typeof $[v.GroupConstants.KEYS.PASSWORD]!==v.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new N.CometChatException(JSON.parse(x(JSON.stringify(v.GENERAL_ERROR.MUST_BE_A_STRING),"PASSWORD","PASSWORD","Password")));if(M($[v.GroupConstants.KEYS.PASSWORD]))return new N.CometChatException(JSON.parse(x(JSON.stringify(v.GENERAL_ERROR.INVALID_GROUP_PROPERTY),"PASSWORD","PASSWORD","password","password")))}}else{if(void 0!==$){if(typeof $!==v.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new N.CometChatException(JSON.parse(x(JSON.stringify(v.GENERAL_ERROR.MUST_BE_A_STRING),"GUID","GUID","GUID")));if(M($))return new N.CometChatException(JSON.parse(x(JSON.stringify(v.GENERAL_ERROR.INVALID_GROUP_PROPERTY),"GUID","GUID","GUID","GUID")))}if(void 0!==S){if(typeof S!==v.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new N.CometChatException(JSON.parse(x(JSON.stringify(v.GENERAL_ERROR.MUST_BE_A_STRING),"GROUP_TYPE","GROUP_TYPE","Group type")));if(M(S))return new N.CometChatException(JSON.parse(x(JSON.stringify(v.GENERAL_ERROR.INVALID_GROUP_PROPERTY),"GROUP_TYPE","GROUP_TYPE","type","type")));if(S.toLowerCase()!=F.CometChat.GROUP_TYPE.PUBLIC&&S.toLowerCase()!=F.CometChat.GROUP_TYPE.PASSWORD&&S.toLowerCase()!=F.CometChat.GROUP_TYPE.PROTECTED&&S.toLowerCase()!=F.CometChat.GROUP_TYPE.PRIVATE)return new N.CometChatException(v.GroupErrors.INVALID_GROUP_TYPE);if(S.toLowerCase()==F.CometChat.GROUP_TYPE.PASSWORD){if(typeof se!==v.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new N.CometChatException(JSON.parse(x(JSON.stringify(v.GENERAL_ERROR.MUST_BE_A_STRING),"PASSWORD","PASSWORD","Password")));if(M(se))return new N.CometChatException(JSON.parse(x(JSON.stringify(v.GENERAL_ERROR.INVALID_GROUP_PROPERTY),"PASSWORD","PASSWORD","password","password")))}}}},y.validateCreateGroup=function($){if(!$.hasOwnProperty(v.GroupConstants.KEYS.GUID))return new N.CometChatException(JSON.parse(x(JSON.stringify(v.GENERAL_ERROR.PARAMETER_COMPULSORY),"GUID","GUID","GUID","GUID")));if(typeof $[v.GroupConstants.KEYS.GUID]!==v.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new N.CometChatException(JSON.parse(x(JSON.stringify(v.GENERAL_ERROR.MUST_BE_A_STRING),"GUID","GUID","GUID")));if(M($[v.GroupConstants.KEYS.GUID]))return new N.CometChatException(JSON.parse(x(JSON.stringify(v.GENERAL_ERROR.INVALID_GROUP_PROPERTY),"GUID","GUID","GUID","GUID")));if(!$.hasOwnProperty(v.GroupConstants.KEYS.NAME))return new N.CometChatException(JSON.parse(x(JSON.stringify(v.GENERAL_ERROR.PARAMETER_COMPULSORY),"GROUP_NAME","GROUP_NAME","Group name","Group name")));if(typeof $[v.GroupConstants.KEYS.NAME]!==v.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new N.CometChatException(JSON.parse(x(JSON.stringify(v.GENERAL_ERROR.MUST_BE_A_STRING),"GROUP_NAME","GROUP_NAME","Group name")));if(M($[v.GroupConstants.KEYS.NAME]))return new N.CometChatException(JSON.parse(x(JSON.stringify(v.GENERAL_ERROR.INVALID_GROUP_PROPERTY),"GROUP_NAME","GROUP_NAME","name","name")));if(!$.hasOwnProperty(v.GroupConstants.KEYS.TYPE))return new N.CometChatException(JSON.parse(x(JSON.stringify(v.GENERAL_ERROR.PARAMETER_COMPULSORY),"GROUP_TYPE","GROUP_TYPE","Group type","Group type")));if(typeof $[v.GroupConstants.KEYS.TYPE]!==v.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new N.CometChatException(JSON.parse(x(JSON.stringify(v.GENERAL_ERROR.MUST_BE_A_STRING),"GROUP_TYPE","GROUP_TYPE","Group type")));if(M($[v.GroupConstants.KEYS.TYPE]))return new N.CometChatException(JSON.parse(x(JSON.stringify(v.GENERAL_ERROR.INVALID_GROUP_PROPERTY),"GROUP_TYPE","GROUP_TYPE","type","type")));if($[v.GroupConstants.KEYS.TYPE].toLowerCase()!=F.CometChat.GROUP_TYPE.PUBLIC&&$[v.GroupConstants.KEYS.TYPE].toLowerCase()!=F.CometChat.GROUP_TYPE.PASSWORD&&$[v.GroupConstants.KEYS.TYPE].toLowerCase()!=F.CometChat.GROUP_TYPE.PROTECTED&&$[v.GroupConstants.KEYS.TYPE].toLowerCase()!=F.CometChat.GROUP_TYPE.PRIVATE)return new N.CometChatException(v.GroupErrors.INVALID_GROUP_TYPE);if($[v.GroupConstants.KEYS.TYPE].toLowerCase()==F.CometChat.GROUP_TYPE.PASSWORD){if(!$.hasOwnProperty(v.GroupConstants.KEYS.PASSWORD))return new N.CometChatException(JSON.parse(x(JSON.stringify(v.GENERAL_ERROR.PASSWORD_COMPULSORY),"PASSWORD","PASSWORD")));if(typeof $[v.GroupConstants.KEYS.PASSWORD]!==v.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new N.CometChatException(JSON.parse(x(JSON.stringify(v.GENERAL_ERROR.MUST_BE_A_STRING),"PASSWORD","PASSWORD","Password")));if(M($[v.GroupConstants.KEYS.PASSWORD]))return new N.CometChatException(JSON.parse(x(JSON.stringify(v.GENERAL_ERROR.INVALID_GROUP_PROPERTY),"PASSWORD","PASSWORD","password","password")))}if($.hasOwnProperty(v.GroupConstants.KEYS.TAGS)){if(!Array.isArray($[v.GroupConstants.KEYS.TAGS]))return new N.CometChatException(JSON.parse(x(JSON.stringify(v.GENERAL_ERROR.MUST_BE_AN_ARRAY),"GROUP_TAGS","GROUP_TAGS","Group tags")));if(0===$[v.GroupConstants.KEYS.TAGS].length)return new N.CometChatException(JSON.parse(x(JSON.stringify(v.GENERAL_ERROR.EMPTY_ARRAY),"GROUP_TAGS","GROUP_TAGS","Group tags")))}},y.validateId=function($,S){if("user"===S){if(typeof $!==v.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new N.CometChatException(JSON.parse(x(JSON.stringify(v.GENERAL_ERROR.MUST_BE_A_STRING),"UID","UID","UID")));if(M($))return new N.CometChatException(JSON.parse(x(JSON.stringify(v.GENERAL_ERROR.INVALID),"UID","UID","UID","UID")))}if("group"===S){if(typeof $!==v.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new N.CometChatException(JSON.parse(x(JSON.stringify(v.GENERAL_ERROR.MUST_BE_A_STRING),"GUID","GUID","GUID")));if(M($))return new N.CometChatException(JSON.parse(x(JSON.stringify(v.GENERAL_ERROR.INVALID),"GUID","GUID","GUID","GUID")))}},y.validateHideMessagesFromBlockedUsers=function($){if(typeof $!==v.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.BOOLEAN)return new N.CometChatException(JSON.parse(x(JSON.stringify(v.GENERAL_ERROR.MUST_BE_A_BOOLEAN),"HIDE_MESSAGES_FROM_BLOCKED_USERS","HIDE_MESSAGES_FROM_BLOCKED_USERS","hideMessagesFromBlockedUsers")))},y.validateArray=function($,S){var se;return se="blockUsers"===S?"blockUsers() method accepts an array of users.":"unblockUsers"===S?"unblockUsers() method accepts an array of users.":"groupMembers"===S?"addMembersToGroup() method accepts members list as an array of users.":"addMembersToGroup() method accepts bannedMembers list as an array of users.",typeof $!=v.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.OBJECT?new N.CometChatException(JSON.parse(x(JSON.stringify(v.GENERAL_ERROR.INVALID_ARRAY),"USER_LIST","USER_LIST",se))):Array.isArray($)?void 0:new N.CometChatException(JSON.parse(x(JSON.stringify(v.GENERAL_ERROR.INVALID_ARRAY),"USER_LIST","USER_LIST",se)))},y.validateMsgId=function($){return isNaN($)?new N.CometChatException(JSON.parse(x(JSON.stringify(v.GENERAL_ERROR.MUST_BE_A_NUMBER),"MESSAGE_ID","MESSAGE_ID","Message Id"))):M($)?new N.CometChatException(C.ERRORS.PARAMETER_MISSING):void 0},y.validateChatType=function($){return typeof $!==v.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING?new N.CometChatException(JSON.parse(x(JSON.stringify(v.GENERAL_ERROR.MUST_BE_A_STRING),"RECEIVER_TYPE","RECEIVER_TYPE","Receiver type"))):M($)?new N.CometChatException(JSON.parse(x(JSON.stringify(v.GENERAL_ERROR.INVALID),"RECEIVER_TYPE","RECEIVER_TYPE","receiver type","receiver type"))):$!=v.MessageConstatnts.RECEIVER_TYPE.GROUP&&$!=v.MessageConstatnts.RECEIVER_TYPE.USER?new N.CometChatException(v.MessageErrors.INVALID_RECEIVER_TYPE):void 0},y.validateMessage=function($){var S=$;if(typeof S.getReceiverId()!==v.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new N.CometChatException(JSON.parse(x(JSON.stringify(v.GENERAL_ERROR.MUST_BE_A_STRING),"RECEIVER_ID","RECEIVER_ID","Receiver Id")));if(M(S.getReceiverId()))return new N.CometChatException(JSON.parse(x(JSON.stringify(v.GENERAL_ERROR.INVALID),"RECEIVER_ID","RECEIVER_ID","receiver id","receiver id")));if(typeof S.getReceiverType()!==v.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new N.CometChatException(JSON.parse(x(JSON.stringify(v.GENERAL_ERROR.MUST_BE_A_STRING),"RECEIVER_TYPE","RECEIVER_TYPE","Receiver Type")));if(M(S.getReceiverType()))return new N.CometChatException(JSON.parse(x(JSON.stringify(v.GENERAL_ERROR.INVALID),"RECEIVER_TYPE","RECEIVER_TYPE","receiver type","receiver type")));if(S.getReceiverType()!=v.MessageConstatnts.RECEIVER_TYPE.GROUP&&S.getReceiverType()!=v.MessageConstatnts.RECEIVER_TYPE.USER)return new N.CometChatException(v.MessageErrors.INVALID_RECEIVER_TYPE);if($ instanceof A.TextMessage){var se=$;if(typeof se.getText()!==v.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new N.CometChatException(JSON.parse(x(JSON.stringify(v.GENERAL_ERROR.MUST_BE_A_STRING),"MESSAGE_TEXT","MESSAGE_TEXT","Message text")));if(""===se.getText().trim())return new N.CometChatException(JSON.parse(x(JSON.stringify(v.GENERAL_ERROR.EMPTY_STRING),"MESSAGE_TEXT","MESSAGE_TEXT","Message text")))}if($ instanceof I.MediaMessage){var ue=$;if(ue.getData()&&ue.getData().hasOwnProperty("attachments"))for(var Be=ue.getAttachments(),me=0;me<Be.length;me++){if(!Be[me].getExtension())return new N.CometChatException(JSON.parse(x(JSON.stringify(v.GENERAL_ERROR.MISSING_KEY),"extension","Attachment")));if(!Be[me].getMimeType())return new N.CometChatException(JSON.parse(x(JSON.stringify(v.GENERAL_ERROR.MISSING_KEY),"mimeType","Attachment")));if(!Be[me].getName())return new N.CometChatException(JSON.parse(x(JSON.stringify(v.GENERAL_ERROR.MISSING_KEY),"name","Attachment")));if(!Be[me].getUrl())return new N.CometChatException(JSON.parse(x(JSON.stringify(v.GENERAL_ERROR.MISSING_KEY),"url","Attachment")))}if(ue.hasOwnProperty("files"))for(me=0;me<ue.files.length;me++)if(!(ue.files[me]instanceof Blob))return new N.CometChatException(JSON.parse(x(JSON.stringify(v.GENERAL_ERROR.MUST_BE_A_BLOB),"MEDIA_OBJECT","MEDIA_OBJECT","Media object")))}return $ instanceof P.CustomMessage&&M($.getCustomData())?new N.CometChatException(JSON.parse(x(JSON.stringify(v.GENERAL_ERROR.INVALID),"CUSTOM_DATA","CUSTOM_DATA","custom data","custom data"))):void 0},y.validateCreateUser=function($){if(!$.hasOwnProperty(v.UserConstants.UID))return new N.CometChatException(JSON.parse(x(JSON.stringify(v.GENERAL_ERROR.PARAMETER_COMPULSORY),"UID","UID","UID","UID")));if(typeof $[v.UserConstants.UID]!==v.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new N.CometChatException(JSON.parse(x(JSON.stringify(v.GENERAL_ERROR.MUST_BE_A_STRING),"UID","UID","UID")));if(M($[v.UserConstants.UID]))return new N.CometChatException(JSON.parse(x(JSON.stringify(v.GENERAL_ERROR.INVALID_USER_PROPERTY),"UID","UID","UID","UID")));if(!$.hasOwnProperty(v.UserConstants.NAME))return new N.CometChatException(JSON.parse(x(JSON.stringify(v.GENERAL_ERROR.PARAMETER_COMPULSORY),"USER_NAME","USER_NAME","User name","User name")));if(typeof $[v.UserConstants.NAME]!==v.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new N.CometChatException(JSON.parse(x(JSON.stringify(v.GENERAL_ERROR.MUST_BE_A_STRING),"USER_NAME","USER_NAME","User name")));if(M($[v.UserConstants.NAME]))return new N.CometChatException(JSON.parse(x(JSON.stringify(v.GENERAL_ERROR.INVALID_USER_PROPERTY),"USER_NAME","USER_NAME","name","name")));if($.hasOwnProperty(v.UserConstants.AVATAR)&&""===$[v.UserConstants.AVATAR])return new N.CometChatException(JSON.parse(x(JSON.stringify(v.GENERAL_ERROR.EMPTY_STRING),"USER_AVATAR","USER_AVATAR","User avatar")));if($.hasOwnProperty(v.UserConstants.META_DATA)&&""===$[v.UserConstants.META_DATA])return new N.CometChatException(JSON.parse(x(JSON.stringify(v.GENERAL_ERROR.EMPTY_STRING),"USER_METADATA","USER_METADATA","User metadata")));if($.hasOwnProperty(v.UserConstants.LINK)&&""===$[v.UserConstants.LINK])return new N.CometChatException(JSON.parse(x(JSON.stringify(v.GENERAL_ERROR.EMPTY_STRING),"USER_LINK","USER_LINK","User link")));if($.hasOwnProperty(v.UserConstants.STATUS_MESSAGE)&&""===$[v.UserConstants.STATUS_MESSAGE])return new N.CometChatException(JSON.parse(x(JSON.stringify(v.GENERAL_ERROR.EMPTY_STRING),"USER_STATUS_MESSAGE","USER_STATUS_MESSAGE","User status message")));if($.hasOwnProperty(v.UserConstants.ROLE)&&""===$[v.UserConstants.ROLE])return new N.CometChatException(JSON.parse(x(JSON.stringify(v.GENERAL_ERROR.EMPTY_STRING),"USER_ROLE","USER_ROLE","User role")));if($.hasOwnProperty(v.UserConstants.TAGS)){if(!Array.isArray($[v.UserConstants.TAGS]))return new N.CometChatException(JSON.parse(x(JSON.stringify(v.GENERAL_ERROR.MUST_BE_AN_ARRAY),"USER_TAGS","USER_TAGS","User tags")));if(0===$[v.UserConstants.TAGS].length)return new N.CometChatException(JSON.parse(x(JSON.stringify(v.GENERAL_ERROR.EMPTY_ARRAY),"USER_TAGS","USER_TAGS","User tags")))}},y.validateUpdateUser=function($){return $.hasOwnProperty(v.UserConstants.UID)?typeof $[v.UserConstants.UID]!==v.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING?new N.CometChatException(JSON.parse(x(JSON.stringify(v.GENERAL_ERROR.MUST_BE_A_STRING),"UID","UID","UID"))):M($[v.UserConstants.UID])?new N.CometChatException(JSON.parse(x(JSON.stringify(v.GENERAL_ERROR.INVALID_USER_PROPERTY),"UID","UID","UID","UID"))):$.hasOwnProperty(v.UserConstants.NAME)&&""===$[v.UserConstants.NAME]?new N.CometChatException(JSON.parse(x(JSON.stringify(v.GENERAL_ERROR.EMPTY_STRING),"USER_NAME","USER_NAME","User name"))):void 0:new N.CometChatException(JSON.parse(x(JSON.stringify(v.GENERAL_ERROR.PARAMETER_COMPULSORY),"UID","UID","UID","UID")))},y.validateConversationType=function($){return typeof $!==v.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING?new N.CometChatException(JSON.parse(x(JSON.stringify(v.GENERAL_ERROR.MUST_BE_A_STRING),"CONVERSATION_TYPE","CONVERSATION_TYPE","Conversation type"))):M($)?new N.CometChatException(JSON.parse(x(JSON.stringify(v.GENERAL_ERROR.INVALID),"CONVERSATION_TYPE","CONVERSATION_TYPE","conversation type","conversation type"))):($=$.toLowerCase())!=F.CometChat.RECEIVER_TYPE.USER&&$!=F.CometChat.RECEIVER_TYPE.GROUP?new N.CometChatException(v.ConversationErrors.INVALID_CONVERSATION_TYPE):void 0}},function(ft,y,c){"use strict";y.__esModule=!0,y.ONLINE_MEMBER_COUNT_API=y.JWT_API=y.ProsodyApiErrors=y.PROSODY_API=y.API_ERROR_CODES=y.SESSION_STORE=y.CONNECTION_STATUS=y.COMMON_UTILITY_CONSTANTS=y.APP_SETTINGS=y.PresenceConstatnts=y.FeatureRestrictionErrors=y.MessageErrors=y.ExtensionErrors=y.ConversationErrors=y.GroupErrors=y.UserErrors=y.ReceiptErrors=y.GENERAL_ERROR=y.PARAMETER_ERROR=y.CALL_ERROR=y.Errors=y.UserConstants=y.GroupMemersConstans=y.GroupConstants=y.CallConstants=y.BlockedUsersConstants=y.ActionConstatnts=y.TYPING_NOTIFICATION=y.MessageCategory=y.ATTACHMENTS_CONSTANTS=y.MessageConstatnts=y.READ_RECEIPTS=y.DELIVERY_RECEIPTS=y.ResponseConstants=y.LOCAL_STORE=y.ANALYTICS=y.WS=y.SDKHeader=y.APPINFO=y.GROUP_MEMBER_SCOPE=y.GroupMemberScope=y.GROUP_TYPE=y.GroupType=y.CALLING_COMPONENT_VERSION=y.DEFAULT_VALUES=y.constants=void 0;var d,v,w,N=c(2);y.constants={DEFAULT_STORE:"cometchat",MSG_VER_PRE:"store-ver-pre",MSG_VER_POST:"store-ver-post"},y.DEFAULT_VALUES={ZERO:0,MSGS_LIMIT:30,MSGS_MAX_LIMIT:100,USERS_LIMIT:30,USERS_MAX_LIMIT:100,GROUPS_LIMIT:30,GROUPS_MAX_LIMIT:100,CONVERSATION_MAX_LIMIT:50,CALL_TIMEOUT:45,DEFAULT_MSG_ID:0,DEFAULT_MAX_TYPING_INDICATOR_LIMIT:5,REGION_DEFAULT:"eu",REGION_DEFAULT_EU:"eu",REGION_DEFAULT_US:"us",REGION_DEFAULT_IN:"in",REGION_DEFAULT_PRIVATE:"private"},y.CALLING_COMPONENT_VERSION=5,(d=y.GroupType||(y.GroupType={})).Public="public",d.Private="private",d.Protected="protected",d.Password="password",y.GROUP_TYPE={PUBLIC:"public",PRIVATE:"private",PROTECTED:"password",PASSWORD:"password"},(v=y.GroupMemberScope||(y.GroupMemberScope={})).Admin="admin",v.Moderator="moderator",v.Member="member",y.GROUP_MEMBER_SCOPE={ADMIN:"admin",MODERATOR:"moderator",PARTICIPANT:"participant"},y.APPINFO={platform:"WEB",sdkVersion:"v3.0.12",apiVersion:"v3.0",sdkVersionWithUnderScore:"3_0_12"},y.SDKHeader={platform:"javascript",sdkVersion:"3.0.12",sdk:"%s@%s"},y.WS={CONVERSATION:{TYPE:{CHAT:"chat",GROUP_CHAT:"groupchat"}}},y.ANALYTICS={analyticsHost:"metrics-%s.cometchat.io",analyticsVersion:"v1"},y.LOCAL_STORE={COMMON_STORE:"common_store",MESSAGE_LISTENERS_LIST:"message_listeners_list",USERS_STORE:"users_store",MESSAGES_STORE:"messages_store",KEYS_STORE:"keys_store",STORE_STRING:"%s:%s",KEY_STRING:"%s/%s",KEY_USER:"user",KEY_APP_SETTINGS:"app_settings",KEY_APP_ID:"appId",KEY_DEVICE_ID:"deviceId",KEY_MESSAGE_LISTENER_LIST:"all"},y.ResponseConstants={RESPONSE_KEYS:{KEY_DATA:"data",KEY_META:"meta",KEY_CURSOR:"cursor",KEY_ACTION:"action",KEY_MESSAGE:"message",KEY_ERROR:"error",KEY_ERROR_DETAILS:"details",KEY_ERROR_CODE:"code",KEY_ERROR_MESSAGE:"message",KEY_AUTH_TOKEN:"authToken",KEY_WS_CHANNEL:"wsChannel",KEY_IDENTITY:"identity",KEY_SERVICE:"identity",KEY_ENTITIES:"entities",KEY_ENTITITY:"entity",KEY_ENTITYTYPE:"entityType",KEY_ATTACHMENTS:"attachments",CODE_REQUEST_OK:200,CODE_BAD_REQUEST:401,UNREAD_UNDELIVERED_KEYS:{ENTITY:"entity",ENTITY_TYPE:"entityType",ENTITY_Id:"entityId",COUNT:"count"},GROUP_MEMBERS_RESPONSE:{SUCCESS:"success",ERROR:"error",MESSAGE:"message"},KEY_ENTITY_TYPE:{USER:"user",GROUP:"group"}}},y.DELIVERY_RECEIPTS={RECEIVER_ID:"receiverId",RECEIVER_TYPE:"type",RECIPIENT:"recipient",MESSAGE_ID:"messageId",RECEIVED:"delivered",DELIVERED_AT:"deliveredAt",ID:"id",TIME:"time",DELIVERED_TO_ME_AT:"deliveredToMeAt"},y.READ_RECEIPTS={RECEIVER_ID:"receiverId",RECEIVER_TYPE:"type",RECIPIENT:"recipient",MESSAGE_ID:"messageId",READ:"read",READ_AT:"readAt",ID:"id",TIME:"time",READ_BY_ME_AT:"readByMeAt"},y.MessageConstatnts={TYPE:{TEXT:"text",MEDIA:"media",IMAGE:"image",VIDEO:"video",AUDIO:"audio",FILE:"file",CUSTOM:"custom"},CATEGORY:{MESSAGE:"message",ACTION:"action",CALL:"call",CUSTOM:"custom"},RECEIVER_TYPE:{USER:"user",GROUP:"group"},KEYS:{ATTATCHMENT:"attatchment",ATTATCHMENTS:"attachments",ACTION:"action",TYPE:"type",DATA:"data",ID:"id",MUID:"muid",SENDER:"sender",RECEIVER:"receiver",RECEIVER_ID:"receiverId",CATEGORY:"category",RECEIVER_TYPE:"receiverType",SENT_AT:"sentAt",STATUS:"status",TEXT:"text",URL:"url",METADATA:"metadata",RECEIPTS:"receipts",MY_RECEIPTS:"myReceipt",CUSTOM_DATA:"customData",CUSTOM_SUB_TYPE:"subType",RESOURCE:"resource"},KNOWN_MEDIA_TYPE:{IMAGE:[],VIDEO:[],AUDIO:[],FILE:[]},PAGINATION:{AFFIX:{APPEND:"append",PREPEND:"prepend"},CURSOR_FILEDS:{ID:"id",SENT_AT:"sentAt"},CURSOR_AFFIX_DEFAULT:"prepend",CURSOR_FIELD_DEFAULT:"sentAt",KEYS:{PER_PAGE:"per_page",CURSOR_AFFIX:"cursorAffix",AFFIX:"affix",CURSOR_FIELD:"cursorField",CURSOR_VALUE:"cursorValue",UID:"uid",SENT_AT:"sentAt",ID:"id",CURRENT_PAGE:"page",UNREAD:"unread",HIDE_MESSAGES_FROM_BLOCKED_USER:"hideMessagesFromBlockedUsers",SEARCH_KEY:"searchKey",ONLY_UPDATES:"onlyUpdates",UPDATED_AT:"updatedAt",CATEGORY:"category",CATEGORIES:"categories",TYPE:"type",TYPES:"types",HIDE_REPLIES:"hideReplies",HIDE_DELETED_MESSAGES:"hideDeleted",WITH_TAGS:"withTags",TAGS:"tags"}}},y.ATTACHMENTS_CONSTANTS={KEYS:{EXTENSION:"extension",MIME_TYPE:"mimeType",NAME:"name",SIZE:"size",URL:"url"}},(w=y.MessageCategory||(y.MessageCategory={})).ACTION="action",w.MESSAGE="message",w.CALL="call",w.CUSTOM="custom",y.TYPING_NOTIFICATION={RECEIVER_ID:"receiverId",RECEIVER_TYPE:"receiverType",META:"metadata",KEYS:{TYPING_NOTIFICATION:"typingNotification",TIMESTAMP:"timestamp"},ACTIONS:{STARTED:"started",ENDED:"ended"}},y.ActionConstatnts={ACTION_SUBJECTS:{ACTION_ON:"on",ACTION_BY:"by",ACTION_FOR:"for"},ACTION_ENTITY_TYPE:{GROUP_USER:"groupuser",USER:"user",GROUP:"group",MESSAGE:"message"},ACTION_KEYS:{ACTION_CREATED:"created",ACTION_UPDATED:"updated",ACTION_DELETED:"deleted",ENTITIES:"entities",ENTITY:"entity",ENTITY_TYPE:"entityType",TYPE_MEMBER_JOINED:"joined",TYPE_MEMBER_LEFT:"left",TYPE_MEMBER_KICKED:"kicked",TYPE_MEMBER_BANNED:"banned",TYPE_MEMBER_UNBANNED:"unbanned",TYPE_MEMBER_INVITED:"invited",TYPE_MEMBER_ADDED:"added",ACTION_SCOPE_CHANGED:"scopeChanged",ACTION_TYPE_USER:"user",ACTION_TYPE_GROUP:"group",ACTION_TYPE_GROUP_MEMBER:"groupMember",TYPE_MESSAGE_EDITED:"edited",TYPE_MESSAGE_DELETED:"deleted",ACTION_TYPE_CALL:"call",EXTRAS:"extras",SCOPE:"scope",NEW:"new",OLD:"old"},ActionMessages:{ACTION_GROUP_JOINED_MESSAGE:"%s joined",ACTION_GROUP_LEFT_MESSAGE:"%s left",ACTION_MEMBER_KICKED_MESSAGE:"%s kicked %s",ACTION_MEMBER_BANNED_MESSAGE:"%s banned %s",ACTION_MEMBER_UNBANNED_MESSAGE:"%s unbanned %s",ACTION_MEMBER_INVITED_MESSAGE:"%s banned %s",ACTION_MESSAGE_EDITED_MESSAGE:" Message Edited",ACTION_MESSAGE_DELETED_MESSAGE:"Message Deleted",ACTION_MEMBER_SCOPE_CHANGED:"%s made %s %s",ACTION_MEMBER_ADDED_TO_GROUP:"%s added %s"},ACTION_TYPE:{TYPE_MEMBER_JOINED:"joined",TYPE_MEMBER_LEFT:"left",TYPE_MEMBER_KICKED:"kicked",TYPE_MEMBER_BANNED:"banned",TYPE_MEMBER_UNBANNED:"unbanned",TYPE_MEMBER_INVITED:"invited",TYPE_MEMBER_SCOPE_CHANGED:"scopeChanged",TYPE_MESSAGE:"message",TYPE_MESSAGE_EDITED:"edited",TYPE_MESSAGE_DELETED:"deleted",TYPE_MEMBER_ADDED:"added"},ACTIONS:{MEMBER_ADDED:"added",MEMBER_JOINED:"joined",MEMBER_LEFT:"left",MEMBER_KICKED:"kicked",MEMBER_BANNED:"banned",MEMBER_UNBANNED:"unbanned",MEMBER_INVITED:"invited",MEMBER_SCOPE_CHANGED:"scopeChanged",MESSAGE_EDITED:"edited",MESSSAGE_DELETED:"deleted",TYPE_USER:"user",TYPE_GROUP:"group",TYPE_GROUP_MEMBER:"groupMember"}},y.BlockedUsersConstants={REQUEST_KEYS:{DIRECTIONS:{BOTH:"both",HAS_BLOCKED_ME:"hasBlockedMe",BLOCKED_BY_ME:"blockedByMe"}}},y.CallConstants={CALL_MODE:{DEFAULT:"DEFAULT",SPOTLIGHT:"SPOTLIGHT",SINGLE:"SINGLE",TILE:"TILE",GRID:"GRID"},CALL_TYPE:{AUDIO:"audio",VIDEO:"video"},RECEIVER_TYPE_GROUP:"group",RECEIVER_TYPE_USER:"user",CALL_KEYS:{CALL_DATA:"data",CALL_ID:"id",CALL_SESSION_ID:"sessionid",CALL_RECEIVER:"receiver",CALL_SENDER:"sender",CALL_RECEIVER_TYPE:"receiverType",CALL_STATUS:"status",CALL_TYPE:"type",CALL_INITIATED_AT:"initiatedAt",CALL_JOINED_AT:"joinedAt",CALL_LEFT_AT:"leftAt",CALL_METADATA:"metadata",CALL_ENTITIES:"entities",CALL_ENTITY_TYPE:"entityType",CALL_ENTITY:"entity",CALL_ENTITY_USER:"user",CALL_ENTITY_GROUP:"group"},CALL_STATUS:{INITIATED:"initiated",ONGOING:"ongoing",UNANSWERED:"unanswered",REJECTED:"rejected",BUSY:"busy",CANCELLED:"cancelled",ENDED:"ended"},AUDIO_INPUT_DEVICES:"audioInputDevices",AUDIO_OUTPUT_DEVICES:"audioOutputDevices",VIDEO_INPUT_DEVICES:"videoInputDevices",POST_MESSAGES:{TYPES:{ACTION_MESSAGE:"cometchat_action_message",HANGUP:"hangup",COMETCHAT_RTC_SETTINGS:"cometchat_rtc_settings"},ACTIONS:{USER_JOINED:"onUserJoined",USER_LEFT:"onUserLeft",USER_LIST_CHANGED:"onUserListChanged",INITIAL_DEVICE_LIST:"initialDeviceList",DEVICE_CHANGE:"onDeviceChange",LOAD:"LOAD",CHANGE_AUDIO_INPUT:"changeAudioInput",CHANGE_AUDIO_OUTPUT:"changeAudioOutput",CHANGE_VIDEO_INPUT:"changeVideoInput",MUTE_AUDIO:"muteAudio",UNMUTE_AUDIO:"unMuteAudio",PAUSE_VIDEO:"pauseVideo",UNPAUSE_VIDEO:"unPauseVideo",SWITCH_MODE:"switchMode",START_SCREENSHARE:"startScreenShare",STOP_SCREENSHARE:"stopScreenShare",END_CALL:"endCall",START_RECORDING:"startRecording",STOP_RECORDING:"stopRecording",RECORDING_TOGGLED:"onRecordingToggled",USER_MUTED:"onUserMuted",SCREEN_SHARE_STARTED:"SCREEN_SHARE_STARTED",SCREEN_SHARE_STOPPED:"SCREEN_SHARE_ENDED",SWITCH_TO_VIDEO_CALL:"switchedToVideo",SWITCHED_TO_VIDEO_CALL:"onCallSwitchedToVideo",OPEN_VIRTUAL_BACKGROUND:"openVirtualBackgroundMenu",SET_BACKGROUND_BLUR:"setBackgroundBlur",SET_BACKGROUND_IMAGE:"setBackgroundImage"}},MEDIA_DEVICE:{ID:"id",NAME:"name",ACTIVE:"active"},ZOOM_BUTTON_DEFAULT_PARAMS:{position:"bottom-right",visible:!0},NAME_LABEL_DEFAULT_PARAMS:{position:"bottom-left",visible:!0,color:"rgba(27, 27, 27, 0.4)"},NETWORK_LABEL_DEFAULT_PARAMS:{position:"bottom-right",visible:!0},MAIN_VIDEO_CONTAINER_SETTINGS:{KEYS:{POSITION:"position",VISIBILITY:"visible",COLOR:"color"}}},y.GroupConstants={KEYS:{NAME:"name",GUID:"guid",TYPE:"type",PASSWORD:"password",ICON:"icon",DESCRIPTION:"description",OWNER:"owner",METADATA:"metadata",CREATED_AT:"createdAt",UPDATED_AT:"updatedAt",HAS_JOINED:"hasJoined",WS_CHANNEL:"wsChannel",TAGS:"tags"}},y.GroupMemersConstans={KEYS:{SCOPE:"scope",UID:"uid",GUID:"guid",USER:"user",NAME:"name"}},y.UserConstants={UID:"uid",NAME:"name",AUTH_TOKEN:"authToken",AVATAR:"avatar",LAST_ACTIVE_AT:"lastActiveAt",LINK:"link",META_DATA:"metadata",ROLE:"role",STATUS:"status",STATUS_MESSAGE:"statusMessage",USER_NAME:"user_name",TAGS:"tags",SORT_BY:{NAME:"name",STATUS:"status"},SORT_ORDER:{ASCENDING:"asc",DESCENDING:"desc"}},y.Errors={ERROR_IO_EXCEPTION:"ERROR_IO_EXCEPTION",ERROR_JSON_EXCEPTION:"ERROR_JSON_EXCEPTION",ERROR_PASSWORD_MISSING:"ERROR_PASSWORD_MISSING",ERROR_LIMIT_EXCEEDED:"ERROR_LIMIT_EXCEEDED",ERROR_USER_NOT_LOGGED_IN:"ERROR_USER_NOT_LOGGED_IN",ERROR_INVALID_GUID:"ERROR_INVALID_GUID",ERROR_PASSWORD_MISSING_MESSAGE:"Password is mandatory for a password group",ERROR_LIMIT_EXCEEDED_MESSAGE:"Limit Exceeded Max limit of %s",ERROR_USER_NOT_LOGGED_IN_MESSAGE:"Please log in to CometChat before calling this method",ERROR_INVALID_GUID_MESSAGE:"Please provide a valid GUID",ERROR_DEFAULT_MESSAGE:"Something went wrong",ERR_SETTINGS_HASH_OUTDATED:"ERR_SETTINGS_HASH_OUTDATED",ERR_NO_AUTH:"ERR_NO_AUTH"},y.CALL_ERROR={CALL_ALREADY_INITIATED:{code:"CALL_ALREADY_INITIATED",name:"CALL_ALREADY_INITIATED",message:"There is already call in progress",details:{}},ERROR_IN_CALLING:{code:"CALL_IN_PROGRESS",name:"CALL_ALREADY_INITIATED",message:"There is already call in progress",details:{}},CANNOT_ACCEPT_CALL:{code:"CALL_IN_PROGRESS",name:"CALL_IN_PROGRESS",message:"There is already a call in progress",details:{}},NOT_INITIALIZED:{code:"NOT_INITIALIZED",name:"NOT_INITIALIZED",message:"Please call the CometChat.init() method before calling any other methods related to CometChat.",details:{}},NOT_LOGGED_IN:{code:"NOT_LOGGED_IN",name:"NOT_LOGGED_IN",message:"Please login before starting a call.",details:{}},SESSION_ID_REQUIRED:{code:"SESSION_ID_REQUIRED",name:"SESSION_ID_REQUIRED",message:"Please make sure you are passing correct session id.",details:{}},CALL_SETTINGS_REQUIRED:{code:"CALL_SETTINGS_REQUIRED",name:"CALL_SETTINGS_REQUIRED",message:"Please make sure you are passing the call settings object.",details:{}},JWT_NOT_FOUND:{code:"JWT_NOT_FOUND",name:"JWT_NOT_FOUND",message:"There was some issue while fetching JWT from API.",details:{}}},y.PARAMETER_ERROR={PARAMETER_REQUIRED:{code:"%s_NOT_PROVIDED",name:"%s_NOT_PROVIDED",message:"please provide the %s.",details:{}}},y.GENERAL_ERROR={MUST_BE_A_STRING:{code:"INVALID_%s",name:"INVALID_%s",message:"%s should be a string.",details:{}},MUST_BE_A_NUMBER:{code:"INVALID_%s",name:"INVALID_%s",message:"%s should be a number.",details:{}},MUST_BE_A_OBJECT:{code:"INVALID_%s",name:"INVALID_%s",message:"%s should be a object.",details:{}},MUST_BE_AN_ARRAY:{code:"INVALID_%s",name:"INVALID_%s",message:"%s should be an array.",details:{}},MUST_BE_A_BOOLEAN:{code:"INVALID_%s",name:"INVALID_%s",message:"%s should be a boolean.",details:{}},MUST_BE_A_BLOB:{code:"INVALID_%s",name:"INVALID_%s",message:"%s should be a blob.",details:{}},INVALID:{code:"INVALID_%s",name:"INVALID_%s",message:"Invalid %s. Please provide a valid %s.",details:{}},METHOD_COMPULSORY:{code:"%s_IS_COMPULSORY",name:"%s_IS_COMPULSORY",message:"%s is required.",details:{}},LIMIT_EXCEEDED:{code:"ERROR_%s_EXCEEDED",name:"ERROR_%s_EXCEEDED",message:"Limit exceeded max limit of %s.",details:{}},MUST_BE_A_POSITIVE_NUMBER:{code:"INVALID_%s",name:"INVALID_%s",message:"%s should be a postive integer greater than 0.",details:{}},INVALID_MEDIA_FILE:{code:"INVALID_%s",name:"INVALID_%s",message:"The message type does not match the file's mime type.",details:{}},EMPTY_STRING:{code:"INVALID_%s",name:"INVALID_%s",message:"%s cannot be empty.",details:{}},MISSING_KEY:{code:"MISSING_KEY",name:"MISSING_KEY",message:"The key %s is missing from the %s object.",details:{}},EMPTY_ARRAY:{code:"INVALID_%s",name:"INVALID_%s",message:"The parameter %s should be an array and it cannot be empty.",details:{}},INVALID_SEARCH_KEYWORD:{code:"INVALID_SEARCH_KEYWORD",name:"INVALID_SEARCH_KEYWORD",message:"Invalid search keyword. Please provide a valid search keyword.",details:{}},INVALID_GROUP_PROPERTY:{code:"INVALID_%s",name:"INVALID_%s",message:"Invalid %s provided for the group. Please provide a valid %s.",details:{}},INVALID_USER_PROPERTY:{code:"INVALID_%s",name:"INVALID_%s",message:"Invalid %s provided for a user. Please provide a valid %s.",details:{}},PARAMETER_MUST_BE_A_NUMBER:{code:"INVALID_%s",name:"INVALID_%s",message:"%s method accepts parameter as a number.",details:{}},PARAMETER_MUST_BE_AN_ARRAY:{code:"INVALID_%s",name:"INVALID_%s",message:"%s method accepts parameter as an array.",details:{}},PARAMETER_MUST_BE_A_BOOLEAN:{code:"INVALID_%s",name:"INVALID_%s",message:"%s method accepts parameter as a boolean.",details:{}},PARAMETER_MUST_BE_A_POSITIVE_NUMBER:{code:"INVALID_%s",name:"INVALID_%s",message:"%s method accepts parameter to be a positive number greater than 0.",details:{}},PARAMETER_MUST_BE_A_STRING:{code:"INVALID_%s",name:"INVALID_%s",message:"%s method accepts parameter as a string.",details:{}},PARAMETER_COMPULSORY:{code:"%s_IS_COMPULSORY",name:"%s_IS_COMPULSORY",message:"%s cannot be blank. Please provide a valid %s.",details:{}},PASSWORD_COMPULSORY:{code:"%s_IS_COMPULSORY",name:"%s_IS_COMPULSORY",message:"Password is mandatory for a password group.",details:{}},INVALID_ARRAY:{code:"INVALID_%s",name:"INVALID_%s",message:"%s",details:{}}},y.ReceiptErrors={MISSING_PARAMETERS:{code:"MISSING_PARAMETERS",name:"MISSING_PARAMETERS",message:"Expected 4 parameters received 3",details:{}},INVALID_PARAMETER:{code:"INVALID_%s",name:"INVALID_%s",message:"%s",details:{}},NO_WEBSOCKET_CONNECTION:{code:"NO_WEBSOCKET_CONNECTION",name:"NO_WEBSOCKET_CONNECTION",message:"Connection to our Websockets server is broken. Please retry after some time.",details:{}},RECEIPTS_TEMPORARILY_BLOCKED:{code:"RECEIPTS_TEMPORARILY_BLOCKED",name:"RECEIPTS_TEMPORARILY_BLOCKED",message:"Due to high load. Receipts have been blocked for your app.",details:{}},UNKNOWN_ERROR_OCCURRED:{code:"UNKNOWN_ERROR_OCCURRED",name:"UNKNOWN_ERROR_OCCURRED",message:"Unknown error occurred while marking a message as read.",details:{}}},y.UserErrors={INVALID_STATUS:new N.CometChatException({code:"INVALID_STATUS_VALUE",name:"INVALID_STATUS_VALUE",message:"The `status` parameter accepts only `online` or `offline`.",details:""}),INVALID_DIRECTION:new N.CometChatException({code:"INVALID_DIRECTION_VALUE",name:"INVALID_DIRECTION_VALUE",message:"The `direction` parameter accepts only `both`, `blockeyByMe` or `hasBlockedMe`.",details:""}),USER_NOT_LOGGED_IN:new N.CometChatException({code:"USER_NOT_LOGGED_IN",name:"USER_NOT_LOGGED_IN",message:"Please log in to CometChat before calling this method.",details:""})},y.GroupErrors={NOT_A_GROUP:new N.CometChatException({code:"NOT_A_GROUP",message:"Please use group class to construct a new group."}),INVALID_SCOPE:new N.CometChatException({code:"INVALID_SCOPE_VALUE",name:"INVALID_SCOPE_VALUE",message:"Scope can be `admin`, `moderator` or `participant`.",details:""}),INVALID_GROUP_TYPE:new N.CometChatException({code:"INVALID_GROUP_TYPE",name:"INVALID_GROUP_TYPE",message:"Group type can be `public`, `private`, `protected` or `password`.",details:""})},y.ConversationErrors={INVALID_CONVERSATION_TYPE:{code:"INVALID_CONVERSATION_TYPE",name:"INVALID_CONVERSATION_TYPE",message:"Conversation type can be `user` or `group`.",details:"Please check the value of conversationType."},CONVERSATION_NOT_FOUND:{code:"CONVERSATION_NOT_FOUND",name:"CONVERSATION_NOT_FOUND",message:"Conversation for %s %s not found.",details:"Please check the value of conversationWith and conversationType."}},y.ExtensionErrors={INVALID_EXTENSION:{code:"ERROR_INVALID_EXTENSION",name:"ERROR_INVALID_EXTENSION",message:"The provided extension cannot be null or empty. Please provide a valid extension.",details:{}},EXTENSION_NOT_FOUND:{code:"ERROR_EXTENSION_NOT_FOUND",name:"ERROR_EXTENSION_NOT_FOUND",message:"The provided extension could not be found.",details:{}}},y.MessageErrors={INVALID_RECEIVER_TYPE:{code:"INVALID_RECEIVER_TYPE",name:"INVALID_RECEIVER_TYPE",message:"Receiver type can be `user` or `group`.",details:"Please check the value of receiverType."}},y.FeatureRestrictionErrors={INVALID_FEATURE:{code:"ERROR_INVALID_FEATURE",name:"ERROR_INVALID_FEATURE",message:"The provided feature cannot be null or empty. Please provide a valid feature.",details:{}},FEATURE_NOT_FOUND:{code:"ERROR_FEATURE_NOT_FOUND",name:"ERROR_FEATURE_NOT_FOUND",message:"The provided feature could not be found.",details:{}}},y.PresenceConstatnts={STATUS:{ONLINE:"online",AVAILABLE:"available",OFFLINE:"offline",JOINED:"JOINED",LEFT:"LEFT"}},y.APP_SETTINGS={APP_SETTINGS:"app_settings",KEYS:{CHAT_HOST:"CHAT_HOST",CHAT_USE_SSL:"CHAT_USE_SSL",GROUP_SERVICE:"GROUP_SERVICE",CALL_SERVICE:"CALL_SERVICE",CHAT_WS_PORT:"CHAT_WS_PORT",CHAT_WSS_PORT:"CHAT_WSS_PORT",CHAT_HTTP_BIND_PORT:"CHAT_HTTP_BIND_PORT",CHAT_HTTPS_BIND_PORT:"CHAT_HTTPS_BIND_PORT",ADMIN_API_HOST:"ADMIN_API_HOST",CLIENT_API_HOST:"CLIENT_API_HOST",WEBRTC_HOST:"WEBRTC_HOST",WEBRTC_USE_SSL:"WEBRTC_USE_SSL",WEBRTC_WS_PORT:"WEBRTC_WS_PORT",WEBRTC_WSS_PORT:"WEBRTC_WSS_PORT",WEBRTC_HTTP_BIND_PORT:"WEBRTC_HTTP_BIND_PORT",WEBRTC_HTTPS_BIND_PORT:"WEBRTC_HTTPS_BIND_PORT",EXTENSION_LIST:"extensions",EXTENSION_KEYS:{ID:"id",NAME:"name"},JID_HOST_OVERRIDE:"JID_HOST_OVERRIDE",CHAT_HOST_OVERRIDE:"CHAT_HOST_OVERRIDE",CHAT_HOST_APP_SPECIFIC:"CHAT_HOST_APP_SPECIFIC",MODE:"MODE",CONNECTION_TYPE:"connection_type",DEFAULT_MODE:"DEFAULT",LIMITED_TRANSIENT:"LIMITED_TRANSIENT",NO_TRANSIENT:"NO_TRANSIENT",POLLING_ENABLED:"POLLING_ENABLED",POLLING_INTERVAL:"POLLING_INTERVAL",ANALYTICS_PING_DISABLED:"ANALYTICS_PING_DISABLED",ANALYTICS_HOST:"ANALYTICS_HOST",ANALYTICS_VERSION:"ANALYTICS_VERSION",ANALYTICS_USE_SSL:"ANALYTICS_USE_SSL",SETTINGS_HASH:"settingsHash",SETTINGS_HASH_RECEIVED_AT:"settingsHashReceivedAt",DENY_FALLBACK_TO_POLLING:"DENY_FALLBACK_TO_POLLING",APP_VERSION:"APP_VERSION",MAIN_DOMAIN:"MAIN_DOMAIN",CHAT_API_VERSION:"CHAT_API_VERSION",WS_API_VERSION:"WS_API_VERSION",REGION:"REGION",EXTENSION_DOMAIN:"EXTENSION_DOMAIN",WEBRTC_API_SUBDOMAIN:"WEBRTC_API_SUBDOMAIN",WEBRTC_WEB_FRONTEND_HOST:"WEBRTC_WEB_FRONTEND_HOST",WEBRTC_WEB_FRONTEND_VERSION:"WEBRTC_WEB_FRONTEND_VERSION"}},y.COMMON_UTILITY_CONSTANTS={TYPE_CONSTANTS:{BOOLEAN:"boolean",STRING:"string",OBJECT:"object",NUMBER:"number"}},y.CONNECTION_STATUS={CONNECTED:"connected",CONNECTING:"connecting",DISCONNECTED:"disconnected",FEATURE_THROTTLED:"featureThrottled"},y.SESSION_STORE={SESSION_ID:"sessionId"},y.API_ERROR_CODES={AUTH_ERR_AUTH_TOKEN_NOT_FOUND:"AUTH_ERR_AUTH_TOKEN_NOT_FOUND"},y.PROSODY_API={DOMAIN_PREFIX:"xmpp",PATH:{ROOM:"room",ROOM_SIZE:"room-size",SESSIONS:"sessions"},RESPONSE:{PARTICIPANTS:"participants"},QUERY_PARAMETERS:{DOMAIN:"domain",ROOM:"room"}},y.ProsodyApiErrors={INVALID_SESSIONID:{code:"ERROR_INVALID_SESSIONID",name:"ERROR_INVALID_SESSIONID",message:"The provided sessionId cannot be null or empty. Please provide a valid sessionId.",details:""},INVALID_TYPE:{code:"ERROR_INVALID_TYPE",name:"ERROR_INVALID_TYPE",message:"The provided type cannot be null or empty. Please provide a valid type.",details:""}},y.JWT_API={KEYS:{PASSTHROUGH:"passthrough",EXPAND:"expand"}},y.ONLINE_MEMBER_COUNT_API={ENDPOINTS:{GET_ONLINE_MEMBER_COUNT:"api/%s/online-members"},RESPONSE:{ONLINE_USERS_COUNT:"onlineUsersCount",GROUPS:"groups"},ERRORS:{INVALID_GROUPLIST:{code:"ERROR_INVALID_GROUPLIST",name:"ERROR_INVALID_GROUPLIST",message:"Grouplist cannot be null or empty.",details:""}}}},function(ft,y,c){"use strict";y.__esModule=!0,y.CometChatException=void 0,y.CometChatException=function(v){null!=v.code&&""!==v.code&&(this.code=v.code),null!=v.name&&""!==v.name&&(this.name=v.name),null!=v.message&&""!==v.message&&(this.message=v.message),null!=v.details&&""!==v.details&&(this.details=v.details)}},function(ft,y,c){"use strict";var d=this&&this.__assign||function(){return(d=Object.assign||function(K){for(var H,ye=1,_e=arguments.length;ye<_e;ye++)for(var Me in H=arguments[ye])Object.prototype.hasOwnProperty.call(H,Me)&&(K[Me]=H[Me]);return K}).apply(this,arguments)},v=this&&this.__awaiter||function(K,H,ye,_e){return new(ye||(ye=Promise))(function(Me,Fe){function $e(ge){try{zt(_e.next(ge))}catch(Te){Fe(Te)}}function pt(ge){try{zt(_e.throw(ge))}catch(Te){Fe(Te)}}function zt(ge){var Te;ge.done?Me(ge.value):(Te=ge.value,Te instanceof ye?Te:new ye(function(Pe){Pe(Te)})).then($e,pt)}zt((_e=_e.apply(K,H||[])).next())})},w=this&&this.__generator||function(K,H){var ye,_e,Me,Fe,$e={label:0,sent:function(){if(1&Me[0])throw Me[1];return Me[1]},trys:[],ops:[]};return Fe={next:pt(0),throw:pt(1),return:pt(2)},"function"==typeof Symbol&&(Fe[Symbol.iterator]=function(){return this}),Fe;function pt(zt){return function(ge){return function(Te){if(ye)throw new TypeError("Generator is already executing.");for(;$e;)try{if(ye=1,_e&&(Me=2&Te[0]?_e.return:Te[0]?_e.throw||((Me=_e.return)&&Me.call(_e),0):_e.next)&&!(Me=Me.call(_e,Te[1])).done)return Me;switch(_e=0,Me&&(Te=[2&Te[0],Me.value]),Te[0]){case 0:case 1:Me=Te;break;case 4:return $e.label++,{value:Te[1],done:!1};case 5:$e.label++,_e=Te[1],Te=[0];continue;case 7:Te=$e.ops.pop(),$e.trys.pop();continue;default:if(!(Me=0<(Me=$e.trys).length&&Me[Me.length-1])&&(6===Te[0]||2===Te[0])){$e=0;continue}if(3===Te[0]&&(!Me||Te[1]>Me[0]&&Te[1]<Me[3])){$e.label=Te[1];break}if(6===Te[0]&&$e.label<Me[1]){$e.label=Me[1],Me=Te;break}if(Me&&$e.label<Me[2]){$e.label=Me[2],$e.ops.push(Te);break}Me[2]&&$e.ops.pop(),$e.trys.pop();continue}Te=H.call(K,$e)}catch(Pe){Te=[6,Pe],_e=0}finally{ye=Me=0}if(5&Te[0])throw Te[1];return{value:Te[0]?Te[1]:void 0,done:!0}}([zt,ge])}}};y.__esModule=!0,y.CometChat=void 0;var N=c(28),A=c(0),I=c(2),P=c(6),F=c(4),C=c(14),M=c(17),x=c(7),j=c(16),Q=c(10),$=c(11),S=c(1),se=c(8),ue=c(15),Be=c(30),me=c(23),Ne=c(21),Se=c(31),Re=c(13),Xe=c(20),it=c(40),We=c(41),Je=c(42),xe=c(43),Ke=c(45),Ye=c(46),rt=c(25),xt=c(26),on=c(36),At=c(19),je=c(34),pe=c(48),fe=c(49),Ie=c(50),Qe=c(35),Kt=c(24),Ut=c(18),kt=c(51),_n=c(52),vt=c(53),It=c(37),sn=c(5),Mn=c(62),Vn=c(29),nr=c(32),sr=c(27),Qn=c(63),bn=vt.WSConnectionHelper.getInstance(),jn=It.ListenerHandlers.getInstance(),vn=function(){function K(H){try{K.appId=H,K.localStorage=C.LocalStorage.getInstance(),K.keyStore=Be.KeyStore.getInstance()}catch(ye){A.Logger.error("CometChat: constructor",ye)}}return K.setAuthToken=function(H){try{K.authToken=H}catch(ye){A.Logger.error("CometChat: setAuthToken",ye)}},K.prototype.getAuthToken=function(){try{return K.authToken}catch(H){A.Logger.error("CometChat: getAuthToken",H)}},K.getAppId=function(){try{return K.appId}catch(H){A.Logger.error("CometChat: getAppId",H)}},K.prototype.getApiKey=function(){try{return K.apiKey}catch(H){A.Logger.error("CometChat: getApiKey",H)}},K.getMode=function(){try{return K.mode}catch(H){A.Logger.error("CometChat: getMode",H)}},K.setMode=function(H){try{K.mode=H}catch(ye){A.Logger.error("CometChat: getMode",ye)}},K.getSessionId=function(){try{return K.sessionId}catch(H){A.Logger.error("CometChat: getSessionId",H)}},K.onStorageEvent=function(H){if(document&&!document.hasFocus()){var ye=K.appId+":common_store/user";H.key===ye&&null===H.newValue&&(K.authToken=void 0,K.didAnalyticsPingStart()&&K.clearAnalyticsPingTimer(),bn.WSLogout(),K.pushToLoginListener("","Logout_Success")),H.key===ye&&null===H.oldValue&&C.LocalStorage.getInstance().get("user").then(function(_e){_e&&(K.user=new F.Me(_e),K.setAuthToken(K.user.getAuthToken()),_e.jwt&&(K.jwt=_e.jwt),C.LocalStorage.getInstance().get("app_settings").then(function(Me){if(Me){if(Me.hasOwnProperty(S.APP_SETTINGS.KEYS.APP_VERSION)){var Fe=parseInt(S.APPINFO.sdkVersion.charAt(1));Me[S.APP_SETTINGS.KEYS.APP_VERSION]<Fe&&(K.appSettings.shouldAutoEstablishSocketConnection()||(K.shouldConnectToWS=!1),K.getInstance().internalRestart(K.user.getAuthToken()))}else K.appSettings.shouldAutoEstablishSocketConnection()||(K.shouldConnectToWS=!1),K.getInstance().internalRestart(K.user.getAuthToken());if(Me[S.APP_SETTINGS.KEYS.MODE]&&(K.mode=Me[S.APP_SETTINGS.KEYS.MODE]),Me[S.APP_SETTINGS.KEYS.SETTINGS_HASH]&&(K.settingsHash=Me[S.APP_SETTINGS.KEYS.SETTINGS_HASH]),Me[S.APP_SETTINGS.KEYS.SETTINGS_HASH_RECEIVED_AT]&&(K.settingsHashReceivedAt=Me[S.APP_SETTINGS.KEYS.SETTINGS_HASH_RECEIVED_AT]),K.isAnalyticsDisabled=!!Me[S.APP_SETTINGS.KEYS.ANALYTICS_PING_DISABLED],K.didAnalyticsPingStart()||K.isAnalyticsDisabled||!K.appSettings.shouldAutoEstablishSocketConnection()||(K.pingAnalytics(),K.startAnalyticsPingTimer()),K.getConnectionStatus()!==S.CONNECTION_STATUS.CONNECTED){var $e=new F.User(K.user);K.pushToLoginListener($e,"Login_Success"),K.appSettings.shouldAutoEstablishSocketConnection()&&K.WSLogin(K.user)}}}))})}},K.beforeUnload=function(H){var ye=K.getDataFromSessionStorage(S.SESSION_STORE.SESSION_ID);K.removeDataFromSessionStorage(S.SESSION_STORE.SESSION_ID),C.LocalStorage.getInstance().set(S.SESSION_STORE.SESSION_ID,ye)},K.didAnalyticsPingStart=function(){try{return K.isAnalyticsPingStarted}catch(H){A.Logger.error("CometChat: didAnalyticsPingStart",H)}},K.getDataFromSessionStorage=function(H){if(window.sessionStorage)return window.sessionStorage.getItem(H)},K.addDataToSessionStorage=function(H,ye){window.sessionStorage&&window.sessionStorage.setItem(H,ye)},K.removeDataFromSessionStorage=function(H){window.sessionStorage&&window.sessionStorage.removeItem(H)},K.init=function(H,ye){var _e=this;return void 0===H&&(H=""),new Promise(function(Me,Fe){try{"object"==typeof H&&(H.hasOwnProperty("appId")&&(H=H.appId),H.hasOwnProperty("appSettings")&&(ye=H.appSettings)),A.isFalsy(ye)?ye=(new fe.AppSettingsBuilder).setRegion(fe.AppSettings.REGION_EU).build():ye.getRegion()==fe.AppSettings.REGION_PRIVATE&&(ye.region=H),_e.appSettings=ye,A.isFalsy(H)?Fe(new I.CometChatException(Re.INIT_ERROR.NO_APP_ID)):(window.addEventListener&&(window.addEventListener("storage",K.onStorageEvent,!1),window.addEventListener("beforeunload",K.beforeUnload,!1)),_e.initialzed=!0,K.appId=H,K.getInstance(H),C.LocalStorage.getInstance().get(S.SESSION_STORE.SESSION_ID).then(function($e){null==$e||null==$e?(K.sessionId=S.APPINFO.platform+"-"+S.APPINFO.sdkVersionWithUnderScore+"-"+Qn()+"-"+(new Date).getTime(),K.addDataToSessionStorage(S.SESSION_STORE.SESSION_ID,K.getSessionId()),C.LocalStorage.getInstance().remove(S.SESSION_STORE.SESSION_ID)):(K.sessionId=$e.toLocaleString(),C.LocalStorage.getInstance().remove(S.SESSION_STORE.SESSION_ID),K.addDataToSessionStorage(S.SESSION_STORE.SESSION_ID,K.getSessionId())),C.LocalStorage.getInstance().get(S.LOCAL_STORE.KEY_APP_ID).then(function(pt){if(null==pt||null==pt)K.appId=H,K.getInstance(H),C.LocalStorage.getInstance().set(S.LOCAL_STORE.KEY_APP_ID,H),Me(!0);else{var zt=pt.toLocaleString();zt===H?(K.appId=zt,K.getInstance(zt),C.LocalStorage.getInstance().get(S.LOCAL_STORE.KEY_USER).then(function(ge){ge?(K.isLoggedOut=!1,K.user=new F.Me(ge),K.setAuthToken(K.user.getAuthToken()),ge.jwt&&(K.jwt=ge.jwt),Me(!0),C.LocalStorage.getInstance().get(S.LOCAL_STORE.KEY_APP_SETTINGS).then(function(Te){if(Te){if(Te.hasOwnProperty(S.APP_SETTINGS.KEYS.APP_VERSION)){var Pe=parseInt(S.APPINFO.sdkVersion.charAt(1));Te[S.APP_SETTINGS.KEYS.APP_VERSION]<Pe&&(_e.appSettings.shouldAutoEstablishSocketConnection()||(K.shouldConnectToWS=!1),K.getInstance().internalRestart(K.user.getAuthToken()))}else _e.appSettings.shouldAutoEstablishSocketConnection()||(K.shouldConnectToWS=!1),K.getInstance().internalRestart(K.user.getAuthToken());Te[S.APP_SETTINGS.KEYS.MODE]&&(K.mode=Te[S.APP_SETTINGS.KEYS.MODE]),Te[S.APP_SETTINGS.KEYS.SETTINGS_HASH]&&(K.settingsHash=Te[S.APP_SETTINGS.KEYS.SETTINGS_HASH]),Te[S.APP_SETTINGS.KEYS.SETTINGS_HASH_RECEIVED_AT]&&(K.settingsHashReceivedAt=Te[S.APP_SETTINGS.KEYS.SETTINGS_HASH_RECEIVED_AT]),K.isAnalyticsDisabled=!!Te[S.APP_SETTINGS.KEYS.ANALYTICS_PING_DISABLED],K.didAnalyticsPingStart()||K.isAnalyticsDisabled||!_e.appSettings.shouldAutoEstablishSocketConnection()||(K.pingAnalytics(),K.startAnalyticsPingTimer()),bn&&!bn.connection&&_e.appSettings.shouldAutoEstablishSocketConnection()&&(K.isConnectingFromInit=!0,K.WSLogin(K.user))}})):Me(!0)})):_e.clearCache().then(function(){K.apiKey=void 0,K.user=void 0,K.authToken=void 0,K.cometChat=void 0,K.mode=void 0,bn.WSLogout(),K.appId=H,C.LocalStorage.getInstance().set(S.LOCAL_STORE.KEY_APP_ID,H),K.getInstance(H),Me(!0)})}Be.KeyStore.getInstance().get(S.LOCAL_STORE.KEY_DEVICE_ID).then(function(ge){if(null==ge){var Te=Qn(),Pe=(new Date).getTime(),Rt=H+"_"+Te+"_"+Pe;Be.KeyStore.getInstance().set(S.LOCAL_STORE.KEY_DEVICE_ID,Rt)}})})}))}catch($e){Fe(new I.CometChatException($e))}})},K.isInitialized=function(){try{return this.initialzed}catch(H){A.Logger.error("CometChat: isInitialized",H)}},K.getInstance=function(H){try{return this.cometChat||(this.cometChat=new K(H)),this.cometChat}catch(ye){A.Logger.error("CometChat: getInstance",ye)}},K.registerTokenForPushNotification=function(H,ye){var _e=this;return new Promise(function(Me,Fe){try{K.keyStore.get(S.LOCAL_STORE.KEY_DEVICE_ID).then(function($e){A.getAppSettings().then(function(pt){var zt="",ge=$e,Te=S.APPINFO.platform,Pe=S.APPINFO.sdkVersion,Rt=pt[S.APP_SETTINGS.KEYS.CHAT_API_VERSION];if(navigator&&(zt=navigator.userAgent),null==ge){var mt=Qn(),Ze=(new Date).getTime();K.keyStore.set(S.LOCAL_STORE.KEY_DEVICE_ID,ge=_e.appId+"_"+mt+"_"+Ze)}P.makeApiCall("updateMyDetails",{},{platform:Te,deviceId:ge,appInfo:{version:Pe,apiVersion:Rt,userAgent:zt,pushNotification:{fcmDeviceToken:H,settings:ye}}},!1).then(function(wt){Me("Token Registration successful")},function(wt){Fe(new I.CometChatException(wt.error))}).catch(function(wt){Fe(new I.CometChatException(wt))})},function(pt){Fe(new I.CometChatException(pt))})})}catch($e){Fe(new I.CometChatException($e))}})},K.pushToLoginListener=function(H,ye){jn.loginHandlers.map(function(_e){try{if(_e._eventListener)switch(ye){case"Login_Success":A.isFalsy(_e._eventListener.loginSuccess)||_e._eventListener.loginSuccess(H);break;case"Login_Failure":A.isFalsy(_e._eventListener.loginFailure)||_e._eventListener.loginFailure(H);break;case"Logout_Success":A.isFalsy(_e._eventListener.logoutSuccess)||_e._eventListener.logoutSuccess()}}catch(Me){A.Logger.error("ConnectionHandlers: onConnected Status",Me)}})},K.login=function(){for(var H=this,ye=[],_e=0;_e<arguments.length;_e++)ye[_e]=arguments[_e];return new Promise(function(Me,Fe){try{if(K.loginInProgress){K.isLoggedOut=!0;var $e=new I.CometChatException(Re.LOGIN_ERROR.REQUEST_IN_PROGRESS);return Fe($e)}K.loginInProgress=!0,K.isConnectingFromInit=!1,K.localStorage.get(S.LOCAL_STORE.KEY_APP_ID).then(function(pt){if(null==pt||null==pt){var zt=new I.CometChatException(Re.LOGIN_ERROR.NOT_INITIALIZED);return K.internalRestart||K.pushToLoginListener(zt,"Login_Failure"),K.loginInProgress=!1,K.isLoggedOut=!0,Fe(zt)}var ge=pt.toLocaleString();if(H.getInstance(ge),K.appId=ge,C.LocalStorage.getInstance().set(S.LOCAL_STORE.KEY_APP_ID,ge),"object"==typeof ye[0]){var Te=ye[0];ye[0].hasOwnProperty("authToken")?ye[0]=Te.authToken:ye[0].hasOwnProperty("username")&&ye[0].hasOwnProperty("apiKey")&&(ye[0]=Te.username,ye[1]=Te.apiKey)}if(2==ye.length){if(A.isFalsy(ye[0])||A.isFalsy(ye[1]))return zt=new I.CometChatException(Re.ERRORS.PARAMETER_MISSING),K.internalRestart||K.pushToLoginListener(zt,"Login_Failure"),K.loginInProgress=!1,K.isLoggedOut=!0,Fe(zt)}else{if(1!=ye.length)return zt=new I.CometChatException(Re.ERRORS.PARAMETER_MISSING),K.internalRestart||K.pushToLoginListener(zt,"Login_Failure"),K.loginInProgress=!1,K.isLoggedOut=!0,Fe(zt);if(A.isFalsy(ye[0]))return zt=new I.CometChatException(Re.ERRORS.PARAMETER_MISSING),K.internalRestart||K.pushToLoginListener(zt,"Login_Failure"),K.loginInProgress=!1,K.isLoggedOut=!0,Fe(zt)}return A.isFalsy(H.getAppId())?(zt=new I.CometChatException(Re.LOGIN_ERROR.NOT_INITIALIZED),K.internalRestart||K.pushToLoginListener(zt,"Login_Failure"),K.loginInProgress=!1,K.isLoggedOut=!0,Fe(zt)):K.localStorage.get(S.LOCAL_STORE.KEY_USER).then(function(Pe){if(2==ye.length){K.apiKey=ye[1];var Rt=ye[0];if(null!=Pe&&Pe.uid!==ye[0])K.localStorage.clearStore().then(function(){bn.WSLogout(),K.generateAuthToken(Rt).then(function(Ot){K.user=new F.Me(Ot),K.setAuthToken(K.user.getAuthToken()),K.getLoggedInUser().then(function(wt){(K.user=new F.Me(wt)).setAuthToken(K.authToken),K.setAuthToken(K.user.getAuthToken());var an=K.user;an.setStatus(S.PresenceConstatnts.STATUS.ONLINE),K.localStorage.set("user",an);var Xt=new F.User(an);Me(Xt),K.isConnectingFromInit||K.internalRestart||K.pushToLoginListener(Xt,"Login_Success"),K.loginInProgress=!1,K.didAnalyticsPingStart()||K.isAnalyticsDisabled||!K.appSettings.shouldAutoEstablishSocketConnection()||(K.pingAnalytics(),K.startAnalyticsPingTimer()),K.isLoggedOut=!1,(K.appSettings.shouldAutoEstablishSocketConnection()||K.internalRestart)&&K.shouldConnectToWS&&K.WSLogin(K.user)},function(wt){return K.internalRestart||K.pushToLoginListener(wt,"Login_Failure"),K.loginInProgress=!1,K.isLoggedOut=!0,Fe(wt)})},function(Ot){return K.internalRestart||K.pushToLoginListener(Ot,"Login_Failure"),K.loginInProgress=!1,K.isLoggedOut=!0,Fe(Ot)})});else{if(!A.isFalsy(K.authToken)){var mt=new F.User(H.user);return K.internalRestart||K.pushToLoginListener(mt,"Login_Success"),K.loginInProgress=!1,K.isLoggedOut=!1,Me(mt)}if(!A.isFalsy(Rt)){if(A.isFalsy(K.apiKey)){var Ze=new I.CometChatException(Re.LOGIN_ERROR.UNAUTHORISED);return K.internalRestart||K.pushToLoginListener(Ze,"Login_Failure"),K.loginInProgress=!1,K.isLoggedOut=!0,Fe(Ze)}H.generateAuthToken(Rt).then(function(Ot){H.user=new F.Me(Ot),H.setAuthToken(K.user.getAuthToken()),H.getLoggedInUser().then(function(wt){H.user=new F.Me(wt),H.user.setAuthToken(K.authToken),H.setAuthToken(H.user.getAuthToken()),bn.WSLogout();var an=H.user;an.setStatus(S.PresenceConstatnts.STATUS.ONLINE),H.localStorage.set("user",an);var Xt=new F.User(an);Me(Xt),K.isConnectingFromInit||K.internalRestart||K.pushToLoginListener(Xt,"Login_Success"),K.loginInProgress=!1,K.didAnalyticsPingStart()||K.isAnalyticsDisabled||!K.appSettings.shouldAutoEstablishSocketConnection()||(K.pingAnalytics(),K.startAnalyticsPingTimer()),K.isLoggedOut=!1,(K.appSettings.shouldAutoEstablishSocketConnection()||K.internalRestart)&&K.shouldConnectToWS&&H.WSLogin(H.user)},function(wt){return K.internalRestart||K.pushToLoginListener(wt,"Login_Failure"),K.loginInProgress=!1,K.isLoggedOut=!0,Fe(wt)})},function(Ot){return K.internalRestart||K.pushToLoginListener(Ot,"Login_Failure"),K.loginInProgress=!1,K.isLoggedOut=!0,Fe(Ot)})}}}else K.authToken=ye[0],H.getLoggedInUser().then(function(Ot){if(Ot.authToken!=ye[0]){var wt=H;wt.localStorage.clearStore().then(function(){bn.WSLogout(),wt.getLoggedInUser().then(function($n){(K.user=new F.Me($n)).setAuthToken(K.authToken),K.setAuthToken(K.user.getAuthToken());var Nn=K.user;Nn.setStatus(S.PresenceConstatnts.STATUS.ONLINE),wt.localStorage.set("user",Nn);var ar=new F.User(Nn);Me(ar),K.isConnectingFromInit||K.internalRestart||K.pushToLoginListener(ar,"Login_Success"),K.loginInProgress=!1,K.didAnalyticsPingStart()||K.isAnalyticsDisabled||!K.appSettings.shouldAutoEstablishSocketConnection()||(K.pingAnalytics(),K.startAnalyticsPingTimer()),K.isLoggedOut=!1,(K.appSettings.shouldAutoEstablishSocketConnection()||K.internalRestart)&&K.shouldConnectToWS&&K.WSLogin(new F.Me($n))},function($n){return K.internalRestart||K.pushToLoginListener($n,"Login_Failure"),K.loginInProgress=!1,K.isLoggedOut=!0,Fe($n)})})}else{if(Pe){var an=new F.User(Ot);return K.internalRestart||K.pushToLoginListener(an,"Login_Success"),K.loginInProgress=!1,K.isLoggedOut=!1,Me(an)}(K.user=new F.Me(Ot)).setAuthToken(K.authToken),K.setAuthToken(K.user.getAuthToken());var Xt=K.user;Xt.setStatus(S.PresenceConstatnts.STATUS.ONLINE),K.localStorage.set("user",Xt);var hn=new F.User(Xt);Me(hn),K.isConnectingFromInit||K.internalRestart||K.pushToLoginListener(hn,"Login_Success"),K.loginInProgress=!1,K.didAnalyticsPingStart()||K.isAnalyticsDisabled||!K.appSettings.shouldAutoEstablishSocketConnection()||(K.pingAnalytics(),K.startAnalyticsPingTimer()),K.isLoggedOut=!1,(K.appSettings.shouldAutoEstablishSocketConnection()||K.internalRestart)&&K.shouldConnectToWS&&K.WSLogin(new F.Me(Ot))}},function(Ot){return K.internalRestart||K.pushToLoginListener(Ot,"Login_Failure"),K.loginInProgress=!1,K.isLoggedOut=!0,Fe(Ot)})})})}catch(pt){return $e=new I.CometChatException(pt),K.internalRestart||K.pushToLoginListener($e,"Login_Failure"),K.loginInProgress=!1,K.isLoggedOut=!0,Fe($e)}})},K.sendMessage=function(H){var ye=this;return new Promise(function(_e,Me){return v(ye,void 0,void 0,function(){var Fe,$e,pt,zt=this;return w(this,function(ge){try{return H instanceof j.TextMessage||H instanceof M.MediaMessage||H instanceof At.CustomMessage||(H=H[S.MessageConstatnts.KEYS.ATTATCHMENT]?(Fe=S.MessageConstatnts.TYPE.FILE,A.isImage(H[S.MessageConstatnts.KEYS.ATTATCHMENT])?Fe=S.MessageConstatnts.TYPE.IMAGE:A.isAudio(H[S.MessageConstatnts.KEYS.ATTATCHMENT])?Fe=S.MessageConstatnts.TYPE.AUDIO:A.isVideo(H[S.MessageConstatnts.KEYS.ATTATCHMENT])&&(Fe=S.MessageConstatnts.TYPE.VIDEO),new M.MediaMessage(H[S.MessageConstatnts.KEYS.RECEIVER_ID],H[S.MessageConstatnts.KEYS.ATTATCHMENT],Fe,H[S.MessageConstatnts.KEYS.RECEIVER_TYPE])):new j.TextMessage(H[S.MessageConstatnts.KEYS.RECEIVER_ID],H[S.MessageConstatnts.KEYS.TEXT],H[S.MessageConstatnts.KEYS.RECEIVER_TYPE])),($e=A.validateMessage(H))instanceof I.CometChatException?(Me($e),[2]):(H.receiver=H.receiverId,delete H.receiverId,[2,P.makeApiCall((pt=H.parentMessageId)?"sendMessageInThread":"sendMessage",pt?{parentId:pt}:{},H,H instanceof M.MediaMessage).then(function(Te){return v(zt,void 0,void 0,function(){var Pe;return w(this,function(Rt){return Pe=Q.MessageController.trasformJSONMessge(Te.data),rt.MessageListnerMaping.getInstance().set("all",parseInt(Pe.id)),_e(Pe),[2]})})},function(Te){Me(new I.CometChatException(Te.error))})])}catch(Te){Me(new I.CometChatException(Te))}return[2]})})})},K.sendDirectMessage=function(H){try{return Object.assign(H,{receiverType:S.MessageConstatnts.RECEIVER_TYPE.USER}),this.sendMessage(H)}catch(ye){A.Logger.error("CometChat: sendDirectMessage",ye)}},K.sendGroupMessage=function(H){try{return Object.assign(H,{receiverType:S.MessageConstatnts.RECEIVER_TYPE.GROUP}),this.sendMessage(H)}catch(ye){A.Logger.error("CometChat: sendGroupMessage",ye)}},K.sendMediaMessage=function(H){try{return this.sendMessage(H)}catch(ye){A.Logger.error("CometChat: sendMediaMessage",ye)}},K.sendCustomMessage=function(H){try{return this.sendMessage(H)}catch(ye){A.Logger.error("CometChat: sendCustomMessage",ye)}},K.getLastDeliveredMessageId=function(){return v(this,void 0,void 0,function(){var H;return w(this,function(ye){switch(ye.label){case 0:return ye.trys.push([0,2,,3]),[4,rt.MessageListnerMaping.getInstance().get(S.LOCAL_STORE.KEY_MESSAGE_LISTENER_LIST)];case 1:return[2,ye.sent()];case 2:return H=ye.sent(),A.Logger.error("CometChat: getLastDeliveredMessageId",H),[3,3];case 3:return[2]}})})},K.startTyping=function(H){try{if(A.isFalsy(H))return;var ye=void 0,_e=this.RECEIVER_TYPE.USER,Me={};if(H instanceof xt.TypingIndicator)ye=H.getReceiverId(),_e=H.getReceiverType(),Me=H.getMetadata();else{if(!H.hasOwnProperty(S.TYPING_NOTIFICATION.RECEIVER_ID))return;ye=H[S.TYPING_NOTIFICATION.RECEIVER_ID],H.hasOwnProperty(S.TYPING_NOTIFICATION.RECEIVER_TYPE)&&(_e=H[S.TYPING_NOTIFICATION.RECEIVER_TYPE]),H.hasOwnProperty(S.TYPING_NOTIFICATION.META)&&(Me=H[S.TYPING_NOTIFICATION.META])}if(A.isFalsy(ye))return;if(null==on.TypingNotificationController.getTypingStartedMap(ye)){var Fe=K.getMode();return A.isFalsy(Fe)||Fe&&Fe!==S.APP_SETTINGS.KEYS.NO_TRANSIENT&&Fe!==S.APP_SETTINGS.KEYS.LIMITED_TRANSIENT?(bn.startTypingIndicator(ye,_e,Me),on.TypingNotificationController.addTypingStarted(ye),void on.TypingNotificationController.removeTypingEnded(ye)):void 0}}catch($e){A.Logger.error("CometChat: startTyping",$e)}},K.endTyping=function(H){try{if(A.isFalsy(H))return;var ye=void 0,_e=this.RECEIVER_TYPE.USER,Me={};if(H instanceof xt.TypingIndicator)ye=H.getReceiverId(),_e=H.getReceiverType(),Me=H.getMetadata();else{if(!H.hasOwnProperty(S.TYPING_NOTIFICATION.RECEIVER_ID))return;ye=H[S.TYPING_NOTIFICATION.RECEIVER_ID],H.hasOwnProperty(S.TYPING_NOTIFICATION.RECEIVER_TYPE)&&(_e=H[S.TYPING_NOTIFICATION.RECEIVER_TYPE]),_e=_e==this.RECEIVER_TYPE.USER?S.WS.CONVERSATION.TYPE.CHAT:S.WS.CONVERSATION.TYPE.GROUP_CHAT,H.hasOwnProperty(S.TYPING_NOTIFICATION.META)&&(Me=H[S.TYPING_NOTIFICATION.META])}if(A.isFalsy(ye))return;if(null==on.TypingNotificationController.getTypingEndedMap(ye)){var Fe=K.getMode();return A.isFalsy(Fe)||Fe&&Fe!==S.APP_SETTINGS.KEYS.NO_TRANSIENT&&Fe!==S.APP_SETTINGS.KEYS.LIMITED_TRANSIENT?(bn.pauseTypingIndicator(ye,_e,Me),on.TypingNotificationController.addTypingEnded(ye),void on.TypingNotificationController.removeTypingStarted(ye)):void 0}}catch($e){A.Logger.error("CometChat: endTyping",$e)}},K.markAsRead=function(){for(var H=[],ye=0;ye<arguments.length;ye++)H[ye]=arguments[ye];return new Promise(function(_e,Me){try{var Fe=void 0,$e=void 0,pt=void 0,zt=void 0;if(3===H.length)return Me(new I.CometChatException(S.ReceiptErrors.MISSING_PARAMETERS));if(4===H.length){if(A.isFalsy(H[0])||"string"!=typeof H[0])return Me(new I.CometChatException(JSON.parse(A.format(JSON.stringify(S.ReceiptErrors.INVALID_PARAMETER),"MESSAGE_ID","MESSAGE_ID","Message ID should be a string."))));if(Fe=H[0],A.isFalsy(H[1])||"string"!=typeof H[1])return Me(new I.CometChatException(JSON.parse(A.format(JSON.stringify(S.ReceiptErrors.INVALID_PARAMETER),"RECEIVER_ID","RECEIVER_ID","Receiver ID should be a string."))));if($e=H[1],A.isFalsy(H[2])||"string"!=typeof H[2])return Me(new I.CometChatException(JSON.parse(A.format(JSON.stringify(S.ReceiptErrors.INVALID_PARAMETER),"RECEIVER_TYPE","RECEIVER_TYPE","Receiver type should be a string."))));if(pt=H[2],A.isFalsy(H[3])||"string"!=typeof H[3])return Me(new I.CometChatException(JSON.parse(A.format(JSON.stringify(S.ReceiptErrors.INVALID_PARAMETER),"SENDER_ID","SENDER_ID","Sender ID should be a string."))));zt=H[3]}else{if(1!==H.length)return Me(new I.CometChatException(JSON.parse(A.format(JSON.stringify(S.ReceiptErrors.INVALID_PARAMETER),"ARGUMENTS","ARGUMENTS","markAsRead() expects either 1 or 4 arguments."))));if(A.isFalsy(H[0])||!(H[0]instanceof x.BaseMessage))return Me(new I.CometChatException(JSON.parse(A.format(JSON.stringify(S.ReceiptErrors.INVALID_PARAMETER),"MESSAGE","MESSAGE","Invalid message object received."))));var ge=H[0];Fe=ge.getId().toString(),$e=(pt=ge.getReceiverType())===S.MessageConstatnts.RECEIVER_TYPE.USER?ge.getSender().getUid()===K.user.getUid()?ge.getReceiverId():ge.getSender().getUid():ge.getReceiverId(),zt=ge.getSender().getUid()}var Te=K.getMode();return A.isFalsy(Te)||Te&&Te!==S.APP_SETTINGS.KEYS.NO_TRANSIENT&&Te!==S.APP_SETTINGS.KEYS.LIMITED_TRANSIENT?K.getConnectionStatus()===S.CONNECTION_STATUS.CONNECTED?(bn.markAsRead($e,pt,Fe,zt),_e()):Me(new I.CometChatException(S.ReceiptErrors.NO_WEBSOCKET_CONNECTION)):Me(new I.CometChatException(S.ReceiptErrors.RECEIPTS_TEMPORARILY_BLOCKED))}catch(Pe){return A.Logger.error("CometChat: markAsRead",Pe),Me(new I.CometChatException(S.ReceiptErrors.UNKNOWN_ERROR_OCCURRED))}})},K.markAsDelivered=function(){for(var H=[],ye=0;ye<arguments.length;ye++)H[ye]=arguments[ye];return new Promise(function(_e,Me){try{var Fe=void 0,$e=void 0,pt=void 0,zt=void 0;if(3===H.length)return Me(new I.CometChatException(S.ReceiptErrors.MISSING_PARAMETERS));if(4===H.length){if(A.isFalsy(H[0])||"string"!=typeof H[0])return Me(new I.CometChatException(JSON.parse(A.format(JSON.stringify(S.ReceiptErrors.INVALID_PARAMETER),"MESSAGE_ID","MESSAGE_ID","Message ID should be a string."))));if(Fe=H[0],A.isFalsy(H[1])||"string"!=typeof H[1])return Me(new I.CometChatException(JSON.parse(A.format(JSON.stringify(S.ReceiptErrors.INVALID_PARAMETER),"RECEIVER_ID","RECEIVER_ID","Receiver ID should be a string."))));if($e=H[1],A.isFalsy(H[2])||"string"!=typeof H[2])return Me(new I.CometChatException(JSON.parse(A.format(JSON.stringify(S.ReceiptErrors.INVALID_PARAMETER),"RECEIVER_TYPE","RECEIVER_TYPE","Receiver type should be a string."))));if(pt=H[2],A.isFalsy(H[3])||"string"!=typeof H[3])return Me(new I.CometChatException(JSON.parse(A.format(JSON.stringify(S.ReceiptErrors.INVALID_PARAMETER),"SENDER_ID","SENDER_ID","Sender ID should be a string."))));zt=H[3]}else{if(1!==H.length)return Me(new I.CometChatException(JSON.parse(A.format(JSON.stringify(S.ReceiptErrors.INVALID_PARAMETER),"ARGUMENTS","ARGUMENTS","markAsDelivered() expects either 1 or 4 arguments."))));if(A.isFalsy(H[0])||!(H[0]instanceof x.BaseMessage))return Me(new I.CometChatException(JSON.parse(A.format(JSON.stringify(S.ReceiptErrors.INVALID_PARAMETER),"MESSAGE","MESSAGE","Invalid message object received."))));var ge=H[0];Fe=ge.getId().toString(),$e=(pt=ge.getReceiverType())===S.MessageConstatnts.RECEIVER_TYPE.USER?ge.getSender().getUid()===K.user.getUid()?ge.getReceiverId():ge.getSender().getUid():ge.getReceiverId(),zt=ge.getSender().getUid()}var Te=K.getMode();return A.isFalsy(Te)||Te&&Te!==S.APP_SETTINGS.KEYS.NO_TRANSIENT&&Te!==S.APP_SETTINGS.KEYS.LIMITED_TRANSIENT?K.getConnectionStatus()===S.CONNECTION_STATUS.CONNECTED?(bn.markAsDelivered($e,pt,Fe,zt),_e()):Me(new I.CometChatException(S.ReceiptErrors.NO_WEBSOCKET_CONNECTION)):Me(new I.CometChatException(S.ReceiptErrors.RECEIPTS_TEMPORARILY_BLOCKED))}catch(Pe){return A.Logger.error("CometChat: markAsDelivered",Pe),Me(new I.CometChatException(S.ReceiptErrors.UNKNOWN_ERROR_OCCURRED))}})},K.sendTransientMessage=function(H){try{if(A.isFalsy(H))return;var ye=void 0,_e=void 0,Me={};if(!(H instanceof sr.TransientMessage)||(ye=H.getReceiverId(),_e=H.getReceiverType(),Me=H.getData(),A.isFalsy(ye)||A.isFalsy(_e)))return;var Fe=K.getMode();return A.isFalsy(Fe)||Fe&&Fe!==S.APP_SETTINGS.KEYS.NO_TRANSIENT?void bn.sendTransientMessage(ye,_e,Me):void 0}catch($e){A.Logger.error("CometChat: sendTransientMessage",$e)}},K.sendTestMessage=function(H){return v(this,void 0,void 0,function(){var ye,_e;return w(this,function(Me){switch(Me.label){case 0:return Me.trys.push([0,3,,4]),(ye=H)instanceof x.BaseMessage?[3,2]:[4,Ie.CometChatHelper.processMessage(H)];case 1:ye=Me.sent(),Me.label=2;case 2:return ye instanceof j.TextMessage&&vt.WSConnectionHelper.getInstance().publishMessage(ye),[3,4];case 3:return _e=Me.sent(),A.Logger.error("CometChat: sendTestMessage",_e),[3,4];case 4:return[2]}})})},K.getMessageDetails=function(H){return new Promise(function(ye,_e){try{A.isFalsy(H)?_e(new I.CometChatException(Re.ERRORS.PARAMETER_MISSING)):P.makeApiCall("getMessageDetails",{messageId:H}).then(function(Me){ye(Q.MessageController.trasformJSONMessge(Me.data))},function(Me){A.Logger.error("CometChat:GetMessageDetails:",Me),_e(new I.CometChatException(Me.error))})}catch(Me){_e(new I.CometChatException(Me))}})},K.getMessageReceipts=function(H){return new Promise(function(ye,_e){try{var Me=A.validateMsgId(H);if(Me instanceof I.CometChatException)return void _e(Me);A.isFalsy(H)?_e(new I.CometChatException(Re.ERRORS.PARAMETER_MISSING)):P.makeApiCall("getMessageDetails",{messageId:H}).then(function(Fe){Q.MessageController.getReceiptsFromJSON(Fe.data).then(function($e){ye($e)},function($e){_e(new I.CometChatException($e))})},function(Fe){A.Logger.error("CometChat:GetMessageDetails:",Fe),_e(new I.CometChatException(Fe.error))})}catch(Fe){_e(new I.CometChatException(Fe))}})},K.getUnreadMessageCount=function(H){void 0===H&&(H=!1);var ye=0;return new Promise(function(_e,Me){try{var Fe=A.validateHideMessagesFromBlockedUsers(H);if(Fe instanceof I.CometChatException)return void Me(Fe);H&&(ye=1),P.makeApiCall("getMessages",{},{unread:1,count:1,hideMessagesFromBlockedUsers:ye}).then(function($e){var pt={},zt={};$e.data.map(function(ge){ge[S.ResponseConstants.RESPONSE_KEYS.UNREAD_UNDELIVERED_KEYS.ENTITY_TYPE]==S.MessageConstatnts.RECEIVER_TYPE.GROUP?zt[ge[S.ResponseConstants.RESPONSE_KEYS.UNREAD_UNDELIVERED_KEYS.ENTITY_Id]]=ge[S.ResponseConstants.RESPONSE_KEYS.UNREAD_UNDELIVERED_KEYS.COUNT]:pt[ge[S.ResponseConstants.RESPONSE_KEYS.UNREAD_UNDELIVERED_KEYS.ENTITY_Id]]=ge[S.ResponseConstants.RESPONSE_KEYS.UNREAD_UNDELIVERED_KEYS.COUNT]}),_e({users:pt,groups:zt})},function($e){Me(new I.CometChatException($e.error))})}catch($e){Me(new I.CometChatException($e))}})},K.getUnreadMessageCountForAllUsers=function(H){void 0===H&&(H=!1);var ye=0;return new Promise(function(_e,Me){try{var Fe=A.validateHideMessagesFromBlockedUsers(H);if(Fe instanceof I.CometChatException)return void Me(Fe);H&&(ye=1),P.makeApiCall("getMessages",{},{hideMessagesFromBlockedUsers:ye,receiverType:S.MessageConstatnts.RECEIVER_TYPE.USER,unread:1,count:1}).then(function($e){var pt={};$e.data.map(function(zt){pt[zt[S.ResponseConstants.RESPONSE_KEYS.UNREAD_UNDELIVERED_KEYS.ENTITY_Id]]=zt[S.ResponseConstants.RESPONSE_KEYS.UNREAD_UNDELIVERED_KEYS.COUNT]}),_e(d({},pt))},function($e){Me(new I.CometChatException($e.error))})}catch($e){Me(new I.CometChatException($e))}})},K.getUnreadMessageCountForAllGroups=function(H){void 0===H&&(H=!1);var ye=0;return new Promise(function(_e,Me){try{var Fe=A.validateHideMessagesFromBlockedUsers(H);if(Fe instanceof I.CometChatException)return void Me(Fe);H&&(ye=1),P.makeApiCall("getMessages",{},{hideMessagesFromBlockedUsers:ye,receiverType:S.MessageConstatnts.RECEIVER_TYPE.GROUP,unread:1,count:1}).then(function($e){var pt={};$e.data.map(function(zt){zt[S.ResponseConstants.RESPONSE_KEYS.UNREAD_UNDELIVERED_KEYS.ENTITY_TYPE]==S.MessageConstatnts.RECEIVER_TYPE.GROUP&&(pt[zt[S.ResponseConstants.RESPONSE_KEYS.UNREAD_UNDELIVERED_KEYS.ENTITY_Id]]=zt[S.ResponseConstants.RESPONSE_KEYS.UNREAD_UNDELIVERED_KEYS.COUNT])}),_e(d({},pt))},function($e){Me(new I.CometChatException($e.error))})}catch($e){Me(new I.CometChatException($e))}})},K.getUnreadMessageCountForUser=function(H,ye){void 0===ye&&(ye=!1);var _e=0;return new Promise(function(Me,Fe){try{var $e=A.validateId(H,"user");if($e instanceof I.CometChatException)return void Fe($e);var pt=A.validateHideMessagesFromBlockedUsers(ye);if(pt instanceof I.CometChatException)return void Fe(pt);ye&&(_e=1),P.makeApiCall("getUserMessages",{listId:H},{hideMessagesFromBlockedUsers:_e,unread:1,count:1,uid:H}).then(function(zt){var ge={};zt.data.map(function(Te){ge[Te[S.ResponseConstants.RESPONSE_KEYS.UNREAD_UNDELIVERED_KEYS.ENTITY_Id]]=Te[S.ResponseConstants.RESPONSE_KEYS.UNREAD_UNDELIVERED_KEYS.COUNT]}),Me(d({},ge))},function(zt){Fe(new I.CometChatException(zt.error))})}catch(zt){Fe(new I.CometChatException(zt))}})},K.getUnreadMessageCountForGroup=function(H,ye){void 0===ye&&(ye=!1);var _e=0;return new Promise(function(Me,Fe){try{var $e=A.validateId(H,"group");if($e instanceof I.CometChatException)return void Fe($e);var pt=A.validateHideMessagesFromBlockedUsers(ye);if(pt instanceof I.CometChatException)return void Fe(pt);ye&&(_e=1),P.makeApiCall("getGroupMessages",{listId:H},{hideMessagesFromBlockedUsers:_e,unread:1,count:1,guid:H}).then(function(zt){var ge={};zt.data.map(function(Te){Te[S.ResponseConstants.RESPONSE_KEYS.UNREAD_UNDELIVERED_KEYS.ENTITY_TYPE]==S.MessageConstatnts.RECEIVER_TYPE.GROUP&&(ge[Te[S.ResponseConstants.RESPONSE_KEYS.UNREAD_UNDELIVERED_KEYS.ENTITY_Id]]=Te[S.ResponseConstants.RESPONSE_KEYS.UNREAD_UNDELIVERED_KEYS.COUNT])}),Me(d({},ge))},function(zt){Fe(new I.CometChatException(zt.error))})}catch(zt){Fe(new I.CometChatException(zt))}})},K.editMessage=function(H){return new Promise(function(ye,_e){try{var Me=A.validateMsgId(H.getId());if(Me instanceof I.CometChatException)return void _e(Me);P.makeApiCall("updateMessage",{messageId:H.getId()},H).then(function(Fe){ye(Q.MessageController.trasformJSONMessge(Fe.data).getActionOn())},function(Fe){_e(new I.CometChatException(Fe.error))})}catch(Fe){_e(new I.CometChatException(Fe))}})},K.deleteMessage=function(H){return new Promise(function(ye,_e){try{var Me=A.validateMsgId(H);if(Me instanceof I.CometChatException)return void _e(Me);P.makeApiCall("deleteMessage",{messageId:H},{id:H}).then(function(Fe){ye(Q.MessageController.trasformJSONMessge(Fe.data).getActionOn())},function(Fe){_e(new I.CometChatException(Fe.error))})}catch(Fe){_e(new I.CometChatException(Fe))}})},K.getOnlineUserCount=function(){return new Promise(function(H,ye){try{A.getAppSettings().then(function(_e){var Me=A.format((new N.EndpointFactory).wsApi,A.getChatHost(_e),A.format(S.ONLINE_MEMBER_COUNT_API.ENDPOINTS.GET_ONLINE_MEMBER_COUNT,_e[S.APP_SETTINGS.KEYS.WS_API_VERSION]));P.postData(Me,"POST",{},{appId:K.appId,Authorization:K.jwt,Accept:"application/json","Content-Type":"application/json"},!1).then(function($e){return $e.json()}).then(function($e){return $e.hasOwnProperty(S.ResponseConstants.RESPONSE_KEYS.KEY_DATA)?H($e[S.ResponseConstants.RESPONSE_KEYS.KEY_DATA][S.ONLINE_MEMBER_COUNT_API.RESPONSE.ONLINE_USERS_COUNT]):ye(new I.CometChatException($e.error))}).catch(function(){return ye({error:Re.FETCH_ERROR.ERROR_IN_API_CALL})})},function(_e){return ye(new I.CometChatException(_e))})}catch(_e){return ye(new I.CometChatException(_e))}})},K.getOnlineGroupMemberCount=function(H){return new Promise(function(ye,_e){try{if(!H||0==H.length)return _e(new I.CometChatException(S.ONLINE_MEMBER_COUNT_API.ERRORS.INVALID_GROUPLIST));A.getAppSettings().then(function(Me){var Fe=A.format((new N.EndpointFactory).wsApi,A.getChatHost(Me),A.format(S.ONLINE_MEMBER_COUNT_API.ENDPOINTS.GET_ONLINE_MEMBER_COUNT,Me[S.APP_SETTINGS.KEYS.WS_API_VERSION]));P.postData(Fe,"POST",{groups:H},{appId:K.appId,Authorization:K.jwt,Accept:"application/json","Content-Type":"application/json"},!1).then(function(zt){return zt.json()}).then(function(zt){return zt.hasOwnProperty(S.ResponseConstants.RESPONSE_KEYS.KEY_DATA)?ye(zt[S.ResponseConstants.RESPONSE_KEYS.KEY_DATA][S.ONLINE_MEMBER_COUNT_API.RESPONSE.GROUPS]):_e(new I.CometChatException(zt.error))}).catch(function(){return _e({error:Re.FETCH_ERROR.ERROR_IN_API_CALL})})},function(Me){return _e(new I.CometChatException(Me))})}catch(Me){return _e(new I.CometChatException(Me))}})},K.createUser=function(H,ye){return new Promise(function(_e,Me){try{if(A.isFalsy(ye))return void Me(new I.CometChatException(JSON.parse(A.format(JSON.stringify(S.GENERAL_ERROR.INVALID),"AUTH_KEY","AUTH_KEY","AUTH_KEY","AUTH_KEY"))));K.apiKey=ye;var Fe=A.validateCreateUser(H);if(Fe instanceof I.CometChatException)return void Me(Fe);if(!(H instanceof F.User)){var $e=void 0;if(!H.hasOwnProperty(S.UserConstants.UID))return void Me(new I.CometChatException(Re.ERRORS.PARAMETER_MISSING));if(!H.hasOwnProperty(S.UserConstants.NAME))return void Me(new I.CometChatException(Re.ERRORS.PARAMETER_MISSING));$e=new F.User(H[S.UserConstants.UID],H[S.UserConstants.NAME]),H.hasOwnProperty(S.UserConstants.AVATAR)&&$e.setAvatar(H[S.UserConstants.AVATAR]),H.hasOwnProperty(S.UserConstants.ROLE)&&$e.setRole(H[S.UserConstants.ROLE]),H.hasOwnProperty(S.UserConstants.META_DATA)&&$e.setMetadata(H[S.UserConstants.META_DATA]),H.hasOwnProperty(S.UserConstants.LINK)&&$e.setLink(H[S.UserConstants.LINK]),H.hasOwnProperty(S.UserConstants.STATUS_MESSAGE)&&$e.setStatusMessage(H[S.UserConstants.STATUS_MESSAGE]),H.hasOwnProperty(S.UserConstants.TAGS)&&$e.setTags(H[S.UserConstants.TAGS]),H=$e}P.makeApiCall("createUser",{},H).then(function(pt){var zt=$.UsersController.trasformJSONUser(pt.data);_e(zt)},function(pt){Me(new I.CometChatException(pt.error))})}catch(pt){Me(new I.CometChatException(pt))}})},K.updateUser=function(H,ye){var _e=this;return new Promise(function(Me,Fe){try{if(A.isFalsy(ye))return void Fe(new I.CometChatException(JSON.parse(A.format(JSON.stringify(S.GENERAL_ERROR.INVALID),"AUTH_KEY","AUTH_KEY","AUTH_KEY","AUTH_KEY"))));K.apiKey=ye;var $e=A.validateUpdateUser(H);if($e instanceof I.CometChatException)return void Fe($e);if(!(H instanceof F.User)){var pt=void 0;if(!H.hasOwnProperty(S.UserConstants.UID))return void Fe(new I.CometChatException(Re.ERRORS.PARAMETER_MISSING));pt=new F.User(H[S.UserConstants.UID]),H.hasOwnProperty(S.UserConstants.NAME)&&pt.setName(H[S.UserConstants.NAME]),H.hasOwnProperty(S.UserConstants.AVATAR)&&pt.setAvatar(H[S.UserConstants.AVATAR]),H.hasOwnProperty(S.UserConstants.ROLE)&&pt.setRole(H[S.UserConstants.ROLE]),H.hasOwnProperty(S.UserConstants.META_DATA)&&pt.setMetadata(H[S.UserConstants.META_DATA]),H.hasOwnProperty(S.UserConstants.LINK)&&pt.setLink(H[S.UserConstants.LINK]),H.hasOwnProperty(S.UserConstants.STATUS_MESSAGE)&&pt.setStatusMessage(H[S.UserConstants.STATUS_MESSAGE]),H.hasOwnProperty(S.UserConstants.TAGS)&&pt.setTags(H[S.UserConstants.TAGS]),H=pt}var zt=H.uid;P.makeApiCall("updateUser",{uid:zt},H).then(function(ge){if(_e.user&&zt.toLocaleLowerCase()===_e.user.getUid().toLocaleLowerCase())C.LocalStorage.getInstance().get("user").then(function(Pe){if(Pe){var Rt=$.UsersController.trasformJSONUser(ge.data),mt=ge.data;mt.wsChannel=Pe.wsChannel,mt.authToken=K.authToken,mt.status=S.PresenceConstatnts.STATUS.ONLINE,Pe.jwt&&(mt.jwt=Pe.jwt),K.user=new F.Me(mt),_e.localStorage.set("user",K.user),Me(Rt)}});else{var Te=$.UsersController.trasformJSONUser(ge.data);Me(Te)}},function(ge){Fe(new I.CometChatException(ge.error))})}catch(ge){Fe(new I.CometChatException(ge))}})},K.updateCurrentUserDetails=function(H){var ye=this;return new Promise(function(_e,Me){try{H.uid=ye.user.uid;var Fe=A.validateUpdateUser(H);if(Fe instanceof I.CometChatException)return void Me(Fe);if(!(H instanceof F.User)){var $e=void 0;H.hasOwnProperty(S.UserConstants.UID)&&($e=new F.User(H[S.UserConstants.UID])),H.hasOwnProperty(S.UserConstants.NAME)&&$e.setName(H[S.UserConstants.NAME]),H.hasOwnProperty(S.UserConstants.AVATAR)&&$e.setAvatar(H[S.UserConstants.AVATAR]),H.hasOwnProperty(S.UserConstants.ROLE)&&$e.setRole(H[S.UserConstants.ROLE]),H.hasOwnProperty(S.UserConstants.META_DATA)&&$e.setMetadata(H[S.UserConstants.META_DATA]),H.hasOwnProperty(S.UserConstants.LINK)&&$e.setLink(H[S.UserConstants.LINK]),H.hasOwnProperty(S.UserConstants.STATUS_MESSAGE)&&$e.setStatusMessage(H[S.UserConstants.STATUS_MESSAGE]),H.hasOwnProperty(S.UserConstants.TAGS)&&$e.setTags(H[S.UserConstants.TAGS]),H=$e}P.makeApiCall("updateMyDetails",{},H).then(function(pt){var zt=$.UsersController.trasformJSONUser(pt.data),ge=K.user=new F.Me(pt.data);ge.setStatus(S.PresenceConstatnts.STATUS.ONLINE),K.localStorage.set("user",ge),_e(zt)},function(pt){Me(new I.CometChatException(pt.error))})}catch(pt){Me(new I.CometChatException(pt))}})},K.getUser=function(H){return new Promise(function(ye,_e){try{"object"==typeof H&&H.hasOwnProperty("uid")&&(H=H.uid);var Me=A.validateId(H,"user");if(Me instanceof I.CometChatException)return void _e(Me);P.makeApiCall("user",{uid:H}).then(function(Fe){var $e=$.UsersController.trasformJSONUser(Fe.data);ye($e)}).catch(function(Fe){_e(new I.CometChatException(Fe.error))})}catch(Fe){_e(new I.CometChatException(Fe))}})},K.getLoggedInUser=function(){var H=this;return new Promise(function(ye,_e){try{K.localStorage.get(S.LOCAL_STORE.KEY_USER).then(function(Me){if(Me)ye(K.user=new F.Me(Me));else{var Fe="",$e="",pt=S.APPINFO.platform,zt=S.APPINFO.sdkVersion,ge=S.APPINFO.apiVersion;K.keyStore.get(S.LOCAL_STORE.KEY_DEVICE_ID).then(function(Te){if($e=Te,navigator&&(Fe=navigator.userAgent),null==$e){var Pe=Qn(),Rt=(new Date).getTime();K.keyStore.set(S.LOCAL_STORE.KEY_DEVICE_ID,$e=H.appId+"_"+Pe+"_"+Rt)}var mt={version:zt,apiVersion:ge,userAgent:Fe};A.isFalsy(H.platform)||(mt.platform=H.platform),A.isFalsy(H.language)||(mt.language=H.language),A.isFalsy(H.resource)||(mt.resource=H.resource),P.makeApiCall("updateMyDetails",{},{platform:pt,deviceId:$e,appInfo:mt},!1).then(function(Ot){Ot.data.jwt&&(K.jwt=Ot.data.jwt);var wt=Ot.data.settings;wt&&(C.LocalStorage.getInstance().set("app_settings",wt),wt[S.APP_SETTINGS.KEYS.MODE]&&K.setMode(wt[S.APP_SETTINGS.KEYS.MODE]),wt[S.APP_SETTINGS.KEYS.SETTINGS_HASH]&&(K.settingsHash=wt[S.APP_SETTINGS.KEYS.SETTINGS_HASH]),wt[S.APP_SETTINGS.KEYS.SETTINGS_HASH_RECEIVED_AT]&&(K.settingsHashReceivedAt=wt[S.APP_SETTINGS.KEYS.SETTINGS_HASH_RECEIVED_AT]),K.isAnalyticsDisabled=!!wt[S.APP_SETTINGS.KEYS.ANALYTICS_PING_DISABLED]),ye(new F.Me(Ot.data))},function(Ot){_e(new I.CometChatException(Ot.error))}).catch(function(Ot){_e(new I.CometChatException(Ot))})})}})}catch(Me){_e(new I.CometChatException(Me))}})},K.getLoggedinUser=function(){return new Promise(function(H,ye){try{K.localStorage.get(S.LOCAL_STORE.KEY_USER).then(function(_e){H(_e?new F.User(_e):null)},function(_e){H(null)})}catch(_e){ye(new I.CometChatException(_e))}})},K.blockUsers=function(H){return new Promise(function(ye,_e){try{var Me=A.validateArray(H,"blockUsers");if(Me instanceof I.CometChatException)return void _e(Me);A.isFalsy(H)?_e(new I.CometChatException(Re.USERS_REQUEST_ERRORS.EMPTY_USERS_LIST)):P.makeApiCall("blockUsers",{},{blockedUids:H}).then(function(Fe){ye(Fe.data)},function(Fe){_e(new I.CometChatException(Fe.error))})}catch(Fe){_e(new I.CometChatException(Fe))}})},K.unblockUsers=function(H){return new Promise(function(ye,_e){try{var Me=A.validateArray(H,"unblockUsers");if(Me instanceof I.CometChatException)return void _e(Me);A.isFalsy(H)?_e(new I.CometChatException(Re.USERS_REQUEST_ERRORS.EMPTY_USERS_LIST)):P.makeApiCall("unblockUsers",{},{blockedUids:H}).then(function(Fe){ye(Fe.data)},function(Fe){_e(new I.CometChatException(Fe.error))})}catch(Fe){_e(new I.CometChatException(Fe))}})},K.getConversation=function(H,ye){return new Promise(function(_e,Me){try{var Fe=A.validateConversationType(ye);if(Fe instanceof I.CometChatException)return void Me(Fe);var $e=A.validateId(H,ye);if($e instanceof I.CometChatException)return void Me($e);ye=ye.toLowerCase(),H=H.toLowerCase();var pt={},zt="";ye===S.MessageConstatnts.RECEIVER_TYPE.GROUP?(zt="getGroupConversation",pt.guid=H):(zt="getUserConversation",pt.uid=H),P.makeApiCall(zt,pt).then(function(ge){if(ge.data){var Te=ge.data;_e(Kt.ConversationController.trasformJSONConversation(Te.conversationId,Te.conversationType,Te.lastMessage,Te.conversationWith,parseInt(Te.unreadMessageCount),Te.tags?Te.tags:[]))}else Me(new I.CometChatException(JSON.parse(A.format(JSON.stringify(S.ConversationErrors.CONVERSATION_NOT_FOUND),ye,H))))},function(ge){Me(new I.CometChatException(ge.error))})}catch(ge){Me(new I.CometChatException(ge))}})},K.tagConversation=function(H,ye,_e){return void 0===_e&&(_e=[]),new Promise(function(Me,Fe){try{var $e=A.validateConversationType(ye);if($e instanceof I.CometChatException)return void Fe($e);var pt=A.validateId(H,ye);if(pt instanceof I.CometChatException)return void Fe(pt);ye=ye.toLowerCase(),H=H.toLowerCase();var zt={},ge="";ye===S.MessageConstatnts.RECEIVER_TYPE.GROUP?(ge="updateGroupConversation",zt.guid=H):(ge="updateUserConversation",zt.uid=H),P.makeApiCall(ge,zt,{tags:_e}).then(function(Te){if(Te.data){var Pe=Te.data;Me(Kt.ConversationController.trasformJSONConversation(Pe.conversationId,Pe.conversationType,Pe.lastMessage,Pe.conversationWith,parseInt(Pe.unreadMessageCount),Pe.tags?Pe.tags:[]))}else Fe(new I.CometChatException(JSON.parse(A.format(JSON.stringify(S.ConversationErrors.CONVERSATION_NOT_FOUND),ye,H))))},function(Te){Fe(new I.CometChatException(Te.error))})}catch(Te){Fe(new I.CometChatException(Te))}})},K.deleteConversation=function(H,ye){return new Promise(function(_e,Me){try{var Fe=A.validateConversationType(ye);if(Fe instanceof I.CometChatException)return void Me(Fe);var $e=A.validateId(H,ye);if($e instanceof I.CometChatException)return void Me($e);var pt={},zt="";ye=ye.toLowerCase(),H=H.toLowerCase(),ye===S.MessageConstatnts.RECEIVER_TYPE.GROUP?(zt="deleteGroupConversation",pt.guid=H):(zt="deleteUserConversation",pt.uid=H),P.makeApiCall(zt,pt).then(function(ge){_e("Conversation deleted successfully.")},function(ge){Me(new I.CometChatException(ge.error))})}catch(ge){Me(new I.CometChatException(ge))}})},K.createGroup=function(H){return new Promise(function(ye,_e){try{var Me=A.validateCreateGroup(H);if(Me instanceof I.CometChatException)return void _e(Me);if(!(H instanceof se.Group)){var Fe=void 0;if(!H.hasOwnProperty(S.GroupConstants.KEYS.GUID))return void _e(new I.CometChatException(Re.ERRORS.PARAMETER_MISSING));if(!H.hasOwnProperty(S.GroupConstants.KEYS.NAME))return void _e(new I.CometChatException(Re.ERRORS.PARAMETER_MISSING));if(Fe=new se.Group(H[S.GroupConstants.KEYS.GUID],H[S.GroupConstants.KEYS.NAME],""),H.hasOwnProperty(S.GroupConstants.KEYS.TYPE))if(H[S.GroupConstants.KEYS.TYPE].toLocaleLowerCase()==S.GroupType.Password){if(!H.hasOwnProperty(S.GroupConstants.KEYS.PASSWORD))return void _e(new I.CometChatException(Re.GROUP_CREATION_ERRORS.EMPTY_PASSWORD));Fe.setType(S.GROUP_TYPE.PASSWORD),Fe.setPassword(H[S.GroupConstants.KEYS.PASSWORD])}else Fe.setType(H[S.GroupConstants.KEYS.TYPE]);else Fe.setType(S.GROUP_TYPE.PUBLIC);H.hasOwnProperty(S.GroupConstants.KEYS.ICON)&&Fe.setIcon(H[S.GroupConstants.KEYS.ICON]),H.hasOwnProperty(S.GroupConstants.KEYS.DESCRIPTION)&&Fe.setDescription(H[S.GroupConstants.KEYS.DESCRIPTION]),H.hasOwnProperty(S.GroupConstants.KEYS.TAGS)&&Fe.setTags(H[S.GroupConstants.KEYS.TAGS]),H=Fe}P.makeApiCall("createGroup",{},H).then(function($e){ue.GroupsController.trasformJSONGroup($e.data).setHasJoined(!0),ye(ue.GroupsController.trasformJSONGroup($e.data))},function($e){_e(new I.CometChatException($e.error))})}catch($e){_e(new I.CometChatException($e))}})},K.getGroup=function(H){return new Promise(function(ye,_e){try{"object"==typeof H&&H.hasOwnProperty("guid")&&(H=H.guid);var Me=A.validateId(H,"group");if(Me instanceof I.CometChatException)return void _e(Me);P.makeApiCall("getGroup",{guid:H}).then(function(Fe){ye(ue.GroupsController.trasformJSONGroup(Fe.data))},function(Fe){_e(new I.CometChatException(Fe.error))})}catch(Fe){_e(new I.CometChatException(Fe))}})},K.joinGroup=function(H,ye,_e){return void 0===ye&&(ye=S.GroupType.Public),void 0===_e&&(_e=""),new Promise(function(Me,Fe){try{var $e=A.validateJoinGroup(H,ye,_e);if($e instanceof I.CometChatException)return void Fe($e);var pt;"object"==typeof H&&(H.hasOwnProperty(S.GroupConstants.KEYS.GUID)?(H.hasOwnProperty(S.GroupConstants.KEYS.TYPE)&&(ye=H[S.GroupConstants.KEYS.TYPE],H[S.GroupConstants.KEYS.TYPE].toLocaleLowerCase()===S.GroupType.Password&&H.hasOwnProperty(S.GroupConstants.KEYS.PASSWORD)&&(_e=H[S.GroupConstants.KEYS.PASSWORD])),H=H[S.GroupConstants.KEYS.GUID]):Fe(new I.CometChatException(Re.ERRORS.PARAMETER_MISSING))),pt=A.isFalsy(_e)?new se.Group(H,"name",ye):new se.Group(H,"name",ye,_e),P.makeApiCall("joinGroup",pt,pt).then(function(zt){var ge=ue.GroupsController.trasformJSONGroup(zt.data[S.ResponseConstants.RESPONSE_KEYS.KEY_DATA][S.ActionConstatnts.ACTION_KEYS.ENTITIES][S.ActionConstatnts.ACTION_SUBJECTS.ACTION_FOR][S.ActionConstatnts.ACTION_KEYS.ENTITY]);ge.setHasJoined(!0),Me(ge)},function(zt){Fe(new I.CometChatException(zt.error))})}catch(zt){Fe(new I.CometChatException(zt))}})},K.updateGroup=function(H){return new Promise(function(ye,_e){try{var Me=A.validateUpdateGroup(H);if(Me instanceof I.CometChatException)return void _e(Me);if(!(H instanceof se.Group)){var Fe=void 0;if(!H.hasOwnProperty(S.GroupConstants.KEYS.GUID))return void _e(new I.CometChatException(Re.ERRORS.PARAMETER_MISSING));Fe=new se.Group(S.GroupConstants.KEYS.GUID,"",""),H.hasOwnProperty(S.GroupConstants.KEYS.TYPE)?Fe.setType(H[S.GroupConstants.KEYS.TYPE]):H[S.GroupConstants.KEYS.TYPE]=S.GROUP_TYPE.PUBLIC,H.hasOwnProperty(S.GroupConstants.KEYS.NAME)&&Fe.setName(H[S.GroupConstants.KEYS.NAME]),H.hasOwnProperty(S.GroupConstants.KEYS.ICON)&&Fe.setIcon(H[S.GroupConstants.KEYS.ICON]),H.hasOwnProperty(S.GroupConstants.KEYS.DESCRIPTION)&&Fe.setDescription(H[S.GroupConstants.KEYS.DESCRIPTION]),H.hasOwnProperty(S.GroupConstants.KEYS.TAGS)&&Fe.setTags(H[S.GroupConstants.KEYS.TAGS]),H=Fe}P.makeApiCall("updateGroup",H,H).then(function($e){ye(ue.GroupsController.trasformJSONGroup($e.data))},function($e){_e(new I.CometChatException($e.error))})}catch($e){_e(new I.CometChatException($e))}})},K.deleteGroup=function(H){return new Promise(function(ye,_e){try{var Me=A.validateId(H,"group");if(Me instanceof I.CometChatException)return void _e(Me);P.makeApiCall("deleteGroup",{guid:H}).then(function(Fe){ye(!0)},function(Fe){_e(new I.CometChatException(Fe.error))})}catch(Fe){_e(new I.CometChatException(Fe))}})},K.leaveGroup=function(H){return new Promise(function(ye,_e){try{var Me=A.validateId(H,"group");if(Me instanceof I.CometChatException)return void _e(Me);P.makeApiCall("leaveGroup",{guid:H}).then(function(Fe){ye(!0)},function(Fe){_e(new I.CometChatException(Fe.error))})}catch(Fe){_e(new I.CometChatException(Fe))}})},K.kickGroupMember=function(H,ye){return new Promise(function(_e,Me){try{var Fe=A.validateId(H,"group");if(Fe instanceof I.CometChatException)return void Me(Fe);var $e=A.validateId(ye,"user");if($e instanceof I.CometChatException)return void Me($e);P.makeApiCall("kickGroupMembers",{guid:H,uid:ye}).then(function(pt){_e(!0)},function(pt){Me(new I.CometChatException(pt.error))})}catch(pt){Me(new I.CometChatException(pt))}})},K.updateGroupMemberScope=function(H,ye,_e){return new Promise(function(Me,Fe){try{var $e=A.validateId(H,"group");if($e instanceof I.CometChatException)return void Fe($e);var pt=A.validateId(ye,"user");if(pt instanceof I.CometChatException)return void Fe(pt);var zt=A.validateScope(_e);if(zt instanceof I.CometChatException)return void Fe(zt);P.makeApiCall("changeScopeOfMember",{guid:H,uid:ye},{scope:_e}).then(function(ge){Me(!0)},function(ge){Fe(new I.CometChatException(ge.error))})}catch(ge){Fe(new I.CometChatException(ge))}})},K.banGroupMember=function(H,ye){return new Promise(function(_e,Me){try{var Fe=A.validateId(H,"group");if(Fe instanceof I.CometChatException)return void Me(Fe);var $e=A.validateId(ye,"user");if($e instanceof I.CometChatException)return void Me($e);P.makeApiCall("banGroupMember",{guid:H,uid:ye}).then(function(pt){_e(!0)},function(pt){Me(new I.CometChatException(pt.error))})}catch(pt){Me(new I.CometChatException(pt))}})},K.unbanGroupMember=function(H,ye){return new Promise(function(_e,Me){try{var Fe=A.validateId(H,"group");if(Fe instanceof I.CometChatException)return void Me(Fe);var $e=A.validateId(ye,"user");if($e instanceof I.CometChatException)return void Me($e);P.makeApiCall("unbanGroupMember",{guid:H,uid:ye}).then(function(pt){_e(!0)},function(pt){Me(new I.CometChatException(pt.error))})}catch(pt){Me(new I.CometChatException(pt))}})},K.addMembersToGroup=function(H,ye,_e){var Me=[],Fe=[],$e=[],pt=[];return new Promise(function(zt,ge){try{var Te=A.validateId(H,"group");if(Te instanceof I.CometChatException)return void ge(Te);var Pe=A.validateArray(ye,"groupMembers");if(Pe instanceof I.CometChatException)return void ge(Pe);if(_e){var Rt=A.validateArray(_e,"bannedMembers");if(Rt instanceof I.CometChatException)return void ge(Rt)}A.isFalsy(ye)&&A.isFalsy(_e)?ge(new I.CometChatException({})):A.isFalsy(ye)||A.isFalsy(_e)?A.isFalsy(ye)?_e.map(function(Ze){pt.push(Ze)}):(ye.filter(function(Ze){if(Ze.getScope()==S.GROUP_MEMBER_SCOPE.ADMIN)return!0}).map(function(Ze){Me.push(Ze.getUid())}),ye.filter(function(Ze){if(Ze.getScope()==S.GROUP_MEMBER_SCOPE.MODERATOR)return!0}).map(function(Ze){Fe.push(Ze.getUid())}),ye.filter(function(Ze){if(Ze.getScope()==S.GROUP_MEMBER_SCOPE.PARTICIPANT)return!0}).map(function(Ze){$e.push(Ze.getUid())})):(ye.filter(function(Ze){if(Ze.getScope()==S.GROUP_MEMBER_SCOPE.ADMIN)return!0}).map(function(Ze){Me.push(Ze.getUid())}),ye.filter(function(Ze){if(Ze.getScope()==S.GROUP_MEMBER_SCOPE.MODERATOR)return!0}).map(function(Ze){Fe.push(Ze.getUid())}),ye.filter(function(Ze){if(Ze.getScope()==S.GROUP_MEMBER_SCOPE.PARTICIPANT)return!0}).map(function(Ze){$e.push(Ze.getUid())}),_e.map(function(Ze){pt.push(Ze)}));var mt={};A.isFalsy(Me)||(mt=d(d({},mt),{admins:Me})),A.isFalsy($e)||(mt=d(d({},mt),{participants:$e})),A.isFalsy(Fe)||(mt=d(d({},mt),{moderators:Fe})),A.isFalsy(pt)||(mt=d(d({},mt),{usersToBan:pt})),P.makeApiCall("addMemebersToGroup",{guid:H},mt).then(function(Ze){var Ot={};Object.keys(Ze.data.admins).map(function(wt){Ot[wt]=Ze.data.admins[wt][S.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.SUCCESS]?S.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.SUCCESS:Ze.data.admins[wt][S.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.ERROR][S.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.MESSAGE]}),Object.keys(Ze.data.participants).map(function(wt){Ot[wt]=Ze.data.participants[wt][S.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.SUCCESS]?S.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.SUCCESS:Ze.data.participants[wt][S.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.ERROR][S.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.MESSAGE]}),Object.keys(Ze.data.moderators).map(function(wt){Ot[wt]=Ze.data.moderators[wt][S.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.SUCCESS]?S.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.SUCCESS:Ze.data.moderators[wt][S.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.ERROR][S.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.MESSAGE]}),Object.keys(Ze.data.usersToBan).map(function(wt){Ot[wt]=Ze.data.usersToBan[wt][S.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.SUCCESS]?S.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.SUCCESS:Ze.data.usersToBan[wt][S.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.ERROR][S.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.MESSAGE]}),zt(Ot)},function(Ze){ge(new I.CometChatException(Ze.error))})}catch(Ze){ge(new I.CometChatException(Ze))}})},K.transferGroupOwnership=function(H,ye){return new Promise(function(_e,Me){try{var Fe=A.validateId(H,"group");if(Fe instanceof I.CometChatException)return void Me(Fe);var $e=A.validateId(ye,"user");if($e instanceof I.CometChatException)return void Me($e);P.makeApiCall("transferOwnership",{guid:H},{owner:ye}).then(function(pt){_e(pt&&pt.data&&pt.data.message?pt.data.message:"Ownership transferred to user "+ye+" for the group with guid "+H+".")},function(pt){Me(new I.CometChatException(pt.error))})}catch(pt){Me(new I.CometChatException(pt))}})},K.createGroupWithMembers=function(H,ye,_e){var Me=[],Fe=[],$e=[],pt=[];return new Promise(function(zt,ge){try{var Te=A.validateCreateGroup(H);if(Te instanceof I.CometChatException)return void ge(Te);if(ye&&0<ye.length){var Pe=A.validateArray(ye,"groupMembers");if(Pe instanceof I.CometChatException)return void ge(Pe);ye.map(function(Ze){Ze.getScope()===S.GROUP_MEMBER_SCOPE.ADMIN&&Me.push(Ze.getUid()),Ze.getScope()===S.GROUP_MEMBER_SCOPE.MODERATOR&&Fe.push(Ze.getUid()),Ze.getScope()===S.GROUP_MEMBER_SCOPE.PARTICIPANT&&$e.push(Ze.getUid())})}if(_e&&0<_e.length){var Rt=A.validateArray(_e,"bannedMembers");if(Rt instanceof I.CometChatException)return void ge(Rt);_e.map(function(Ze){pt.push(Ze)})}var mt={};mt=d({},H),A.isFalsy(Me)||(mt.members=d(d({},mt.members),{admins:Me})),A.isFalsy($e)||(mt.members=d(d({},mt.members),{participants:$e})),A.isFalsy(Fe)||(mt.members=d(d({},mt.members),{moderators:Fe})),A.isFalsy(pt)||(mt.members=d(d({},mt.members),{usersToBan:pt})),P.makeApiCall("createGroup",{},mt).then(function(Ze){var Ot={members:{}},wt=Ze.data.members.data?Ze.data.members.data:{admins:{},moderators:{},participants:{},usersToBan:{}};Object.keys(wt.admins).map(function(hn){Ot.members[hn]=wt.admins[hn][S.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.SUCCESS]?S.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.SUCCESS:wt.admins[hn][S.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.ERROR][S.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.MESSAGE]}),Object.keys(wt.participants).map(function(hn){Ot.members[hn]=wt.participants[hn][S.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.SUCCESS]?S.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.SUCCESS:wt.participants[hn][S.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.ERROR][S.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.MESSAGE]}),Object.keys(wt.moderators).map(function(hn){Ot.members[hn]=wt.moderators[hn][S.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.SUCCESS]?S.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.SUCCESS:wt.moderators[hn][S.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.ERROR][S.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.MESSAGE]}),Object.keys(wt.usersToBan).map(function(hn){Ot.members[hn]=wt.usersToBan[hn][S.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.SUCCESS]?S.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.SUCCESS:wt.usersToBan[hn][S.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.ERROR][S.ResponseConstants.RESPONSE_KEYS.GROUP_MEMBERS_RESPONSE.MESSAGE]}),delete Ze.data.members;var Xt=ue.GroupsController.trasformJSONGroup(Ze.data);Xt.setHasJoined(!0),Ot=d(d({},Ot),{group:Xt}),zt(Ot)},function(Ze){ge(new I.CometChatException(Ze.error))})}catch(Ze){ge(new I.CometChatException(Ze))}})},K.initiateCall=function(H){var ye=this;return new Promise(function(_e,Me){var Fe=ye.getActiveCall();if(null===Fe)try{A.isFalsy(JSON.parse(JSON.stringify(H)).sender)?A.isFalsy(Fe)?(H.setStatus(S.CallConstants.CALL_STATUS.INITIATED),H.receiver=H.receiverId.toString(),delete H.receiverId,P.makeApiCall("createCallSession",{},H).then(function($e){var pt=Q.MessageController.trasformJSONMessge($e[S.ResponseConstants.RESPONSE_KEYS.KEY_DATA]);Se.CallController.getInstance().initiateCall(pt).then(function(zt){_e(pt)}).catch(function(zt){Me(new I.CometChatException(zt))})},function($e){Me(new I.CometChatException($e.error))})):Me(new I.CometChatException(S.CALL_ERROR.ERROR_IN_CALLING)):Se.CallController.getInstance().initiateCall(H).then(function($e){_e(Object.assign(H))}).catch(function($e){Me(new I.CometChatException($e))})}catch($e){Me(new I.CometChatException($e))}else Me(new I.CometChatException(S.CALL_ERROR.CALL_ALREADY_INITIATED))})},K.acceptCall=function(H){var ye=this;return new Promise(function(_e,Me){if(null===ye.getActiveCall())try{var Fe={};Fe[S.CallConstants.CALL_KEYS.CALL_STATUS]=S.CallConstants.CALL_STATUS.ONGOING,P.makeApiCall("updateCallSession",{sessionid:H},Fe).then(function($e){var pt=Q.MessageController.trasformJSONMessge($e[S.ResponseConstants.RESPONSE_KEYS.KEY_DATA]);Se.CallController.getInstance().onCallStarted(pt),_e(pt)},function($e){Me(new I.CometChatException($e.error))})}catch($e){Me(new I.CometChatException($e))}else Me(new I.CometChatException(S.CALL_ERROR.CANNOT_ACCEPT_CALL))})},K.rejectCall=function(H,ye){try{switch(ye){case S.CallConstants.CALL_STATUS.REJECTED:return this.rejectIncomingCall(H);case S.CallConstants.CALL_STATUS.CANCELLED:return this.cancelCall(H);case S.CallConstants.CALL_STATUS.BUSY:return this.sendBusyResponse(H);default:return this.endCall(H,!0)}}catch(_e){A.Logger.error("CometChat: rejectCall",_e)}},K.endCall=function(H,ye){var _e=this;return new Promise(function(Me,Fe){A.isFalsy(ye)&&(ye=!1);var $e=_e.getActiveCall();if(null!==$e){if($e.getSessionId()===H)try{var pt={};pt[S.CallConstants.CALL_KEYS.CALL_STATUS]=S.CallConstants.CALL_STATUS.ENDED,$e.getJoinedAt()&&(pt[S.CallConstants.CALL_KEYS.CALL_JOINED_AT]=$e.getJoinedAt()),P.makeApiCall("updateCallSession",{sessionid:H},pt).then(function(zt){ye||Se.CallController.getInstance().endSession();var ge=Q.MessageController.trasformJSONMessge(zt[S.ResponseConstants.RESPONSE_KEYS.KEY_DATA]);Me(ge),Se.CallController.getInstance().getCallListner()&&Se.CallController.getInstance().getCallListner()._eventListener.onCallEnded(ge),Se.CallController.getInstance().endCall()},function(zt){A.Logger.log("calling Log",{error:zt}),ye||Se.CallController.getInstance().endSession(),$e.setStatus(S.CallConstants.CALL_STATUS.ENDED),Me($e),Se.CallController.getInstance().getCallListner()&&Se.CallController.getInstance().getCallListner()._eventListener.onCallEnded($e),Se.CallController.getInstance().endCall()})}catch(zt){Fe(new I.CometChatException(zt))}}else ye||Se.CallController.getInstance().endSession(),Me(null),Se.CallController.getInstance().getCallListner()&&Se.CallController.getInstance().getCallListner()._eventListener.onCallEnded(null),Se.CallController.getInstance().endCall()})},K.getActiveCall=function(){try{return Se.CallController.getInstance().getActiveCall()}catch(H){A.Logger.error("CometChat: getActiveCall",H)}},K.startCall=function(H,ye,_e){var Me=this;try{var Fe,$e,pt,zt,ge,Te,Pe,Rt,mt,Ze,Ot=this.getActiveCall(),wt=!1,an=!0,Xt=!0,hn=!0,$n=!0,Nn=!0,ar=!0,rr=!1,Ht=!1,Et=S.CallConstants.CALL_MODE.DEFAULT,Yt=!1,Mt=!1,ot=!1,_t=!0,we=!0,ke={},st=this.user;zt=(new kt.VirtualBackgroundBuilder).build(),ge=new kt.MainVideoContainerSetting,A.getAppSettings().then(function(jt){if(Rt=jt[S.APP_SETTINGS.KEYS.WEBRTC_HOST],ke[S.APP_SETTINGS.KEYS.ANALYTICS_HOST]=jt[S.APP_SETTINGS.KEYS.ANALYTICS_HOST],ke[S.APP_SETTINGS.KEYS.ANALYTICS_VERSION]=jt[S.APP_SETTINGS.KEYS.ANALYTICS_VERSION],ke[S.APP_SETTINGS.KEYS.ANALYTICS_PING_DISABLED]=jt[S.APP_SETTINGS.KEYS.ANALYTICS_PING_DISABLED],ke[S.APP_SETTINGS.KEYS.ANALYTICS_USE_SSL]=jt[S.APP_SETTINGS.KEYS.ANALYTICS_USE_SSL],Te=jt[S.APP_SETTINGS.KEYS.REGION],A.isFalsy(_e)||Se.CallController.getInstance().setCallListner(_e),A.isFalsy(Me.appSettings))Se.CallController.getInstance().getCallListner()&&Se.CallController.getInstance().getCallListner()._eventListener.onError(new I.CometChatException(S.CALL_ERROR.NOT_INITIALIZED));else if(Te)if(st)if((Ze=new _n.RTCUser(st.getUid())).setName(st.getName()),Ze.setAvatar(st.getAvatar()),Ze.setResource(K.getSessionId()),K.appId)if(Pe=K.appId,"string"==typeof H){if(Ot){var Pt=Ot.getType();wt=Pt===S.CallConstants.CALL_TYPE.AUDIO,$e=Ot.getSessionId()}else{if(A.isFalsy(H))return void(Se.CallController.getInstance().getCallListner()&&Se.CallController.getInstance().getCallListner()._eventListener.onError(new I.CometChatException(S.CALL_ERROR.SESSION_ID_REQUIRED)));$e=("v1."+Te+"."+K.getAppId()+"."+H).toLowerCase()}if(!$e)return void(Se.CallController.getInstance().getCallListner()&&Se.CallController.getInstance().getCallListner()._eventListener.onError(new I.CometChatException(S.CALL_ERROR.SESSION_ID_REQUIRED)));_t=!!wt;var ht={uid:st.getUid(),sessionId:$e};K.getJWT(ht).then(function(Bt){Bt.hasOwnProperty("token")?(Ze.setJWT(Bt.token),Fe=(new kt.CallSettingsBuilder).setSessionID($e).enableDefaultLayout(an).setIsAudioOnlyCall(wt).setUser(Ze).setRegion(Te).setAppId(Pe).setDomain(Rt).showEndCallButton($n).showMuteAudioButton(hn).showPauseVideoButton(Xt).showScreenShareButton(Nn).showModeButton(ar).setMode(Et).setAnalyticsSettings(ke).startWithAudioMuted(rr).startWithVideoMuted(Ht).showRecordingButton(Yt).startRecordingOnCallStart(Mt).forceLegacyUI(ot).showSwitchToVideoCallButton(_t).setVirtualBackground(zt).showVirtualBackgroundSetting(we).setMainVideoContainerSetting(ge).build(),Se.CallController.getInstance().startCall(Fe,ye)):Se.CallController.getInstance().getCallListner()&&Se.CallController.getInstance().getCallListner()._eventListener.onError(new I.CometChatException(S.CALL_ERROR.JWT_NOT_FOUND))},function(Bt){Se.CallController.getInstance().getCallListner()&&Se.CallController.getInstance().getCallListner()._eventListener.onError(new I.CometChatException(Bt))})}else{if(A.isFalsy(H))return void(Se.CallController.getInstance().getCallListner()&&Se.CallController.getInstance().getCallListner()._eventListener.onError(new I.CometChatException(S.CALL_ERROR.CALL_SETTINGS_REQUIRED)));if(Ot)Pt=Ot.getType(),wt=Pt===S.CallConstants.CALL_TYPE.AUDIO,$e=Ot.getSessionId();else{if(wt=H.isAudioOnlyCall(),A.isFalsy(H.getSessionId()))return void(Se.CallController.getInstance().getCallListner()&&Se.CallController.getInstance().getCallListner()._eventListener.onError(new I.CometChatException(S.CALL_ERROR.SESSION_ID_REQUIRED)));$e=("v1."+Te+"."+K.getAppId()+"."+H.getSessionId()).toLowerCase()}if(!$e)return void(Se.CallController.getInstance().getCallListner()&&Se.CallController.getInstance().getCallListner()._eventListener.onError(new I.CometChatException(S.CALL_ERROR.SESSION_ID_REQUIRED)));an=H.isDefaultLayoutEnabled(),Xt=H.isPauseVideoButtonEnabled(),hn=H.isMuteAudioButtonEnabled(),$n=H.isEndCallButtonEnabled(),Nn=H.isScreenShareButtonEnabled(),Et=H.getMode(),mt=H.getLocalizedStringObject(),pt=H.getCustomCSS(),ar=H.isModeButtonEnabled(),rr=H.getStartWithAudioMuted(),Ht=H.getStartWithVideoMuted(),Yt=H.isRecordingButtonEnabled(),Mt=H.shouldStartRecordingOnCallStart(),ot=H.shouldUseLegacyUI(),_t=!!wt&&H.isAudioToVideoButtonEnabled(),zt=H.getVirtualBackground(),we=H.isVirtualBackgroundSettingEnabled(),ge=H.getMainVideoContainerSetting(),ht={uid:st.getUid(),sessionId:$e},K.getJWT(ht).then(function(Bt){Bt.hasOwnProperty("token")?(Ze.setJWT(Bt.token),Fe=(new kt.CallSettingsBuilder).setSessionID($e).enableDefaultLayout(an).setIsAudioOnlyCall(wt).setUser(Ze).setRegion(Te).setAppId(Pe).setDomain(Rt).showEndCallButton($n).showMuteAudioButton(hn).showPauseVideoButton(Xt).showScreenShareButton(Nn).showModeButton(ar).setMode(Et).setLocalizedStringObject(mt).setCustomCSS(pt).setAnalyticsSettings(ke).startWithAudioMuted(rr).startWithVideoMuted(Ht).showRecordingButton(Yt).startRecordingOnCallStart(Mt).forceLegacyUI(ot).showSwitchToVideoCallButton(_t).setVirtualBackground(zt).showVirtualBackgroundSetting(we).setMainVideoContainerSetting(ge).build(),Se.CallController.getInstance().startCall(Fe,ye)):Se.CallController.getInstance().getCallListner()&&Se.CallController.getInstance().getCallListner()._eventListener.onError(new I.CometChatException(S.CALL_ERROR.JWT_NOT_FOUND))},function(Bt){Se.CallController.getInstance().getCallListner()&&Se.CallController.getInstance().getCallListner()._eventListener.onError(new I.CometChatException(Bt))})}else Se.CallController.getInstance().getCallListner()&&Se.CallController.getInstance().getCallListner()._eventListener.onError(new I.CometChatException(S.CALL_ERROR.NOT_INITIALIZED));else Se.CallController.getInstance().getCallListner()&&Se.CallController.getInstance().getCallListner()._eventListener.onError(new I.CometChatException(S.CALL_ERROR.NOT_LOGGED_IN));else Se.CallController.getInstance().getCallListner()&&Se.CallController.getInstance().getCallListner()._eventListener.onError(new I.CometChatException(S.CALL_ERROR.NOT_INITIALIZED))},function(jt){A.Logger.error("CometChat: startCall",jt)})}catch(jt){A.Logger.error("CometChat: startCall",jt)}},K.getCallParticipantCount=function(H,ye){return new Promise(function(_e,Me){try{A.getAppSettings().then(function(Fe){if(A.isFalsy(H))return Me(new I.CometChatException(S.ProsodyApiErrors.INVALID_SESSIONID));if(A.isFalsy(ye))return Me(new I.CometChatException(S.ProsodyApiErrors.INVALID_TYPE));var $e=Fe[S.APP_SETTINGS.KEYS.REGION],pt={},zt=Fe[S.APP_SETTINGS.KEYS.WEBRTC_HOST],ge=Fe[S.APP_SETTINGS.KEYS.WEBRTC_API_SUBDOMAIN],Te=A.format((new N.EndpointFactory).prosodyApi,ge,zt,S.PROSODY_API.PATH.ROOM_SIZE);"direct"===ye.toLowerCase()&&(H=("v1."+$e+"."+K.getAppId()+"."+H).toLowerCase()),pt[S.PROSODY_API.QUERY_PARAMETERS.DOMAIN]=zt,pt[S.PROSODY_API.QUERY_PARAMETERS.ROOM]=H,P.postData(Te,"GET",pt,{},!1).then(function(Pe){return Pe.text()}).then(function(Pe){var Rt=Pe?JSON.parse(Pe):{};return Rt.hasOwnProperty(S.PROSODY_API.RESPONSE.PARTICIPANTS)?_e(Rt[S.PROSODY_API.RESPONSE.PARTICIPANTS]):_e(0)}).catch(function(){return Me({error:Re.FETCH_ERROR.ERROR_IN_API_CALL})})},function(Fe){return Me(new I.CometChatException(Fe))})}catch(Fe){return Me(new I.CometChatException(Fe))}})},K.rejectIncomingCall=function(H){return new Promise(function(ye,_e){try{var Me={};Me[S.CallConstants.CALL_KEYS.CALL_STATUS]=S.CallConstants.CALL_STATUS.REJECTED,P.makeApiCall("updateCallSession",{sessionid:H},Me).then(function(Fe){var $e=Q.MessageController.trasformJSONMessge(Fe[S.ResponseConstants.RESPONSE_KEYS.KEY_DATA]);ye($e)},function(Fe){_e(new I.CometChatException(Fe.error))})}catch(Fe){_e(new I.CometChatException(Fe))}})},K.cancelCall=function(H){var ye=this;return new Promise(function(_e,Me){try{var Fe={};Fe[S.CallConstants.CALL_KEYS.CALL_STATUS]=S.CallConstants.CALL_STATUS.CANCELLED,P.makeApiCall("updateCallSession",{sessionid:H},Fe).then(function($e){var pt=Q.MessageController.trasformJSONMessge($e[S.ResponseConstants.RESPONSE_KEYS.KEY_DATA]);ye.getActiveCall().getSessionId()===H&&Se.CallController.getInstance().endCallSession(),_e(pt)},function($e){Me(new I.CometChatException($e.error))})}catch($e){Me(new I.CometChatException($e))}})},K.sendBusyResponse=function(H){return new Promise(function(ye,_e){try{var Me={};Me[S.CallConstants.CALL_KEYS.CALL_STATUS]=S.CallConstants.CALL_STATUS.BUSY,P.makeApiCall("updateCallSession",{sessionid:H},Me).then(function(Fe){var $e=Q.MessageController.trasformJSONMessge(Fe[S.ResponseConstants.RESPONSE_KEYS.KEY_DATA]);ye($e)},function(Fe){_e(new I.CometChatException(Fe.error))})}catch(Fe){_e(new I.CometChatException(Fe))}})},K.sendUnansweredResponse=function(H){return new Promise(function(ye,_e){try{var Me={};Me[S.CallConstants.CALL_KEYS.CALL_STATUS]=S.CallConstants.CALL_STATUS.UNANSWERED,P.makeApiCall("updateCallSession",{sessionid:H},Me).then(function(Fe){var $e=Q.MessageController.trasformJSONMessge(Fe[S.ResponseConstants.RESPONSE_KEYS.KEY_DATA]);bn.publishCallMessage($e),ye($e)},function(Fe){_e(new I.CometChatException(Fe.error))})}catch(Fe){_e(new I.CometChatException(Fe))}})},K.addConnectionListener=function(H,ye){try{jn.addConnectionEventListener(H,ye)}catch(_e){A.Logger.error("CometChat: addConnectionListener",_e)}},K.removeConnectionListener=function(H){try{jn.removeConnectionEventListener(H)}catch(ye){A.Logger.error("CometChat: removeConnectionListener",ye)}},K.addMessageListener=function(H,ye){try{jn.addMessageEventListener(H,ye)}catch(_e){A.Logger.error("CometChat: addMessageListener",_e)}},K.removeMessageListener=function(H){try{jn.removeMessageEventListener(H)}catch(ye){A.Logger.error("CometChat: removeMessageListener",ye)}},K.addCallListener=function(H,ye){try{jn.addCallEventListener(H,ye)}catch(_e){A.Logger.error("CometChat: addCallListener",_e)}},K.removeCallListener=function(H){try{jn.removeCallEventListener(H)}catch(ye){A.Logger.error("CometChat: removeCallListener",ye)}},K.addUserListener=function(H,ye){try{jn.addUserEventListener(H,ye)}catch(_e){A.Logger.error("CometChat: addUserListener",_e)}},K.removeUserListener=function(H){try{jn.removeUserEventListener(H)}catch(ye){A.Logger.error("CometChat: removeUserListener",ye)}},K.addGroupListener=function(H,ye){try{jn.addGroupEventListener(H,ye)}catch(_e){A.Logger.error("CometChat: addGroupListener",_e)}},K.removeGroupListener=function(H){try{jn.removeGroupEventListener(H)}catch(ye){A.Logger.error("CometChat: removeGroupListener",ye)}},K.addLoginListener=function(H,ye){try{jn.addLoginEventListener(H,ye)}catch(_e){A.Logger.error("CometChat: addLoginListener",_e)}},K.removeLoginListener=function(H){try{jn.removeLoginEventListener(H)}catch(ye){A.Logger.error("CometChat: removeLoginListener",ye)}},K.generateAuthToken=function(H){var ye=this;return new Promise(function(_e,Me){try{var $e="",pt="",zt=S.APPINFO.platform,ge=S.APPINFO.sdkVersion,Te=S.APPINFO.apiVersion;navigator&&(pt=navigator.userAgent),K.keyStore.get(S.LOCAL_STORE.KEY_DEVICE_ID).then(function(Pe){if(null==($e=Pe)){var Rt=Qn(),mt=(new Date).getTime();K.keyStore.set(S.LOCAL_STORE.KEY_DEVICE_ID,$e=ye.appId+"_"+Rt+"_"+mt)}P.makeApiCall("authToken",{uid:H},{platform:zt,deviceId:$e,appInfo:{version:ge,apiVersion:Te,userAgent:pt}}).then(function(Ze){_e(Ze.data)}).catch(function(Ze){Me(new I.CometChatException(Ze.error))})},function(Pe){A.Logger.error("Got error while fetching data from key store",Pe)})}catch(Pe){Me(new I.CometChatException(Pe))}})},K.tryReconnectingToWS=function(){K.WSReconnectionInProgress||K.startWSReconnectionTimer()},K.prototype.makeWSConnection=function(){K.WSLogin(K.user)},K.prototype.accidentallyDisconnected=function(){K.currentConnectionStatus=S.CONNECTION_STATUS.CONNECTING,jn.connectionHandlers.map(function(H){try{H._eventListener&&(A.isFalsy(H._eventListener.inConnecting)||H._eventListener.inConnecting())}catch(ye){A.Logger.error("ConnectionHandlers: inConnecting Status",ye)}}),K.tryReconnectingToWS()},K.WSLogin=function(H){var ye=this;bn.connection?A.Logger.error("CometChat :: WSLogin",bn.connection):bn.WSLogin(H.getJWT(),function(_e){switch(_e){case sn.READY_STATE.CONNECTING:(Me=K.getConnectionStatus())==S.CONNECTION_STATUS.DISCONNECTED&&(ye.currentConnectionStatus=S.CONNECTION_STATUS.CONNECTING,jn.connectionHandlers.map(function(Fe){try{Fe._eventListener&&(A.isFalsy(Fe._eventListener.inConnecting)||Fe._eventListener.inConnecting())}catch($e){A.Logger.error("connectionHandlers: Connecting Status",$e)}}));break;case sn.READY_STATE.OPEN:(Me=K.getConnectionStatus())==S.CONNECTION_STATUS.CONNECTING&&(ye.currentConnectionStatus=S.CONNECTION_STATUS.CONNECTED,jn.connectionHandlers.map(function(Fe){try{Fe._eventListener&&(A.isFalsy(Fe._eventListener.onConnected)||Fe._eventListener.onConnected())}catch($e){A.Logger.error("connectionHandlers: Connected Status",$e)}})),K.WSReconnectionInProgress&&K.clearWSReconnectionTimer();break;case sn.READY_STATE.CLOSING:break;case sn.READY_STATE.CLOSED:var Me;(Me=K.getConnectionStatus())!==S.CONNECTION_STATUS.DISCONNECTED&&Me!==S.CONNECTION_STATUS.CONNECTING&&(ye.currentConnectionStatus=S.CONNECTION_STATUS.DISCONNECTED,jn.connectionHandlers.map(function(Fe){try{Fe._eventListener&&(A.isFalsy(Fe._eventListener.onDisconnected)||Fe._eventListener.onDisconnected())}catch($e){A.Logger.error("connectionHandlers: Disconnected Status",$e)}})),bn.connection&&(bn.connection=null),K.isLoggedOut||K.disconnectedByUser||ye.tryReconnectingToWS()}})},K.pingAnalytics=function(){var H=this;try{K.keyStore.get("deviceId").then(function(ye){A.getAppSettings().then(function(_e){var Me=null;window&&window.location&&window.location.origin&&(Me=window.location.origin);var Fe="",$e=ye,pt={version:S.SDKHeader.sdkVersion,apiVersion:_e[S.APP_SETTINGS.KEYS.CHAT_API_VERSION],origin:Me,uts:(new Date).getTime()};A.isFalsy(H.resource)||(pt.resource=H.resource),A.isFalsy(H.platform)||(pt.platform=H.platform),A.isFalsy(H.language)||(pt.language=H.language),navigator&&(Fe=navigator.userAgent);var zt={appInfo:pt,uid:K.user.getUid(),userAgent:Fe,deviceId:$e,platform:S.SDKHeader.platform};A.isFalsy(K.getSessionId())||(zt.wsId=K.getSessionId());var ge="https://"+_e[S.APP_SETTINGS.KEYS.ANALYTICS_HOST]+"/"+_e[S.APP_SETTINGS.KEYS.ANALYTICS_VERSION]+"/ping",Te={appId:K.appId,sdk:A.format(S.SDKHeader.sdk,S.SDKHeader.platform,S.SDKHeader.sdkVersion),"Content-Type":"application/json"};K.settingsHash&&(Te.settingsHash=K.settingsHash),K.settingsHashReceivedAt&&(Te.settingsHashReceivedAt=K.settingsHashReceivedAt),K.jwt&&(Te.Authorization="Bearer "+K.jwt),K.authToken&&(Te.authToken=K.authToken),P.postData(ge,"POST",zt,Te,!1).then(function(Pe){return Pe.json()}).then(function(Pe){if(Pe.hasOwnProperty(S.ResponseConstants.RESPONSE_KEYS.KEY_DATA))A.Logger.log("Analytics Ping Request Data",Pe[S.ResponseConstants.RESPONSE_KEYS.KEY_DATA]);else if(Pe.hasOwnProperty(S.ResponseConstants.RESPONSE_KEYS.KEY_ERROR)){var Rt=Pe[S.ResponseConstants.RESPONSE_KEYS.KEY_ERROR];A.Logger.log("Analytics Ping Request Error",new I.CometChatException(Rt));var mt=Rt.code;if(mt===S.Errors.ERR_SETTINGS_HASH_OUTDATED){var Ze=K.authToken;K.getInstance().internalRestart(Ze)}mt===S.Errors.ERR_NO_AUTH&&H.updateJWT()}}).catch(function(Pe){A.Logger.error("CometChat: pingAnalytics Fetch Error",Pe)})},function(_e){A.Logger.error("CometChat: pingAnalytics getSettings Error",_e)})},function(ye){A.Logger.error("CometChat: pingAnalytics getDeviceId Error",ye)})}catch(ye){A.Logger.error("CometChat: pingAnalytics",ye)}},K.updateJWT=function(){P.makeApiCall("getMyDetails",{},{},!1).then(function(H){var ye=H.data,_e=ye.settings,Me=new F.Me(ye);if(ye.hasOwnProperty("jwt")&&ye.jwt&&(K.jwt=ye.jwt),C.LocalStorage.getInstance().set("user",Me),_e&&_e[S.APP_SETTINGS.KEYS.SETTINGS_HASH]&&K.settingsHash!==_e[S.APP_SETTINGS.KEYS.SETTINGS_HASH]){var Fe=K.getInstance().getAuthToken();K.getInstance().internalRestart(Fe)}A.Logger.log("CometChat: updateJWT response",H)},function(H){A.Logger.error("CometChat: updateJWT Fetch Error",H)}).catch(function(H){A.Logger.error("CometChat: updateJWT",H)})},K.startAnalyticsPingTimer=function(){var H=this;K.isAnalyticsPingStarted=!0,K.analyticsPingTimer=setInterval(function(){try{H.pingAnalytics()}catch(ye){A.Logger.error("CometChat: startAnalyticsPingTimer",ye)}},K.settingsInterval)},K.clearAnalyticsPingTimer=function(){try{K.isAnalyticsPingStarted=!1,clearInterval(K.analyticsPingTimer)}catch(H){A.Logger.error("CometChat: clearAnalyticsPingTimer",H)}},K.startWSReconnectionTimer=function(){K.WSReconnectionInProgress=!0,K.WSReconnectionTimer=setInterval(function(){try{K.WSLogin(K.user)}catch(H){A.Logger.error("CometChat: startWSReconnectionTimer",H)}},K.WSReconnectionTimerInterval)},K.clearWSReconnectionTimer=function(){K.WSReconnectionInProgress=!1,clearInterval(K.WSReconnectionTimer)},K.getJWT=function(H){return new Promise(function(ye,_e){try{Vn.getEndPoint("getJWT").then(function(Me){var Fe={appId:K.appId,Accept:"application/json",authToken:K.authToken,resource:K.getSessionId(),sdk:A.format(S.SDKHeader.sdk,S.SDKHeader.platform,S.SDKHeader.sdkVersion),"Content-Type":"application/json"},$e={};$e[S.JWT_API.KEYS.PASSTHROUGH]=H,P.postData(Me.endpoint,Me.method,$e,Fe,!1).then(function(pt){return pt.json()}).then(function(pt){pt.hasOwnProperty(S.ResponseConstants.RESPONSE_KEYS.KEY_DATA)?ye(pt[S.ResponseConstants.RESPONSE_KEYS.KEY_DATA]):_e(new I.CometChatException(pt.error))}).catch(function(pt){_e(new I.CometChatException({error:Re.FETCH_ERROR.ERROR_IN_API_CALL}))})},function(Me){_e(new I.CometChatException(Me))})}catch(Me){_e(new I.CometChatException(Me))}})},K.getConnectionStatus=function(){return this.currentConnectionStatus},K.prototype.setConnectionStatus=function(H){K.currentConnectionStatus=H},K.isExtensionEnabled=function(H){return new Promise(function(ye,_e){try{if(A.isFalsy(H))return _e(new I.CometChatException(S.ExtensionErrors.INVALID_EXTENSION));A.getAppSettings().then(function(Me){if(Me.extensions){var Fe=Me.extensions;if(0<Fe.length){var $e=Fe.some(function(pt){return pt.id===H});return ye($e)}return ye(!1)}return _e(new I.CometChatException(S.ExtensionErrors.EXTENSION_NOT_FOUND))},function(Me){return _e(new I.CometChatException(Me))})}catch(Me){return _e(new I.CometChatException(Me))}})},K.getExtensionDetails=function(H){return new Promise(function(ye,_e){try{if(A.isFalsy(H))return _e(new I.CometChatException(S.ExtensionErrors.INVALID_EXTENSION));A.getAppSettings().then(function(Me){if(Me.extensions){var Fe=Me.extensions;if(0<Fe.length){var $e=Fe.filter(function(zt){return zt.id===H});if(0<$e.length){var pt=new Mn.CCExtension($e[0]);return ye(pt)}return _e(new I.CometChatException(S.ExtensionErrors.EXTENSION_NOT_FOUND))}return _e(new I.CometChatException(S.ExtensionErrors.EXTENSION_NOT_FOUND))}return _e(new I.CometChatException(S.ExtensionErrors.EXTENSION_NOT_FOUND))},function(Me){return _e(new I.CometChatException(Me))})}catch(Me){return _e(new I.CometChatException(Me))}})},K.getAppSettings=function(){return new Promise(function(H,ye){try{P.makeApiCall("appSettings").then(function(_e){C.LocalStorage.getInstance().set(S.LOCAL_STORE.KEY_APP_SETTINGS,_e.data),H(_e.data)},function(_e){ye(new I.CometChatException(_e.error))})}catch(_e){ye(new I.CometChatException(_e))}})},K.isFeatureEnabled=function(H){return new Promise(function(ye,_e){try{if(A.isFalsy(H))return _e(new I.CometChatException(S.FeatureRestrictionErrors.INVALID_FEATURE));A.getAppSettings().then(function(Me){if(Me.parameters){var Fe=Me.parameters;return Fe.hasOwnProperty(H)?ye(Fe[H]):ye(!1)}return _e(new I.CometChatException(S.FeatureRestrictionErrors.FEATURE_NOT_FOUND))},function(Me){return _e(new I.CometChatException(Me))})}catch(Me){return _e(new I.CometChatException(Me))}})},K.logout=function(){var H=this;return new Promise(function(ye,_e){try{K.didAnalyticsPingStart()&&K.clearAnalyticsPingTimer(),K.WSReconnectionInProgress&&K.clearWSReconnectionTimer(),K.isLoggedOut=!0,K.WSReconnectionInProgress=!1,K.isAnalyticsDisabled=!1,P.makeApiCall("userLogout").then(function(Me){H.clearCache().then(function(){K.apiKey=void 0,K.user=void 0,K.authToken=void 0,K.cometChat=void 0,K.mode=void 0,bn.WSLogout(),K.pushToLoginListener("","Logout_Success"),ye(Me.data)})},function(Me){H.clearCache().then(function(){K.apiKey=void 0,K.user=void 0,K.authToken=void 0,K.cometChat=void 0,K.mode=void 0,bn.WSLogout(),K.pushToLoginListener("","Logout_Success"),new I.CometChatException(Me.error).code==Re.SERVER_ERRORS.AUTH_ERR.code?ye({}):_e(new I.CometChatException(Me.error))})})}catch(Me){_e(new I.CometChatException(Me))}})},K.callExtension=function(H,ye,_e,Me){return void 0===Me&&(Me={}),new Promise(function(Fe,$e){try{A.getAppSettings().then(function(pt){var zt=A.format((new N.EndpointFactory).extensionApi,H,pt[S.APP_SETTINGS.KEYS.REGION],pt[S.APP_SETTINGS.KEYS.EXTENSION_DOMAIN],_e),ge={appId:K.appId,Accept:"application/json",authToken:K.authToken,resource:K.getSessionId(),sdk:A.format(S.SDKHeader.sdk,S.SDKHeader.platform,S.SDKHeader.sdkVersion),chatApiVersion:pt[S.APP_SETTINGS.KEYS.CHAT_API_VERSION],"Content-Type":"application/json"};P.postData(zt,ye,Me,ge,!1).then(function(Te){return Te.json()}).then(function(Te){Te.hasOwnProperty(S.ResponseConstants.RESPONSE_KEYS.KEY_DATA)?Fe(Te[S.ResponseConstants.RESPONSE_KEYS.KEY_DATA]):$e(new I.CometChatException(Te.error))}).catch(function(Te){$e({error:Re.FETCH_ERROR.ERROR_IN_API_CALL})})},function(pt){return $e(new I.CometChatException(pt))})}catch(pt){return $e(new I.CometChatException(pt))}})},K.setSource=function(H,ye,_e){A.isFalsy(H)||(this.resource=H),A.isFalsy(ye)||(this.platform=ye),A.isFalsy(_e)||(this.language=_e)},K.clearCache=function(){return new Promise(function(H,ye){try{C.LocalStorage.getInstance().clearStore().then(function(){K.removeDataFromSessionStorage(S.SESSION_STORE.SESSION_ID),A.Logger.info("CometChat: clearCache => All store cleared successfully","true"),H(!0)})}catch(_e){A.Logger.error("CometChat: clearCache",_e),ye(_e)}})},K.connect=function(){K.user&&(bn.connection||(K.disconnectedByUser=!1,K.WSLogin(K.user)),K.didAnalyticsPingStart()||K.isAnalyticsDisabled||(K.pingAnalytics(),K.startAnalyticsPingTimer()))},K.disconnect=function(){K.user&&(K.disconnectedByUser=!0,bn.connection&&bn.WSLogout(),K.didAnalyticsPingStart()&&K.clearAnalyticsPingTimer())},K.prototype.internalRestart=function(H){K.internalRestart||K.getInstance().internalLogout(!1).then(function(){K.internalRestart=!0,K.login(H).then(function(ye){K.shouldConnectToWS=!0,K.internalRestart=!1},function(ye){A.Logger.error("CometChat: internalRestart :: login",ye),K.internalRestart=!1})},function(ye){A.Logger.error("CometChat: internalRestart :: internalLogout",ye)})},K.prototype.internalLogout=function(H){return void 0===H&&(H=!0),new Promise(function(ye,_e){try{K.didAnalyticsPingStart()&&K.clearAnalyticsPingTimer(),K.WSReconnectionInProgress&&K.clearWSReconnectionTimer(),K.isLoggedOut=!0,K.WSReconnectionInProgress=!1,K.isAnalyticsDisabled=!1,K.clearCache().then(function(){K.apiKey=void 0,K.user=void 0,K.authToken=void 0,K.cometChat=void 0,K.mode=void 0,bn.WSLogout(),H&&K.pushToLoginListener("","Logout_Success"),ye(!0)})}catch(Me){A.Logger.error("CometChat: internalLogout",Me),_e(Me)}})},K.initialzed=!1,K.CometChatException=I.CometChatException,K.TextMessage=j.TextMessage,K.MediaMessage=M.MediaMessage,K.CustomMessage=At.CustomMessage,K.Action=Xe.Action,K.Call=Ne.Call,K.TypingIndicator=xt.TypingIndicator,K.TransientMessage=sr.TransientMessage,K.Group=se.Group,K.User=F.User,K.GroupMember=je.GroupMember,K.Conversation=Qe.Conversation,K.USER_STATUS={ONLINE:S.PresenceConstatnts.STATUS.ONLINE,OFFLINE:S.PresenceConstatnts.STATUS.OFFLINE},K.MessagesRequest=Ye.MessagesRequest,K.MessagesRequestBuilder=Ye.MessagesRequestBuilder,K.UsersRequest=xe.UsersRequest,K.UsersRequestBuilder=xe.UsersRequestBuilder,K.ConversationsRequest=Ke.ConversationsRequest,K.ConversationsRequestBuilder=Ke.ConversationsRequestBuilder,K.BlockedUsersRequest=pe.BlockedUsersRequest,K.BlockedUsersRequestBuilder=pe.BlockedUsersRequestBuilder,K.GroupsRequest=it.GroupsRequest,K.GroupsRequestBuilder=it.GroupsRequestBuilder,K.GroupMembersRequest=We.GroupMembersRequest,K.GroupMembersRequestBuilder=We.GroupMembersRequestBuilder,K.BannedMembersRequest=Je.BannedMembersRequest,K.BannedMembersRequestBuilder=Je.BannedMembersRequestBuilder,K.CallSettings=kt.CallSettings,K.CallSettingsBuilder=kt.CallSettingsBuilder,K.MainVideoContainerSetting=kt.MainVideoContainerSetting,K.VirtualBackground=kt.VirtualBackground,K.VirtualBackgroundBuilder=kt.VirtualBackgroundBuilder,K.AppSettings=fe.AppSettings,K.AppSettingsBuilder=fe.AppSettingsBuilder,K.MessageListener=me.MessageListener,K.UserListener=me.UserListener,K.GroupListener=me.GroupListener,K.OngoingCallListener=me.OngoingCallListener,K.CallListener=me.CallListener,K.ConnectionListener=me.ConnectionListener,K.LoginListener=me.LoginListener,K.CallController=Se.CallController,K.CometChatHelper=Ie.CometChatHelper,K.Attachment=Ut.Attachment,K.MediaDevice=nr.MediaDevice,K.MESSAGE_TYPE=S.MessageConstatnts.TYPE,K.CATEGORY_MESSAGE=S.MessageConstatnts.CATEGORY.MESSAGE,K.CATEGORY_ACTION=S.MessageConstatnts.CATEGORY.ACTION,K.CATEGORY_CALL=S.MessageConstatnts.CATEGORY.CALL,K.CATEGORY_CUSTOM=S.MessageConstatnts.CATEGORY.CUSTOM,K.ACTION_TYPE=S.ActionConstatnts.ACTIONS,K.CALL_TYPE=S.CallConstants.CALL_TYPE,K.RECEIVER_TYPE=S.MessageConstatnts.RECEIVER_TYPE,K.CALL_STATUS=S.CallConstants.CALL_STATUS,K.GROUP_MEMBER_SCOPE=S.GROUP_MEMBER_SCOPE,K.GROUP_TYPE=S.GROUP_TYPE,K.MESSAGE_REQUEST=S.MessageConstatnts.PAGINATION.CURSOR_FILEDS,K.CONNECTION_STATUS=S.CONNECTION_STATUS,K.CALL_MODE=S.CallConstants.CALL_MODE,K.SORT_BY=S.UserConstants.SORT_BY,K.SORT_ORDER=S.UserConstants.SORT_ORDER,K.WSReconnectionInProgress=!1,K.WSReconnectionTimerInterval=5e3,K.currentConnectionStatus=S.CONNECTION_STATUS.DISCONNECTED,K.isConnectingFromInit=!1,K.loginInProgress=!1,K.internalRestart=!1,K.settingsInterval=6e4,K.isAnalyticsPingStarted=!1,K.isLoggedOut=!0,K.isAnalyticsDisabled=!1,K.disconnectedByUser=!1,K.shouldConnectToWS=!0,K}();y.CometChat=vn},function(ft,y,c){"use strict";var d,v=this&&this.__extends||(d=function(F,C){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,x){M.__proto__=x}||function(M,x){for(var j in x)x.hasOwnProperty(j)&&(M[j]=x[j])})(F,C)},function(F,C){function M(){this.constructor=F}d(F,C),F.prototype=null===C?Object.create(C):(M.prototype=C.prototype,new M)});y.__esModule=!0,y.Me=y.User=void 0;var w=c(2),N=c(13),A=c(1),I=function(){function F(){for(var C=[],M=0;M<arguments.length;M++)C[M]=arguments[M];if(this.hasBlockedMe=!1,this.blockedByMe=!1,this.deactivatedAt=0,1===C.length)typeof C[0]===A.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING?this.uid=C[0]:(this.uid=C[0].uid,this.name=C[0].name,C[0].authToken&&(this.authToken=C[0].authToken),C[0].avatar&&(this.avatar=C[0].avatar),C[0].lastActiveAt&&(this.lastActiveAt=C[0].lastActiveAt),C[0].link&&(this.link=C[0].link),C[0].metadata&&(this.metadata=C[0].metadata),C[0].role&&(this.role=C[0].role),C[0].statusMessage&&(this.statusMessage=C[0].statusMessage),this.status=C[0].status&&"offline"!==C[0].status?"online":"offline",C[0].tags&&(this.tags=C[0].tags),C[0].deactivatedAt&&(this.deactivatedAt=C[0].deactivatedAt));else{if(2!==C.length)throw new w.CometChatException(N.ERRORS.PARAMETER_MISSING);this.uid=C[0],this.name=C[1]}}return F.prototype.getUid=function(){return this.uid.toString()},F.prototype.setUid=function(C){this.uid=C},F.prototype.getName=function(){return this.name.toString()},F.prototype.setName=function(C){C&&(this.name=C)},F.prototype.getAuthToken=function(){return this.authToken},F.prototype.setAuthToken=function(C){this.authToken=C},F.prototype.getAvatar=function(){return this.avatar},F.prototype.setAvatar=function(C){this.avatar=C},F.prototype.getLastActiveAt=function(){return this.lastActiveAt},F.prototype.setLastActiveAt=function(C){this.lastActiveAt=C},F.prototype.getLink=function(){return this.link},F.prototype.setLink=function(C){return this.link=C},F.prototype.getMetadata=function(){return this.metadata},F.prototype.setMetadata=function(C){this.metadata=C},F.prototype.getRole=function(){return this.role},F.prototype.setRole=function(C){this.role=C},F.prototype.getStatus=function(){return this.status},F.prototype.setStatus=function(C){this.status=C},F.prototype.getStatusMessage=function(){return this.statusMessage},F.prototype.setStatusMessage=function(C){this.statusMessage=C},F.prototype.setBlockedByMe=function(C){this.blockedByMe=C},F.prototype.getBlockedByMe=function(){return this.blockedByMe},F.prototype.setHasBlockedMe=function(C){this.hasBlockedMe=C},F.prototype.getHasBlockedMe=function(){return this.hasBlockedMe},F.prototype.setTags=function(C){this.tags=C},F.prototype.getTags=function(){return this.tags},F.prototype.setDeactivatedAt=function(C){this.deactivatedAt=C},F.prototype.getDeactivatedAt=function(){return this.deactivatedAt},F}(),P=function(F){function C(M){var x=F.call(this,M)||this;return x.wsChannel=M.wsChannel,M.jwt&&(x.jwt=M.jwt),x}return v(C,F),C.prototype.getWsChannel=function(){return this.wsChannel},C.prototype.getJWT=function(){return this.jwt},C}(y.User=I);y.Me=P},function(ft,y,c){"use strict";y.__esModule=!0,y.KEYS=y.AUTH=y.MESSAGE=y.PRESENCE=y.RECEIPTS=y.TRANSIENT_MESSAGE=y.TYPING_INDICATOR=y.LOGOUT_REASON=y.LOGOUT_CODE=y.READY_STATE=y.WS=void 0,y.WS={protocol:"wss://"},y.READY_STATE={CONNECTING:0,OPEN:1,CLOSING:2,CLOSED:3,INVALID_JWT:4},y.LOGOUT_CODE=1e3,y.LOGOUT_REASON="User logged out",y.TYPING_INDICATOR={TYPE:"typing_indicator",ACTION:{STARTED:"started",ENDED:"ended"}},y.TRANSIENT_MESSAGE={TYPE:"transient_message"},y.RECEIPTS={TYPE:"receipts",ACTION:{READ:"read",DELIVERED:"delivered"},RECEIPT_TYPE:{READ_RECEIPT:"read",DELIVERY_RECEIPT:"delivery"}},y.PRESENCE={TYPE:"presence",ACTION:{ONLINE:"online",AVAILABLE:"available",OFFLINE:"offline"}},y.MESSAGE={TYPE:"message"},y.AUTH={TYPE:"auth"},y.KEYS={TYPE:"type",ACTION:"action",APP_ID:"appId",RECEIVER:"receiver",RECEIVER_TYPE:"receiverType",DEVICE_ID:"deviceId",BODY:"body",USER:"user",METADATA:"metadata",MESSAGE_ID:"messageId",TIMESTAMP:"timestamp",STATUS:"status",CODE:"code",SENDER:"sender",MESSAGE_SENDER:"messageSender",PRESENCE_SUBSCRIPTION:"presenceSubscription",AUTH:"auth",PING:"ping",DATA:"data",PARAMS:"params",ACK:"ack",PONG:"pong"}},function(ft,y,c){"use strict";y.__esModule=!0,y.postData=y.makeAdminApiCall=y.makeApiCall=void 0;var d=c(29),v=c(3),w=c(0),N=c(2),A=c(13),I=c(1);function P(F,C,M,x,j){var Q;return void 0===F&&(F=""),void 0===C&&(C="GET"),void 0===M&&(M={}),void 0===x&&(x={}),M=w.isFalsy(M)?void 0:("GET"==C&&(F+="?",Object.keys(M).map(function($,S){F=S===Object.keys(M).length-1?F+$+"="+M[$]:F+$+"="+M[$]+"&"}),M=void 0),j&&(Q=new FormData,Object.keys(M).map(function($){if("data"!=$){if("tags"==$)Q.append($+"[]",M[$]);else if("metadata"!=$)if("files"===$)for(var S=0;S<M[$].length;S++)Q.append($+"[]",M[$][S]);else Q.append($,M[$])}else Q.append($,JSON.stringify(M[$]))})),JSON.stringify(M)),fetch(F,{method:C,mode:"cors",cache:"no-cache",headers:x,redirect:"follow",referrer:"no-referrer",body:j?Q:M})}y.makeApiCall=function(F,C,M,x){void 0===F&&(F=""),void 0===C&&(C={}),void 0===M&&(M={});var j=v.CometChat.getInstance(v.CometChat.getAppId());return new Promise(function(Q,$){try{d.getEndPoint(F,C).then(function(S){var se={resource:v.CometChat.getSessionId(),appId:v.CometChat.getAppId(),Accept:"application/json",sdk:w.format(I.SDKHeader.sdk,I.SDKHeader.platform,I.SDKHeader.sdkVersion)};x||(se["Content-Type"]="application/json"),S.hasOwnProperty("isAdminApi")&&S.isAdminApi?j.getApiKey()?se.apiKey=j.getApiKey():$({error:{code:"API_KEY_NOT_SET",message:"An apiKey is needed to use the "+F+" api.",name:"API_KEY_NOT_SET"}}):j.getAuthToken()?se.authToken=j.getAuthToken():$({error:{code:"USER_NOT_LOGED_IN",message:"An authToken is need to use the "+F+" end-point. PS- We are aware of the spelling mistake, but in order to maintain backward compatibility we cannot change it :(",name:"User not logged-in"}}),P(S.endpoint,S.method,M,se,x).then(function(ue){return ue.json()}).then(function(ue){if(ue.hasOwnProperty("data"))ue.data.hasOwnProperty("authToken")&&v.CometChat.setAuthToken(ue.data.authToken),Q(ue);else{if(ue.hasOwnProperty("error")){var Be=ue.error;Be.hasOwnProperty("code")&&Be.code===I.API_ERROR_CODES.AUTH_ERR_AUTH_TOKEN_NOT_FOUND&&v.CometChat.getInstance().internalLogout().then(function(){w.Logger.log("CometChat: makeApiCall","User logged out")})}$(ue)}}).catch(function(ue){$({error:A.FETCH_ERROR.ERROR_IN_API_CALL})})}).catch(function(S){return $})}catch(S){$(new N.CometChatException(S))}})},y.makeAdminApiCall=function(F,C,M,x){void 0===F&&(F=""),void 0===C&&(C={}),void 0===M&&(M={});var j=v.CometChat.getInstance(v.CometChat.getAppId());return new Promise(function(Q,$){d.getEndPoint(F,C).then(function(S){var se={appId:v.CometChat.getAppId(),Accept:"application/json",sdk:w.format(I.SDKHeader.sdk,I.SDKHeader.platform,I.SDKHeader.sdkVersion)};x||(se["Content-Type"]="application/json"),S.hasOwnProperty("isAdminApi")&&S.isAdminApi?j.getApiKey()?se.apiKey=j.getApiKey():$({error:"An apiKey is need to use the "+F+" api."}):j.getAuthToken()?se.authToken=j.getAuthToken():$({error:"An authToken is need to use the "+F+" api."}),P(S.endpoint,S.method,M,se,x).then(function(ue){return ue.json()}).then(function(ue){ue.hasOwnProperty("data")?(ue.data.hasOwnProperty("authToken")&&v.CometChat.setAuthToken(ue.data.authToken),Q(ue)):$(ue)}).catch(function(ue){$({error:A.FETCH_ERROR.ERROR_IN_API_CALL})})}).catch(function(S){return $})})},y.postData=P},function(ft,y,c){"use strict";y.__esModule=!0,y.BaseMessage=void 0;var d=function(){function v(w,N,A,I){this.receiverId=w,this.type=N,this.receiverType=A,this.category=I}return v.prototype.getId=function(){return this.id},v.prototype.setId=function(w){this.id=w},v.prototype.getConversationId=function(){return this.conversationId},v.prototype.setConversationId=function(w){this.conversationId=w},v.prototype.getParentMessageId=function(){return this.parentMessageId},v.prototype.setParentMessageId=function(w){this.parentMessageId=w},v.prototype.getMuid=function(){return this.muid},v.prototype.setMuid=function(w){this.muid=w},v.prototype.getSender=function(){return this.sender},v.prototype.setSender=function(w){this.sender=w},v.prototype.getReceiver=function(){return this.receiver},v.prototype.setReceiver=function(w){this.receiver=w},v.prototype.getReceiverId=function(){return this.receiverId},v.prototype.setReceiverId=function(w){this.receiverId=w},v.prototype.getType=function(){return this.type},v.prototype.setType=function(w){this.type=w},v.prototype.getReceiverType=function(){return this.receiverType},v.prototype.setReceiverType=function(w){this.receiverType=w},v.prototype.getSentAt=function(){return this.sentAt},v.prototype.setSentAt=function(w){this.sentAt=w},v.prototype.getStatus=function(){return this.status},v.prototype.setStatus=function(w){this.status=w},v.prototype.getDeliveredAt=function(){return this.deliveredAt},v.prototype.setDeliveredAt=function(w){this.deliveredAt=w},v.prototype.getDeliveredToMeAt=function(){return this.deliveredToMeAt},v.prototype.setDeliveredToMeAt=function(w){this.deliveredToMeAt=w},v.prototype.getReadAt=function(){return this.readAt},v.prototype.setReadAt=function(w){this.readAt=w},v.prototype.getReadByMeAt=function(){return this.readByMeAt},v.prototype.setReadByMeAt=function(w){this.readByMeAt=w},v.prototype.getCategory=function(){return this.category},v.prototype.setCategory=function(w){this.category=w},v.prototype.getEditedAt=function(){return this.editedAt},v.prototype.setEditedAt=function(w){this.editedAt=w},v.prototype.getEditedBy=function(){return this.editedBy},v.prototype.setEditedBy=function(w){this.editedBy=w},v.prototype.getDeletedAt=function(){return this.deletedAt},v.prototype.setDeletedAt=function(w){this.deletedAt=w},v.prototype.getDeletedBy=function(){return this.deletedBy},v.prototype.setDeletedBy=function(w){this.deletedBy=w},v.prototype.getReplyCount=function(){return this.replyCount},v.prototype.setReplyCount=function(w){this.replyCount=w},v.prototype.getRawMessage=function(){return this.rawMessage},v.prototype.setRawMessage=function(w){this.rawMessage=w},v}();y.BaseMessage=d},function(ft,y,c){"use strict";y.__esModule=!0,y.Group=void 0;var d=c(1),v=function(){function w(N,A,I,P,F,C,M){this.hasJoined=!1,this.membersCount=0,this.guid=N,A&&(this.name=A),I&&(this.type=I),!P&&""!==P||"password"!=I||(this.password=P),(F||""===F)&&(this.icon=F),(C||""===C)&&(this.description=C),M&&(this.hasJoined=M)}return w.prototype.getGuid=function(){return this.guid},w.prototype.setGuid=function(N){this.guid=N},w.prototype.getName=function(){return this.name},w.prototype.setName=function(N){N&&(this.name=N)},w.prototype.getType=function(){return this.type},w.prototype.setType=function(N){this.type=N},w.prototype.getPassword=function(){return this.password},w.prototype.setPassword=function(N){this.password=N},w.prototype.getIcon=function(){return this.icon},w.prototype.setIcon=function(N){this.icon=N},w.prototype.getDescription=function(){return this.description},w.prototype.setDescription=function(N){this.description=N},w.prototype.getOwner=function(){return this.owner},w.prototype.setOwner=function(N){this.owner=N},w.prototype.getMetadata=function(){return this.metadata},w.prototype.setMetadata=function(N){this.metadata=N},w.prototype.getCreatedAt=function(){return this.createdAt},w.prototype.setCreatedAt=function(N){this.createdAt=N},w.prototype.getUpdatedAt=function(){return this.updatedAt},w.prototype.setUpdatedAt=function(N){this.updatedAt=N},w.prototype.getHasJoined=function(){return this.hasJoined},w.prototype.setHasJoined=function(N){this.hasJoined=N},w.prototype.getWsChannel=function(){return this.wsChannel},w.prototype.setWsChannel=function(N){this.wsChannel=N},w.prototype.setScope=function(N){this.scope=N},w.prototype.getScope=function(){return this.scope},w.prototype.getJoinedAt=function(){return this.joinedAt},w.prototype.setJoinedAt=function(N){this.joinedAt=N},w.prototype.getMembersCount=function(){return this.membersCount},w.prototype.setMembersCount=function(N){this.membersCount=N},w.prototype.setTags=function(N){this.tags=N},w.prototype.getTags=function(){return this.tags},w.Type=w.TYPE=d.GroupType,w}();y.Group=v},function(ft,y,c){"use strict";y.__esModule=!0,y.CometChatEvent=void 0;var d=c(0),v=c(5),w=function(){function N(A,I,P,F,C,M){d.isFalsy(A)||(this.appId=A),d.isFalsy(I)||(this.receiver=I),d.isFalsy(P)||(this.receiverType=P),d.isFalsy(C)||(this.deviceId=C),d.isFalsy(F)||(this.sender=F),d.isFalsy(M)||(this.messageSender=M)}return N.prototype.getAppId=function(){return this.appId},N.prototype.setAppId=function(A){this.appId=A},N.prototype.getReceiver=function(){return this.receiver},N.prototype.setReceiver=function(A){this.receiver=A},N.prototype.getSender=function(){return this.sender},N.prototype.setSender=function(A){this.sender=A},N.prototype.getReceiverType=function(){return this.receiverType},N.prototype.setReceiverType=function(A){this.receiverType=A},N.prototype.getType=function(){return this.type},N.prototype.setType=function(A){this.type=A},N.prototype.getDeviceId=function(){return this.deviceId},N.prototype.setDeviceId=function(A){this.deviceId=A},N.prototype.getMessageSender=function(){return this.messageSender},N.prototype.setMessageSender=function(A){this.messageSender=A},N.prototype.getCometChatEventJSON=function(){var A={};return A[v.KEYS.APP_ID]=this.getAppId(),A[v.KEYS.RECEIVER]=this.getReceiver(),A[v.KEYS.RECEIVER_TYPE]=this.getReceiverType(),A[v.KEYS.DEVICE_ID]=this.getDeviceId(),A[v.KEYS.TYPE]=this.getType(),A[v.KEYS.SENDER]=this.getSender(),d.isFalsy(this.getMessageSender())||(A[v.KEYS.MESSAGE_SENDER]=this.getMessageSender()),A},N}();y.CometChatEvent=w},function(ft,y,c){"use strict";y.__esModule=!0,y.MessageController=void 0;var d=c(7),v=c(16),w=c(17),N=c(0),A=c(1),I=c(20),P=c(21),F=c(22),C=c(2),M=c(18),x=c(19),j=c(3),Q=c(11),$=function(){function S(){}return S.trasformJSONMessge=function(se){try{var ue=null;se.hasOwnProperty("rawMessage")||(ue=JSON.parse(JSON.stringify(se)));var Be=void 0;switch(se[A.MessageConstatnts.KEYS.CATEGORY]){case A.MessageConstatnts.CATEGORY.ACTION:Be=I.Action.actionFromJSON(se);break;case A.MessageConstatnts.CATEGORY.CALL:Be=P.Call.callFromJSON(se);break;case A.MessageConstatnts.CATEGORY.MESSAGE:switch(se[A.MessageConstatnts.KEYS.TYPE]){case A.MessageConstatnts.TYPE.TEXT:Be=new v.TextMessage(se[A.MessageConstatnts.KEYS.RECEIVER],se[A.MessageConstatnts.KEYS.DATA][A.MessageConstatnts.KEYS.TEXT],se[A.MessageConstatnts.KEYS.RECEIVER_TYPE]);break;case A.MessageConstatnts.TYPE.CUSTOM:Be=new x.CustomMessage(se[A.MessageConstatnts.KEYS.RECEIVER],se[A.MessageConstatnts.KEYS.DATA][A.MessageConstatnts.KEYS.CUSTOM_DATA],se[A.MessageConstatnts.KEYS.RECEIVER_TYPE]);break;default:if(Be=new w.MediaMessage(se[A.MessageConstatnts.KEYS.RECEIVER],se[A.MessageConstatnts.KEYS.DATA][A.MessageConstatnts.KEYS.URL],se[A.MessageConstatnts.KEYS.TYPE],se[A.MessageConstatnts.KEYS.RECEIVER_TYPE]),se.hasOwnProperty(A.MessageConstatnts.KEYS.DATA)){var me=se[A.MessageConstatnts.KEYS.DATA];if(me.hasOwnProperty(A.MessageConstatnts.KEYS.ATTATCHMENTS)){var Ne,Se=me[A.MessageConstatnts.KEYS.ATTATCHMENTS];new Array,Se.map(function(Re){Ne=new M.Attachment(Re)}),Be.setAttachment(Ne)}me.hasOwnProperty(A.MessageConstatnts.KEYS.TEXT)&&Be.setCaption(me[A.MessageConstatnts.KEYS.TEXT])}Be.hasOwnProperty("file")&&delete Be.file}break;case A.MessageConstatnts.CATEGORY.CUSTOM:Be=new x.CustomMessage(se[A.MessageConstatnts.KEYS.RECEIVER],se[A.MessageConstatnts.KEYS.DATA][A.MessageConstatnts.KEYS.CUSTOM_DATA],se[A.MessageConstatnts.KEYS.RECEIVER_TYPE],se.type)}se[A.MessageConstatnts.KEYS.MY_RECEIPTS]&&(se[A.MessageConstatnts.KEYS.MY_RECEIPTS]=se[A.MessageConstatnts.KEYS.MY_RECEIPTS],Object.keys(se[A.MessageConstatnts.KEYS.MY_RECEIPTS]).map(function(Re){var Xe=new F.MessageReceipt;Re==A.DELIVERY_RECEIPTS.DELIVERED_AT&&(Xe.setReceiptType(Xe.RECEIPT_TYPE.DELIVERY_RECEIPT),Xe.setDeliveredAt(se[A.MessageConstatnts.KEYS.MY_RECEIPTS][A.DELIVERY_RECEIPTS.DELIVERED_AT]),N.isFalsy(se[A.MessageConstatnts.KEYS.MY_RECEIPTS][A.DELIVERY_RECEIPTS.RECIPIENT])?se[A.DELIVERY_RECEIPTS.DELIVERED_TO_ME_AT]=se[A.MessageConstatnts.KEYS.MY_RECEIPTS][A.DELIVERY_RECEIPTS.DELIVERED_AT]:Xe.setSender(se[A.MessageConstatnts.KEYS.MY_RECEIPTS][A.DELIVERY_RECEIPTS.RECIPIENT]),Xe.setReceiverType(se[A.MessageConstatnts.KEYS.RECEIVER_TYPE]),Xe.setReceiver(se[A.MessageConstatnts.KEYS.RECEIVER])),se[A.MessageConstatnts.KEYS.MY_RECEIPTS][A.READ_RECEIPTS.READ_AT]&&(Xe.setReceiptType(Xe.RECEIPT_TYPE.READ_RECEIPT),Xe.setReadAt(se[A.MessageConstatnts.KEYS.MY_RECEIPTS][A.READ_RECEIPTS.READ_AT]),N.isFalsy(se[A.MessageConstatnts.KEYS.MY_RECEIPTS][A.READ_RECEIPTS.RECIPIENT])?se[A.READ_RECEIPTS.READ_BY_ME_AT]=se[A.MessageConstatnts.KEYS.MY_RECEIPTS][A.READ_RECEIPTS.READ_AT]:Xe.setSender(se[A.MessageConstatnts.KEYS.MY_RECEIPTS][A.READ_RECEIPTS.RECIPIENT]),Xe.setReceiverType(se[A.MessageConstatnts.KEYS.RECEIVER_TYPE]),Xe.setReceiver(se[A.MessageConstatnts.KEYS.RECEIVER]))}));try{if(Object.assign(Be,se),(se=Be).parentId&&(se.parentMessageId=se.parentId,delete se.parentId),se instanceof d.BaseMessage&&(N.isFalsy(ue)||se.setRawMessage(ue)),se instanceof v.TextMessage)se.setSender(se.getSender()),se.setReceiver(se.getReceiver()),se.getData()[A.MessageConstatnts.KEYS.METADATA]&&se.setMetadata(se.getData()[A.MessageConstatnts.KEYS.METADATA]);else if(se instanceof w.MediaMessage)se.getData()[A.MessageConstatnts.KEYS.METADATA]&&se.setMetadata(se.getData()[A.MessageConstatnts.KEYS.METADATA]),se.setSender(se.getSender()),se.setReceiver(se.getReceiver());else if(se instanceof I.Action)se.setSender(se.getSender()),se.setReceiver(se.getActionFor()),se.setActionBy(se.getActionBy()),se.setActionOn(se.getActionOn()),se.setActionFor(se.getActionFor()),se.setMessage(se.getMessage());else if(se instanceof P.Call){try{se.setSender(se.getSender())}catch(Re){N.Logger.error("MessageController: trasformJSONMessge: setSender",Re)}try{se.setCallInitiator(se.getCallInitiator())}catch(Re){N.Logger.error("MessageController: trasformJSONMessge: setCallInitiator",Re)}try{se.setReceiver(se.getCallReceiver()),se.setCallReceiver(se.getCallReceiver())}catch(Re){N.Logger.error("MessageController: trasformJSONMessge: setCallreceiver",Re)}}else se instanceof x.CustomMessage&&(se.getData()[A.MessageConstatnts.KEYS.METADATA]&&se.setMetadata(se.getData()[A.MessageConstatnts.KEYS.METADATA]),se.setCustomData(se.getData()[A.MessageConstatnts.KEYS.CUSTOM_DATA]),se.setSubType(se.getData()[A.MessageConstatnts.KEYS.CUSTOM_SUB_TYPE]),se.setSender(se.getSender()),se.setReceiver(se.getReceiver()))}catch(Re){N.Logger.error("MessageController: trasformJSONMessge: Main",Re),se=null}return se}catch(Re){N.Logger.error("MessageController: trasformJSONMessge",Re)}},S.getReceiptsFromJSON=function(se){return new Promise(function(ue,Be){try{var me=[];j.CometChat.getLoggedInUser().then(function(Ne){N.isFalsy(se.receipts)?ue([]):(se.receipts.data.map(function(Se){var Re=new F.MessageReceipt;Se[A.DELIVERY_RECEIPTS.DELIVERED_AT]&&(Re.setReceiptType(Re.RECEIPT_TYPE.DELIVERY_RECEIPT),Re.setDeliveredAt(Se[A.DELIVERY_RECEIPTS.DELIVERED_AT]),Re.setTimestamp(Se[A.DELIVERY_RECEIPTS.DELIVERED_AT]),N.isFalsy(Se[A.DELIVERY_RECEIPTS.RECIPIENT])?Re.setSender(Ne):Re.setSender(Q.UsersController.trasformJSONUser(Se[A.DELIVERY_RECEIPTS.RECIPIENT])),Re.setReceiverType(se[A.MessageConstatnts.KEYS.RECEIVER_TYPE]),Re.setReceiver(se[A.MessageConstatnts.KEYS.RECEIVER])),Se[A.READ_RECEIPTS.READ_AT]&&(Re.setReceiptType(Re.RECEIPT_TYPE.READ_RECEIPT),Re.setReadAt(Se[A.READ_RECEIPTS.READ_AT]),Re.setTimestamp(Se[Se[A.READ_RECEIPTS.READ_AT]]),N.isFalsy(Se[A.READ_RECEIPTS.RECIPIENT])?Re.setSender(Ne):Re.setSender(Q.UsersController.trasformJSONUser(Se[A.READ_RECEIPTS.RECIPIENT])),Re.setReceiverType(se[A.MessageConstatnts.KEYS.RECEIVER_TYPE]),Re.setReceiver(se[A.MessageConstatnts.KEYS.RECEIVER])),me.push(Re)}),ue(me))})}catch(Ne){Be(new C.CometChatException(Ne))}})},S}();y.MessageController=$},function(ft,y,c){"use strict";y.__esModule=!0,y.UsersController=void 0;var d=c(4),v=c(0),w=function(){function N(){}return N.trasformJSONUser=function(A){var I;try{A.uid=A.uid.toString(),A.name=A.name.toString(),A.status=A.status&&"offline"!==A.status?"online":"offline",I=new d.User(A),Object.assign(I,A),A=I}catch(P){v.Logger.error("UsersController:transformJSONUser",P)}return A},N}();y.UsersController=w},function(ft,y,c){(function(d){ft.exports=function v(w,N,A){function I(C,M){if(!N[C]){if(!w[C]){if(P)return P(C,!0);var x=new Error("Cannot find module '"+C+"'");throw x.code="MODULE_NOT_FOUND",x}var j=N[C]={exports:{}};w[C][0].call(j.exports,function(Q){return I(w[C][1][Q]||Q)},j,j.exports,v,w,N,A)}return N[C].exports}for(var P=!1,F=0;F<A.length;F++)I(A[F]);return I}({1:[function(v,w,N){(function(A){"use strict";var I,P,F=A.MutationObserver||A.WebKitMutationObserver;if(F){var C=0,M=new F($),x=A.document.createTextNode("");M.observe(x,{characterData:!0}),I=function(){x.data=C=++C%2}}else if(A.setImmediate||void 0===A.MessageChannel)I="document"in A&&"onreadystatechange"in A.document.createElement("script")?function(){var S=A.document.createElement("script");S.onreadystatechange=function(){$(),S.onreadystatechange=null,S.parentNode.removeChild(S),S=null},A.document.documentElement.appendChild(S)}:function(){setTimeout($,0)};else{var j=new A.MessageChannel;j.port1.onmessage=$,I=function(){j.port2.postMessage(0)}}var Q=[];function $(){var S,se;P=!0;for(var ue=Q.length;ue;){for(se=Q,Q=[],S=-1;++S<ue;)se[S]();ue=Q.length}P=!1}w.exports=function(S){1!==Q.push(S)||P||I()}}).call(this,void 0!==d?d:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(v,w,N){"use strict";var A=v(1);function I(){}var P={},F=["REJECTED"],C=["FULFILLED"],M=["PENDING"];function x(ue){if("function"!=typeof ue)throw new TypeError("resolver must be a function");this.state=M,this.queue=[],this.outcome=void 0,ue!==I&&S(this,ue)}function j(ue,Be,me){this.promise=ue,"function"==typeof Be&&(this.onFulfilled=Be,this.callFulfilled=this.otherCallFulfilled),"function"==typeof me&&(this.onRejected=me,this.callRejected=this.otherCallRejected)}function Q(ue,Be,me){A(function(){var Ne;try{Ne=Be(me)}catch(Se){return P.reject(ue,Se)}Ne===ue?P.reject(ue,new TypeError("Cannot resolve promise with itself")):P.resolve(ue,Ne)})}function $(ue){var Be=ue&&ue.then;if(ue&&("object"==typeof ue||"function"==typeof ue)&&"function"==typeof Be)return function(){Be.apply(ue,arguments)}}function S(ue,Be){var me=!1;function Ne(Xe){me||(me=!0,P.reject(ue,Xe))}function Se(Xe){me||(me=!0,P.resolve(ue,Xe))}var Re=se(function(){Be(Se,Ne)});"error"===Re.status&&Ne(Re.value)}function se(ue,Be){var me={};try{me.value=ue(Be),me.status="success"}catch(Ne){me.status="error",me.value=Ne}return me}(w.exports=x).prototype.catch=function(ue){return this.then(null,ue)},x.prototype.then=function(ue,Be){if("function"!=typeof ue&&this.state===C||"function"!=typeof Be&&this.state===F)return this;var me=new this.constructor(I);return this.state!==M?Q(me,this.state===C?ue:Be,this.outcome):this.queue.push(new j(me,ue,Be)),me},j.prototype.callFulfilled=function(ue){P.resolve(this.promise,ue)},j.prototype.otherCallFulfilled=function(ue){Q(this.promise,this.onFulfilled,ue)},j.prototype.callRejected=function(ue){P.reject(this.promise,ue)},j.prototype.otherCallRejected=function(ue){Q(this.promise,this.onRejected,ue)},P.resolve=function(ue,Be){var me=se($,Be);if("error"===me.status)return P.reject(ue,me.value);var Ne=me.value;if(Ne)S(ue,Ne);else{ue.state=C,ue.outcome=Be;for(var Se=-1,Re=ue.queue.length;++Se<Re;)ue.queue[Se].callFulfilled(Be)}return ue},P.reject=function(ue,Be){ue.state=F,ue.outcome=Be;for(var me=-1,Ne=ue.queue.length;++me<Ne;)ue.queue[me].callRejected(Be);return ue},x.resolve=function(ue){return ue instanceof this?ue:P.resolve(new this(I),ue)},x.reject=function(ue){var Be=new this(I);return P.reject(Be,ue)},x.all=function(ue){var Be=this;if("[object Array]"!==Object.prototype.toString.call(ue))return this.reject(new TypeError("must be an array"));var me=ue.length,Ne=!1;if(!me)return this.resolve([]);for(var Se=new Array(me),Re=0,Xe=-1,it=new this(I);++Xe<me;)We(ue[Xe],Xe);return it;function We(Je,xe){Be.resolve(Je).then(function(Ke){Se[xe]=Ke,++Re!==me||Ne||(Ne=!0,P.resolve(it,Se))},function(Ke){Ne||(Ne=!0,P.reject(it,Ke))})}},x.race=function(ue){if("[object Array]"!==Object.prototype.toString.call(ue))return this.reject(new TypeError("must be an array"));var me=ue.length,Ne=!1;if(!me)return this.resolve([]);for(var Re=-1,Xe=new this(I);++Re<me;)this.resolve(ue[Re]).then(function(it){Ne||(Ne=!0,P.resolve(Xe,it))},function(it){Ne||(Ne=!0,P.reject(Xe,it))});return Xe}},{1:1}],3:[function(v,w,N){(function(A){"use strict";"function"!=typeof A.Promise&&(A.Promise=v(2))}).call(this,void 0!==d?d:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(v,w,N){"use strict";var A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ge){return typeof ge}:function(ge){return ge&&"function"==typeof Symbol&&ge.constructor===Symbol&&ge!==Symbol.prototype?"symbol":typeof ge},I=function(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}();function P(ge,Te){ge=ge||[],Te=Te||{};try{return new Blob(ge,Te)}catch(Ze){if("TypeError"!==Ze.name)throw Ze;for(var Rt=new(typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder),mt=0;mt<ge.length;mt+=1)Rt.append(ge[mt]);return Rt.getBlob(Te.type)}}typeof Promise>"u"&&v(3);var F=Promise;function C(ge,Te){Te&&ge.then(function(Pe){Te(null,Pe)},function(Pe){Te(Pe)})}function M(ge,Te,Pe){"function"==typeof Te&&ge.then(Te),"function"==typeof Pe&&ge.catch(Pe)}function x(ge){return"string"!=typeof ge&&(ge=String(ge)),ge}function j(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var Q="local-forage-detect-blob-support",$=void 0,S={},se=Object.prototype.toString,ue="readonly",Be="readwrite";function Ne(ge){var Te=S[ge.name],Pe={};Pe.promise=new F(function(Rt,mt){Pe.resolve=Rt,Pe.reject=mt}),Te.deferredOperations.push(Pe),Te.dbReady=Te.dbReady?Te.dbReady.then(function(){return Pe.promise}):Pe.promise}function Se(ge){var Pe=S[ge.name].deferredOperations.pop();if(Pe)return Pe.resolve(),Pe.promise}function Re(ge,Te){var Rt=S[ge.name].deferredOperations.pop();if(Rt)return Rt.reject(Te),Rt.promise}function Xe(ge,Te){return new F(function(Pe,Rt){if(S[ge.name]=S[ge.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},ge.db){if(!Te)return Pe(ge.db);Ne(ge),ge.db.close()}var mt=[ge.name];Te&&mt.push(ge.version);var Ze=I.open.apply(I,mt);Te&&(Ze.onupgradeneeded=function(Ot){var wt=Ze.result;try{wt.createObjectStore(ge.storeName),Ot.oldVersion<=1&&wt.createObjectStore(Q)}catch(an){if("ConstraintError"!==an.name)throw an}}),Ze.onerror=function(Ot){Ot.preventDefault(),Rt(Ze.error)},Ze.onsuccess=function(){var Ot=Ze.result;Ot.onversionchange=function(wt){wt.target.close()},Pe(Ot),Se(ge)}})}function it(ge){return Xe(ge,!1)}function We(ge){return Xe(ge,!0)}function Je(ge,Te){if(!ge.db)return!0;var Pe=!ge.db.objectStoreNames.contains(ge.storeName),mt=ge.version>ge.db.version;if(ge.version<ge.db.version&&(ge.version=ge.db.version),mt||Pe){if(Pe){var Ze=ge.db.version+1;Ze>ge.version&&(ge.version=Ze)}return!0}return!1}function xe(ge){return P([function(Pe){for(var Rt=Pe.length,mt=new ArrayBuffer(Rt),Ze=new Uint8Array(mt),Ot=0;Ot<Rt;Ot++)Ze[Ot]=Pe.charCodeAt(Ot);return mt}(atob(ge.data))],{type:ge.type})}function Ke(ge){return ge&&ge.__local_forage_encoded_blob}function Ye(ge){var Te=this,Pe=Te._initReady().then(function(){var Rt=S[Te._dbInfo.name];if(Rt&&Rt.dbReady)return Rt.dbReady});return M(Pe,ge,ge),Pe}function rt(ge,Te,Pe,Rt){void 0===Rt&&(Rt=1);try{var mt=ge.db.transaction(ge.storeName,Te);Pe(null,mt)}catch(Ze){if(0<Rt&&(!ge.db||"InvalidStateError"===Ze.name||"NotFoundError"===Ze.name))return F.resolve().then(function(){if(!ge.db||"NotFoundError"===Ze.name&&!ge.db.objectStoreNames.contains(ge.storeName)&&ge.version<=ge.db.version)return ge.db&&(ge.version=ge.db.version+1),We(ge)}).then(function(){return function(Ot){Ne(Ot);for(var wt=S[Ot.name],an=wt.forages,Xt=0;Xt<an.length;Xt++){var hn=an[Xt];hn._dbInfo.db&&(hn._dbInfo.db.close(),hn._dbInfo.db=null)}return Ot.db=null,it(Ot).then(function($n){return Ot.db=$n,Je(Ot)?We(Ot):$n}).then(function($n){Ot.db=wt.db=$n;for(var Nn=0;Nn<an.length;Nn++)an[Nn]._dbInfo.db=$n}).catch(function($n){throw Re(Ot,$n),$n})}(ge).then(function(){rt(ge,Te,Pe,Rt-1)})}).catch(Pe);Pe(Ze)}}var xt={_driver:"asyncStorage",_initStorage:function(ge){var Te=this,Pe={db:null};if(ge)for(var Rt in ge)Pe[Rt]=ge[Rt];var mt=S[Pe.name];mt||(S[Pe.name]=mt={forages:[],db:null,dbReady:null,deferredOperations:[]}),mt.forages.push(Te),Te._initReady||(Te._initReady=Te.ready,Te.ready=Ye);var Ze=[];function Ot(){return F.resolve()}for(var wt=0;wt<mt.forages.length;wt++){var an=mt.forages[wt];an!==Te&&Ze.push(an._initReady().catch(Ot))}var Xt=mt.forages.slice(0);return F.all(Ze).then(function(){return Pe.db=mt.db,it(Pe)}).then(function(hn){return Pe.db=hn,Je(Pe)?We(Pe):hn}).then(function(hn){Pe.db=mt.db=hn,Te._dbInfo=Pe;for(var $n=0;$n<Xt.length;$n++){var Nn=Xt[$n];Nn!==Te&&(Nn._dbInfo.db=Pe.db,Nn._dbInfo.version=Pe.version)}})},_support:function(){try{if(!I||!I.open)return!1;var ge=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),Te="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!ge||Te)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}(),iterate:function(ge,Te){var Pe=this,Rt=new F(function(mt,Ze){Pe.ready().then(function(){rt(Pe._dbInfo,ue,function(Ot,wt){if(Ot)return Ze(Ot);try{var Xt=wt.objectStore(Pe._dbInfo.storeName).openCursor(),hn=1;Xt.onsuccess=function(){var $n=Xt.result;if($n){var Nn=$n.value;Ke(Nn)&&(Nn=xe(Nn));var ar=ge(Nn,$n.key,hn++);void 0!==ar?mt(ar):$n.continue()}else mt()},Xt.onerror=function(){Ze(Xt.error)}}catch($n){Ze($n)}})}).catch(Ze)});return C(Rt,Te),Rt},getItem:function(ge,Te){var Pe=this;ge=x(ge);var Rt=new F(function(mt,Ze){Pe.ready().then(function(){rt(Pe._dbInfo,ue,function(Ot,wt){if(Ot)return Ze(Ot);try{var Xt=wt.objectStore(Pe._dbInfo.storeName).get(ge);Xt.onsuccess=function(){var hn=Xt.result;void 0===hn&&(hn=null),Ke(hn)&&(hn=xe(hn)),mt(hn)},Xt.onerror=function(){Ze(Xt.error)}}catch(hn){Ze(hn)}})}).catch(Ze)});return C(Rt,Te),Rt},setItem:function(ge,Te,Pe){var Rt=this;ge=x(ge);var mt=new F(function(Ze,Ot){var wt;Rt.ready().then(function(){return wt=Rt._dbInfo,"[object Blob]"===se.call(Te)?function me(ge){return"boolean"==typeof $?F.resolve($):(Te=ge,new F(function(Pe){var Rt=Te.transaction(Q,Be),mt=P([""]);Rt.objectStore(Q).put(mt,"key"),Rt.onabort=function(Ze){Ze.preventDefault(),Ze.stopPropagation(),Pe(!1)},Rt.oncomplete=function(){var Ze=navigator.userAgent.match(/Chrome\/(\d+)/),Ot=navigator.userAgent.match(/Edge\//);Pe(Ot||!Ze||43<=parseInt(Ze[1],10))}}).catch(function(){return!1})).then(function(Pe){return $=Pe});var Te}(wt.db).then(function(an){return an?Te:(Xt=Te,new F(function(hn,$n){var Nn=new FileReader;Nn.onerror=$n,Nn.onloadend=function(ar){var rr=btoa(ar.target.result||"");hn({__local_forage_encoded_blob:!0,data:rr,type:Xt.type})},Nn.readAsBinaryString(Xt)}));var Xt}):Te}).then(function(an){rt(Rt._dbInfo,Be,function(Xt,hn){if(Xt)return Ot(Xt);try{var $n=hn.objectStore(Rt._dbInfo.storeName);null===an&&(an=void 0);var Nn=$n.put(an,ge);hn.oncomplete=function(){void 0===an&&(an=null),Ze(an)},hn.onabort=hn.onerror=function(){Ot(Nn.error?Nn.error:Nn.transaction.error)}}catch(ar){Ot(ar)}})}).catch(Ot)});return C(mt,Pe),mt},removeItem:function(ge,Te){var Pe=this;ge=x(ge);var Rt=new F(function(mt,Ze){Pe.ready().then(function(){rt(Pe._dbInfo,Be,function(Ot,wt){if(Ot)return Ze(Ot);try{var Xt=wt.objectStore(Pe._dbInfo.storeName).delete(ge);wt.oncomplete=function(){mt()},wt.onerror=function(){Ze(Xt.error)},wt.onabort=function(){Ze(Xt.error?Xt.error:Xt.transaction.error)}}catch(hn){Ze(hn)}})}).catch(Ze)});return C(Rt,Te),Rt},clear:function(ge){var Te=this,Pe=new F(function(Rt,mt){Te.ready().then(function(){rt(Te._dbInfo,Be,function(Ze,Ot){if(Ze)return mt(Ze);try{var an=Ot.objectStore(Te._dbInfo.storeName).clear();Ot.oncomplete=function(){Rt()},Ot.onabort=Ot.onerror=function(){mt(an.error?an.error:an.transaction.error)}}catch(Xt){mt(Xt)}})}).catch(mt)});return C(Pe,ge),Pe},length:function(ge){var Te=this,Pe=new F(function(Rt,mt){Te.ready().then(function(){rt(Te._dbInfo,ue,function(Ze,Ot){if(Ze)return mt(Ze);try{var an=Ot.objectStore(Te._dbInfo.storeName).count();an.onsuccess=function(){Rt(an.result)},an.onerror=function(){mt(an.error)}}catch(Xt){mt(Xt)}})}).catch(mt)});return C(Pe,ge),Pe},key:function(ge,Te){var Pe=this,Rt=new F(function(mt,Ze){ge<0?mt(null):Pe.ready().then(function(){rt(Pe._dbInfo,ue,function(Ot,wt){if(Ot)return Ze(Ot);try{var an=wt.objectStore(Pe._dbInfo.storeName),Xt=!1,hn=an.openKeyCursor();hn.onsuccess=function(){var $n=hn.result;$n?0===ge||Xt?mt($n.key):(Xt=!0,$n.advance(ge)):mt(null)},hn.onerror=function(){Ze(hn.error)}}catch($n){Ze($n)}})}).catch(Ze)});return C(Rt,Te),Rt},keys:function(ge){var Te=this,Pe=new F(function(Rt,mt){Te.ready().then(function(){rt(Te._dbInfo,ue,function(Ze,Ot){if(Ze)return mt(Ze);try{var an=Ot.objectStore(Te._dbInfo.storeName).openKeyCursor(),Xt=[];an.onsuccess=function(){var hn=an.result;hn?(Xt.push(hn.key),hn.continue()):Rt(Xt)},an.onerror=function(){mt(an.error)}}catch(hn){mt(hn)}})}).catch(mt)});return C(Pe,ge),Pe},dropInstance:function(ge,Te){Te=j.apply(this,arguments);var Pe,Rt=this.config();((ge="function"!=typeof ge&&ge||{}).name||(ge.name=ge.name||Rt.name,ge.storeName=ge.storeName||Rt.storeName),ge.name)?Pe=(ge.name===Rt.name&&this._dbInfo.db?F.resolve(this._dbInfo.db):it(ge).then(function(Ot){var wt=S[ge.name],an=wt.forages;wt.db=Ot;for(var Xt=0;Xt<an.length;Xt++)an[Xt]._dbInfo.db=Ot;return Ot})).then(ge.storeName?function(Ot){if(Ot.objectStoreNames.contains(ge.storeName)){var wt=Ot.version+1;Ne(ge);var an=S[ge.name],Xt=an.forages;Ot.close();for(var hn=0;hn<Xt.length;hn++){var $n=Xt[hn];$n._dbInfo.db=null,$n._dbInfo.version=wt}return new F(function(ar,rr){var Ht=I.open(ge.name,wt);Ht.onerror=function(Et){Ht.result.close(),rr(Et)},Ht.onupgradeneeded=function(){Ht.result.deleteObjectStore(ge.storeName)},Ht.onsuccess=function(){var Et=Ht.result;Et.close(),ar(Et)}}).then(function(ar){an.db=ar;for(var rr=0;rr<Xt.length;rr++){var Ht=Xt[rr];Ht._dbInfo.db=ar,Se(Ht._dbInfo)}}).catch(function(ar){throw(Re(ge,ar)||F.resolve()).catch(function(){}),ar})}}:function(Ot){Ne(ge);var wt=S[ge.name],an=wt.forages;Ot.close();for(var Xt=0;Xt<an.length;Xt++)an[Xt]._dbInfo.db=null;return new F(function(Nn,ar){var rr=I.deleteDatabase(ge.name);rr.onerror=function(){var Ht=rr.result;Ht&&Ht.close(),ar(rr.error)},rr.onblocked=function(){},rr.onsuccess=function(){var Ht=rr.result;Ht&&Ht.close(),Nn(Ht)}}).then(function(Nn){wt.db=Nn;for(var ar=0;ar<an.length;ar++)Se(an[ar]._dbInfo)}).catch(function(Nn){throw(Re(ge,Nn)||F.resolve()).catch(function(){}),Nn})}):Pe=F.reject("Invalid arguments");return C(Pe,Te),Pe}},on="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",At=/^~~local_forage_type~([^~]+)~/,je="__lfsc__:",fe="arbf",Ie="blob",Kt=Object.prototype.toString;function Ut(ge){var Te,Pe,Rt,mt,Ze,Ot=.75*ge.length,wt=ge.length,an=0;"="===ge[ge.length-1]&&(Ot--,"="===ge[ge.length-2]&&Ot--);var Xt=new ArrayBuffer(Ot),hn=new Uint8Array(Xt);for(Te=0;Te<wt;Te+=4)Pe=on.indexOf(ge[Te]),Rt=on.indexOf(ge[Te+1]),mt=on.indexOf(ge[Te+2]),Ze=on.indexOf(ge[Te+3]),hn[an++]=Pe<<2|Rt>>4,hn[an++]=(15&Rt)<<4|mt>>2,hn[an++]=(3&mt)<<6|63&Ze;return Xt}function kt(ge){var Te,Pe=new Uint8Array(ge),Rt="";for(Te=0;Te<Pe.length;Te+=3)Rt+=on[Pe[Te]>>2],Rt+=on[(3&Pe[Te])<<4|Pe[Te+1]>>4],Rt+=on[(15&Pe[Te+1])<<2|Pe[Te+2]>>6],Rt+=on[63&Pe[Te+2]];return Pe.length%3==2?Rt=Rt.substring(0,Rt.length-1)+"=":Pe.length%3==1&&(Rt=Rt.substring(0,Rt.length-2)+"=="),Rt}var _n={serialize:function(ge,Te){var Pe="";if(ge&&(Pe=Kt.call(ge)),ge&&("[object ArrayBuffer]"===Pe||ge.buffer&&"[object ArrayBuffer]"===Kt.call(ge.buffer))){var Rt,mt=je;ge instanceof ArrayBuffer?(Rt=ge,mt+=fe):(Rt=ge.buffer,"[object Int8Array]"===Pe?mt+="si08":"[object Uint8Array]"===Pe?mt+="ui08":"[object Uint8ClampedArray]"===Pe?mt+="uic8":"[object Int16Array]"===Pe?mt+="si16":"[object Uint16Array]"===Pe?mt+="ur16":"[object Int32Array]"===Pe?mt+="si32":"[object Uint32Array]"===Pe?mt+="ui32":"[object Float32Array]"===Pe?mt+="fl32":"[object Float64Array]"===Pe?mt+="fl64":Te(new Error("Failed to get type for BinaryArray"))),Te(mt+kt(Rt))}else if("[object Blob]"===Pe){var Ze=new FileReader;Ze.onload=function(){var Ot="~~local_forage_type~"+ge.type+"~"+kt(this.result);Te(je+Ie+Ot)},Ze.readAsArrayBuffer(ge)}else try{Te(JSON.stringify(ge))}catch(Ot){Te(null,Ot)}},deserialize:function(ge){if(ge.substring(0,9)!==je)return JSON.parse(ge);var Te,Pe=ge.substring(13),Rt=ge.substring(9,13);if(Rt===Ie&&At.test(Pe)){var mt=Pe.match(At);Te=mt[1],Pe=Pe.substring(mt[0].length)}var Ze=Ut(Pe);switch(Rt){case fe:return Ze;case Ie:return P([Ze],{type:Te});case"si08":return new Int8Array(Ze);case"ui08":return new Uint8Array(Ze);case"uic8":return new Uint8ClampedArray(Ze);case"si16":return new Int16Array(Ze);case"ur16":return new Uint16Array(Ze);case"si32":return new Int32Array(Ze);case"ui32":return new Uint32Array(Ze);case"fl32":return new Float32Array(Ze);case"fl64":return new Float64Array(Ze);default:throw new Error("Unkown type: "+Rt)}},stringToBuffer:Ut,bufferToString:kt};function vt(ge,Te,Pe,Rt){ge.executeSql("CREATE TABLE IF NOT EXISTS "+Te.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],Pe,Rt)}function It(ge,Te,Pe,Rt,mt,Ze){ge.executeSql(Pe,Rt,mt,function(Ot,wt){wt.code===wt.SYNTAX_ERR?Ot.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[Te.storeName],function(an,Xt){Xt.rows.length?Ze(an,wt):vt(an,Te,function(){an.executeSql(Pe,Rt,mt,Ze)},Ze)},Ze):Ze(Ot,wt)},Ze)}function sn(ge,Te,Pe,Rt){var mt=this;ge=x(ge);var Ze=new F(function(Ot,wt){mt.ready().then(function(){void 0===Te&&(Te=null);var an=Te,Xt=mt._dbInfo;Xt.serializer.serialize(Te,function(hn,$n){$n?wt($n):Xt.db.transaction(function(Nn){It(Nn,Xt,"INSERT OR REPLACE INTO "+Xt.storeName+" (key, value) VALUES (?, ?)",[ge,hn],function(){Ot(an)},function(ar,rr){wt(rr)})},function(Nn){if(Nn.code===Nn.QUOTA_ERR){if(0<Rt)return void Ot(sn.apply(mt,[ge,an,Pe,Rt-1]));wt(Nn)}})})}).catch(wt)});return C(Ze,Pe),Ze}var Mn={_driver:"webSQLStorage",_initStorage:function(ge){var Te=this,Pe={db:null};if(ge)for(var Rt in ge)Pe[Rt]="string"!=typeof ge[Rt]?ge[Rt].toString():ge[Rt];var mt=new F(function(Ze,Ot){try{Pe.db=openDatabase(Pe.name,String(Pe.version),Pe.description,Pe.size)}catch(wt){return Ot(wt)}Pe.db.transaction(function(wt){vt(wt,Pe,function(){Te._dbInfo=Pe,Ze()},function(an,Xt){Ot(Xt)})},Ot)});return Pe.serializer=_n,mt},_support:"function"==typeof openDatabase,iterate:function(ge,Te){var Pe=this,Rt=new F(function(mt,Ze){Pe.ready().then(function(){var Ot=Pe._dbInfo;Ot.db.transaction(function(wt){It(wt,Ot,"SELECT * FROM "+Ot.storeName,[],function(an,Xt){for(var hn=Xt.rows,$n=hn.length,Nn=0;Nn<$n;Nn++){var ar=hn.item(Nn),rr=ar.value;if(rr&&(rr=Ot.serializer.deserialize(rr)),void 0!==(rr=ge(rr,ar.key,Nn+1)))return void mt(rr)}mt()},function(an,Xt){Ze(Xt)})})}).catch(Ze)});return C(Rt,Te),Rt},getItem:function(ge,Te){var Pe=this;ge=x(ge);var Rt=new F(function(mt,Ze){Pe.ready().then(function(){var Ot=Pe._dbInfo;Ot.db.transaction(function(wt){It(wt,Ot,"SELECT * FROM "+Ot.storeName+" WHERE key = ? LIMIT 1",[ge],function(an,Xt){var hn=Xt.rows.length?Xt.rows.item(0).value:null;hn&&(hn=Ot.serializer.deserialize(hn)),mt(hn)},function(an,Xt){Ze(Xt)})})}).catch(Ze)});return C(Rt,Te),Rt},setItem:function(ge,Te,Pe){return sn.apply(this,[ge,Te,Pe,1])},removeItem:function(ge,Te){var Pe=this;ge=x(ge);var Rt=new F(function(mt,Ze){Pe.ready().then(function(){var Ot=Pe._dbInfo;Ot.db.transaction(function(wt){It(wt,Ot,"DELETE FROM "+Ot.storeName+" WHERE key = ?",[ge],function(){mt()},function(an,Xt){Ze(Xt)})})}).catch(Ze)});return C(Rt,Te),Rt},clear:function(ge){var Te=this,Pe=new F(function(Rt,mt){Te.ready().then(function(){var Ze=Te._dbInfo;Ze.db.transaction(function(Ot){It(Ot,Ze,"DELETE FROM "+Ze.storeName,[],function(){Rt()},function(wt,an){mt(an)})})}).catch(mt)});return C(Pe,ge),Pe},length:function(ge){var Te=this,Pe=new F(function(Rt,mt){Te.ready().then(function(){var Ze=Te._dbInfo;Ze.db.transaction(function(Ot){It(Ot,Ze,"SELECT COUNT(key) as c FROM "+Ze.storeName,[],function(wt,an){var Xt=an.rows.item(0).c;Rt(Xt)},function(wt,an){mt(an)})})}).catch(mt)});return C(Pe,ge),Pe},key:function(ge,Te){var Pe=this,Rt=new F(function(mt,Ze){Pe.ready().then(function(){var Ot=Pe._dbInfo;Ot.db.transaction(function(wt){It(wt,Ot,"SELECT key FROM "+Ot.storeName+" WHERE id = ? LIMIT 1",[ge+1],function(an,Xt){var hn=Xt.rows.length?Xt.rows.item(0).key:null;mt(hn)},function(an,Xt){Ze(Xt)})})}).catch(Ze)});return C(Rt,Te),Rt},keys:function(ge){var Te=this,Pe=new F(function(Rt,mt){Te.ready().then(function(){var Ze=Te._dbInfo;Ze.db.transaction(function(Ot){It(Ot,Ze,"SELECT key FROM "+Ze.storeName,[],function(wt,an){for(var Xt=[],hn=0;hn<an.rows.length;hn++)Xt.push(an.rows.item(hn).key);Rt(Xt)},function(wt,an){mt(an)})})}).catch(mt)});return C(Pe,ge),Pe},dropInstance:function(ge,Te){Te=j.apply(this,arguments);var Pe=this.config();(ge="function"!=typeof ge&&ge||{}).name||(ge.name=ge.name||Pe.name,ge.storeName=ge.storeName||Pe.storeName);var Rt,mt=this;return C(Rt=ge.name?new F(function(Ze){var Ot,wt;Ot=ge.name===Pe.name?mt._dbInfo.db:openDatabase(ge.name,"","",0),Ze(ge.storeName?{db:Ot,storeNames:[ge.storeName]}:(wt=Ot,new F(function(an,Xt){wt.transaction(function(hn){hn.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function($n,Nn){for(var ar=[],rr=0;rr<Nn.rows.length;rr++)ar.push(Nn.rows.item(rr).name);an({db:wt,storeNames:ar})},function($n,Nn){Xt(Nn)})},function(hn){Xt(hn)})})))}).then(function(Ze){return new F(function(Ot,wt){Ze.db.transaction(function(an){function Xt(ar){return new F(function(rr,Ht){an.executeSql("DROP TABLE IF EXISTS "+ar,[],function(){rr()},function(Et,Yt){Ht(Yt)})})}for(var hn=[],$n=0,Nn=Ze.storeNames.length;$n<Nn;$n++)hn.push(Xt(Ze.storeNames[$n]));F.all(hn).then(function(){Ot()}).catch(function(ar){wt(ar)})},function(an){wt(an)})})}):F.reject("Invalid arguments"),Te),Rt}};function Vn(ge,Te){var Pe=ge.name+"/";return ge.storeName!==Te.storeName&&(Pe+=ge.storeName+"/"),Pe}var sr={_driver:"localStorageWrapper",_initStorage:function(ge){var Te={};if(ge)for(var Pe in ge)Te[Pe]=ge[Pe];return Te.keyPrefix=Vn(ge,this._defaultConfig),function nr(){return!function(){var ge="_localforage_support_test";try{return localStorage.setItem(ge,!0),localStorage.removeItem(ge),!1}catch{return!0}}()||0<localStorage.length}()?((this._dbInfo=Te).serializer=_n,F.resolve()):F.reject()},_support:function(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}(),iterate:function(ge,Te){var Pe=this,Rt=Pe.ready().then(function(){for(var mt=Pe._dbInfo,Ze=mt.keyPrefix,Ot=Ze.length,wt=localStorage.length,an=1,Xt=0;Xt<wt;Xt++){var hn=localStorage.key(Xt);if(0===hn.indexOf(Ze)){var $n=localStorage.getItem(hn);if($n&&($n=mt.serializer.deserialize($n)),void 0!==($n=ge($n,hn.substring(Ot),an++)))return $n}}});return C(Rt,Te),Rt},getItem:function(ge,Te){var Pe=this;ge=x(ge);var Rt=Pe.ready().then(function(){var mt=Pe._dbInfo,Ze=localStorage.getItem(mt.keyPrefix+ge);return Ze&&(Ze=mt.serializer.deserialize(Ze)),Ze});return C(Rt,Te),Rt},setItem:function(ge,Te,Pe){var Rt=this;ge=x(ge);var mt=Rt.ready().then(function(){void 0===Te&&(Te=null);var Ze=Te;return new F(function(Ot,wt){var an=Rt._dbInfo;an.serializer.serialize(Te,function(Xt,hn){if(hn)wt(hn);else try{localStorage.setItem(an.keyPrefix+ge,Xt),Ot(Ze)}catch($n){"QuotaExceededError"!==$n.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==$n.name||wt($n),wt($n)}})})});return C(mt,Pe),mt},removeItem:function(ge,Te){var Pe=this;ge=x(ge);var Rt=Pe.ready().then(function(){localStorage.removeItem(Pe._dbInfo.keyPrefix+ge)});return C(Rt,Te),Rt},clear:function(ge){var Te=this,Pe=Te.ready().then(function(){for(var Rt=Te._dbInfo.keyPrefix,mt=localStorage.length-1;0<=mt;mt--){var Ze=localStorage.key(mt);0===Ze.indexOf(Rt)&&localStorage.removeItem(Ze)}});return C(Pe,ge),Pe},length:function(ge){var Te=this.keys().then(function(Pe){return Pe.length});return C(Te,ge),Te},key:function(ge,Te){var Pe=this,Rt=Pe.ready().then(function(){var mt,Ze=Pe._dbInfo;try{mt=localStorage.key(ge)}catch{mt=null}return mt&&(mt=mt.substring(Ze.keyPrefix.length)),mt});return C(Rt,Te),Rt},keys:function(ge){var Te=this,Pe=Te.ready().then(function(){for(var Rt=Te._dbInfo,mt=localStorage.length,Ze=[],Ot=0;Ot<mt;Ot++){var wt=localStorage.key(Ot);0===wt.indexOf(Rt.keyPrefix)&&Ze.push(wt.substring(Rt.keyPrefix.length))}return Ze});return C(Pe,ge),Pe},dropInstance:function(ge,Te){if(Te=j.apply(this,arguments),!(ge="function"!=typeof ge&&ge||{}).name){var Pe=this.config();ge.name=ge.name||Pe.name,ge.storeName=ge.storeName||Pe.storeName}var Rt,mt=this;return C(Rt=ge.name?new F(function(Ze){Ze(ge.storeName?Vn(ge,mt._defaultConfig):ge.name+"/")}).then(function(Ze){for(var Ot=localStorage.length-1;0<=Ot;Ot--){var wt=localStorage.key(Ot);0===wt.indexOf(Ze)&&localStorage.removeItem(wt)}}):F.reject("Invalid arguments"),Te),Rt}},Qn=function(ge,Te){for(var Pe=ge.length,Rt=0;Rt<Pe;){if((mt=ge[Rt])===(Ze=Te)||"number"==typeof mt&&"number"==typeof Ze&&isNaN(mt)&&isNaN(Ze))return!0;Rt++}var mt,Ze;return!1},bn=Array.isArray||function(ge){return"[object Array]"===Object.prototype.toString.call(ge)},jn={},vn={},K={INDEXEDDB:xt,WEBSQL:Mn,LOCALSTORAGE:sr},H=[K.INDEXEDDB._driver,K.WEBSQL._driver,K.LOCALSTORAGE._driver],ye=["dropInstance"],_e=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(ye),Me={description:"",driver:H.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Fe(ge,Te){ge[Te]=function(){var Pe=arguments;return ge.ready().then(function(){return ge[Te].apply(ge,Pe)})}}function $e(){for(var ge=1;ge<arguments.length;ge++){var Te=arguments[ge];if(Te)for(var Pe in Te)Te.hasOwnProperty(Pe)&&(arguments[0][Pe]=bn(Te[Pe])?Te[Pe].slice():Te[Pe])}return arguments[0]}var pt=function(){function ge(Te){for(var Pe in function(Ze,Ot){if(!(Ze instanceof Ot))throw new TypeError("Cannot call a class as a function")}(this,ge),K)if(K.hasOwnProperty(Pe)){var Rt=K[Pe],mt=Rt._driver;this[Pe]=mt,jn[mt]||this.defineDriver(Rt)}this._defaultConfig=$e({},Me),this._config=$e({},this._defaultConfig,Te),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return ge.prototype.config=function(Te){if("object"!==(void 0===Te?"undefined":A(Te)))return"string"==typeof Te?this._config[Te]:this._config;if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var Pe in Te){if("storeName"===Pe&&(Te[Pe]=Te[Pe].replace(/\W/g,"_")),"version"===Pe&&"number"!=typeof Te[Pe])return new Error("Database version must be a number.");this._config[Pe]=Te[Pe]}return!("driver"in Te&&Te.driver)||this.setDriver(this._config.driver)},ge.prototype.defineDriver=function(Te,Pe,Rt){var mt=new F(function(Ze,Ot){try{var wt=Te._driver,an=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!Te._driver)return void Ot(an);for(var Xt=_e.concat("_initStorage"),hn=0,$n=Xt.length;hn<$n;hn++){var Nn=Xt[hn];if((!Qn(ye,Nn)||Te[Nn])&&"function"!=typeof Te[Nn])return void Ot(an)}!function(){for(var Ht=function(ot){return function(){var _t=new Error("Method "+ot+" is not implemented by the current driver"),we=F.reject(_t);return C(we,arguments[arguments.length-1]),we}},Et=0,Yt=ye.length;Et<Yt;Et++){var Mt=ye[Et];Te[Mt]||(Te[Mt]=Ht(Mt))}}();var rr=function(Ht){jn[wt]=Te,vn[wt]=Ht,Ze()};"_support"in Te?Te._support&&"function"==typeof Te._support?Te._support().then(rr,Ot):rr(!!Te._support):rr(!0)}catch(Ht){Ot(Ht)}});return M(mt,Pe,Rt),mt},ge.prototype.driver=function(){return this._driver||null},ge.prototype.getDriver=function(Te,Pe,Rt){var mt=jn[Te]?F.resolve(jn[Te]):F.reject(new Error("Driver not found."));return M(mt,Pe,Rt),mt},ge.prototype.getSerializer=function(Te){var Pe=F.resolve(_n);return M(Pe,Te),Pe},ge.prototype.ready=function(Te){var Pe=this,Rt=Pe._driverSet.then(function(){return null===Pe._ready&&(Pe._ready=Pe._initDriver()),Pe._ready});return M(Rt,Te,Te),Rt},ge.prototype.setDriver=function(Te,Pe,Rt){var mt=this;bn(Te)||(Te=[Te]);var Ze=this._getSupportedDrivers(Te);function Ot(){mt._config.driver=mt.driver()}function wt(Xt){return mt._extend(Xt),Ot(),mt._ready=mt._initStorage(mt._config),mt._ready}var an=null!==this._driverSet?this._driverSet.catch(function(){return F.resolve()}):F.resolve();return this._driverSet=an.then(function(){var Xt=Ze[0];return mt._dbInfo=null,mt._ready=null,mt.getDriver(Xt).then(function(hn){var $n;mt._driver=hn._driver,Ot(),mt._wrapLibraryMethodsWithReady(),mt._initDriver=($n=Ze,function(){var Nn=0;return function ar(){for(;Nn<$n.length;){var rr=$n[Nn];return Nn++,mt._dbInfo=null,mt._ready=null,mt.getDriver(rr).then(wt).catch(ar)}Ot();var Ht=new Error("No available storage method found.");return mt._driverSet=F.reject(Ht),mt._driverSet}()})})}).catch(function(){Ot();var Xt=new Error("No available storage method found.");return mt._driverSet=F.reject(Xt),mt._driverSet}),M(this._driverSet,Pe,Rt),this._driverSet},ge.prototype.supports=function(Te){return!!vn[Te]},ge.prototype._extend=function(Te){$e(this,Te)},ge.prototype._getSupportedDrivers=function(Te){for(var Pe=[],Rt=0,mt=Te.length;Rt<mt;Rt++){var Ze=Te[Rt];this.supports(Ze)&&Pe.push(Ze)}return Pe},ge.prototype._wrapLibraryMethodsWithReady=function(){for(var Te=0,Pe=_e.length;Te<Pe;Te++)Fe(this,_e[Te])},ge.prototype.createInstance=function(Te){return new ge(Te)},ge}(),zt=new pt;w.exports=zt},{3:3}]},{},[4])(4)}).call(this,c(39))},function(ft,y,c){"use strict";y.__esModule=!0,y.FETCH_ERROR=y.TYPINGNOTIFICATION_CONSTANTS=y.LOGIN_ERROR=y.MESSAGE_ERRORS=y.MESSAGES_REQUEST_ERRORS=y.USERS_REQUEST_ERRORS=y.GROUP_CREATION_ERRORS=y.INIT_ERROR=y.ERRORS=y.SERVER_ERRORS=void 0,y.SERVER_ERRORS={AUTH_ERR:{code:"AUTH_ERR_AUTH_TOKEN_NOT_FOUND",message:"The auth token %s% does not exist. Please make sure you are logged in and have a valid auth token or try login again."}},y.ERRORS={PARAMETER_MISSING:{code:"MISSING_PARAMETERS",name:"Invalid or no parameter passed to the method."}},y.INIT_ERROR={NO_APP_ID:{code:y.ERRORS.PARAMETER_MISSING.code,name:y.ERRORS.PARAMETER_MISSING.name,message:"AppID cannot be empty. Please specify a valid appID.",details:{}}},y.GROUP_CREATION_ERRORS={EMPTY_PASSWORD:{code:"ERR_EMPTY_GROUP_PASS",details:void 0,message:"Password is mandatory to join a group.",name:void 0}},y.USERS_REQUEST_ERRORS={EMPTY_USERS_LIST:{code:"EMPTY_USERS_LIST",name:"EMPTY_USERS_LIST",message:"The users list needs to have atleast one UID.",details:{}}},y.MESSAGES_REQUEST_ERRORS={REQUEST_IN_PROGRESS_ERROR:{code:"REQUEST_IN_PROGRESS",name:"REQUEST_IN_PROGRESS",message:"Request in progress.",details:{}},NOT_ENOUGH_PARAMS:{code:"NOT_ENOUGH_PARAMETERS",name:"NOT_ENOUGH_PARAMETERS",message:"`Timestamp`, `MessageId` or `updatedAfter` is required to use the 'fetchNext()' method.",details:{}}},y.MESSAGE_ERRORS={INVALID_CUSTOM_DATA:{code:"-1",name:"%s_CUSTOM_DATA",message:"",details:{}}},y.LOGIN_ERROR={NOT_INITIALIZED:{code:"-1",name:"COMETCHAT_INITIALIZATION_NOT_DONE",message:"please initialize the cometchat before using login method.",details:{}},UNAUTHORISED:{code:401,name:"USER_NOT_AUTHORISED",message:"The `authToken` of the user is not authorised. Please verify again.",details:{}},WS_CONNECTION_FAIL:{code:-1,name:"WS_CONNECTION_FAIL",message:"WS Connection failed. %s",details:{}},WS_CONNECTION_FAIL_PORT_ERROR:{code:-1,name:"WS_CONNECTION_FAIL",message:"WS Connection failed. Trying to connect with port: %s",details:{}},WS_CONNECTION_FALLBACK_FAIL_PORT_ERROR:{code:-1,name:"WS_CONNECTION_FALLBACK_FAIL",message:"WS Connection fallback failed. Trying to connect with port: %s",details:{}},WS_AUTH_FAIL:{code:-1,name:"WS_AUTH_FAIL",message:"WS username/password not correct.",details:{}},NO_INTERNET:{code:-1,name:"NO_INTERNET_CONNECTION",message:"You do not have internet connection.",details:{}},REQUEST_IN_PROGRESS:{code:-1,name:"LOGIN_IN_PROGRESS",message:"Please wait until the previous login request ends.",details:{}}},y.TYPINGNOTIFICATION_CONSTANTS={TOO_MANY_REQUEST:{code:"TOO_MANY_REQUEST",name:"TOO MANY REQUEST",message:"too many request, wait for `%s` seconds before sending next request.",details:{}}},y.FETCH_ERROR={ERROR_IN_API_CALL:{code:"FAILED_TO_FETCH",name:"FAILED_TO_FETCH",message:"There is an unknown issue with the API request. Please check your internet connection and verify the api call.",details:{}}}},function(ft,y,c){"use strict";y.__esModule=!0,y.LocalStorage=void 0;var d=c(0),v=c(1),w=c(12),N=c(3),A=c(2),I=function(){function P(F){this.store=v.constants.DEFAULT_STORE,d.isFalsy(F)||(this.store=F),this.localStore=w.createInstance({name:d.format(v.LOCAL_STORE.STORE_STRING,N.CometChat.getAppId(),v.LOCAL_STORE.COMMON_STORE)}),this.localStore.setDriver([w.LOCALSTORAGE,w.INDEXEDDB,w.WEBSQL])}return P.getInstance=function(){return null==P.localStorage&&(P.localStorage=new P),P.localStorage},P.prototype.set=function(F,C){return this.localStore.setItem(F,JSON.stringify(C))},P.prototype.remove=function(F){this.localStore.removeItem(F)},P.prototype.update=function(F,C){this.remove(F),this.set(F,C)},P.prototype.get=function(F){var C=this;return new Promise(function(M,x){try{C.localStore.getItem(F).then(function(j){try{M(JSON.parse(j))}catch{M(j)}},function(j){x(j)})}catch(j){x(new A.CometChatException(j))}})},P.prototype.clearStore=function(){var F=this;return new Promise(function(C,M){try{F.localStore.keys().then(function(x){if(0<x.length)for(var j=0;j<x.length;j++)"appId"!==x[j]&&F.localStore.removeItem(x[j]),j===x.length-1&&C(!0)})}catch(x){M(x)}})},P.prototype.clear=function(F){},P.prototype.selectStore=function(F){this.store=F},P.localStorage=null,P}();y.LocalStorage=I},function(ft,y,c){"use strict";y.__esModule=!0,y.GroupsController=void 0;var d=c(8),v=c(1),w=c(0),N=function(){function A(){}return A.trasformJSONGroup=function(I){var P;try{P=new d.Group(I[v.GroupConstants.KEYS.GUID],I[v.GroupConstants.KEYS.NAME],I[v.GroupConstants.KEYS.TYPE]),I.wsChannel&&delete I.wsChannel,Object.assign(P,I),I=P}catch(F){w.Logger.error("GroupsController:transformJSONGroup",F)}return I},A}();y.GroupsController=N},function(ft,y,c){"use strict";var d,v=this&&this.__extends||(d=function(M,x){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(j,Q){j.__proto__=Q}||function(j,Q){for(var $ in Q)Q.hasOwnProperty($)&&(j[$]=Q[$])})(M,x)},function(M,x){function j(){this.constructor=M}d(M,x),M.prototype=null===x?Object.create(x):(j.prototype=x.prototype,new j)}),w=this&&this.__assign||function(){return(w=Object.assign||function(M){for(var x,j=1,Q=arguments.length;j<Q;j++)for(var $ in x=arguments[j])Object.prototype.hasOwnProperty.call(x,$)&&(M[$]=x[$]);return M}).apply(this,arguments)};y.__esModule=!0,y.TextMessage=void 0;var N=c(7),A=c(1),I=c(4),P=c(8),F=c(0),C=function(M){function x(j,Q,$){var S=M.call(this,j,"text",$,A.MessageCategory.MESSAGE)||this;return S.type="text",S.data={text:Q},S.text=Q,S}return v(x,M),x.prototype.getSender=function(){try{return this.getSenderFromData()}catch{return this.sender}},x.prototype.getReceiver=function(){try{return this.getReceiverFromData()}catch{return this.receiver}},x.prototype.getMetadata=function(){return this.data.metadata&&(this.metadata=this.data.metadata),this.metadata},x.prototype.setMetadata=function(j){this.metadata=j,this.data=w(w({},this.data),{metadata:j})},x.prototype.getData=function(){return this.data},x.prototype.setData=function(j){this.data=j},x.prototype.getText=function(){return this.text},x.prototype.setText=function(j){this.text=j,this.data.text=j},x.prototype.setProcessedText=function(j){this.processedText=j},x.prototype.getProcessedText=function(){return this.processedText},x.prototype.getTags=function(){return this.tags},x.prototype.setTags=function(j){this.tags=j},x.prototype.getSenderFromData=function(){try{var j=this.getData();if(j[A.ResponseConstants.RESPONSE_KEYS.KEY_ENTITIES][A.MessageConstatnts.KEYS.SENDER][A.ResponseConstants.RESPONSE_KEYS.KEY_ENTITITY])return new I.User(j[A.ResponseConstants.RESPONSE_KEYS.KEY_ENTITIES][A.MessageConstatnts.KEYS.SENDER][A.ResponseConstants.RESPONSE_KEYS.KEY_ENTITITY])}catch(Q){F.Logger.error("TextMessageModel: getSenderFromData",Q)}},x.prototype.getReceiverFromData=function(){try{var j=this.getData(),Q=j[A.ResponseConstants.RESPONSE_KEYS.KEY_ENTITIES][A.MessageConstatnts.KEYS.RECEIVER][A.ResponseConstants.RESPONSE_KEYS.KEY_ENTITITY];if(j[A.ResponseConstants.RESPONSE_KEYS.KEY_ENTITIES][A.MessageConstatnts.KEYS.RECEIVER][A.ResponseConstants.RESPONSE_KEYS.KEY_ENTITYTYPE]==[A.ResponseConstants.RESPONSE_KEYS.KEY_ENTITY_TYPE.USER])return new I.User(Q);var $=new P.Group(Q[A.GroupConstants.KEYS.GUID],Q[A.GroupConstants.KEYS.NAME],Q[A.MessageConstatnts.KEYS.TYPE]);return Object.assign($,Q)}catch(S){F.Logger.error("TextMessageModel: getReceiverFromData",S)}},x.TYPE=A.MessageConstatnts.TYPE.TEXT,x.RECEIVER_TYPE=A.MessageConstatnts.RECEIVER_TYPE,x.CATEGORY=A.MessageConstatnts.CATEGORY.MESSAGE,x}(N.BaseMessage);y.TextMessage=C},function(ft,y,c){"use strict";var d,v=this&&this.__extends||(d=function(x,j){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Q,$){Q.__proto__=$}||function(Q,$){for(var S in $)$.hasOwnProperty(S)&&(Q[S]=$[S])})(x,j)},function(x,j){function Q(){this.constructor=x}d(x,j),x.prototype=null===j?Object.create(j):(Q.prototype=j.prototype,new Q)}),w=this&&this.__assign||function(){return(w=Object.assign||function(x){for(var j,Q=1,$=arguments.length;Q<$;Q++)for(var S in j=arguments[Q])Object.prototype.hasOwnProperty.call(j,S)&&(x[S]=j[S]);return x}).apply(this,arguments)};y.__esModule=!0,y.MediaMessage=void 0;var N=c(7),A=c(1),I=c(4),P=c(18),F=c(8),C=c(0),M=function(x){function j(Q,$,S,se){var ue=x.call(this,Q,S,se,A.MessageCategory.MESSAGE)||this;return ue.data={},"object"!=typeof $?ue.data={url:$}:$&&(ue.files=0<$.length?$:[$]),ue}return v(j,x),j.prototype.setCaption=function(Q){this.caption=Q,this.data[A.MessageConstatnts.KEYS.TEXT]=Q},j.prototype.getCaption=function(){return this.data[A.MessageConstatnts.KEYS.TEXT]},j.prototype.getSender=function(){try{return this.getSenderFromData()}catch{return this.sender}},j.prototype.getReceiver=function(){try{return this.getReceiverFromData()}catch{return this.receiver}},j.prototype.getMetadata=function(){return this.data.metadata&&(this.metadata=this.data.metadata),this.metadata},j.prototype.setMetadata=function(Q){this.metadata=Q,this.data=w(w({},this.data),{metadata:Q})},j.prototype.getData=function(){return this.data},j.prototype.setData=function(Q){this.data=Q},j.prototype.getAttachment=function(){return new P.Attachment(this.data.attachments[0])},j.prototype.setAttachment=function(Q){this.data.attachments=[P.Attachment.toJSON(Q)]},j.prototype.getAttachments=function(){var Q=[];if(this.data.attachments&&0<this.data.attachments.length)for(var $=0;$<this.data.attachments.length;$++)Q.push(new P.Attachment(this.data.attachments[$]));return Q},j.prototype.setAttachments=function(Q){var $=[];if(Q&&0<Q.length)for(var S=0;S<Q.length;S++)$.push(P.Attachment.toJSON(Q[S]));this.data.attachments=$},j.prototype.getURL=function(){try{var Q=this.getData();if(Q[A.MessageConstatnts.KEYS.URL])return Q[A.MessageConstatnts.KEYS.URL]}catch($){C.Logger.error("MediaMessageModel: getURL",$)}},j.prototype.getTags=function(){return this.tags},j.prototype.setTags=function(Q){this.tags=Q},j.prototype.getSenderFromData=function(){try{var Q=this.getData();if(Q[A.ResponseConstants.RESPONSE_KEYS.KEY_ENTITIES][A.MessageConstatnts.KEYS.SENDER][A.ResponseConstants.RESPONSE_KEYS.KEY_ENTITITY])return new I.User(Q[A.ResponseConstants.RESPONSE_KEYS.KEY_ENTITIES][A.MessageConstatnts.KEYS.SENDER][A.ResponseConstants.RESPONSE_KEYS.KEY_ENTITITY])}catch($){C.Logger.error("MediaMessageModel: getSenderFromData",$)}},j.prototype.getReceiverFromData=function(){try{var Q=this.getData(),$=Q[A.ResponseConstants.RESPONSE_KEYS.KEY_ENTITIES][A.MessageConstatnts.KEYS.RECEIVER][A.ResponseConstants.RESPONSE_KEYS.KEY_ENTITITY];if(Q[A.ResponseConstants.RESPONSE_KEYS.KEY_ENTITIES][A.MessageConstatnts.KEYS.RECEIVER][A.ResponseConstants.RESPONSE_KEYS.KEY_ENTITYTYPE]==[A.ResponseConstants.RESPONSE_KEYS.KEY_ENTITY_TYPE.USER])return new I.User($);var S=new F.Group($[A.GroupConstants.KEYS.GUID],$[A.GroupConstants.KEYS.NAME],$[A.MessageConstatnts.KEYS.TYPE]);return Object.assign(S,$)}catch(se){C.Logger.error("MediaMessageModel: getReceiverFromData",se)}},j.TYPE=A.MessageConstatnts.TYPE,j.RECEIVER_TYPE=A.MessageConstatnts.RECEIVER_TYPE,j.CATEGORY=A.MessageConstatnts.CATEGORY,j}(N.BaseMessage);y.MediaMessage=M},function(ft,y,c){"use strict";y.__esModule=!0,y.Attachment=void 0;var d=c(1),v=function(){function w(N){N.hasOwnProperty(d.ATTACHMENTS_CONSTANTS.KEYS.EXTENSION)&&(this.extension=N[d.ATTACHMENTS_CONSTANTS.KEYS.EXTENSION]),N.hasOwnProperty(d.ATTACHMENTS_CONSTANTS.KEYS.MIME_TYPE)&&(this.mimeType=N[d.ATTACHMENTS_CONSTANTS.KEYS.MIME_TYPE]),N.hasOwnProperty(d.ATTACHMENTS_CONSTANTS.KEYS.NAME)&&(this.name=N[d.ATTACHMENTS_CONSTANTS.KEYS.NAME]),N.hasOwnProperty(d.ATTACHMENTS_CONSTANTS.KEYS.SIZE)&&(this.size=N[d.ATTACHMENTS_CONSTANTS.KEYS.SIZE]),N.hasOwnProperty(d.ATTACHMENTS_CONSTANTS.KEYS.URL)&&(this.url=N[d.ATTACHMENTS_CONSTANTS.KEYS.URL])}return w.prototype.createFileFromJSON=function(N){return new w(N)},w.toJSON=function(N){return{extension:N.getExtension(),mimeType:N.getMimeType(),name:N.getName(),url:N.getUrl(),size:N.getSize()}},w.prototype.getExtension=function(){return this.extension},w.prototype.setExtension=function(N){this.extension=N},w.prototype.getMimeType=function(){return this.mimeType},w.prototype.setMimeType=function(N){this.mimeType=N},w.prototype.getName=function(){return this.name},w.prototype.setName=function(N){this.name=N},w.prototype.getSize=function(){return this.size},w.prototype.setSize=function(N){this.size=N},w.prototype.getUrl=function(){return this.url},w.prototype.setUrl=function(N){this.url=N},w}();y.Attachment=v},function(ft,y,c){"use strict";var d,v=this&&this.__extends||(d=function(M,x){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(j,Q){j.__proto__=Q}||function(j,Q){for(var $ in Q)Q.hasOwnProperty($)&&(j[$]=Q[$])})(M,x)},function(M,x){function j(){this.constructor=M}d(M,x),M.prototype=null===x?Object.create(x):(j.prototype=x.prototype,new j)}),w=this&&this.__assign||function(){return(w=Object.assign||function(M){for(var x,j=1,Q=arguments.length;j<Q;j++)for(var $ in x=arguments[j])Object.prototype.hasOwnProperty.call(x,$)&&(M[$]=x[$]);return M}).apply(this,arguments)};y.__esModule=!0,y.CustomMessage=void 0;var N=c(7),A=c(1),I=c(4),P=c(0),F=c(8),C=function(M){function x(){for(var j=[],Q=0;Q<arguments.length;Q++)j[Q]=arguments[Q];var $=this;if(3==j.length){var S=j[0],se=j[1],ue=j[2];$=M.call(this,S,A.MessageConstatnts.TYPE.CUSTOM,se,A.MessageCategory.MESSAGE)||this,("object"!=typeof ue||Array.isArray(ue))&&(ue={}),$.customData=ue,P.isFalsy($.data)&&($.data={}),$.data[A.MessageConstatnts.KEYS.CUSTOM_DATA]=ue}return 4==j.length&&(ue=j[3],$=M.call(this,S=j[0],j[2],se=j[1],A.MessageCategory.CUSTOM)||this,("object"!=typeof ue||Array.isArray(ue))&&(ue={}),$.customData=ue,P.isFalsy($.data)&&($.data={}),$.data[A.MessageConstatnts.KEYS.CUSTOM_DATA]=ue),$}return v(x,M),x.prototype.getCustomData=function(){return this.customData},x.prototype.setCustomData=function(j){this.customData=j,this.data[A.MessageConstatnts.KEYS.CUSTOM_DATA]=j},x.prototype.getSender=function(){try{return this.getSenderFromData()}catch{return this.sender}},x.prototype.getReceiver=function(){try{return this.getReceiverFromData()}catch{return this.receiver}},x.prototype.getSubType=function(){return this.subType},x.prototype.setSubType=function(j){this.subType=j,this.data=w(w({},this.data),{subType:j})},x.prototype.getMetadata=function(){return this.metadata},x.prototype.setMetadata=function(j){this.metadata=j,this.data=w(w({},this.data),{metadata:j})},x.prototype.getData=function(){return this.data},x.prototype.getTags=function(){return this.tags},x.prototype.setTags=function(j){this.tags=j},x.prototype.getSenderFromData=function(){try{var j=this.getData();if(j[A.ResponseConstants.RESPONSE_KEYS.KEY_ENTITIES][A.MessageConstatnts.KEYS.SENDER][A.ResponseConstants.RESPONSE_KEYS.KEY_ENTITITY])return new I.User(j[A.ResponseConstants.RESPONSE_KEYS.KEY_ENTITIES][A.MessageConstatnts.KEYS.SENDER][A.ResponseConstants.RESPONSE_KEYS.KEY_ENTITITY])}catch(Q){P.Logger.error("CustomMessageModel: getSenderFromData",Q)}},x.prototype.getReceiverFromData=function(){try{var j=this.getData(),Q=j[A.ResponseConstants.RESPONSE_KEYS.KEY_ENTITIES][A.MessageConstatnts.KEYS.RECEIVER][A.ResponseConstants.RESPONSE_KEYS.KEY_ENTITITY];if(j[A.ResponseConstants.RESPONSE_KEYS.KEY_ENTITIES][A.MessageConstatnts.KEYS.RECEIVER][A.ResponseConstants.RESPONSE_KEYS.KEY_ENTITYTYPE]==[A.ResponseConstants.RESPONSE_KEYS.KEY_ENTITY_TYPE.USER])return new I.User(Q);var $=new F.Group(Q[A.GroupConstants.KEYS.GUID],Q[A.GroupConstants.KEYS.NAME],Q[A.MessageConstatnts.KEYS.TYPE]);return Object.assign($,Q)}catch(S){P.Logger.error("CustomMessageModel: getReceiverFromData",S)}},x}(N.BaseMessage);y.CustomMessage=C},function(ft,y,c){"use strict";var d,v=this&&this.__extends||(d=function(x,j){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Q,$){Q.__proto__=$}||function(Q,$){for(var S in $)$.hasOwnProperty(S)&&(Q[S]=$[S])})(x,j)},function(x,j){function Q(){this.constructor=x}d(x,j),x.prototype=null===j?Object.create(j):(Q.prototype=j.prototype,new Q)}),w=this&&this.__assign||function(){return(w=Object.assign||function(x){for(var j,Q=1,$=arguments.length;Q<$;Q++)for(var S in j=arguments[Q])Object.prototype.hasOwnProperty.call(j,S)&&(x[S]=j[S]);return x}).apply(this,arguments)};y.__esModule=!0,y.Action=void 0;var N=c(7),A=c(8),I=c(4),P=c(1),F=c(0),C=c(10),M=function(x){function j(){return null!==x&&x.apply(this,arguments)||this}return v(j,x),j.actionFromJSON=function(Q){var $=new this(Q[P.MessageConstatnts.KEYS.RECEIVER],Q[P.MessageConstatnts.KEYS.TYPE],Q[P.MessageConstatnts.KEYS.RECEIVER_TYPE],P.MessageCategory.ACTION),S=Q[P.MessageConstatnts.KEYS.DATA];if($.data=S,$.setAction(S[P.MessageConstatnts.KEYS.ACTION]),S[P.ActionConstatnts.ACTION_KEYS.EXTRAS]){var se=S[P.ActionConstatnts.ACTION_KEYS.EXTRAS];if(se[P.ActionConstatnts.ACTION_KEYS.SCOPE]){var ue=se[P.ActionConstatnts.ACTION_KEYS.SCOPE];ue[P.ActionConstatnts.ACTION_KEYS.NEW]&&ue[P.ActionConstatnts.ACTION_KEYS.OLD]&&($.setOldScope(ue[P.ActionConstatnts.ACTION_KEYS.OLD]),$.setNewScope(ue[P.ActionConstatnts.ACTION_KEYS.NEW]))}}S[P.MessageConstatnts.KEYS.METADATA]&&$.setMetadata(S[P.MessageConstatnts.KEYS.METADATA]);var Be=S[P.ActionConstatnts.ACTION_KEYS.ENTITIES];if(Be[P.ActionConstatnts.ACTION_SUBJECTS.ACTION_BY])if(Be[P.ActionConstatnts.ACTION_SUBJECTS.ACTION_BY][P.ActionConstatnts.ACTION_KEYS.ENTITY_TYPE]==P.ActionConstatnts.ACTION_ENTITY_TYPE.USER){var me=new I.User(Be[P.ActionConstatnts.ACTION_SUBJECTS.ACTION_BY][P.ActionConstatnts.ACTION_KEYS.ENTITY]);Object.assign(me,Be[P.ActionConstatnts.ACTION_SUBJECTS.ACTION_BY][P.ActionConstatnts.ACTION_KEYS.ENTITY]),$.actionBy=me,$.setSender(me)}else{var Ne=new A.Group("","","");Object.assign(Ne,Be[P.ActionConstatnts.ACTION_SUBJECTS.ACTION_BY][P.ActionConstatnts.ACTION_KEYS.ENTITY]),$.actionBy=Ne}if(Be[P.ActionConstatnts.ACTION_SUBJECTS.ACTION_FOR]&&(Be[P.ActionConstatnts.ACTION_SUBJECTS.ACTION_FOR][P.ActionConstatnts.ACTION_KEYS.ENTITY_TYPE]==P.ActionConstatnts.ACTION_ENTITY_TYPE.USER?(me=new I.User(Be[P.ActionConstatnts.ACTION_SUBJECTS.ACTION_FOR][P.ActionConstatnts.ACTION_KEYS.ENTITY]),Object.assign(me,Be[P.ActionConstatnts.ACTION_SUBJECTS.ACTION_FOR][P.ActionConstatnts.ACTION_KEYS.ENTITY]),$.actionFor=me):(Ne=new A.Group("","",""),Object.assign(Ne,Be[P.ActionConstatnts.ACTION_SUBJECTS.ACTION_FOR][P.ActionConstatnts.ACTION_KEYS.ENTITY]),$.actionFor=Ne)),Be[P.ActionConstatnts.ACTION_SUBJECTS.ACTION_ON])if(Be[P.ActionConstatnts.ACTION_SUBJECTS.ACTION_ON][P.ActionConstatnts.ACTION_KEYS.ENTITY_TYPE]==P.ActionConstatnts.ACTION_ENTITY_TYPE.USER)me=new I.User(Be[P.ActionConstatnts.ACTION_SUBJECTS.ACTION_ON][P.ActionConstatnts.ACTION_KEYS.ENTITY]),Object.assign(me,Be[P.ActionConstatnts.ACTION_SUBJECTS.ACTION_ON][P.ActionConstatnts.ACTION_KEYS.ENTITY]),$.actionOn=me;else if(Be[P.ActionConstatnts.ACTION_SUBJECTS.ACTION_ON][P.ActionConstatnts.ACTION_KEYS.ENTITY_TYPE]==P.ActionConstatnts.ACTION_ENTITY_TYPE.GROUP)Ne=new A.Group("","",""),Object.assign(Ne,Be[P.ActionConstatnts.ACTION_SUBJECTS.ACTION_ON][P.ActionConstatnts.ACTION_KEYS.ENTITY]),$.actionOn=Ne;else if(Be[P.ActionConstatnts.ACTION_SUBJECTS.ACTION_ON][P.ActionConstatnts.ACTION_KEYS.ENTITY_TYPE]==P.ActionConstatnts.ACTION_ENTITY_TYPE.MESSAGE){var Se=C.MessageController.trasformJSONMessge(Be[P.ActionConstatnts.ACTION_SUBJECTS.ACTION_ON][P.ActionConstatnts.ACTION_KEYS.ENTITY]);$.actionOn=Se}return $.setMessage($.getActionMessage($)),$},j.prototype.getOldScope=function(){return this.oldScope},j.prototype.setOldScope=function(Q){this.oldScope=Q},j.prototype.getNewScope=function(){return this.newScope},j.prototype.setNewScope=function(Q){this.newScope=Q},j.prototype.getRawData=function(){return this.rawData},j.prototype.setRawData=function(Q){this.rawData=Q},j.prototype.getMessage=function(){return this.message},j.prototype.setMessage=function(Q){this.message=Q},j.prototype.getAction=function(){return this.action},j.prototype.setAction=function(Q){this.action=Q},j.prototype.getSender=function(){try{return this.getSenderFromData()}catch{return this.sender}},j.prototype.getActionBy=function(){return this.actionBy},j.prototype.setActionBy=function(Q){this.actionBy=Q},j.prototype.getActionOn=function(){return this.actionOn},j.prototype.setActionOn=function(Q){this.actionOn=Q},j.prototype.getActionFor=function(){return this.actionFor},j.prototype.setActionFor=function(Q){this.actionFor=Q},j.prototype.getMetadata=function(){return this.data.metadata&&(this.metadata=this.data.metadata),this.metadata},j.prototype.setMetadata=function(Q){this.metadata=Q,this.data=w(w({},this.data),{metadata:Q})},j.prototype.getActionMessage=function(Q){var $="";switch(Q.getType()){case P.ActionConstatnts.ACTION_KEYS.ACTION_TYPE_USER:case P.ActionConstatnts.ACTION_KEYS.ACTION_TYPE_GROUP:Q.getAction();break;case P.ActionConstatnts.ACTION_KEYS.ACTION_TYPE_GROUP_MEMBER:switch(Q.getAction()){case P.ActionConstatnts.ACTION_KEYS.TYPE_MEMBER_JOINED:var S=Q.getActionBy();$=F.format(P.ActionConstatnts.ActionMessages.ACTION_GROUP_JOINED_MESSAGE,S.getName());break;case P.ActionConstatnts.ACTION_KEYS.TYPE_MEMBER_LEFT:S=Q.getActionBy(),$=F.format(P.ActionConstatnts.ActionMessages.ACTION_GROUP_LEFT_MESSAGE,S.getName());break;case P.ActionConstatnts.ACTION_KEYS.TYPE_MEMBER_KICKED:S=Q.getActionBy();var se=Q.getActionOn();$=F.format(P.ActionConstatnts.ActionMessages.ACTION_MEMBER_KICKED_MESSAGE,S.getName(),se.getName());break;case P.ActionConstatnts.ACTION_KEYS.TYPE_MEMBER_BANNED:S=Q.getActionBy(),se=Q.getActionOn(),$=F.format(P.ActionConstatnts.ActionMessages.ACTION_MEMBER_BANNED_MESSAGE,S.getName(),se.getName());break;case P.ActionConstatnts.ACTION_KEYS.TYPE_MEMBER_UNBANNED:S=Q.getActionBy(),se=Q.getActionOn(),$=F.format(P.ActionConstatnts.ActionMessages.ACTION_MEMBER_UNBANNED_MESSAGE,S.getName(),se.getName());break;case P.ActionConstatnts.ACTION_KEYS.ACTION_SCOPE_CHANGED:S=Q.getActionBy(),se=Q.getActionOn();var ue=Q.getNewScope();$=F.format(P.ActionConstatnts.ActionMessages.ACTION_MEMBER_SCOPE_CHANGED,S.getName(),se.getName(),ue);break;case P.ActionConstatnts.ACTION_KEYS.TYPE_MEMBER_ADDED:S=Q.getActionBy(),se=Q.getActionOn(),$=F.format(P.ActionConstatnts.ActionMessages.ACTION_MEMBER_ADDED_TO_GROUP,S.getName(),se.getName());break;case P.ActionConstatnts.ACTION_KEYS.TYPE_MESSAGE_EDITED:$=F.format(P.ActionConstatnts.ActionMessages.ACTION_MESSAGE_EDITED_MESSAGE,"");break;case P.ActionConstatnts.ACTION_KEYS.TYPE_MESSAGE_DELETED:$=F.format(P.ActionConstatnts.ActionMessages.ACTION_MESSAGE_DELETED_MESSAGE,"")}}return $},j.prototype.getSenderFromData=function(){var Q=this.data[P.ActionConstatnts.ACTION_KEYS.ENTITIES];if(Q[P.ActionConstatnts.ACTION_SUBJECTS.ACTION_BY]&&Q[P.ActionConstatnts.ACTION_SUBJECTS.ACTION_BY][P.ActionConstatnts.ACTION_KEYS.ENTITY_TYPE]==P.ActionConstatnts.ACTION_ENTITY_TYPE.USER){var $=new I.User(Q[P.ActionConstatnts.ACTION_SUBJECTS.ACTION_BY][P.ActionConstatnts.ACTION_KEYS.ENTITY]);return Object.assign($,Q[P.ActionConstatnts.ACTION_SUBJECTS.ACTION_BY][P.ActionConstatnts.ACTION_KEYS.ENTITY]),$}},j.TYPE=P.MessageConstatnts.TYPE,j.RECEIVER_TYPE=P.MessageConstatnts.RECEIVER_TYPE,j.CATEGORY=P.MessageConstatnts.CATEGORY,j.ACTION_TYPE=P.ActionConstatnts.ACTION_TYPE,j}(N.BaseMessage);y.Action=M},function(ft,y,c){"use strict";var d,v=this&&this.__extends||(d=function(M,x){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(j,Q){j.__proto__=Q}||function(j,Q){for(var $ in Q)Q.hasOwnProperty($)&&(j[$]=Q[$])})(M,x)},function(M,x){function j(){this.constructor=M}d(M,x),M.prototype=null===x?Object.create(x):(j.prototype=x.prototype,new j)}),w=this&&this.__assign||function(){return(w=Object.assign||function(M){for(var x,j=1,Q=arguments.length;j<Q;j++)for(var $ in x=arguments[j])Object.prototype.hasOwnProperty.call(x,$)&&(M[$]=x[$]);return M}).apply(this,arguments)};y.__esModule=!0,y.Call=void 0;var N=c(7),A=c(8),I=c(1),P=c(0),F=c(4),C=function(M){function x(j,Q,$,S){return P.isFalsy(S)?M.call(this,j,Q,$,I.MessageCategory.CALL)||this:M.call(this,j,Q,$,S)||this}return v(x,M),x.prototype.getCallInitiator=function(){return this.getCallInitiatedByFromData()},x.prototype.setCallInitiator=function(j){this.callInitiator=j},x.prototype.getCallReceiver=function(){return this.getCallReceivedByFromData()},x.prototype.setCallReceiver=function(j){this.callReceiver=j},x.prototype.getData=function(){return this.data},x.prototype.setData=function(j){this.data=j},x.prototype.getSessionId=function(){return this.sessionId},x.prototype.setSessionId=function(j){this.sessionId=j},x.prototype.getMetadata=function(){return this.data.metadata&&(this.metadata=this.data.metadata),this.metadata},x.prototype.setMetadata=function(j){this.metadata=j,this.data=w(w({},this.data),{metadata:j})},x.prototype.getSender=function(){try{return this.getSenderFromData()}catch{return this.sender}},x.prototype.getAction=function(){return this.action},x.prototype.setAction=function(j){this.action=j},x.prototype.getInitiatedAt=function(){return this.initiatedAt},x.prototype.setInitiatedAt=function(j){this.initiatedAt=j},x.prototype.getJoinedAt=function(){return this.joinedAt},x.prototype.setJoinedAt=function(j){this.joinedAt=j},x.prototype.getRawData=function(){return this.rawData},x.prototype.setRawData=function(j){this.rawData=j},x.callFromJSON=function(j){try{var Q=new this(j[I.MessageConstatnts.KEYS.RECEIVER],j[I.MessageConstatnts.KEYS.TYPE],j[I.MessageConstatnts.KEYS.RECEIVER_TYPE],I.MessageCategory.CALL),$=j[I.MessageConstatnts.KEYS.DATA];Q.setAction($[I.MessageConstatnts.KEYS.ACTION]),$[I.MessageConstatnts.KEYS.METADATA]&&Q.setMetadata($[I.MessageConstatnts.KEYS.METADATA]);var S=$[I.ActionConstatnts.ACTION_KEYS.ENTITIES];if(S[I.ActionConstatnts.ACTION_SUBJECTS.ACTION_ON]){var se=S[I.ActionConstatnts.ACTION_SUBJECTS.ACTION_ON];if(se[I.CallConstants.CALL_KEYS.CALL_ENTITY]){var ue=se[I.CallConstants.CALL_KEYS.CALL_ENTITY];if(ue[I.CallConstants.CALL_KEYS.CALL_SESSION_ID]&&(Q.sessionId=ue[I.CallConstants.CALL_KEYS.CALL_SESSION_ID]),ue[I.CallConstants.CALL_KEYS.CALL_STATUS]&&(Q.status=ue[I.CallConstants.CALL_KEYS.CALL_STATUS]),ue[I.CallConstants.CALL_KEYS.CALL_DATA]){var Be=ue[I.CallConstants.CALL_KEYS.CALL_DATA];Be[I.CallConstants.CALL_KEYS.CALL_METADATA]&&(Q.metadata=Be[I.CallConstants.CALL_KEYS.CALL_METADATA])}ue[I.CallConstants.CALL_KEYS.CALL_INITIATED_AT]&&(Q.initiatedAt=ue[I.CallConstants.CALL_KEYS.CALL_INITIATED_AT]),ue[I.CallConstants.CALL_KEYS.CALL_JOINED_AT]&&(Q.joinedAt=ue[I.CallConstants.CALL_KEYS.CALL_JOINED_AT]),ue[I.CallConstants.CALL_KEYS.CALL_LEFT_AT]&&(Q.joinedAt=ue[I.CallConstants.CALL_KEYS.CALL_LEFT_AT])}}return Q}catch(me){P.Logger.error("CallModel: callFromJSON",me)}},x.prototype.getSenderFromData=function(){try{var j=this.getData();if((j=j[I.ActionConstatnts.ACTION_KEYS.ENTITIES])[I.ActionConstatnts.ACTION_SUBJECTS.ACTION_BY][I.CallConstants.CALL_KEYS.CALL_ENTITY])return new F.User(j[I.ActionConstatnts.ACTION_SUBJECTS.ACTION_BY][I.CallConstants.CALL_KEYS.CALL_ENTITY])}catch(Q){P.Logger.error("CallModel:getSenderFromData",Q)}},x.prototype.getCallInitiatedByFromData=function(){try{var j=this.getData();if((j=j[I.ActionConstatnts.ACTION_KEYS.ENTITIES])[I.ActionConstatnts.ACTION_SUBJECTS.ACTION_ON][I.CallConstants.CALL_KEYS.CALL_ENTITY][I.CallConstants.CALL_KEYS.CALL_DATA][I.ActionConstatnts.ACTION_KEYS.ENTITIES][I.CallConstants.CALL_KEYS.CALL_SENDER])return new F.User(j[I.ActionConstatnts.ACTION_SUBJECTS.ACTION_ON][I.CallConstants.CALL_KEYS.CALL_ENTITY][I.CallConstants.CALL_KEYS.CALL_DATA][I.ActionConstatnts.ACTION_KEYS.ENTITIES][I.CallConstants.CALL_KEYS.CALL_SENDER][I.CallConstants.CALL_KEYS.CALL_ENTITY])}catch(Q){P.Logger.error("CallModel:getCallInitiatedByFromData",Q)}},x.prototype.getCallReceivedByFromData=function(){try{var j=this.getData();if((j=j[I.ActionConstatnts.ACTION_KEYS.ENTITIES])[I.ActionConstatnts.ACTION_SUBJECTS.ACTION_FOR][I.CallConstants.CALL_KEYS.CALL_ENTITY]){if(j[I.ActionConstatnts.ACTION_SUBJECTS.ACTION_FOR][I.CallConstants.CALL_KEYS.CALL_ENTITY_TYPE]==I.CallConstants.CALL_KEYS.CALL_ENTITY_USER)return new F.User(j[I.ActionConstatnts.ACTION_SUBJECTS.ACTION_FOR][I.CallConstants.CALL_KEYS.CALL_ENTITY]);var Q=new A.Group(j[I.ActionConstatnts.ACTION_SUBJECTS.ACTION_FOR][I.CallConstants.CALL_KEYS.CALL_ENTITY][I.GroupConstants.KEYS.GUID],j[I.ActionConstatnts.ACTION_SUBJECTS.ACTION_FOR][I.CallConstants.CALL_KEYS.CALL_ENTITY][I.GroupConstants.KEYS.NAME],j[I.ActionConstatnts.ACTION_SUBJECTS.ACTION_FOR][I.CallConstants.CALL_KEYS.CALL_ENTITY][I.GroupConstants.KEYS.TYPE]);return Object.assign(Q,j[I.ActionConstatnts.ACTION_SUBJECTS.ACTION_FOR][I.CallConstants.CALL_KEYS.CALL_ENTITY])}}catch($){P.Logger.error("CallModel:getCallReceivedByFromData",$)}},x.TYPE=I.MessageConstatnts.TYPE,x.RECEIVER_TYPE=I.MessageConstatnts.RECEIVER_TYPE,x.CATEGORY=I.MessageConstatnts.CATEGORY,x.ACTION_TYPE=I.ActionConstatnts.ACTION_TYPE,x}(N.BaseMessage);y.Call=C},function(ft,y,c){"use strict";y.__esModule=!0,y.MessageReceipt=void 0;var d=function(){function v(){this.RECEIPT_TYPE={READ_RECEIPT:"read",DELIVERY_RECEIPT:"delivery"},this.receiptType=this.RECEIPT_TYPE.DELIVERY_RECEIPT}return v.prototype.getReceiverType=function(){return this.receiverType},v.prototype.setReceiverType=function(w){this.receiverType=w},v.prototype.getSender=function(){return this.sender},v.prototype.setSender=function(w){this.sender=w},v.prototype.getReceiver=function(){return this.receiver},v.prototype.setReceiver=function(w){this.receiver=w},v.prototype.getTimestamp=function(){return this.timestamp},v.prototype.setTimestamp=function(w){this.timestamp=w},v.prototype.setReadAt=function(w){this.readAt=w},v.prototype.getReadAt=function(){return this.readAt},v.prototype.setDeliveredAt=function(w){this.deliveredAt=w},v.prototype.getDeliveredAt=function(){return this.deliveredAt},v.prototype.getMessageId=function(){return this.messageId},v.prototype.setMessageId=function(w){this.messageId=w},v.prototype.getReceiptType=function(){return this.receiptType},v.prototype.setReceiptType=function(w){void 0===w&&(w=this.RECEIPT_TYPE.DELIVERY_RECEIPT),this.receiptType=w},v}();y.MessageReceipt=d},function(ft,y,c){"use strict";var d,v=this&&this.__extends||(d=function(me,Ne){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Se,Re){Se.__proto__=Re}||function(Se,Re){for(var Xe in Re)Re.hasOwnProperty(Xe)&&(Se[Xe]=Re[Xe])})(me,Ne)},function(me,Ne){function Se(){this.constructor=me}d(me,Ne),me.prototype=null===Ne?Object.create(Ne):(Se.prototype=Ne.prototype,new Se)});y.__esModule=!0,y.WSConnectionListener=y.UserLoginListener=y.CallsListener=y.UserCallListener=y.GroupsListener=y.UsersListener=y.MessagesListener=y.Listener=y.ConnectionListener=y.LoginListener=y.OngoingCallListener=y.GroupListener=y.UserListener=y.CallListener=y.MessageListener=void 0;var w=c(0);y.MessageListener=function(){for(var me=[],Ne=0;Ne<arguments.length;Ne++)me[Ne]=arguments[Ne];this.onTextMessageReceived=void 0,this.onMediaMessageReceived=void 0,this.onCustomMessageReceived=void 0,this.onTypingStarted=void 0,this.onTypingEnded=void 0,this.onMessagesDelivered=void 0,this.onMessagesRead=void 0,this.onMessageEdited=void 0,this.onMessageDeleted=void 0,this.onTransientMessageReceived=void 0,w.isFalsy(me[0].onTextMessageReceived)||(this.onTextMessageReceived=me[0].onTextMessageReceived),w.isFalsy(me[0].onMediaMessageReceived)||(this.onMediaMessageReceived=me[0].onMediaMessageReceived),w.isFalsy(me[0].onTypingStarted)||(this.onTypingStarted=me[0].onTypingStarted),w.isFalsy(me[0].onTypingEnded)||(this.onTypingEnded=me[0].onTypingEnded),w.isFalsy(me[0].onMessagesDelivered)||(this.onMessagesDelivered=me[0].onMessagesDelivered),w.isFalsy(me[0].onMessagesRead)||(this.onMessagesRead=me[0].onMessagesRead),w.isFalsy(me[0].onCustomMessageReceived)||(this.onCustomMessageReceived=me[0].onCustomMessageReceived),w.isFalsy(me[0].onMessageEdited)||(this.onMessageEdited=me[0].onMessageEdited),w.isFalsy(me[0].onMessageDeleted)||(this.onMessageDeleted=me[0].onMessageDeleted),w.isFalsy(me[0].onTransientMessageReceived)||(this.onTransientMessageReceived=me[0].onTransientMessageReceived)};y.CallListener=function(){for(var me=[],Ne=0;Ne<arguments.length;Ne++)me[Ne]=arguments[Ne];this.onIncomingCallReceived=void 0,this.onOutgoingCallAccepted=void 0,this.onOutgoingCallRejected=void 0,this.onIncomingCallCancelled=void 0,this.onCallEndedMessageReceived=void 0,w.isFalsy(me[0].onIncomingCallReceived)||(this.onIncomingCallReceived=me[0].onIncomingCallReceived),w.isFalsy(me[0].onOutgoingCallAccepted)||(this.onOutgoingCallAccepted=me[0].onOutgoingCallAccepted),w.isFalsy(me[0].onOutgoingCallRejected)||(this.onOutgoingCallRejected=me[0].onOutgoingCallRejected),w.isFalsy(me[0].onIncomingCallCancelled)||(this.onIncomingCallCancelled=me[0].onIncomingCallCancelled),w.isFalsy(me[0].onCallEndedMessageReceived)||(this.onCallEndedMessageReceived=me[0].onCallEndedMessageReceived)};y.UserListener=function(){for(var me=[],Ne=0;Ne<arguments.length;Ne++)me[Ne]=arguments[Ne];w.isFalsy(me[0].onUserOnline)||(this.onUserOnline=me[0].onUserOnline),w.isFalsy(me[0].onUserOffline)||(this.onUserOffline=me[0].onUserOffline)};y.GroupListener=function(){for(var me=[],Ne=0;Ne<arguments.length;Ne++)me[Ne]=arguments[Ne];w.isFalsy(me[0].onGroupMemberJoined)||(this.onGroupMemberJoined=me[0].onGroupMemberJoined),w.isFalsy(me[0].onGroupMemberLeft)||(this.onGroupMemberLeft=me[0].onGroupMemberLeft),w.isFalsy(me[0].onGroupMemberKicked)||(this.onGroupMemberKicked=me[0].onGroupMemberKicked),w.isFalsy(me[0].onGroupMemberBanned)||(this.onGroupMemberBanned=me[0].onGroupMemberBanned),w.isFalsy(me[0].onGroupMemberUnbanned)||(this.onGroupMemberUnbanned=me[0].onGroupMemberUnbanned),w.isFalsy(me[0].onGroupMemberScopeChanged)||(this.onGroupMemberScopeChanged=me[0].onGroupMemberScopeChanged),w.isFalsy(me[0].onMemberAddedToGroup)||(this.onGroupMemberAddedToGroup=me[0].onMemberAddedToGroup)};y.OngoingCallListener=function(){for(var me=[],Ne=0;Ne<arguments.length;Ne++)me[Ne]=arguments[Ne];w.isFalsy(me[0].onYouLeft)||(this.onYouLeft=me[0].onYouLeft),w.isFalsy(me[0].onYouJoined)||(this.onYouJoined=me[0].onYouJoined),w.isFalsy(me[0].onUserJoined)||(this.onUserJoined=me[0].onUserJoined),w.isFalsy(me[0].onUserLeft)||(this.onUserLeft=me[0].onUserLeft),w.isFalsy(me[0].onUserListUpdated)||(this.onUserListUpdated=me[0].onUserListUpdated),w.isFalsy(me[0].onMediaDeviceListUpdated)||(this.onMediaDeviceListUpdated=me[0].onMediaDeviceListUpdated),w.isFalsy(me[0].onRecordingStarted)||(this.onRecordingStarted=me[0].onRecordingStarted),w.isFalsy(me[0].onRecordingStopped)||(this.onRecordingStopped=me[0].onRecordingStopped),w.isFalsy(me[0].onScreenShareStarted)||(this.onScreenShareStarted=me[0].onScreenShareStarted),w.isFalsy(me[0].onScreenShareStopped)||(this.onScreenShareStopped=me[0].onScreenShareStopped),w.isFalsy(me[0].onUserMuted)||(this.onUserMuted=me[0].onUserMuted),w.isFalsy(me[0].onCallSwitchedToVideo)||(this.onCallSwitchedToVideo=me[0].onCallSwitchedToVideo),w.isFalsy(me[0].onCallEnded)||(this.onCallEnded=me[0].onCallEnded),w.isFalsy(me[0].onError)||(this.onError=me[0].onError)};y.LoginListener=function(){for(var me=[],Ne=0;Ne<arguments.length;Ne++)me[Ne]=arguments[Ne];w.isFalsy(me[0].loginSuccess)||(this.loginSuccess=me[0].loginSuccess),w.isFalsy(me[0].loginFailure)||(this.loginFailure=me[0].loginFailure),w.isFalsy(me[0].logoutSuccess)||(this.logoutSuccess=me[0].logoutSuccess),w.isFalsy(me[0].logoutFailure)||(this.logoutFailure=me[0].logoutFailure)};y.ConnectionListener=function(){for(var me=[],Ne=0;Ne<arguments.length;Ne++)me[Ne]=arguments[Ne];this.onConnected=void 0,this.inConnecting=void 0,this.onDisconnected=void 0,this.onFeatureThrottled=void 0,w.isFalsy(me[0].onConnected)||(this.onConnected=me[0].onConnected),w.isFalsy(me[0].inConnecting)||(this.inConnecting=me[0].inConnecting),w.isFalsy(me[0].onDisconnected)||(this.onDisconnected=me[0].onDisconnected),w.isFalsy(me[0].onFeatureThrottled)||(this.onFeatureThrottled=me[0].onFeatureThrottled)};var x=function(me,Ne){this._name=me,this._callback=Ne},j=function(me){function Ne(Se,Re,Xe,it){var We=me.call(this,Se,it)||this;return We._eventListener=Re,Xe&&(We._cursor=Xe),We}return v(Ne,me),Ne}(y.Listener=x);y.MessagesListener=j;var Q=function(me){function Ne(Se,Re,Xe,it){var We=me.call(this,Se,it)||this;return We._eventListener=Re,Xe&&(We._cursor=Xe),We}return v(Ne,me),Ne}(x);y.UsersListener=Q;var $=function(me){function Ne(Se,Re,Xe,it){var We=me.call(this,Se,it)||this;return We._eventListener=Re,Xe&&(We._cursor=Xe),We}return v(Ne,me),Ne}(x);y.GroupsListener=$;var S=function(me){function Ne(Se,Re,Xe){var it=me.call(this,"callListner",Xe)||this;return it._eventListener=Se,it}return v(Ne,me),Ne}(x);y.UserCallListener=S;var se=function(me){function Ne(Se,Re,Xe,it){var We=me.call(this,Se,it)||this;return We._eventListener=Re,We}return v(Ne,me),Ne}(x);y.CallsListener=se;var ue=function(me){function Ne(Se,Re,Xe,it){var We=me.call(this,Se,it)||this;return We._eventListener=Re,Xe&&(We._cursor=Xe),We}return v(Ne,me),Ne}(x);y.UserLoginListener=ue;var Be=function(me){function Ne(Se,Re,Xe,it){var We=me.call(this,Se,it)||this;return We._eventListener=Re,Xe&&(We._cursor=Xe),We}return v(Ne,me),Ne}(x);y.WSConnectionListener=Be},function(ft,y,c){"use strict";y.__esModule=!0,y.ConversationController=void 0;var d=c(35),v=c(0),w=function(){function N(){}return N.trasformJSONConversation=function(A,I,P,F,C,M){var x;try{x=new d.Conversation(A,I,P,F,C,M)}catch(j){v.Logger.error("ConversationController:transformJSONConversation",j)}return x},N}();y.ConversationController=w},function(ft,y,c){"use strict";y.__esModule=!0,y.MessageListnerMaping=void 0;var d=c(0),v=c(1),w=c(12),N=c(3),A=function(){function I(P){this.store=v.constants.DEFAULT_STORE,d.isFalsy(P)||(this.store=P),this.settingsStore=w.createInstance({name:d.format(v.LOCAL_STORE.STORE_STRING,N.CometChat.getAppId(),v.LOCAL_STORE.MESSAGE_LISTENERS_LIST)}),this.settingsStore.setDriver([w.LOCALSTORAGE,w.INDEXEDDB,w.WEBSQL])}return I.getInstance=function(){return null==I.settingsStore&&(I.settingsStore=new I),I.settingsStore},I.prototype.set=function(P,F){return this.settingsStore.setItem(P,F)},I.prototype.remove=function(P){this.settingsStore.removeItem(P)},I.prototype.get=function(P){return this.settingsStore.getItem(P)},I.prototype.clearStore=function(){return this.settingsStore.clear()},I.prototype.clear=function(P){},I.prototype.selectStore=function(P){this.store=P},I.settingsStore=null,I}();y.MessageListnerMaping=A},function(ft,y,c){"use strict";y.__esModule=!0,y.TypingIndicator=void 0;var d=function(){function v(w,N,A){this.receiverId=w,this.receiverType=N,this.metadata=A}return v.prototype.getReceiverType=function(){return this.receiverType},v.prototype.setReceiverType=function(w){this.receiverType=w},v.prototype.getReceiverId=function(){return this.receiverId},v.prototype.setReceiverId=function(w){this.receiverId=w},v.prototype.getMetadata=function(){return this.metadata},v.prototype.setMetadata=function(w){this.metadata=w},v.prototype.getSender=function(){return this.sender},v.prototype.setSender=function(w){this.sender=w},v}();y.TypingIndicator=d},function(ft,y,c){"use strict";y.__esModule=!0,y.TransientMessage=void 0;var d=function(){function v(w,N,A){this.receiverId=w,this.receiverType=N,this.data=A||{}}return v.prototype.getReceiverId=function(){return this.receiverId},v.prototype.setReceiverId=function(w){this.receiverId=w},v.prototype.getReceiverType=function(){return this.receiverType},v.prototype.setReceiverType=function(w){this.receiverType=w},v.prototype.getData=function(){return this.data},v.prototype.setData=function(w){this.data=w},v.prototype.getSender=function(){return this.sender},v.prototype.setSender=function(w){this.sender=w},v}();y.TransientMessage=d},function(ft,y,c){"use strict";y.__esModule=!0,y.EndpointFactory=void 0;var d=c(0),v=c(1),w=c(14),N=c(3),A=c(2),I=function(){function P(){this.baseUrl="https://%s.apiclient-%s.cometchat.io/",this.apiVersion=v.APPINFO.apiVersion,this.adminApiUrl="https://%s.api-%s.cometchat.io/",this.adminApiVersion=v.APPINFO.apiVersion,this.extensionApi="https://%s-%s.%s/%s",this.prosodyApi="https://%s.%s/%s",this.wsApi="https://%s/%s",this.uriEndpoints={authToken:{endpoint:"users/{{uid}}/auth_tokens",method:"POST",data:{uid:"string|max:100"},isAdminApi:!0},appSettings:{endpoint:"settings",method:"GET"},login:{endpoint:"admin/users/auth",method:"POST",data:{uid:"string|max:100"}},logout:{endpoint:"admin/users/auth/{{authToken}}",method:"DELETE"},getMyDetails:{endpoint:"me",method:"GET"},updateMyDetails:{endpoint:"me",method:"PUT"},getJWT:{endpoint:"me/jwt",method:"POST"},users:{endpoint:"users",method:"GET"},user:{endpoint:"users/{{uid}}",method:"GET"},blockUsers:{endpoint:"blockedusers",method:"POST"},blockedUsersList:{endpoint:"blockedusers",method:"GET"},unblockUsers:{endpoint:"blockedusers",method:"DELETE"},userLogout:{endpoint:"me",method:"DELETE"},createUser:{endpoint:"users",method:"POST",isAdminApi:!0},updateUser:{endpoint:"users/{{uid}}",method:"PUT",isAdminApi:!0},sendFriendRequests:{endpoint:"user/friends",method:"POST",data:{uids:"array<string|max:100>"}},getFriends:{endpoint:"user/friends",method:"GET"},unfriend:{endpoint:"user/friends/{{uid}}/{{gid}}",method:"DELETE",data:{uids:"array<string|max:100>"}},acceptFriendRequest:{endpoint:"user/friends/{{uid}}/accept",method:"PUT",data:{uids:"array<string|max:100>"}},rejectFriendRequest:{endpoint:"user/friends/{{uid}}/reject",method:"DELETE",data:{uids:"array<string|max:100>"}},createGroup:{endpoint:"groups",method:"POST",data:{guid:"required|string|max:100",name:"required|string|max:100",type:"enum|public,protected,password",password:"filled|string|max:100"}},getGroups:{endpoint:"groups",method:"GET"},getGroup:{endpoint:"groups/{{guid}}",method:"GET"},updateGroup:{endpoint:"groups/{{guid}}",method:"PUT"},deleteGroup:{endpoint:"groups/{{guid}}",method:"DELETE"},addGroupMembers:{endpoint:"groups/{{guid}}/members",method:"POST",data:{uids:"array<string|max:100>"}},getGroupMembers:{endpoint:"groups/{{guid}}/members",method:"GET"},joinGroup:{endpoint:"groups/{{guid}}/members",method:"POST"},leaveGroup:{endpoint:"groups/{{guid}}/members",method:"DELETE"},kickGroupMembers:{endpoint:"groups/{{guid}}/members/{{uid}}",method:"DELETE",data:{uids:"array<string|max:100>"}},changeScopeOfMember:{endpoint:"groups/{{guid}}/members/{{uid}}",method:"PUT",data:{uids:"array<string|max:100>"}},banGroupMember:{endpoint:"groups/{{guid}}/bannedusers/{{uid}}",method:"POST",data:{uids:"array<string|max:100>"}},unbanGroupMember:{endpoint:"groups/{{guid}}/bannedusers/{{uid}}",method:"DELETE",data:{uids:"array<string|max:100>"}},addMemebersToGroup:{endpoint:"groups/{{guid}}/members",method:"PUT"},getBannedGroupMembers:{endpoint:"groups/{{guid}}/bannedusers",method:"GET"},promotemoteGroupMember:{endpoint:"groups/{{guid}}/promote",method:"PUT",data:{uids:"array<string|max:100>"}},demoteGroupMember:{endpoint:"groups/{{guid}}/demote",method:"DELETE",data:{uids:"array<string|max:100>"}},transferOwnership:{endpoint:"groups/{{guid}}/owner",method:"PATCH"},sendMessage:{endpoint:"messages",method:"POST",data:{sender:"array:string:max:100>",isGroupMember:"filled|boolean|bail",data:"required|json"}},sendMessageInThread:{endpoint:"messages/{{parentId}}/thread",method:"POST",data:{sender:"array:string:max:100>",isGroupMember:"filled|boolean|bail",data:"required|json"}},getMessages:{endpoint:"messages",method:"GET"},getMessageDetails:{endpoint:"messages/{{messageId}}",method:"GET"},getUserMessages:{endpoint:"users/{{listId}}/messages",method:"GET"},getGroupMessages:{endpoint:"groups/{{listId}}/messages",method:"GET"},getThreadMessages:{endpoint:"messages/{{listId}}/thread",method:"GET"},getMessage:{endpoint:"user/messages/{{muid}}",method:"GET"},updateMessage:{endpoint:"messages/{{messageId}}",method:"PUT"},deleteMessage:{endpoint:"messages/{{messageId}}",method:"DELETE"},createCallSession:{endpoint:"calls",method:"POST",data:{}},updateCallSession:{endpoint:"calls/{{sessionid}}",method:"put",data:{}},getConversations:{endpoint:"conversations",method:"GET"},getUserConversation:{endpoint:"users/{{uid}}/conversation",method:"GET"},getGroupConversation:{endpoint:"groups/{{guid}}/conversation",method:"GET"},deleteUserConversation:{endpoint:"users/{{uid}}/conversation",method:"DELETE"},deleteGroupConversation:{endpoint:"groups/{{guid}}/conversation",method:"DELETE"},updateUserConversation:{endpoint:"users/{{uid}}/conversation",method:"PUT"},updateGroupConversation:{endpoint:"groups/{{guid}}/conversation",method:"PUT"},updateCallType:{endpoint:"calls/{{sessionid}}/type",method:"PATCH"}}}return P.prototype.getEndpointData=function(F){return new Promise(function(C,M){try{var x=N.CometChat.appSettings.getAdminHost(),j=N.CometChat.appSettings.getClientHost();w.LocalStorage.getInstance().get(v.LOCAL_STORE.KEY_APP_SETTINGS).then(function(Q){if(d.isFalsy(Q)){var $={};if((new P).uriEndpoints.hasOwnProperty(F))if(($=(new P).uriEndpoints[F]).hasOwnProperty("isAdminApi"))if(d.isFalsy(x)){var S=d.format((new P).adminApiUrl,N.CometChat.getAppId(),N.CometChat.appSettings.getRegion())+(new P).adminApiVersion+"/"+$.endpoint;$.endpoint=S,C($)}else $.endpoint=S="https://"+x+"/"+$.endpoint,C($);else d.isFalsy(j)?(S=d.format((new P).baseUrl,N.CometChat.getAppId(),N.CometChat.appSettings.getRegion())+(new P).apiVersion+"/"+$.endpoint,$.endpoint=S,C($)):($.endpoint=S="https://"+j+"/"+$.endpoint,C($))}else if($={},(new P).uriEndpoints.hasOwnProperty(F))if(($=(new P).uriEndpoints[F]).hasOwnProperty("isAdminApi")){var se="https://"+Q[v.APP_SETTINGS.KEYS.ADMIN_API_HOST]+"/"+Q[v.APP_SETTINGS.KEYS.CHAT_API_VERSION]+"/"+$.endpoint;$.endpoint=se,C($)}else $.endpoint=se="https://"+Q[v.APP_SETTINGS.KEYS.CLIENT_API_HOST]+"/"+Q[v.APP_SETTINGS.KEYS.CHAT_API_VERSION]+"/"+$.endpoint,C($)},function(Q){var $;if((new P).uriEndpoints.hasOwnProperty(F))if(($=(new P).uriEndpoints[F]).hasOwnProperty(["isAdminApi"]))if(d.isFalsy(x)){var S=d.format((new P).adminApiUrl,N.CometChat.getAppId(),N.CometChat.appSettings.getRegion())+(new P).adminApiVersion+"/"+$.endpoint;$.endpoint=S,C($)}else $.endpoint="https://"+x+"/"+$.endpoint,C($);else d.isFalsy(j)?(S=d.format((new P).baseUrl,N.CometChat.getAppId(),N.CometChat.appSettings.getRegion())+(new P).apiVersion+"/"+$.endpoint,$.endpoint=S,C($)):($.endpoint="https://"+j+"/"+$.endpoint,C($))})}catch(Q){M(new A.CometChatException(Q))}})},P}();y.EndpointFactory=I},function(ft,y,c){"use strict";y.__esModule=!0,y.getEndPoint=void 0;var d=c(28),v=c(2);y.getEndPoint=function(w,N){void 0===w&&(w=""),void 0===N&&(N={});var A=new d.EndpointFactory;return new Promise(function(I,P){try{A.getEndpointData(w).then(function(F){var C=F;if(C){for(var M in N)C.endpoint=C.endpoint.replace("{{"+M+"}}",N[M]);I(C)}else P({error:"Unknown endPoint name."})})}catch(F){P(new v.CometChatException(F))}})}},function(ft,y,c){"use strict";y.__esModule=!0,y.KeyStore=void 0;var d=c(3),v=c(0),w=c(1),N=c(12),A=c(2),I=function(){function P(F){this.store=w.constants.DEFAULT_STORE,v.isFalsy(F)||(this.store=F),this.keyStore=N.createInstance({name:v.format(w.LOCAL_STORE.STORE_STRING,d.CometChat.getAppId(),w.LOCAL_STORE.KEYS_STORE)}),this.keyStore.setDriver([N.LOCALSTORAGE,N.INDEXEDDB,N.WEBSQL])}return P.getInstance=function(){return null==P.KeyStore&&(P.KeyStore=new P),P.KeyStore},P.prototype.set=function(F,C){return this.keyStore.setItem(F,C)},P.prototype.remove=function(F){this.keyStore.removeItem(F)},P.prototype.get=function(F){var C=this;return new Promise(function(M,x){try{C.keyStore.getItem(F).then(function(j){try{M(JSON.parse(j))}catch{M(j)}},function(j){x(j)})}catch(j){x(new A.CometChatException(j))}})},P.prototype.clearStore=function(){return this.keyStore.clear()},P}();y.KeyStore=I},function(ft,y,c){"use strict";y.__esModule=!0,y.CallController=void 0;var d=c(1),v=c(0),w=c(3),N=c(2),A=c(23),I=c(32),P=c(4),F=c(6),C=function(){function M(){this.TAG="calling Log",this.CALL_NO_ANSWER_INTERVAL=45e3,this.view=void 0,this.isDev=!1}return M.prototype.getCallListner=function(){return M.callListner},M.prototype.setCallListner=function(x){M.callListner=new A.UserCallListener(x)},M.getInstance=function(){try{return null!=this.callController&&null!=this.callController||(this.callController=new M),this.callController}catch(x){v.Logger.error("CallController: getInstance",x)}},M.prototype.getActiveCall=function(){try{return v.isFalsy(this.call)?null:this.call}catch(x){v.Logger.error("CallController: getActiveCall",x)}},M.prototype.initiateCall=function(x){var j=this;return new Promise(function(Q,$){try{v.isFalsy(j.call)?null!=x&&null!=x?(j.call=x,j.startCallTimer(),Q(x)):$(new N.CometChatException(d.CALL_ERROR.ERROR_IN_CALLING)):$(new N.CometChatException(d.CALL_ERROR.CALL_ALREADY_INITIATED))}catch(S){$(new N.CometChatException(S))}})},M.prototype.endCall=function(x){var j=this;try{document.getElementsByName("frame").forEach(function(Q){j.view&&(j.view.removeChild(Q),j.view=void 0)}),this.endCallSession()}catch(Q){v.Logger.error("CallController: endCall",Q)}},M.prototype.onCallStarted=function(x){var j=this;return new Promise(function(Q,$){try{v.isFalsy(j.call)?null!=x&&null!=x?Q(j.call=x):$(new N.CometChatException(d.CALL_ERROR.ERROR_IN_CALLING)):$(new N.CometChatException(d.CALL_ERROR.CALL_ALREADY_INITIATED))}catch(S){$(new N.CometChatException(S))}})},M.prototype.endCallSession=function(){try{this.call=void 0,M.callController=void 0,this.timer&&this.stopCallTimer(),this.view=void 0,this.removeListener(),M.callScreen=null,M.callSettings=null}catch(x){v.Logger.error("CallController:EndCallSession",{e:x})}},M.prototype.startCallTimer=function(){var x=this;try{this.timer=setTimeout(function(){x.call?w.CometChat.sendUnansweredResponse(x.call.getSessionId()).then(function(j){x.endCallSession()},function(j){x.endCallSession()}):x.endCallSession()},this.CALL_NO_ANSWER_INTERVAL)}catch(j){v.Logger.error("CallController: startCallTimer",j)}},M.prototype.stopCallTimer=function(){try{clearTimeout(this.timer)}catch(x){v.Logger.error("CallController: stopCallTimer",x)}},M.prototype.startCall=function(x,j){var Q=this;try{this.timer&&this.stopCallTimer();var $=document.createElement("iframe");this.getCallUrl().then(function(S){$.src=S+"",$.name="frame",$.setAttribute("allow","camera; microphone; display-capture;"),$.setAttribute("width","100%"),$.setAttribute("height","100%"),M.callScreen=$,M.callSettings=x,j&&(Q.view=j),j.appendChild($),Q.addListener()})}catch(S){v.Logger.error("CallController: startCall",S)}},M.prototype.addListener=function(){window.addEventListener("message",this.handler,!0)},M.prototype.removeListener=function(){window.removeEventListener("message",this.handler,!0)},M.prototype.handler=function(x){var j,Q=this,$=M.callSettings,S=M.callScreen,se=M.getInstance().getActiveCall();try{if(void 0!==(j=JSON.parse(x.data))&&j.type==d.CallConstants.POST_MESSAGES.TYPES.HANGUP)M.deviceList=null,se?(v.Logger.info(this.TAG,M.callListner),window.setTimeout(function(){w.CometChat.endCall(se.getSessionId(),!0).then(function(Ye){v.Logger.info(Q.TAG,{call:Ye})}).catch(function(Ye){v.Logger.info(Q.TAG,"The Call Was Already Ended")})},1e3)):w.CometChat.endCall($.getSessionId(),!0).then(function(Ye){v.Logger.info(Q.TAG,{call:Ye})}).catch(function(Ye){v.Logger.info(Q.TAG,"The Call Was Already Ended")});else if(void 0!==j&&j.type==d.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE&&j.action==d.CallConstants.POST_MESSAGES.ACTIONS.USER_JOINED){if(j.value){var ue=void 0,Be=j.value;v.isFalsy(Be.uid)||v.isFalsy(Be.name)||((ue=new P.User(Be)).setStatus("online"),w.CometChat.user.getUid().toLowerCase()!=ue.getUid().toLowerCase()&&M.callListner&&(v.isFalsy(M.callListner._eventListener.onUserJoined)||M.callListner._eventListener.onUserJoined(ue)))}}else if(void 0!==j&&j.type==d.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE&&j.action==d.CallConstants.POST_MESSAGES.ACTIONS.USER_LEFT)j.value&&(ue=void 0,v.isFalsy((Be=j.value).uid)||v.isFalsy(Be.name)||((ue=new P.User(Be)).setStatus("online"),w.CometChat.user.getUid().toLowerCase()!=ue.getUid().toLowerCase()&&M.callListner&&(v.isFalsy(M.callListner._eventListener.onUserLeft)||M.callListner._eventListener.onUserLeft(ue))));else if(void 0!==j&&j.type==d.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE&&j.action==d.CallConstants.POST_MESSAGES.ACTIONS.USER_LIST_CHANGED){var me=[];j.value&&0<j.value.length&&(j.value.map(function(Ye){if(!v.isFalsy(Ye.uid)&&!v.isFalsy(Ye.name)){var rt=new P.User(Ye);rt.setStatus("online"),me.push(rt)}}),M.callListner&&(v.isFalsy(M.callListner._eventListener.onUserListUpdated)||M.callListner._eventListener.onUserListUpdated(me)))}else if(void 0!==j&&j.type==d.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE&&j.action==d.CallConstants.POST_MESSAGES.ACTIONS.INITIAL_DEVICE_LIST)v.Logger.info("initialDeviceList received in SDK = ",j),j.value&&(M.deviceList=j.value);else if(void 0!==j&&j.type==d.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE&&j.action==d.CallConstants.POST_MESSAGES.ACTIONS.DEVICE_CHANGE){if(v.Logger.info("onDeviceChange received in SDK = ",j),j.value){var Ne=M.getAvailableDeviceObject(M.deviceList=j.value);M.callListner&&(v.isFalsy(M.callListner._eventListener.onMediaDeviceListUpdated)||M.callListner._eventListener.onMediaDeviceListUpdated(Ne))}}else if(void 0!==j&&j.type==d.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE&&j.action==d.CallConstants.POST_MESSAGES.ACTIONS.RECORDING_TOGGLED){if(v.Logger.info("onRecordingToggled received in SDK = ",j),j.value&&(We=j.value).hasOwnProperty("user")&&We.hasOwnProperty("recordingStarted")&&!v.isFalsy(We.user.uid)&&!v.isFalsy(We.user.name)){var Se=new P.User(We.user);Se.setStatus("online"),M.callListner&&(We.recordingStarted?v.isFalsy(M.callListner._eventListener.onRecordingStarted)||M.callListner._eventListener.onRecordingStarted(Se):v.isFalsy(M.callListner._eventListener.onRecordingStopped)||M.callListner._eventListener.onRecordingStopped(Se))}}else if(void 0!==j&&j.type==d.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE&&j.action==d.CallConstants.POST_MESSAGES.ACTIONS.USER_MUTED){if(v.Logger.info("onUserMuted received in SDK = ",j),j.value&&(We=j.value).hasOwnProperty("muted")&&We.hasOwnProperty("mutedBy")&&!v.isFalsy(We.muted.uid)&&!v.isFalsy(We.muted.name)&&!v.isFalsy(We.mutedBy.uid)&&!v.isFalsy(We.mutedBy.name)){var Xe=new P.User(We.muted);Xe.setStatus("online");var it=new P.User(We.mutedBy);it.setStatus("online"),M.callListner&&(v.isFalsy(M.callListner._eventListener.onUserMuted)||M.callListner._eventListener.onUserMuted(Xe,it))}}else if(void 0!==j&&j.type==d.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE&&j.action==d.CallConstants.POST_MESSAGES.ACTIONS.SCREEN_SHARE_STARTED)M.callListner&&(v.isFalsy(M.callListner._eventListener.onScreenShareStarted)||M.callListner._eventListener.onScreenShareStarted(null));else if(void 0!==j&&j.type==d.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE&&j.action==d.CallConstants.POST_MESSAGES.ACTIONS.SCREEN_SHARE_STOPPED)M.callListner&&(v.isFalsy(M.callListner._eventListener.onScreenShareStopped)||M.callListner._eventListener.onScreenShareStopped(null));else if(void 0!==j&&j.type==d.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE&&j.action==d.CallConstants.POST_MESSAGES.ACTIONS.SWITCHED_TO_VIDEO_CALL){if(j.value){var We=j.value;if(v.Logger.info("onCallSwitchedToVideo received in SDK = ",We),We.hasOwnProperty("initiator")&&We.hasOwnProperty("sessionId")&&!v.isFalsy(We.initiator.uid)&&!v.isFalsy(We.sessionId)&&We.hasOwnProperty("accepted")&&!v.isFalsy(We.accepted.uid)){var Je=We.sessionId,xe=new P.User(We.initiator);xe.setStatus("online");var Ke=new P.User(We.accepted);if(Ke.setStatus("online"),M.getInstance().getCallListner()&&(v.isFalsy(M.getInstance().getCallListner()._eventListener.onCallSwitchedToVideo)||M.getInstance().getCallListner()._eventListener.onCallSwitchedToVideo(Je,xe,Ke)),We.initiator.uid.toLowerCase()===w.CometChat.user.getUid().toLowerCase()&&!We.sessionId.includes("v1."))try{F.makeApiCall("updateCallType",{sessionid:Je},{type:"video"}).then(function(Ye){},function(Ye){v.Logger.error("CallController :: onSwitchedToVideo",Ye)})}catch(Ye){v.Logger.error("CallController :: onSwitchedToVideo",Ye)}}}}else void 0!==j&&j.type&&j.action&&j.type==d.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE&&j.action==d.CallConstants.POST_MESSAGES.ACTIONS.LOAD&&null!=S.contentWindow&&S.contentWindow.postMessage({type:d.CallConstants.POST_MESSAGES.TYPES.COMETCHAT_RTC_SETTINGS,callsettings:JSON.stringify($)},"*")}catch(Ye){j=void 0,v.Logger.error("CallController: startCall",Ye)}},M.prototype.getCallUrl=function(){var x=this;return new Promise(function(Q,$){try{x.isDev?Q("https://rtc-test.cometchat.io/?v="+d.CALLING_COMPONENT_VERSION):v.getAppSettings().then(function(S){Q("https://"+S[d.APP_SETTINGS.KEYS.WEBRTC_WEB_FRONTEND_HOST]+"/?v="+d.CALLING_COMPONENT_VERSION)})}catch(S){$(new N.CometChatException(S))}})},M.getAvailableDeviceArray=function(x){var j=[];try{return x&&0<x.length&&x.map(function(Q){j.push(new I.MediaDevice(Q.deviceId,Q.label,Q.active))}),j}catch(Q){return v.Logger.error("CallController: getAvailableDeviceArray",Q),j}},M.getAvailableDeviceObject=function(x){var j=[],Q=[],$=[];try{return v.isFalsy(x)||v.isFalsy(x[d.CallConstants.AUDIO_INPUT_DEVICES])||(j=M.getAvailableDeviceArray(x[d.CallConstants.AUDIO_INPUT_DEVICES])),v.isFalsy(x)||v.isFalsy(x[d.CallConstants.AUDIO_OUTPUT_DEVICES])||(Q=M.getAvailableDeviceArray(x[d.CallConstants.AUDIO_OUTPUT_DEVICES])),v.isFalsy(x)||v.isFalsy(x[d.CallConstants.VIDEO_INPUT_DEVICES])||($=M.getAvailableDeviceArray(x[d.CallConstants.VIDEO_INPUT_DEVICES])),{audioInputDevices:j,audioOutputDevices:Q,videoInputDevices:$}}catch(S){return v.Logger.error("CallController: getAvailableDeviceObject",S),{audioInputDevices:j,audioOutputDevices:Q,videoInputDevices:$}}},M.prototype.getAudioInputDevices=function(){var x=[];try{return v.isFalsy(M.deviceList)||v.isFalsy(M.deviceList[d.CallConstants.AUDIO_INPUT_DEVICES])||(x=M.getAvailableDeviceArray(M.deviceList[d.CallConstants.AUDIO_INPUT_DEVICES])),x}catch(j){return v.Logger.error("CallController: getAudioInputDevices",j),x}},M.prototype.getAudioOutputDevices=function(){var x=[];try{return v.isFalsy(M.deviceList)||v.isFalsy(M.deviceList[d.CallConstants.AUDIO_OUTPUT_DEVICES])||(x=M.getAvailableDeviceArray(M.deviceList[d.CallConstants.AUDIO_OUTPUT_DEVICES])),x}catch(j){return v.Logger.error("CallController: getAudioOutputDevices",j),x}},M.prototype.getVideoInputDevices=function(){var x=[];try{return v.isFalsy(M.deviceList)||v.isFalsy(M.deviceList[d.CallConstants.VIDEO_INPUT_DEVICES])||(x=M.getAvailableDeviceArray(M.deviceList[d.CallConstants.VIDEO_INPUT_DEVICES])),x}catch(j){return v.Logger.error("CallController: getVideoInputDevices",j),x}},M.prototype.setAudioInputDevice=function(x){try{if(M.callScreen&&!v.isFalsy(x)){var j=M.getAvailableDeviceArray(M.deviceList[d.CallConstants.AUDIO_INPUT_DEVICES]).filter(function(Q){return Q[d.CallConstants.MEDIA_DEVICE.ID]===x&&!Q[d.CallConstants.MEDIA_DEVICE.ACTIVE]});j&&0<j.length&&M.callScreen.contentWindow.postMessage({type:d.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE,action:d.CallConstants.POST_MESSAGES.ACTIONS.CHANGE_AUDIO_INPUT,value:x},"*")}}catch(Q){v.Logger.error("CallController: setAudioInputDevice",Q)}},M.prototype.setAudioOutputDevice=function(x){try{if(M.callScreen&&!v.isFalsy(x)){var j=M.getAvailableDeviceArray(M.deviceList[d.CallConstants.AUDIO_OUTPUT_DEVICES]).filter(function(Q){return Q[d.CallConstants.MEDIA_DEVICE.ID]===x&&!Q[d.CallConstants.MEDIA_DEVICE.ACTIVE]});j&&0<j.length&&M.callScreen.contentWindow.postMessage({type:d.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE,action:d.CallConstants.POST_MESSAGES.ACTIONS.CHANGE_AUDIO_OUTPUT,value:x},"*")}}catch(Q){v.Logger.error("CallController: setAudioOutputDevice",Q)}},M.prototype.setVideoInputDevice=function(x){try{if(M.callScreen&&!v.isFalsy(x)){var j=M.getAvailableDeviceArray(M.deviceList[d.CallConstants.VIDEO_INPUT_DEVICES]).filter(function(Q){return Q[d.CallConstants.MEDIA_DEVICE.ID]===x&&!Q[d.CallConstants.MEDIA_DEVICE.ACTIVE]});j&&0<j.length&&M.callScreen.contentWindow.postMessage({type:d.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE,action:d.CallConstants.POST_MESSAGES.ACTIONS.CHANGE_VIDEO_INPUT,value:x},"*")}}catch(Q){v.Logger.error("CallController: setVideoInputDevice",Q)}},M.prototype.muteAudio=function(x){try{M.callScreen&&M.callScreen.contentWindow.postMessage(x?{type:d.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE,action:d.CallConstants.POST_MESSAGES.ACTIONS.MUTE_AUDIO}:{type:d.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE,action:d.CallConstants.POST_MESSAGES.ACTIONS.UNMUTE_AUDIO},"*")}catch(j){v.Logger.error("CallController: muteAudio",j)}},M.prototype.pauseVideo=function(x){try{M.callScreen&&M.callScreen.contentWindow.postMessage(x?{type:d.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE,action:d.CallConstants.POST_MESSAGES.ACTIONS.PAUSE_VIDEO}:{type:d.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE,action:d.CallConstants.POST_MESSAGES.ACTIONS.UNPAUSE_VIDEO},"*")}catch(j){v.Logger.error("CallController: pauseVideo",j)}},M.prototype.setMode=function(x){try{M.callScreen&&!v.isFalsy(x)&&(x=x.toUpperCase(),-1<Object.values(d.CallConstants.CALL_MODE).indexOf(x)&&x!=d.CallConstants.CALL_MODE.SINGLE&&M.callScreen.contentWindow.postMessage({type:d.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE,action:d.CallConstants.POST_MESSAGES.ACTIONS.SWITCH_MODE,value:x},"*"))}catch(j){v.Logger.error("CallController: setMode",j)}},M.prototype.startScreenShare=function(){try{M.callScreen&&M.callScreen.contentWindow.postMessage({type:d.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE,action:d.CallConstants.POST_MESSAGES.ACTIONS.START_SCREENSHARE},"*")}catch(x){v.Logger.error("CallController: startScreenShare",x)}},M.prototype.stopScreenShare=function(){try{M.callScreen&&M.callScreen.contentWindow.postMessage({type:d.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE,action:d.CallConstants.POST_MESSAGES.ACTIONS.STOP_SCREENSHARE},"*")}catch(x){v.Logger.error("CallController: stopScreenShare",x)}},M.prototype.startRecording=function(){try{M.callScreen&&M.callScreen.contentWindow.postMessage({type:d.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE,action:d.CallConstants.POST_MESSAGES.ACTIONS.START_RECORDING},"*")}catch(x){v.Logger.error("CallController: startRecording",x)}},M.prototype.stopRecording=function(){try{M.callScreen&&M.callScreen.contentWindow.postMessage({type:d.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE,action:d.CallConstants.POST_MESSAGES.ACTIONS.STOP_RECORDING},"*")}catch(x){v.Logger.error("CallController: stopRecording",x)}},M.prototype.switchToVideoCall=function(){try{M.callScreen&&M.callScreen.contentWindow.postMessage({type:d.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE,action:d.CallConstants.POST_MESSAGES.ACTIONS.SWITCH_TO_VIDEO_CALL},"*")}catch(x){v.Logger.error("CallController: switchToVideoCall",x)}},M.prototype.openVirtualBackground=function(){try{M.callScreen&&M.callScreen.contentWindow.postMessage({type:d.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE,action:d.CallConstants.POST_MESSAGES.ACTIONS.OPEN_VIRTUAL_BACKGROUND},"*")}catch(x){v.Logger.error("CallController: openVirtualBackground",x)}},M.prototype.setBackgroundBlur=function(x){try{M.callScreen&&M.callScreen.contentWindow.postMessage({type:d.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE,action:d.CallConstants.POST_MESSAGES.ACTIONS.SET_BACKGROUND_BLUR,value:x},"*")}catch(j){v.Logger.error("CallController: openVirtualBackground",j)}},M.prototype.setBackgroundImage=function(x){try{M.callScreen&&M.callScreen.contentWindow.postMessage({type:d.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE,action:d.CallConstants.POST_MESSAGES.ACTIONS.SET_BACKGROUND_IMAGE,value:x},"*")}catch(j){v.Logger.error("CallController: openVirtualBackground",j)}},M.prototype.endSession=function(){try{M.callScreen&&M.callScreen.contentWindow.postMessage({type:d.CallConstants.POST_MESSAGES.TYPES.ACTION_MESSAGE,action:d.CallConstants.POST_MESSAGES.ACTIONS.END_CALL},"*")}catch(x){v.Logger.error("CallController: endSession",x)}},M.callController=void 0,M.callListner=void 0,M}();y.CallController=C},function(ft,y,c){"use strict";y.__esModule=!0,y.MediaDevice=void 0;var d=c(0),v=function(){function w(N,A,I){this.id="",this.name="",this.active=!1,d.isFalsy(N)||(this.id=N),d.isFalsy(A)||(this.name=A),this.active=!!I}return w.prototype.getId=function(){return this.id},w.prototype.setId=function(N){this.id=N||""},w.prototype.getName=function(){return this.name},w.prototype.setName=function(N){this.name=N||""},w.prototype.getIsActive=function(){return this.active},w.prototype.setIsActive=function(N){this.active=!!N},w}();y.MediaDevice=v},function(ft,y,c){"use strict";y.__esModule=!0,y.GroupMembersController=void 0;var d=c(34),v=c(1),w=c(0),N=function(){function A(){}return A.trasformJSONGroupMember=function(I){var P;try{return I.status=I.status&&"offline"!==I.status?"online":"offline",P=new d.GroupMember(I[v.GroupMemersConstans.KEYS.UID]),Object.assign(P,I),P}catch(F){return w.Logger.error("GroupMembersController:trasformJSONGroupMember",{e:F,groupMember:I}),I}},A}();y.GroupMembersController=N},function(ft,y,c){"use strict";var d,v=this&&this.__extends||(d=function(I,P){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(F,C){F.__proto__=C}||function(F,C){for(var M in C)C.hasOwnProperty(M)&&(F[M]=C[M])})(I,P)},function(I,P){function F(){this.constructor=I}d(I,P),I.prototype=null===P?Object.create(P):(F.prototype=P.prototype,new F)});y.__esModule=!0,y.GroupMember=void 0;var w=c(4),N=c(1),A=function(I){function P(F,C){var M=I.call(this,F)||this;return M.joinedAt=0,C&&(M.scope=C),M}return v(P,I),P.prototype.setScope=function(F){this.scope=F},P.prototype.setJoinedAt=function(F){this.joinedAt=F},P.prototype.setGuid=function(F){this.guid=F},P.prototype.getScope=function(){return this.scope},P.prototype.getJoinedAt=function(){return this.joinedAt},P.prototype.getGuid=function(){return this.guid},P.GroupMemberScope=N.GroupMemberScope,P}(w.User);y.GroupMember=A},function(ft,y,c){"use strict";y.__esModule=!0,y.Conversation=void 0;var d=c(10),v=c(1),w=c(11),N=c(15),A=function(){function I(P,F,C,M,x,j){this.conversationId=P,this.conversationType=F,j&&0<j.length&&(this.tags=j),void 0!==C&&void 0!==(this.lastMessage=C).id&&(this.lastMessage=d.MessageController.trasformJSONMessge(C)),this.conversationWith=this.conversationType==v.MessageConstatnts.RECEIVER_TYPE.USER?w.UsersController.trasformJSONUser(M):N.GroupsController.trasformJSONGroup(M),this.unreadMessageCount=void 0!==x?x:0}return I.prototype.setConversationId=function(P){this.conversationId=P},I.prototype.setConversationType=function(P){this.conversationType=P},I.prototype.setLastMessage=function(P){this.lastMessage=P},I.prototype.setConversationWith=function(P){this.conversationWith=P},I.prototype.setUnreadMessageCount=function(P){this.unreadMessageCount=P},I.prototype.getConversationId=function(){return this.conversationId},I.prototype.getConversationType=function(){return this.conversationType},I.prototype.getLastMessage=function(){return this.lastMessage},I.prototype.getConversationWith=function(){return this.conversationWith},I.prototype.getUnreadMessageCount=function(){return this.unreadMessageCount},I.prototype.getTags=function(){return this.tags},I}();y.Conversation=A},function(ft,y,c){"use strict";y.__esModule=!0,y.TypingNotificationController=void 0;var d=c(0),v=function(){function w(){}return w.addTypingStarted=function(N){this.TYPING_STARTED_MAP[N]=d.getCurrentTime()},w.removeTypingStarted=function(N){delete this.TYPING_STARTED_MAP[N]},w.getTypingStartedMap=function(N){if(N)return this.TYPING_STARTED_MAP[N]},w.addTypingEnded=function(N){this.TYPING_ENDED_MAP[N]=d.getCurrentTime()},w.removeTypingEnded=function(N){delete this.TYPING_ENDED_MAP[N]},w.getTypingEndedMap=function(N){if(N)return this.TYPING_ENDED_MAP[N]},w.addIncomingTypingStarted=function(N){this.INCOMING_TYPING_STARTED_MAP[N.getReceiverId()]={typingNotification:N,timestamp:d.getCurrentTime()}},w.removeIncomingTypingStarted=function(N){delete this.INCOMING_TYPING_STARTED_MAP[N.getReceiverId()]},w.TYPING_STARTED_MAP={},w.TYPING_ENDED_MAP={},w.INCOMING_TYPING_STARTED_MAP={},w}();y.TypingNotificationController=v},function(ft,y,c){"use strict";var d=this&&this.__spreadArrays||function(){for(var A=0,I=0,P=arguments.length;I<P;I++)A+=arguments[I].length;var F=Array(A),C=0;for(I=0;I<P;I++)for(var M=arguments[I],x=0,j=M.length;x<j;x++,C++)F[C]=M[x];return F};y.__esModule=!0,y.ListenerHandlers=void 0;var v=c(0),w=c(23),N=function(){function A(){this.connectionHandlers=[],this.loginHandlers=[],this.messageHandlers=[],this.userHandlers=[],this.groupHandlers=[],this.callHandlers=[]}return A.getInstance=function(){return null!=this.listenerHandlers&&null!=this.listenerHandlers||(this.listenerHandlers=new A),this.listenerHandlers},A.prototype.addConnectionEventListener=function(I,P){try{this.connectionHandlers=this.connectionHandlers.filter(function(F){return F._name!=I}),this.connectionHandlers=d(this.connectionHandlers,[new w.WSConnectionListener(I,P)])}catch(F){v.Logger.error("ListenerHandlers: addWSConnectionEventListener",F)}},A.prototype.removeConnectionEventListener=function(I){try{this.connectionHandlers=this.connectionHandlers.filter(function(P){return P._name!==I})}catch(P){v.Logger.error("ListenerHandlers: removeWSConnectionEventListener",P)}},A.prototype.addLoginEventListener=function(I,P){try{this.loginHandlers=this.loginHandlers.filter(function(F){return F._name!=I}),this.loginHandlers=d(this.loginHandlers,[new w.UserLoginListener(I,P)])}catch(F){v.Logger.error("ListenerHandlers: addLoginEventListener",F)}},A.prototype.removeLoginEventListener=function(I){try{this.loginHandlers=this.loginHandlers.filter(function(P){return P._name!==I})}catch(P){v.Logger.error("ListenerHandlers: removeLoginEventListener",P)}},A.prototype.addMessageEventListener=function(I,P){try{this.messageHandlers=this.messageHandlers.filter(function(F){return F._name!=I}),this.messageHandlers=d(this.messageHandlers,[new w.MessagesListener(I,P)])}catch(F){v.Logger.error("ListenerHandlers: addMessageEventListener",F)}},A.prototype.removeMessageEventListener=function(I){try{this.messageHandlers=this.messageHandlers.filter(function(P){return P._name!==I})}catch(P){v.Logger.error("ListenerHandlers: removeMessageEventListener",P)}},A.prototype.addUserEventListener=function(I,P){try{this.userHandlers=this.userHandlers.filter(function(F){return F._name!=I}),this.userHandlers=d(this.userHandlers,[new w.UsersListener(I,P)])}catch(F){v.Logger.error("ListenerHandlers: addUserEventListener",F)}},A.prototype.removeUserEventListener=function(I){try{this.userHandlers=this.userHandlers.filter(function(P){return P._name!==I})}catch(P){v.Logger.error("ListenerHandlers: removeUserEventListener",P)}},A.prototype.addGroupEventListener=function(I,P){try{this.groupHandlers=this.groupHandlers.filter(function(F){return F._name!=I}),this.groupHandlers=d(this.groupHandlers,[new w.GroupsListener(I,P)])}catch(F){v.Logger.error("ListenerHandlers: addGroupEventListener",F)}},A.prototype.removeGroupEventListener=function(I){try{this.groupHandlers=this.groupHandlers.filter(function(P){return P._name!==I})}catch(P){v.Logger.error("ListenerHandlers: removeGroupEventListener",P)}},A.prototype.addCallEventListener=function(I,P){try{this.callHandlers=this.callHandlers.filter(function(F){return F._name!=I}),this.callHandlers=d(this.callHandlers,[new w.CallsListener(I,P)])}catch(F){v.Logger.error("ListenerHandlers: addCallEventListener",F)}},A.prototype.removeCallEventListener=function(I){try{this.callHandlers=this.callHandlers.filter(function(P){return P._name!==I})}catch(P){v.Logger.error("ListenerHandlers: removeCallEventListener",P)}},A.listenerHandlers=new A,A}();y.ListenerHandlers=N},function(ft,y,c){"use strict";y.__esModule=!0,y.CometChat=y.init=void 0;var d=c(3);y.init=function(v){return d.CometChat.getInstance(v)},y.CometChat=d.CometChat},function(ft,y){var c;c=function(){return this}();try{c=c||new Function("return this")()}catch{"object"==typeof window&&(c=window)}ft.exports=c},function(ft,y,c){"use strict";y.__esModule=!0,y.GroupsRequestBuilder=y.GroupsRequest=void 0;var d=c(6),v=c(0),w=c(2),N=c(15),A=c(1),I=function(){function F(C){this.cursor=-1,this.total=-1,this.next_page=1,this.last_page=-1,this.current_page=1,this.total_pages=-1,this.hasJoined=0,this.withTags=!1,this.pagination={total:0,count:0,per_page:0,current_page:0,total_pages:0,links:[]},v.isFalsy(C)||(v.isFalsy(C.limit)||(this.limit=C.limit),v.isFalsy(C.searchKeyword)||(this.searchKeyword=C.searchKeyword),v.isFalsy(C.hasJoined)||(this.hasJoined=1),v.isFalsy(C.tags)||(this.tags=C.tags),v.isFalsy(C.showTags)||(this.withTags=C.showTags))}return F.prototype.validateGroupBuilder=function(){if(void 0===this.limit)return new w.CometChatException(JSON.parse(v.format(JSON.stringify(A.GENERAL_ERROR.METHOD_COMPULSORY),"SET_LIMIT","SET_LIMIT","Set Limit")));if(isNaN(this.limit))return new w.CometChatException(JSON.parse(v.format(JSON.stringify(A.GENERAL_ERROR.PARAMETER_MUST_BE_A_NUMBER),"SET_LIMIT","SET_LIMIT","setLimit()")));if(this.limit>A.DEFAULT_VALUES.GROUPS_MAX_LIMIT)return new w.CometChatException(JSON.parse(v.format(JSON.stringify(A.GENERAL_ERROR.LIMIT_EXCEEDED),"SET_LIMIT","SET_LIMIT",A.DEFAULT_VALUES.GROUPS_MAX_LIMIT)));if(this.limit<A.DEFAULT_VALUES.ZERO)return new w.CometChatException(JSON.parse(v.format(JSON.stringify(A.GENERAL_ERROR.PARAMETER_MUST_BE_A_POSITIVE_NUMBER),"SET_LIMIT","SET_LIMIT","setLimit()")));if(void 0!==this.searchKeyword){if(typeof this.searchKeyword!==A.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new w.CometChatException(JSON.parse(v.format(JSON.stringify(A.GENERAL_ERROR.PARAMETER_MUST_BE_A_STRING),"SET_SEARCH_KEYWORD","SET_SEARCH_KEYWORD","setSearchKeyword()")));if(v.isFalsy(this.searchKeyword.trim()))return new w.CometChatException(JSON.parse(v.format(JSON.stringify(A.GENERAL_ERROR.INVALID),"SET_SEARCH_KEYWORD","SET_SEARCH_KEYWORD","search keyword","search keyword")));this.searchKeyword=this.searchKeyword.trim()}if(void 0!==this.withTags){if(typeof this.withTags!==A.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.BOOLEAN)return new w.CometChatException(JSON.parse(v.format(JSON.stringify(A.GENERAL_ERROR.PARAMETER_MUST_BE_A_BOOLEAN),"WITH_TAGS","WITH_TAGS","withTags()")));this.withTags=1==this.withTags}return void 0===this.tags||Array.isArray(this.tags)?void 0:new w.CometChatException(JSON.parse(v.format(JSON.stringify(A.GENERAL_ERROR.PARAMETER_MUST_BE_AN_ARRAY),"TAGS","TAGS","setTags()")))},F.prototype.fetchNext=function(){var C=this;return new Promise(function(M,x){try{var j=C.validateGroupBuilder();if(j instanceof w.CometChatException)return void x(j);d.makeApiCall("getGroups",{},C.getNextData()).then(function(Q){if(Q.meta&&(C.total_pages=Q.meta.pagination.total_pages),0<Q.data.length){C.pagination=Q.meta.pagination;var $=[];Q.data.map(function(S,se){$.push(N.GroupsController.trasformJSONGroup(S))}),M($)}M([])},function(Q){x(new w.CometChatException(Q.error))})}catch(Q){x(new w.CometChatException(Q))}})},F.prototype.getNextData=function(){var C={};if(C.per_page=this.limit,v.isFalsy(this.searchKeyword)||(C.searchKey=this.searchKeyword),v.isFalsy(this.hasJoined)||(C.hasJoined=1),v.isFalsy(this.tags)||(C.tags=this.tags),v.isFalsy(this.withTags)||(C.withTags=1),1==this.current_page)C.page=this.next_page,this.next_page++,this.current_page++;else{if(this.next_page>this.total_pages)return C.page=this.next_page,C;C.page=this.next_page++}return C},F.MAX_LIMIT=100,F.DEFAULT_LIMIT=30,F}();y.GroupsRequest=I;var P=function(){function F(){}return F.prototype.setLimit=function(C){return this.limit=C,this},F.prototype.setSearchKeyword=function(C){return this.searchKeyword=C,this},F.prototype.joinedOnly=function(C){return this.hasJoined=C,this},F.prototype.setTags=function(C){return this.tags=C,this},F.prototype.withTags=function(C){return this.showTags=C,this},F.prototype.build=function(){return new I(this)},F}();y.GroupsRequestBuilder=P},function(ft,y,c){"use strict";y.__esModule=!0,y.GroupMembersRequestBuilder=y.GroupMembersRequest=void 0;var d=c(6),v=c(0),w=c(14),N=c(2),A=c(33),I=c(1),P=function(){function C(M){this.cursor=-1,this.total=-1,this.next_page=1,this.last_page=-1,this.current_page=1,this.total_pages=-1,this.pagination={total:0,count:0,per_page:0,current_page:0,total_pages:0,links:[]},this.store=w.LocalStorage.getInstance(),v.isFalsy(M)||(this.limit=M.limit,this.guid=M.guid,v.isFalsy(M.searchKeyword)||(this.searchKeyword=M.searchKeyword),v.isFalsy(M.scopes)||(this.scopes=M.scopes))}return C.prototype.validateGroupMembersBuilder=function(){if(void 0===this.limit)return new N.CometChatException(JSON.parse(v.format(JSON.stringify(I.GENERAL_ERROR.METHOD_COMPULSORY),"SET_LIMIT","SET_LIMIT","Set Limit")));if(isNaN(this.limit))return new N.CometChatException(JSON.parse(v.format(JSON.stringify(I.GENERAL_ERROR.PARAMETER_MUST_BE_A_NUMBER),"SET_LIMIT","SET_LIMIT","setLimit()")));if(this.limit>I.DEFAULT_VALUES.USERS_MAX_LIMIT)return new N.CometChatException(JSON.parse(v.format(JSON.stringify(I.GENERAL_ERROR.LIMIT_EXCEEDED),"SET_LIMIT","SET_LIMIT",I.DEFAULT_VALUES.USERS_MAX_LIMIT)));if(this.limit<I.DEFAULT_VALUES.ZERO)return new N.CometChatException(JSON.parse(v.format(JSON.stringify(I.GENERAL_ERROR.PARAMETER_MUST_BE_A_POSITIVE_NUMBER),"SET_LIMIT","SET_LIMIT","setLimit()")));if(void 0!==this.searchKeyword){if(typeof this.searchKeyword!==I.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new N.CometChatException(JSON.parse(v.format(JSON.stringify(I.GENERAL_ERROR.PARAMETER_MUST_BE_A_STRING),"SET_SEARCH_KEYWORD","SET_SEARCH_KEYWORD","setSearchKeyword()")));if(v.isFalsy(this.searchKeyword.trim()))return new N.CometChatException(JSON.parse(v.format(JSON.stringify(I.GENERAL_ERROR.INVALID),"SET_SEARCH_KEYWORD","SET_SEARCH_KEYWORD","search keyword","search keyword")));this.searchKeyword=this.searchKeyword.trim()}if(void 0!==this.guid){if(typeof this.guid!==I.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new N.CometChatException(JSON.parse(v.format(JSON.stringify(I.GENERAL_ERROR.PARAMETER_MUST_BE_A_STRING),"GUID","GUID","GroupMembersRequestBuilder()")));if(v.isFalsy(this.guid))return new N.CometChatException(JSON.parse(v.format(JSON.stringify(I.GENERAL_ERROR.INVALID),"GUID","GUID","GUID","GUID")))}return void 0===this.scopes||Array.isArray(this.scopes)?void 0:new N.CometChatException(JSON.parse(v.format(JSON.stringify(I.GENERAL_ERROR.PARAMETER_MUST_BE_AN_ARRAY),"SET_SCOPES","SET_SCOPES","setScopes()")))},C.prototype.fetchNext=function(){var M=this;return new Promise(function(x,j){try{var Q=M.validateGroupMembersBuilder();if(Q instanceof N.CometChatException)return void j(Q);d.makeApiCall("getGroupMembers",{guid:M.guid},M.getNextData()).then(function($){if($.meta&&(M.total_pages=$.meta.pagination.total_pages),0<$.data.length){M.pagination=$.meta.pagination;var S=[];$.data.map(function(se){se.guid=M.guid,S.push(A.GroupMembersController.trasformJSONGroupMember(se))}),x(S)}else x([])},function($){j(new N.CometChatException($.error))})}catch($){j(new N.CometChatException($))}})},C.prototype.getNextData=function(){var M={};if(M.per_page=this.limit,v.isFalsy(this.searchKeyword)||(M.searchKey=this.searchKeyword),v.isFalsy(this.scopes)||(M.scopes=this.scopes),1==this.current_page)M.page=this.next_page,this.next_page++,this.current_page++;else{if(this.next_page>this.total_pages)return M.page=this.next_page,M;M.page=this.next_page++}return M},C.MAX_LIMIT=2,C.DEFAULT_LIMIT=1,C}();y.GroupMembersRequest=P;var F=function(){function C(M){this.guid=M}return C.prototype.setLimit=function(M){return this.limit=M,this},C.prototype.setSearchKeyword=function(M){return this.searchKeyword=M,this},C.prototype.setScopes=function(M){return this.scopes=M,this},C.prototype.build=function(){return new P(this)},C}();y.GroupMembersRequestBuilder=F},function(ft,y,c){"use strict";y.__esModule=!0,y.BannedMembersRequestBuilder=y.BannedMembersRequest=void 0;var d=c(6),v=c(0),w=c(2),N=c(33),A=c(1),I=function(){function F(C){this.cursor=-1,this.total=-1,this.next_page=1,this.last_page=-1,this.current_page=1,this.total_pages=-1,this.pagination={total:0,count:0,per_page:0,current_page:0,total_pages:0,links:[]},v.isFalsy(C)||(this.limit=C.limit,this.guid=C.guid,v.isFalsy(C.searchKeyword)||(this.searchKeyword=C.searchKeyword),v.isFalsy(C.scopes)||(this.scopes=C.scopes))}return F.prototype.validateBannedMembersBuilder=function(){if(void 0===this.limit)return new w.CometChatException(JSON.parse(v.format(JSON.stringify(A.GENERAL_ERROR.METHOD_COMPULSORY),"SET_LIMIT","SET_LIMIT","Set Limit")));if(isNaN(this.limit))return new w.CometChatException(JSON.parse(v.format(JSON.stringify(A.GENERAL_ERROR.PARAMETER_MUST_BE_A_NUMBER),"SET_LIMIT","SET_LIMIT","setLimit()")));if(this.limit>A.DEFAULT_VALUES.USERS_MAX_LIMIT)return new w.CometChatException(JSON.parse(v.format(JSON.stringify(A.GENERAL_ERROR.LIMIT_EXCEEDED),"SET_LIMIT","SET_LIMIT",A.DEFAULT_VALUES.USERS_MAX_LIMIT)));if(this.limit<A.DEFAULT_VALUES.ZERO)return new w.CometChatException(JSON.parse(v.format(JSON.stringify(A.GENERAL_ERROR.PARAMETER_MUST_BE_A_POSITIVE_NUMBER),"SET_LIMIT","SET_LIMIT","setLimit()")));if(void 0!==this.searchKeyword){if(typeof this.searchKeyword!==A.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new w.CometChatException(JSON.parse(v.format(JSON.stringify(A.GENERAL_ERROR.PARAMETER_MUST_BE_A_STRING),"SET_SEARCH_KEYWORD","SET_SEARCH_KEYWORD","setSearchKeyword()")));if(v.isFalsy(this.searchKeyword.trim()))return new w.CometChatException(JSON.parse(v.format(JSON.stringify(A.GENERAL_ERROR.INVALID),"SET_SEARCH_KEYWORD","SET_SEARCH_KEYWORD","search keyword","search keyword")));this.searchKeyword=this.searchKeyword.trim()}if(void 0!==this.guid){if(typeof this.guid!==A.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new w.CometChatException(JSON.parse(v.format(JSON.stringify(A.GENERAL_ERROR.PARAMETER_MUST_BE_A_STRING),"GUID","GUID","GroupMembersRequestBuilder()")));if(v.isFalsy(this.guid))return new w.CometChatException(JSON.parse(v.format(JSON.stringify(A.GENERAL_ERROR.INVALID),"GUID","GUID","GUID","GUID")))}return void 0===this.scopes||Array.isArray(this.scopes)?void 0:new w.CometChatException(JSON.parse(v.format(JSON.stringify(A.GENERAL_ERROR.PARAMETER_MUST_BE_AN_ARRAY),"SET_SCOPES","SET_SCOPES","setScopes()")))},F.prototype.fetchNext=function(){var C=this;return new Promise(function(M,x){try{var j=C.validateBannedMembersBuilder();if(j instanceof w.CometChatException)return void x(j);d.makeApiCall("getBannedGroupMembers",{guid:C.guid},C.getNextData()).then(function(Q){if(Q.meta&&(C.total_pages=Q.meta.pagination.total_pages),0<Q.data.length){C.pagination=Q.meta.pagination;var $=[];Q.data.map(function(S){S.guid=C.guid,$.push(N.GroupMembersController.trasformJSONGroupMember(S))}),M($)}else M([])},function(Q){x(new w.CometChatException(Q.error))})}catch(Q){x(new w.CometChatException(Q))}})},F.prototype.getNextData=function(){var C={};if(C.per_page=this.limit,v.isFalsy(this.searchKeyword)||(C.searchKey=this.searchKeyword),v.isFalsy(this.scopes)||(C.scopes=this.scopes),1==this.current_page)C.page=this.next_page,this.next_page++,this.current_page++;else{if(this.next_page>this.total_pages)return C.page=this.next_page,C;C.page=this.next_page++}return C},F.MAX_LIMIT=2,F.DEFAULT_LIMIT=1,F}();y.BannedMembersRequest=I;var P=function(){function F(C){this.guid=C}return F.prototype.setLimit=function(C){return this.limit=C,this},F.prototype.setSearchKeyword=function(C){return this.searchKeyword=C,this},F.prototype.setScopes=function(C){return this.scopes=C,this},F.prototype.build=function(){return new I(this)},F}();y.BannedMembersRequestBuilder=P},function(ft,y,c){"use strict";y.__esModule=!0,y.UsersRequestBuilder=y.UsersRequest=void 0;var d=c(6),v=c(0),w=c(11),N=c(2),A=c(44),I=c(1),P=function(){function C(M){this.next_page=1,this.current_page=1,this.total_pages=-1,this.hideBlockedUsers=!1,this.friendsOnly=!1,this.fetchingInProgress=!1,this.withTags=!1,this.pagination={total:0,count:0,per_page:0,current_page:0,total_pages:0,links:[]},C.userStore=A.UserStore.getInstance(),v.isFalsy(M)||(this.limit=M.limit,v.isFalsy(M.searchKeyword)||(this.searchKeyword=M.searchKeyword),v.isFalsy(M.status)||(this.status=M.status==C.USER_STATUS.ONLINE?I.PresenceConstatnts.STATUS.AVAILABLE:M.status),v.isFalsy(M.shouldHideBlockedUsers)||(this.hideBlockedUsers=M.shouldHideBlockedUsers),v.isFalsy(M.showFriendsOnly)||(this.friendsOnly=M.showFriendsOnly),v.isFalsy(M.showTags)||(this.withTags=M.showTags),v.isFalsy(M.role)||(this.role=M.role),v.isFalsy(M.roles)||(this.roles=M.roles),v.isFalsy(M.tags)||(this.tags=M.tags),v.isFalsy(M.UIDs)||(this.UIDs=M.UIDs),v.isFalsy(M.SortBy)||(this.sortBy=M.SortBy),v.isFalsy(M.SearchIn)||(this.searchIn=M.SearchIn),v.isFalsy(M.SortOrder)||(this.sortOrder=M.SortOrder))}return C.prototype.validateUserBuilder=function(){if(void 0===this.limit)return new N.CometChatException(JSON.parse(v.format(JSON.stringify(I.GENERAL_ERROR.METHOD_COMPULSORY),"SET_LIMIT","SET_LIMIT","Set Limit")));if(isNaN(this.limit))return new N.CometChatException(JSON.parse(v.format(JSON.stringify(I.GENERAL_ERROR.PARAMETER_MUST_BE_A_NUMBER),"SET_LIMIT","SET_LIMIT","setLimit()")));if(this.limit>I.DEFAULT_VALUES.USERS_MAX_LIMIT)return new N.CometChatException(JSON.parse(v.format(JSON.stringify(I.GENERAL_ERROR.LIMIT_EXCEEDED),"SET_LIMIT","SET_LIMIT",I.DEFAULT_VALUES.USERS_MAX_LIMIT)));if(this.limit<I.DEFAULT_VALUES.ZERO)return new N.CometChatException(JSON.parse(v.format(JSON.stringify(I.GENERAL_ERROR.PARAMETER_MUST_BE_A_POSITIVE_NUMBER),"SET_LIMIT","SET_LIMIT","setLimit()")));if(void 0!==this.searchKeyword){if(typeof this.searchKeyword!==I.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new N.CometChatException(JSON.parse(v.format(JSON.stringify(I.GENERAL_ERROR.PARAMETER_MUST_BE_A_STRING),"SET_SEARCH_KEYWORD","SET_SEARCH_KEYWORD","setSearchKeyword()")));if(v.isFalsy(this.searchKeyword.trim()))return new N.CometChatException(JSON.parse(v.format(JSON.stringify(I.GENERAL_ERROR.INVALID),"SET_SEARCH_KEYWORD","SET_SEARCH_KEYWORD","search keyword","search keyword")));this.searchKeyword=this.searchKeyword.trim()}if(this.status){if(typeof this.status!==I.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new N.CometChatException(JSON.parse(v.format(JSON.stringify(I.GENERAL_ERROR.PARAMETER_MUST_BE_A_STRING),"SET_STATUS","SET_STATUS","setStatus()")));if("available"!=this.status.toLowerCase()&&"offline"!=this.status.toLowerCase())return new N.CometChatException(I.UserErrors.INVALID_STATUS)}if(void 0!==this.hideBlockedUsers){if(typeof this.hideBlockedUsers!==I.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.BOOLEAN)return new N.CometChatException(JSON.parse(v.format(JSON.stringify(I.GENERAL_ERROR.PARAMETER_MUST_BE_A_BOOLEAN),"HIDE_BLOCKED_USERS","HIDE_BLOCKED_USERS","hideBlockedUsers()")));this.hideBlockedUsers=1==this.hideBlockedUsers}if(void 0!==this.friendsOnly){if(typeof this.friendsOnly!==I.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.BOOLEAN)return new N.CometChatException(JSON.parse(v.format(JSON.stringify(I.GENERAL_ERROR.PARAMETER_MUST_BE_A_BOOLEAN),"FRIENDS_ONLY","FRIENDS_ONLY","friendsOnly()")));this.friendsOnly=1==this.friendsOnly}if(void 0!==this.withTags){if(typeof this.withTags!==I.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.BOOLEAN)return new N.CometChatException(JSON.parse(v.format(JSON.stringify(I.GENERAL_ERROR.MUST_BE_A_BOOLEAN),"WITH_TAGS","WITH_TAGS","withTags()")));this.withTags=1==this.withTags}if(void 0!==this.roles&&!Array.isArray(this.roles))return new N.CometChatException(JSON.parse(v.format(JSON.stringify(I.GENERAL_ERROR.PARAMETER_MUST_BE_AN_ARRAY),"ROLES","ROLES","setRoles()")));if(void 0!==this.tags&&!Array.isArray(this.tags))return new N.CometChatException(JSON.parse(v.format(JSON.stringify(I.GENERAL_ERROR.PARAMETER_MUST_BE_AN_ARRAY),"TAGS","TAGS","setTags()")));if(void 0!==this.UIDs&&!Array.isArray(this.UIDs))return new N.CometChatException(JSON.parse(v.format(JSON.stringify(I.GENERAL_ERROR.PARAMETER_MUST_BE_AN_ARRAY),"UIDs","UIDs","setUIDs()")));if(this.sortBy){if(typeof this.sortBy!==I.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new N.CometChatException(JSON.parse(v.format(JSON.stringify(I.GENERAL_ERROR.PARAMETER_MUST_BE_A_STRING),"SORT_BY","SORT_BY","sortBy()")));if(v.isFalsy(this.sortBy.trim()))return new N.CometChatException(JSON.parse(v.format(JSON.stringify(I.GENERAL_ERROR.INVALID),"SORT_BY","SORT_BY","sort by","sort by")));this.sortBy=this.sortBy.trim().toLowerCase()}if(this.sortOrder){if(typeof this.sortOrder!==I.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new N.CometChatException(JSON.parse(v.format(JSON.stringify(I.GENERAL_ERROR.PARAMETER_MUST_BE_A_STRING),"SORT_BY_ORDER","SORT_BY_ORDER","sortByOrder()")));if(v.isFalsy(this.sortOrder.trim()))return new N.CometChatException(JSON.parse(v.format(JSON.stringify(I.GENERAL_ERROR.INVALID),"SORT_BY_ORDER","SORT_BY_ORDER","sort order","sort order")));this.sortOrder=this.sortOrder.trim().toLowerCase()}return this.searchIn&&!Array.isArray(this.searchIn)?new N.CometChatException(JSON.parse(v.format(JSON.stringify(I.GENERAL_ERROR.PARAMETER_MUST_BE_AN_ARRAY),"SEARCH_IN","SEARCH_IN","searchIn()"))):void 0},C.prototype.fetchNext=function(){var M=this;return new Promise(function(x,j){try{if(M.fetchingInProgress)M.fetchingInProgress=!1,x([]);else{M.fetchingInProgress=!0;var Q=M.validateUserBuilder();if(Q instanceof N.CometChatException)return void j(Q);d.makeApiCall("users",{},M.getNextData()).then(function($){if($.meta&&(M.total_pages=$.meta.pagination.total_pages),0<$.data.length){M.pagination=$.meta.pagination;var S=[];$.data.map(function(se){S.push(w.UsersController.trasformJSONUser(se))}),x(S)}else x([]);M.fetchingInProgress=!1},function($){M.fetchingInProgress=!1,j(new N.CometChatException($.error))})}}catch($){M.fetchingInProgress=!1,j(new N.CometChatException($))}})},C.prototype.getNextData=function(){var M={};if(M.per_page=this.limit,v.isFalsy(this.searchKeyword)||(M.searchKey=this.searchKeyword),v.isFalsy(this.status)||(M.status=this.status),v.isFalsy(this.hideBlockedUsers)||(M.hideBlockedUsers=1),v.isFalsy(this.role)||(M.roles=this.role),v.isFalsy(this.roles)||(M.roles=this.roles),v.isFalsy(this.tags)||(M.tags=this.tags),v.isFalsy(this.friendsOnly)||(M.friendsOnly=1),v.isFalsy(this.withTags)||(M.withTags=1),v.isFalsy(this.UIDs)||(M.uids=this.UIDs),v.isFalsy(this.sortBy)||(M.sortBy=this.sortBy),v.isFalsy(this.sortOrder)||(M.sortOrder=this.sortOrder),v.isFalsy(this.searchIn)||(M.searchIn=this.searchIn),1==this.current_page)M.page=this.next_page,this.next_page++,this.current_page++;else{if(this.next_page>this.total_pages)return M.page=this.next_page,M;M.page=this.next_page++}return M},C.USER_STATUS={ONLINE:I.PresenceConstatnts.STATUS.ONLINE,OFFLINE:I.PresenceConstatnts.STATUS.OFFLINE},C}();y.UsersRequest=P;var F=function(){function C(){this.shouldHideBlockedUsers=!1}return C.prototype.setLimit=function(M){return this.limit=M,this},C.prototype.setStatus=function(M){return this.status=M,this},C.prototype.setSearchKeyword=function(M){return this.searchKeyword=M,this},C.prototype.hideBlockedUsers=function(M){return this.shouldHideBlockedUsers=M,this},C.prototype.setRole=function(M){return this.role=M,this},C.prototype.setRoles=function(M){return this.roles=M,this},C.prototype.friendsOnly=function(M){return this.showFriendsOnly=M,this},C.prototype.setTags=function(M){return this.tags=M,this},C.prototype.withTags=function(M){return this.showTags=M,this},C.prototype.setUIDs=function(M){return this.UIDs=M,this},C.prototype.sortBy=function(M){return this.SortBy=M,this},C.prototype.sortByOrder=function(M){return this.SortOrder=M,this},C.prototype.searchIn=function(M){return this.SearchIn=M,this},C.prototype.build=function(){return this.role&&this.roles&&this.roles.push(this.role),new P(this)},C}();y.UsersRequestBuilder=F},function(ft,y,c){"use strict";y.__esModule=!0,y.UserStore=void 0;var d=c(3),v=c(0),w=c(1),N=c(12),A=function(){function I(P){this.store=w.constants.DEFAULT_STORE,v.isFalsy(P)||(this.store=P),this.userStore=N.createInstance({name:v.format(w.LOCAL_STORE.STORE_STRING,d.CometChat.getAppId(),w.LOCAL_STORE.USERS_STORE)}),this.userStore.setDriver([N.LOCALSTORAGE,N.INDEXEDDB,N.WEBSQL])}return I.getInstance=function(){return null==I.UserStore&&(I.UserStore=new I),I.UserStore},I.prototype.set=function(P,F){return this.userStore.setItem(P,F)},I.prototype.remove=function(P){this.userStore.removeItem(P)},I.prototype.get=function(P){return this.userStore.getItem(P)},I.prototype.clearStore=function(){var P=this;return new Promise(function(F,C){P.userStore.clear().then(function(){F(!0)}).catch(function(M){C(M)})})},I.prototype.clear=function(P){},I.prototype.selectStore=function(P){this.store=P},I.prototype.storeUsers=function(P){var F=this;return P.map(function(C){F.set(C.getUid(),C)}),!0},I.prototype.storeUser=function(P){return this.set(P.getUid(),P),!0},I}();y.UserStore=A},function(ft,y,c){"use strict";y.__esModule=!0,y.ConversationsRequestBuilder=y.ConversationsRequest=void 0;var d=c(6),v=c(0),w=c(2),N=c(24),A=c(1),I=function(){function F(C){this.limit=100,this.next_page=1,this.current_page=1,this.total_pages=-1,this.fetchingInProgress=!1,this.getUserAndGroupTags=!1,this.withTags=!1,this.pagination={total:0,count:0,per_page:0,current_page:0,total_pages:0,links:[]},v.isFalsy(C)||(this.limit=C.limit,v.isFalsy(C.conversationType)||(this.conversationType=C.conversationType),v.isFalsy(C.getUserAndGroupTags)||(this.getUserAndGroupTags=C.getUserAndGroupTags),C.tags&&(this.tags=C.tags),v.isFalsy(C.WithTags)||(this.withTags=C.WithTags),C.groupTags&&(this.groupTags=C.groupTags),C.userTags&&(this.userTags=C.userTags))}return F.prototype.validateConversationBuilder=function(){return void 0===this.limit?new w.CometChatException(JSON.parse(v.format(JSON.stringify(A.GENERAL_ERROR.METHOD_COMPULSORY),"SET_LIMIT","SET_LIMIT","Set Limit"))):isNaN(this.limit)?new w.CometChatException(JSON.parse(v.format(JSON.stringify(A.GENERAL_ERROR.PARAMETER_MUST_BE_A_NUMBER),"SET_LIMIT","SET_LIMIT","setLimit()"))):this.limit>A.DEFAULT_VALUES.CONVERSATION_MAX_LIMIT?new w.CometChatException(JSON.parse(v.format(JSON.stringify(A.GENERAL_ERROR.LIMIT_EXCEEDED),"SET_LIMIT","SET_LIMIT",A.DEFAULT_VALUES.CONVERSATION_MAX_LIMIT))):this.limit<A.DEFAULT_VALUES.ZERO?new w.CometChatException(JSON.parse(v.format(JSON.stringify(A.GENERAL_ERROR.PARAMETER_MUST_BE_A_POSITIVE_NUMBER),"SET_LIMIT","SET_LIMIT","setLimit()"))):void 0},F.prototype.fetchNext=function(){var C=this;return new Promise(function(M,x){try{if(C.fetchingInProgress)C.fetchingInProgress=!1,M([]);else{C.fetchingInProgress=!0;var j=C.validateConversationBuilder();if(j instanceof w.CometChatException)return void x(j);d.makeApiCall("getConversations",{},C.getNextData()).then(function(Q){if(Q.meta&&(C.total_pages=Q.meta.pagination.total_pages),0<Q.data.length){C.pagination=Q.meta.pagination;var $=[];Q.data.map(function(S){$.push(N.ConversationController.trasformJSONConversation(S.conversationId,S.conversationType,S.lastMessage,S.conversationWith,parseInt(S.unreadMessageCount),S.tags?S.tags:[]))}),M($)}else M([]);C.fetchingInProgress=!1},function(Q){C.fetchingInProgress=!1,x(new w.CometChatException(Q.error))})}}catch(Q){C.fetchingInProgress=!1,x(new w.CometChatException(Q))}})},F.prototype.getNextData=function(){var C={};if(C.per_page=this.limit,v.isFalsy(this.conversationType)||(C.conversationType=this.conversationType),v.isFalsy(this.getUserAndGroupTags)||(C.withUserAndGroupTags=this.getUserAndGroupTags),v.isFalsy(this.tags)||(C.tags=this.tags),v.isFalsy(this.withTags)||(C.withTags=this.withTags),v.isFalsy(this.userTags)||(C.userTags=this.userTags),v.isFalsy(this.groupTags)||(C.groupTags=this.groupTags),1==this.current_page)C.page=this.next_page,this.next_page++,this.current_page++;else{if(this.next_page>this.total_pages)return C.page=this.next_page,C;C.page=this.next_page++}return C},F}();y.ConversationsRequest=I;var P=function(){function F(){this.WithTags=!1}return F.prototype.setLimit=function(C){return this.limit=C,this},F.prototype.setConversationType=function(C){return this.conversationType=C,this},F.prototype.withUserAndGroupTags=function(C){return"boolean"==typeof C&&(this.getUserAndGroupTags=C),this},F.prototype.setTags=function(C){return this.tags=C,this},F.prototype.withTags=function(C){return this.WithTags=C,this},F.prototype.setGroupTags=function(C){return this.groupTags=C,this},F.prototype.setUserTags=function(C){return this.userTags=C,this},F.prototype.build=function(){return new I(this)},F}();y.ConversationsRequestBuilder=P},function(ft,y,c){"use strict";var d=this&&this.__awaiter||function($,S,se,ue){return new(se||(se=Promise))(function(Be,me){function Ne(Xe){try{Re(ue.next(Xe))}catch(it){me(it)}}function Se(Xe){try{Re(ue.throw(Xe))}catch(it){me(it)}}function Re(Xe){var it;Xe.done?Be(Xe.value):(it=Xe.value,it instanceof se?it:new se(function(We){We(it)})).then(Ne,Se)}Re((ue=ue.apply($,S||[])).next())})},v=this&&this.__generator||function($,S){var se,ue,Be,me,Ne={label:0,sent:function(){if(1&Be[0])throw Be[1];return Be[1]},trys:[],ops:[]};return me={next:Se(0),throw:Se(1),return:Se(2)},"function"==typeof Symbol&&(me[Symbol.iterator]=function(){return this}),me;function Se(Re){return function(Xe){return function(it){if(se)throw new TypeError("Generator is already executing.");for(;Ne;)try{if(se=1,ue&&(Be=2&it[0]?ue.return:it[0]?ue.throw||((Be=ue.return)&&Be.call(ue),0):ue.next)&&!(Be=Be.call(ue,it[1])).done)return Be;switch(ue=0,Be&&(it=[2&it[0],Be.value]),it[0]){case 0:case 1:Be=it;break;case 4:return Ne.label++,{value:it[1],done:!1};case 5:Ne.label++,ue=it[1],it=[0];continue;case 7:it=Ne.ops.pop(),Ne.trys.pop();continue;default:if(!(Be=0<(Be=Ne.trys).length&&Be[Be.length-1])&&(6===it[0]||2===it[0])){Ne=0;continue}if(3===it[0]&&(!Be||it[1]>Be[0]&&it[1]<Be[3])){Ne.label=it[1];break}if(6===it[0]&&Ne.label<Be[1]){Ne.label=Be[1],Be=it;break}if(Be&&Ne.label<Be[2]){Ne.label=Be[2],Ne.ops.push(it);break}Be[2]&&Ne.ops.pop(),Ne.trys.pop();continue}it=S.call($,Ne)}catch(We){it=[6,We],ue=0}finally{se=Be=0}if(5&it[0])throw it[1];return{value:it[0]?it[1]:void 0,done:!0}}([Re,Xe])}}},w=this&&this.__spreadArrays||function(){for(var $=0,S=0,se=arguments.length;S<se;S++)$+=arguments[S].length;var ue=Array($),Be=0;for(S=0;S<se;S++)for(var me=arguments[S],Ne=0,Se=me.length;Ne<Se;Ne++,Be++)ue[Be]=me[Ne];return ue};y.__esModule=!0,y.MessagesRequestBuilder=y.MessagesRequest=void 0;var N=c(2),A=c(6),I=c(10),P=c(0),F=c(47),C=c(1),M=c(13),x=c(25),j=function(){function $(S){this.limit=C.DEFAULT_VALUES.MSGS_LIMIT,this.timestamp=0,this.id=C.DEFAULT_VALUES.DEFAULT_MSG_ID,this.messageStore=F.MessagesStore.getInstance(),this.endpointName="getUserMessages",this.listId="",this.totalPages=0,this.unread=!1,this.inProgress=!1,this.hideMessagesFromBlockedUsers=!1,this.updatedAt=0,this.onlyUpdates=0,this.paginationMeta={},this.WithTags=!1,this.hideDeletedMessages=!1,this.limit=S.limit,this.paginationMeta[C.MessageConstatnts.PAGINATION.KEYS.PER_PAGE]=this.limit,this.uid=S.uid,this.guid=S.guid,this.parentMessageId=S.parentMessageId,this.timestamp=S.timestamp,this.timestamp&&(this.paginationMeta[C.MessageConstatnts.PAGINATION.KEYS.SENT_AT]=this.timestamp),this.id=S.id,this.id!=C.DEFAULT_VALUES.DEFAULT_MSG_ID&&(this.paginationMeta[C.MessageConstatnts.PAGINATION.KEYS.ID]=this.id),this.hideMessagesFromBlockedUsers=S.HideMessagesFromBlockedUsers,this.hideMessagesFromBlockedUsers&&(this.paginationMeta[C.MessageConstatnts.PAGINATION.KEYS.HIDE_MESSAGES_FROM_BLOCKED_USER]=this.hideMessagesFromBlockedUsers),this.unread=S.unread,this.unread&&(this.paginationMeta[C.MessageConstatnts.PAGINATION.KEYS.UNREAD]=this.unread),S.searchKey&&(this.searchKey=S.searchKey,this.paginationMeta[C.MessageConstatnts.PAGINATION.KEYS.SEARCH_KEY]=this.searchKey),S.onlyUpdate&&(this.onlyUpdates=S.onlyUpdate,this.paginationMeta[C.MessageConstatnts.PAGINATION.KEYS.ONLY_UPDATES]=this.onlyUpdates),S.updatedAt&&(this.updatedAt=S.updatedAt,this.paginationMeta[C.MessageConstatnts.PAGINATION.KEYS.UPDATED_AT]=this.updatedAt),S.category&&(this.category=S.category),S.categories&&(this.categories=S.categories),S.type&&(this.type=S.type),S.types&&(this.types=S.types),S.WithTags&&(this.WithTags=S.WithTags),S.tags&&(this.tags=S.tags),S.HideReplies&&(this.hideReplies=S.HideReplies,this.paginationMeta[C.MessageConstatnts.PAGINATION.KEYS.HIDE_REPLIES]=this.hideReplies),this.hideDeletedMessages=S.HideDeletedMessages,this.hideDeletedMessages&&(this.paginationMeta[C.MessageConstatnts.PAGINATION.KEYS.HIDE_DELETED_MESSAGES]=this.hideDeletedMessages)}return $.prototype.fetchNext=function(){var S=this;return new Promise(function(se,ue){return d(S,void 0,void 0,function(){var Be,me,Ne;return v(this,function(Se){switch(Se.label){case 0:if(Se.trys.push([0,5,,6]),this.inProgress)return this.inProgress=!1,ue(new N.CometChatException(M.MESSAGES_REQUEST_ERRORS.REQUEST_IN_PROGRESS_ERROR)),[2];if(this.inProgress=!0,this.onlyUpdates){if(0==this.updatedAt)return this.inProgress=!1,ue(new N.CometChatException(M.MESSAGES_REQUEST_ERRORS.NOT_ENOUGH_PARAMS)),[2]}else if(0==this.timestamp&&0==this.id&&0==this.updatedAt)return this.inProgress=!1,ue(new N.CometChatException(M.MESSAGES_REQUEST_ERRORS.NOT_ENOUGH_PARAMS)),[2];this.affix=C.MessageConstatnts.PAGINATION.AFFIX.APPEND,this.paginationMeta[C.MessageConstatnts.PAGINATION.KEYS.AFFIX]=this.affix,this.currentMethod=C.MessageConstatnts.PAGINATION.AFFIX.APPEND,Se.label=1;case 1:return Se.trys.push([1,3,,4]),[4,this.makeAPICall()];case 2:return Be=Se.sent(),se(Be),this.inProgress=!1,[3,4];case 3:return me=Se.sent(),this.inProgress=!1,ue(new N.CometChatException(me)),[3,4];case 4:return[3,6];case 5:return Ne=Se.sent(),this.inProgress=!1,ue(new N.CometChatException(Ne)),[3,6];case 6:return[2]}})})})},$.prototype.fetchPrevious=function(){var S=this;return new Promise(function(se,ue){return d(S,void 0,void 0,function(){var Be,me,Ne;return v(this,function(Se){switch(Se.label){case 0:if(Se.trys.push([0,5,,6]),this.inProgress)return ue(new N.CometChatException(M.MESSAGES_REQUEST_ERRORS.REQUEST_IN_PROGRESS_ERROR)),this.inProgress=!1,[2];if(this.inProgress=!0,this.onlyUpdates&&0==this.updatedAt)return this.inProgress=!1,ue(new N.CometChatException(M.MESSAGES_REQUEST_ERRORS.NOT_ENOUGH_PARAMS)),[2];this.affix=C.MessageConstatnts.PAGINATION.AFFIX.PREPEND,this.paginationMeta[C.MessageConstatnts.PAGINATION.KEYS.AFFIX]=this.affix,this.currentMethod=C.MessageConstatnts.PAGINATION.AFFIX.PREPEND,Se.label=1;case 1:return Se.trys.push([1,3,,4]),[4,this.makeAPICall()];case 2:return Be=Se.sent(),se(Be),this.inProgress=!1,[3,4];case 3:return me=Se.sent(),this.inProgress=!1,ue(new N.CometChatException(me)),[3,4];case 4:return[3,6];case 5:return Ne=Se.sent(),this.inProgress=!1,ue(new N.CometChatException(Ne)),[3,6];case 6:return[2]}})})})},$.prototype.makeAPICall=function(){var S=this;return new Promise(function(se,ue){try{var Be=S.uid;if(void 0!==Be){if(typeof Be!==C.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return void ue(new N.CometChatException(JSON.parse(P.format(JSON.stringify(C.GENERAL_ERROR.PARAMETER_MUST_BE_A_STRING),"UID","UID","setUID()"))));if(P.isFalsy(Be.trim()))return void ue(new N.CometChatException(JSON.parse(P.format(JSON.stringify(C.GENERAL_ERROR.INVALID),"UID","UID","UID","UID"))));S.uid=Be.trim()}var me=S.guid;if(void 0!==me){if(typeof me!==C.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return void ue(new N.CometChatException(JSON.parse(P.format(JSON.stringify(C.GENERAL_ERROR.PARAMETER_MUST_BE_A_STRING),"GUID","GUID","setGUID()"))));if(P.isFalsy(me.trim()))return void ue(new N.CometChatException(JSON.parse(P.format(JSON.stringify(C.GENERAL_ERROR.INVALID),"GUID","GUID","GUID","GUID"))));S.guid=me.trim()}var Ne=S.parentMessageId;if(void 0!==Ne){if(isNaN(Ne))return void ue(new N.CometChatException(JSON.parse(P.format(JSON.stringify(C.GENERAL_ERROR.PARAMETER_MUST_BE_A_NUMBER),"PARENT_MESSAGE_ID","PARENT_MESSAGE_ID","setParentMessageId()"))));if(Ne<C.DEFAULT_VALUES.ZERO)return void ue(new N.CometChatException(JSON.parse(P.format(JSON.stringify(C.GENERAL_ERROR.PARAMETER_MUST_BE_A_POSITIVE_NUMBER),"PARENT_MESSAGE_ID","PARENT_MESSAGE_ID","setParentMessageId()"))))}var Se=S.paginationMeta[C.MessageConstatnts.PAGINATION.KEYS.PER_PAGE];if(void 0===Se)return void ue(new N.CometChatException(JSON.parse(P.format(JSON.stringify(C.GENERAL_ERROR.METHOD_COMPULSORY),"SET_LIMIT","SET_LIMIT","Set Limit"))));if(isNaN(Se))return void ue(new N.CometChatException(JSON.parse(P.format(JSON.stringify(C.GENERAL_ERROR.PARAMETER_MUST_BE_A_NUMBER),"SET_LIMIT","SET_LIMIT","setLimit()"))));if(Se>C.DEFAULT_VALUES.MSGS_MAX_LIMIT)return void ue(new N.CometChatException(JSON.parse(P.format(JSON.stringify(C.GENERAL_ERROR.LIMIT_EXCEEDED),"SET_LIMIT","SET_LIMIT",C.DEFAULT_VALUES.MSGS_MAX_LIMIT))));if(Se<C.DEFAULT_VALUES.ZERO)return void ue(new N.CometChatException(JSON.parse(P.format(JSON.stringify(C.GENERAL_ERROR.PARAMETER_MUST_BE_A_POSITIVE_NUMBER),"SET_LIMIT","SET_LIMIT","setLimit()"))));var Re=S.paginationMeta[C.MessageConstatnts.PAGINATION.KEYS.SEARCH_KEY];if(void 0!==Re){if(typeof Re!==C.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return void ue(new N.CometChatException(JSON.parse(P.format(JSON.stringify(C.GENERAL_ERROR.PARAMETER_MUST_BE_A_STRING),"SET_SEARCH_KEYWORD","SET_SEARCH_KEYWORD","setSearchKeyword()"))));if(P.isFalsy(Re.trim()))return void ue(new N.CometChatException(JSON.parse(P.format(JSON.stringify(C.GENERAL_ERROR.INVALID),"SET_SEARCH_KEYWORD","SET_SEARCH_KEYWORD","search keyword","search keyword"))));S.paginationMeta[C.MessageConstatnts.PAGINATION.KEYS.SEARCH_KEY]=Re.trim()}var Xe=S.paginationMeta[C.MessageConstatnts.PAGINATION.KEYS.ID];if(void 0!==Xe){if(isNaN(Xe))return void ue(new N.CometChatException(JSON.parse(P.format(JSON.stringify(C.GENERAL_ERROR.PARAMETER_MUST_BE_A_NUMBER),"MESSAGE_ID","MESSAGE_ID","setMessageId()"))));if(Xe<C.DEFAULT_VALUES.ZERO)return void ue(new N.CometChatException(JSON.parse(P.format(JSON.stringify(C.GENERAL_ERROR.PARAMETER_MUST_BE_A_POSITIVE_NUMBER),"MESSAGE_ID","MESSAGE_ID","setMessageId()"))))}var it=S.paginationMeta[C.MessageConstatnts.PAGINATION.KEYS.SENT_AT];if(void 0!==it){if(isNaN(it))return void ue(new N.CometChatException(JSON.parse(P.format(JSON.stringify(C.GENERAL_ERROR.PARAMETER_MUST_BE_A_NUMBER),"TIMESTAMP","TIMESTAMP","setTimestamp()"))));if(it<C.DEFAULT_VALUES.ZERO)return void ue(new N.CometChatException(JSON.parse(P.format(JSON.stringify(C.GENERAL_ERROR.PARAMETER_MUST_BE_A_POSITIVE_NUMBER),"TIMESTAMP","TIMESTAMP","setTimestamp()"))))}var We=S.hideMessagesFromBlockedUsers;if(void 0!==We){if(typeof We!==C.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.BOOLEAN)return void ue(new N.CometChatException(JSON.parse(P.format(JSON.stringify(C.GENERAL_ERROR.PARAMETER_MUST_BE_A_BOOLEAN),"HIDE_MESSAGES_FROM_BLOCKED_USERS","HIDE_MESSAGES_FROM_BLOCKED_USERS","hideMessagesFromBlockedUsers()"))));S.paginationMeta[C.MessageConstatnts.PAGINATION.KEYS.HIDE_MESSAGES_FROM_BLOCKED_USER]=1==We?1:0}var Je=S.unread;if(void 0!==Je){if(typeof Je!==C.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.BOOLEAN)return void ue(new N.CometChatException(JSON.parse(P.format(JSON.stringify(C.GENERAL_ERROR.PARAMETER_MUST_BE_A_BOOLEAN),"UNREAD","UNREAD","setUnread()"))));S.paginationMeta[C.MessageConstatnts.PAGINATION.KEYS.UNREAD]=1==Je?1:0}var xe=S.category;if(void 0!==xe){if(typeof xe!==C.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return void ue(new N.CometChatException(JSON.parse(P.format(JSON.stringify(C.GENERAL_ERROR.PARAMETER_MUST_BE_A_STRING),"SET_CATEGORY","SET_CATEGORY","setCategory()"))));if(P.isFalsy(xe.trim()))return void ue(new N.CometChatException(JSON.parse(P.format(JSON.stringify(C.GENERAL_ERROR.INVALID),"SET_CATEGORY","SET_CATEGORY","category","category"))));S.paginationMeta[C.MessageConstatnts.PAGINATION.KEYS.CATEGORIES]=xe.trim()}var Ke=S.categories;if(void 0!==Ke){if(!Array.isArray(Ke))return void ue(new N.CometChatException(JSON.parse(P.format(JSON.stringify(C.GENERAL_ERROR.PARAMETER_MUST_BE_AN_ARRAY),"SET_CATEGORIES","SET_CATEGORIES","setCategories()"))));0<Ke.length&&(S.paginationMeta[C.MessageConstatnts.PAGINATION.KEYS.CATEGORIES]=Ke)}var Ye=S.type;if(void 0!==Ye){if(typeof Ye!==C.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return void ue(new N.CometChatException(JSON.parse(P.format(JSON.stringify(C.GENERAL_ERROR.PARAMETER_MUST_BE_A_STRING),"SET_TYPE","SET_TYPE","setType()"))));if(P.isFalsy(Ye.trim()))return void ue(new N.CometChatException(JSON.parse(P.format(JSON.stringify(C.GENERAL_ERROR.INVALID),"SET_TYPE","SET_TYPE","type","type"))));S.paginationMeta[C.MessageConstatnts.PAGINATION.KEYS.TYPES]=Ye.trim()}var rt=S.types;if(void 0!==rt){if(!Array.isArray(rt))return void ue(new N.CometChatException(JSON.parse(P.format(JSON.stringify(C.GENERAL_ERROR.PARAMETER_MUST_BE_AN_ARRAY),"SET_TYPES","SET_TYPES","setTypes()"))));0<rt.length&&(S.paginationMeta[C.MessageConstatnts.PAGINATION.KEYS.TYPES]=rt)}var xt=S.tags;if(void 0!==xt){if(!Array.isArray(xt))return void ue(new N.CometChatException(JSON.parse(P.format(JSON.stringify(C.GENERAL_ERROR.PARAMETER_MUST_BE_AN_ARRAY),"SET_TAGS","SET_TAGS","setTags()"))));0<xt.length&&(S.paginationMeta[C.MessageConstatnts.PAGINATION.KEYS.TAGS]=xt)}var on=S.WithTags;if(void 0!==on){if(typeof on!==C.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.BOOLEAN)return void ue(new N.CometChatException(JSON.parse(P.format(JSON.stringify(C.GENERAL_ERROR.PARAMETER_MUST_BE_A_BOOLEAN),"WITH_TAGS","WITH_TAGS","withTags()"))));S.paginationMeta[C.MessageConstatnts.PAGINATION.KEYS.WITH_TAGS]=1==on?1:0}var At=S.hideDeletedMessages;if(void 0!==At){if(typeof At!==C.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.BOOLEAN)return void ue(new N.CometChatException(JSON.parse(P.format(JSON.stringify(C.GENERAL_ERROR.PARAMETER_MUST_BE_A_BOOLEAN),"HIDE_DELETED_MESSAGES","HIDE_DELETED_MESSAGES","hideDeletedMessages()"))));S.paginationMeta[C.MessageConstatnts.PAGINATION.KEYS.HIDE_DELETED_MESSAGES]=1==At?1:0}if(S.createEndpoint(),S.totalPages&&1==S.totalPages&&S.lastAffix==S.affix)return void se([]);A.makeApiCall(S.endpointName,{listId:S.listId},S.paginationMeta).then(function(je){return d(S,void 0,void 0,function(){var pe,fe=this;return v(this,function(Ie){return pe=[],je[C.ResponseConstants.RESPONSE_KEYS.KEY_META][C.ResponseConstants.RESPONSE_KEYS.KEY_CURSOR].hasOwnProperty(C.MessageConstatnts.PAGINATION.KEYS.ID)&&0==this.id&&(this.id=parseInt(je.meta.cursor[C.MessageConstatnts.PAGINATION.KEYS.ID])),je[C.ResponseConstants.RESPONSE_KEYS.KEY_META][C.ResponseConstants.RESPONSE_KEYS.KEY_CURSOR].hasOwnProperty(C.MessageConstatnts.PAGINATION.KEYS.SENT_AT)&&0==this.timestamp&&(this.timestamp=je.meta.cursor[C.MessageConstatnts.PAGINATION.KEYS.SENT_AT]),je.meta.pagination.hasOwnProperty("total_pages")&&(this.totalPages=je.meta.pagination.total_pages),je.meta.cursor.hasOwnProperty("affix")&&(this.lastAffix=je.meta.cursor.affix),je.data[0]?(0<this.id&&(this.id=parseInt(je.data[0].id)),0<this.timestamp&&(this.timestamp=je.data[0].sentAt),je.data.map(function(Qe){x.MessageListnerMaping.getInstance().get(C.LOCAL_STORE.KEY_MESSAGE_LISTENER_LIST).then(function(Kt){parseInt(Qe.id)>Kt&&x.MessageListnerMaping.getInstance().set(C.LOCAL_STORE.KEY_MESSAGE_LISTENER_LIST,parseInt(Qe.id))},function(Kt){x.MessageListnerMaping.getInstance().set(C.LOCAL_STORE.KEY_MESSAGE_LISTENER_LIST,parseInt(Qe.id))}),fe.affix==C.MessageConstatnts.PAGINATION.AFFIX.APPEND?(fe.id<parseInt(Qe.id)&&0<fe.id&&(fe.id=parseInt(Qe.id)),fe.timestamp<Qe.sentAt&&0<fe.timestamp&&(fe.timestamp=Qe.sentAt),fe.updatedAt<Qe.updatedAt&&0<fe.updatedAt&&(fe.updatedAt=Qe.updatedAt)):(fe.id>parseInt(Qe.id)&&(fe.id=parseInt(Qe.id)),fe.timestamp>Qe.sentAt&&(fe.timestamp=Qe.sentAt),fe.updatedAt>Qe.updatedAt&&(fe.updatedAt=Qe.updatedAt)),fe.id&&(fe.paginationMeta[C.MessageConstatnts.PAGINATION.KEYS.ID]=fe.id),fe.timestamp&&(fe.paginationMeta[C.MessageConstatnts.PAGINATION.KEYS.SENT_AT]=fe.timestamp),fe.updatedAt&&(fe.paginationMeta[C.MessageConstatnts.PAGINATION.KEYS.UPDATED_AT]=fe.updatedAt),pe.push(I.MessageController.trasformJSONMessge(Qe))})):pe=[],se(pe),[2]})})},function(je){ue(new N.CometChatException(je.error))})}catch(je){ue(new N.CometChatException(je))}})},$.prototype.createEndpoint=function(){this.parentMessageId?(this.endpointName="getThreadMessages",this.listId=this.parentMessageId.toString(),this.hideReplies&&(this.hideReplies=!1,delete this.paginationMeta[C.MessageConstatnts.PAGINATION.KEYS.HIDE_REPLIES])):(P.isFalsy(this.guid)||P.isFalsy(this.uid))&&P.isFalsy(this.guid)?(this.endpointName=P.isFalsy(this.uid)?"getMessages":"getUserMessages",this.listId=this.uid):(this.endpointName="getGroupMessages",this.listId=this.guid)},$.prototype.makeData=function(){var S={};S[C.MessageConstatnts.PAGINATION.KEYS.PER_PAGE]=this.limit,S[C.MessageConstatnts.PAGINATION.KEYS.AFFIX]=this.affix,(P.isFalsy(this.guid)||P.isFalsy(this.uid))&&P.isFalsy(this.guid)&&P.isFalsy(this.uid)},$.prototype.getFilteredPreviousDataByReceiverId=function(S){return d(this,void 0,void 0,function(){var se,ue=this;return v(this,function(Be){switch(Be.label){case 0:switch(se=[],S){case"user":return[3,1];case"group":return[3,3];case"both":return[3,5]}return[3,7];case 1:return[4,F.MessagesStore.getInstance().get(this.uid).then(function(me){Object.keys(me).filter(function(Ne){return parseInt(Ne)>ue.id}).map(function(Ne){se=w(se,[me[Ne]])})})];case 2:return Be.sent(),[3,9];case 3:return[4,F.MessagesStore.getInstance().get(this.guid).then(function(me){Object.keys(me).filter(function(Ne){return parseInt(Ne)>ue.id}).map(function(Ne){se=w(se,[me[Ne]])})})];case 4:Be.sent(),Be.label=5;case 5:return[4,F.MessagesStore.getInstance().get(this.guid).then(function(me){Object.keys(me).filter(function(Ne){return parseInt(Ne)>ue.id}).filter(function(Ne){return me[Ne].sender.uid==ue.uid}).map(function(Ne){se=w(se,[me[Ne]])})})];case 6:return Be.sent(),[3,9];case 7:return[4,F.MessagesStore.getInstance().getAllMessages().then(function(me){Object.keys(me).filter(function(Ne){return parseInt(Ne)>ue.id}).map(function(Ne){se=w(se,[me[Ne]])})})];case 8:return Be.sent(),[3,9];case 9:return[2,se]}})})},$.prototype.getFilteredNextDataByReceiverId=function(S){return d(this,void 0,void 0,function(){var se,ue=this;return v(this,function(Be){switch(Be.label){case 0:switch(se=[],S){case"user":return[3,1];case"group":return[3,3];case"both":return[3,5]}return[3,7];case 1:return[4,F.MessagesStore.getInstance().get(this.uid).then(function(me){Object.keys(me).filter(function(Ne){return parseInt(Ne)>ue.id}).map(function(Ne){se=w(se,[me[Ne]])})})];case 2:return Be.sent(),[3,9];case 3:return[4,F.MessagesStore.getInstance().get(this.guid).then(function(me){Object.keys(me).filter(function(Ne){return parseInt(Ne)>ue.id}).map(function(Ne){se=w(se,[me[Ne]])})})];case 4:Be.sent(),Be.label=5;case 5:return[4,F.MessagesStore.getInstance().get(this.guid).then(function(me){Object.keys(me).filter(function(Ne){return parseInt(Ne)>ue.id}).filter(function(Ne){return me[Ne].sender.uid==ue.uid}).map(function(Ne){se=w(se,[me[Ne]])})})];case 6:return Be.sent(),[3,9];case 7:return[4,F.MessagesStore.getInstance().getAllMessages().then(function(me){Object.keys(me).filter(function(Ne){return parseInt(Ne)>ue.id}).map(function(Ne){se=w(se,[me[Ne]])})})];case 8:return Be.sent(),[3,9];case 9:return[2,se]}})})},$}();y.MessagesRequest=j;var Q=function(){function $(){this.maxLimit=C.DEFAULT_VALUES.MSGS_MAX_LIMIT,this.timestamp=0,this.id=C.DEFAULT_VALUES.DEFAULT_MSG_ID,this.unread=!1,this.HideMessagesFromBlockedUsers=!1,this.onlyUpdate=0,this.HideDeletedMessages=!1,this.WithTags=!1}return $.prototype.setLimit=function(S){return this.limit=S,this},$.prototype.setGUID=function(S){return this.guid=S,this},$.prototype.setUID=function(S){return this.uid=S,this},$.prototype.setParentMessageId=function(S){return this.parentMessageId=S,this},$.prototype.setTimestamp=function(S){return void 0===S&&(S=P.getCurrentTime()),this.timestamp=S,this},$.prototype.setMessageId=function(S){return void 0===S&&(S=C.DEFAULT_VALUES.DEFAULT_MSG_ID),this.id=S,this},$.prototype.setUnread=function(S){return void 0===S&&(S=!1),this.unread=S,this},$.prototype.hideMessagesFromBlockedUsers=function(S){return void 0===S&&(S=!1),this.HideMessagesFromBlockedUsers=S,this},$.prototype.setSearchKeyword=function(S){return this.searchKey=S,this},$.prototype.setUpdatedAfter=function(S){return this.updatedAt=S,this},$.prototype.updatesOnly=function(S){return S&&(this.onlyUpdate=1),this},$.prototype.setCategory=function(S){return this.category=S,this},$.prototype.setCategories=function(S){return this.categories=S,this},$.prototype.setType=function(S){return this.type=S,this},$.prototype.setTypes=function(S){return this.types=S,this},$.prototype.hideReplies=function(S){return this.HideReplies=S,this},$.prototype.hideDeletedMessages=function(S){return this.HideDeletedMessages=S,this},$.prototype.setTags=function(S){return this.tags=S,this},$.prototype.withTags=function(S){return this.WithTags=S,this},$.prototype.build=function(){return this.category&&this.categories&&this.categories.push(this.category),this.type&&this.types&&this.types.push(this.type),new j(this)},$}();y.MessagesRequestBuilder=Q},function(ft,y,c){"use strict";var d=this&&this.__assign||function(){return(d=Object.assign||function(P){for(var F,C=1,M=arguments.length;C<M;C++)for(var x in F=arguments[C])Object.prototype.hasOwnProperty.call(F,x)&&(P[x]=F[x]);return P}).apply(this,arguments)};y.__esModule=!0,y.MessagesStore=void 0;var v=c(3),w=c(0),N=c(1),A=c(12),I=function(){function P(F){this.store=N.constants.DEFAULT_STORE,w.isFalsy(F)||(this.store=F),this.messagesStore=A.createInstance({name:w.format(N.LOCAL_STORE.STORE_STRING,v.CometChat.getAppId(),N.LOCAL_STORE.MESSAGES_STORE)}),this.messagesStore.setDriver([A.LOCALSTORAGE,A.INDEXEDDB,A.WEBSQL])}return P.getInstance=function(){return null==P.MessagesStore&&(P.MessagesStore=new P),P.MessagesStore},P.prototype.set=function(F,C){return this.messagesStore.setItem(F,C)},P.prototype.remove=function(F){this.messagesStore.removeItem(F)},P.prototype.get=function(F){return this.messagesStore.getItem(F)},P.prototype.clearStore=function(){var F=this;return new Promise(function(C,M){F.messagesStore.clear().then(function(){C(!0)}).catch(function(x){M(x)})})},P.prototype.getAllMessages=function(){var F=this,C={};return new Promise(function(M,x){F.messagesStore.iterate(function(j,Q,$){Q!=N.constants.MSG_VER_POST&&Q!=N.constants.MSG_VER_POST&&(C=d(d({},C),j))}).then(function(){M(C)})})},P.prototype.clear=function(F){},P.prototype.selectStore=function(F){this.store=F},P.prototype.storeMessages=function(F){var C=this;if(v.CometChat.user.getUid()){var M=v.CometChat.user.getUid(),x={},j=0;return this.get(N.constants.MSG_VER_POST).then(function(Q){F.map(function($){var S;if(!w.isFalsy($)){0==j&&(j=parseInt($.getId().toString())),j>$.getId()&&(j=parseInt($.getId().toString())),Q<$.getId()&&(Q=parseInt($.getId().toString()));var se=void 0;se=$.getSender()instanceof Object?$.getSender().getUid():$.getSender(),$.getReceiverType()==N.MessageConstatnts.RECEIVER_TYPE.GROUP&&(se=$.getReceiver()),$.getSender()instanceof Object?$.getSender().getUid()==M&&(se=$.getReceiver()):$.getSender()==M&&(se=$.getReceiver()),x[se]||(x[se]={}),x[se]=d(d({},x[se]),((S={})[$.getId()]=$,S))}}),C.get(N.constants.MSG_VER_PRE).then(function($){(0<j&&j<$||null==$)&&C.set(N.constants.MSG_VER_PRE,j)})&&0<Q&&C.set(N.constants.MSG_VER_POST,Q),Object.keys(x).map(function($){C.get($).then(function(S){null==S&&(S={}),C.set($,d(d({},x[$]),S))})})}),!0}},P}();y.MessagesStore=I},function(ft,y,c){"use strict";y.__esModule=!0,y.BlockedUsersRequestBuilder=y.BlockedUsersRequest=void 0;var d=c(6),v=c(0),w=c(11),N=c(2),A=c(1),I=function(){function F(C){this.next_page=1,this.current_page=1,this.total_pages=-1,this.fetchingInProgress=!1,this.pagination={total:0,count:0,per_page:0,current_page:0,total_pages:0,links:[]},v.isFalsy(C)||(this.limit=C.limit,v.isFalsy(C.searchKeyword)||(this.searchKeyword=C.searchKeyword),v.isFalsy(C.direction)||(this.direction=C.direction))}return F.prototype.validateBlockedUsersBuilder=function(){if(void 0===this.limit)return new N.CometChatException(JSON.parse(v.format(JSON.stringify(A.GENERAL_ERROR.METHOD_COMPULSORY),"SET_LIMIT","SET_LIMIT","Set Limit")));if(isNaN(this.limit))return new N.CometChatException(JSON.parse(v.format(JSON.stringify(A.GENERAL_ERROR.PARAMETER_MUST_BE_A_NUMBER),"SET_LIMIT","SET_LIMIT","setLimit()")));if(this.limit>A.DEFAULT_VALUES.USERS_MAX_LIMIT)return new N.CometChatException(JSON.parse(v.format(JSON.stringify(A.GENERAL_ERROR.LIMIT_EXCEEDED),"SET_LIMIT","SET_LIMIT",A.DEFAULT_VALUES.USERS_MAX_LIMIT)));if(this.limit<A.DEFAULT_VALUES.ZERO)return new N.CometChatException(JSON.parse(v.format(JSON.stringify(A.GENERAL_ERROR.PARAMETER_MUST_BE_A_POSITIVE_NUMBER),"SET_LIMIT","SET_LIMIT","setLimit()")));if(void 0!==this.searchKeyword){if(typeof this.searchKeyword!==A.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new N.CometChatException(JSON.parse(v.format(JSON.stringify(A.GENERAL_ERROR.PARAMETER_MUST_BE_A_STRING),"SET_SEARCH_KEYWORD","SET_SEARCH_KEYWORD","setSearchKeyword()")));if(v.isFalsy(this.searchKeyword.trim()))return new N.CometChatException(JSON.parse(v.format(JSON.stringify(A.GENERAL_ERROR.INVALID),"SET_SEARCH_KEYWORD","SET_SEARCH_KEYWORD","search keyword","search keyword")));this.searchKeyword=this.searchKeyword.trim()}if(void 0!==this.direction){if(typeof this.direction!==A.COMMON_UTILITY_CONSTANTS.TYPE_CONSTANTS.STRING)return new N.CometChatException(JSON.parse(v.format(JSON.stringify(A.GENERAL_ERROR.PARAMETER_MUST_BE_A_STRING),"SET_DIRECTION","SET_DIRECTION","setDirection()")));if(this.direction!=A.BlockedUsersConstants.REQUEST_KEYS.DIRECTIONS.BOTH&&this.direction!=A.BlockedUsersConstants.REQUEST_KEYS.DIRECTIONS.BLOCKED_BY_ME&&this.direction!=A.BlockedUsersConstants.REQUEST_KEYS.DIRECTIONS.HAS_BLOCKED_ME)return new N.CometChatException(A.UserErrors.INVALID_DIRECTION)}},F.prototype.fetchNext=function(){var C=this;return new Promise(function(M,x){try{if(C.fetchingInProgress)C.fetchingInProgress=!1,M([]);else{C.fetchingInProgress=!0;var j=C.validateBlockedUsersBuilder();if(j instanceof N.CometChatException)return void x(j);d.makeApiCall("blockedUsersList",{},C.getNextData()).then(function(Q){if(Q.meta&&(C.total_pages=Q.meta.pagination.total_pages),0<Q.data.length){C.pagination=Q.meta.pagination;var $=[];Q.data.map(function(S){$.push(w.UsersController.trasformJSONUser(S))}),M($)}else M([]);C.fetchingInProgress=!1},function(Q){C.fetchingInProgress=!1,x(new N.CometChatException(Q.error))})}}catch(Q){C.fetchingInProgress=!1,x(new N.CometChatException(Q))}})},F.prototype.getNextData=function(){var C={};if(C.per_page=this.limit,v.isFalsy(this.direction)||(C.direction=this.direction),v.isFalsy(this.searchKeyword)||(C.searchKey=this.searchKeyword),1==this.current_page)C.page=this.next_page,this.next_page++,this.current_page++;else{if(this.next_page>this.total_pages)return C.page=this.next_page,C;C.page=this.next_page++}return C},F.MAX_LIMIT=2,F.DEFAULT_LIMIT=1,F.directions=A.BlockedUsersConstants.REQUEST_KEYS.DIRECTIONS,F}();y.BlockedUsersRequest=I;var P=function(){function F(){}return F.prototype.setLimit=function(C){return this.limit=C,this},F.prototype.setSearchKeyword=function(C){return this.searchKeyword=C,this},F.prototype.setDirection=function(C){return this.direction=C,this},F.prototype.blockedByMe=function(){return this.direction=A.BlockedUsersConstants.REQUEST_KEYS.DIRECTIONS.BLOCKED_BY_ME,this},F.prototype.hasBlockedMe=function(){return this.direction=A.BlockedUsersConstants.REQUEST_KEYS.DIRECTIONS.HAS_BLOCKED_ME,this},F.prototype.build=function(){return new I(this)},F}();y.BlockedUsersRequestBuilder=P},function(ft,y,c){"use strict";y.__esModule=!0,y.AppSettingsBuilder=y.AppSettings=void 0;var d=c(1),v=function(){function N(A){this.subscriptionType=N.SUBSCRIPTION_TYPE_NONE,this.roles=null,this.region=d.DEFAULT_VALUES.REGION_DEFAULT,this.autoJoinGroup=!0,this.establishSocketConnection=!0,this.adminHost=null,this.clientHost=null,this.subscriptionType=A.subscriptionType,this.roles=A.roles,this.region=A.region,this.autoJoinGroup=A.autoJoinGroup,this.establishSocketConnection=A.establishSocketConnection,this.adminHost=A.adminHost,this.clientHost=A.clientHost}return N.prototype.getSubscriptionType=function(){return this.subscriptionType},N.prototype.getRoles=function(){return this.roles},N.prototype.getRegion=function(){return this.region},N.prototype.getIsAutoJoinEnabled=function(){return this.autoJoinGroup},N.prototype.shouldAutoEstablishSocketConnection=function(){return this.establishSocketConnection},N.prototype.getAdminHost=function(){return this.adminHost},N.prototype.getClientHost=function(){return this.clientHost},N.SUBSCRIPTION_TYPE_NONE="NONE",N.SUBSCRIPTION_TYPE_ALL_USERS="ALL_USERS",N.SUBSCRIPTION_TYPE_ROLES="ROLES",N.SUBSCRIPTION_TYPE_FRIENDS="FRIENDS",N.REGION_EU=d.DEFAULT_VALUES.REGION_DEFAULT_EU,N.REGION_US=d.DEFAULT_VALUES.REGION_DEFAULT_US,N.REGION_IN=d.DEFAULT_VALUES.REGION_DEFAULT_IN,N.REGION_PRIVATE=d.DEFAULT_VALUES.REGION_DEFAULT_PRIVATE,N}();y.AppSettings=v;var w=function(){function N(){this.subscriptionType=v.SUBSCRIPTION_TYPE_NONE,this.roles=null,this.region=d.DEFAULT_VALUES.REGION_DEFAULT,this.autoJoinGroup=!0,this.establishSocketConnection=!0,this.adminHost=null,this.clientHost=null}return N.prototype.subscribePresenceForAllUsers=function(){return this.subscriptionType=v.SUBSCRIPTION_TYPE_ALL_USERS,this},N.prototype.subscribePresenceForRoles=function(A){return this.subscriptionType=v.SUBSCRIPTION_TYPE_ROLES,this.roles=A,this},N.prototype.subscribePresenceForFriends=function(){return this.subscriptionType=v.SUBSCRIPTION_TYPE_FRIENDS,this},N.prototype.setRegion=function(A){return void 0===A&&(A=d.DEFAULT_VALUES.REGION_DEFAULT),this.region=A.toLowerCase(),this},N.prototype.enableAutoJoinForGroups=function(A){return void 0===A&&(A=!0),this.autoJoinGroup=A,this},N.prototype.autoEstablishSocketConnection=function(A){return void 0===A&&(A=!0),this.establishSocketConnection=A,this},N.prototype.overrideAdminHost=function(A){return this.adminHost=A,this},N.prototype.overrideClientHost=function(A){return this.clientHost=A,this},N.prototype.build=function(){return new v(this)},N}();y.AppSettingsBuilder=w},function(ft,y,c){"use strict";y.__esModule=!0,y.CometChatHelper=void 0;var d=c(10),v=c(1),w=c(11),N=c(15),A=c(24),I=c(3),P=c(2),F=c(0),C=function(){function M(){}return M.processMessage=function(x){try{return d.MessageController.trasformJSONMessge(x)}catch(j){F.Logger.error("CometChatHelper: processMessage",j)}},M.getConversationFromMessage=function(x){return new Promise(function(j,Q){try{I.CometChat.getLoggedinUser().then(function($){if(null!==$){var S=d.MessageController.trasformJSONMessge(x),se=S.receiverType,ue=S.conversationId,Be=void 0,me=d.MessageController.trasformJSONMessge(x);if(se==v.MessageConstatnts.RECEIVER_TYPE.USER){var Ne=w.UsersController.trasformJSONUser(S[v.MessageConstatnts.KEYS.SENDER]);Be=Ne.getUid()==$.getUid()?w.UsersController.trasformJSONUser(S[v.MessageConstatnts.KEYS.RECEIVER]):Ne}else Be=N.GroupsController.trasformJSONGroup(S[v.MessageConstatnts.KEYS.RECEIVER]);var Se=A.ConversationController.trasformJSONConversation(ue,se,me,Be,0,[]);j(Se)}else Q(v.UserErrors.USER_NOT_LOGGED_IN)},function($){Q(new P.CometChatException($.error))})}catch($){Q(new P.CometChatException($))}})},M}();y.CometChatHelper=C},function(ft,y,c){"use strict";y.__esModule=!0,y.MainVideoContainerSetting=y.VirtualBackgroundBuilder=y.VirtualBackground=y.CallSettingsBuilder=y.CallSettings=void 0;var d=c(1),v=c(0),w=function(){function F(C){this.sessionID=C.sessionID,this.defaultLayout=C.defaultLayout,this.isAudioOnly=C.isAudioOnly,this.region=C.region,this.user=C.user,this.mode=C.mode,this.domain=C.domain,this.ShowEndCallButton=C.ShowEndCallButton,this.ShowMuteAudioButton=C.ShowMuteAudioButton,this.ShowPauseVideoButton=C.ShowPauseVideoButton,this.ShowScreenShareButton=C.ShowScreenShareButton,this.ShowSwitchModeButton=C.ShowSwitchModeButton,this.StartAudioMuted=C.StartAudioMuted,this.StartVideoMuted=C.StartVideoMuted,this.localizedObject=C.localizedObject,this.analyticsSettings=C.analyticsSettings,this.appId=C.appId,this.customCSS=C.customCSS,this.ShowRecordingButton=C.ShowRecordingButton,this.StartRecordingOnCallStart=C.StartRecordingOnCallStart,this.useLegacyUI=C.useLegacyUI,this.ShowSwitchToVideoCallButton=C.ShowSwitchToVideoCallButton,this.VirtualBackground=C.virtualBackground,this.ShowVirtualBackgroundSetting=C.ShowVirtualBackgroundSetting,this.MainVideoContainerSetting=C.MainVideoContainerSetting}return F.prototype.shouldUseLegacyUI=function(){return this.useLegacyUI},F.prototype.isRecordingButtonEnabled=function(){return this.ShowRecordingButton},F.prototype.shouldStartRecordingOnCallStart=function(){return this.StartRecordingOnCallStart},F.prototype.getCustomCSS=function(){return this.customCSS},F.prototype.getSessionId=function(){return this.sessionID},F.prototype.isAudioOnlyCall=function(){return this.isAudioOnly},F.prototype.getUser=function(){return this.user},F.prototype.getRegion=function(){return this.region},F.prototype.getAppId=function(){return this.appId},F.prototype.getDomain=function(){return this.domain},F.prototype.isDefaultLayoutEnabled=function(){return this.defaultLayout},F.prototype.getMode=function(){return this.mode},F.prototype.getStartWithAudioMuted=function(){return this.StartAudioMuted},F.prototype.getStartWithVideoMuted=function(){return this.StartVideoMuted},F.prototype.isEndCallButtonEnabled=function(){return this.ShowEndCallButton},F.prototype.isMuteAudioButtonEnabled=function(){return this.ShowMuteAudioButton},F.prototype.isPauseVideoButtonEnabled=function(){return this.ShowPauseVideoButton},F.prototype.isScreenShareButtonEnabled=function(){return this.ShowScreenShareButton},F.prototype.isModeButtonEnabled=function(){return this.ShowSwitchModeButton},F.prototype.getLocalizedStringObject=function(){return this.localizedObject},F.prototype.getAnalyticsSettings=function(){return this.analyticsSettings},F.prototype.isAudioToVideoButtonEnabled=function(){return this.ShowSwitchToVideoCallButton},F.prototype.getVirtualBackground=function(){return this.VirtualBackground},F.prototype.isVirtualBackgroundSettingEnabled=function(){return this.ShowVirtualBackgroundSetting},F.prototype.getMainVideoContainerSetting=function(){return this.MainVideoContainerSetting},F.POSITION_TOP_LEFT="top-left",F.POSITION_TOP_RIGHT="top-right",F.POSITION_BOTTOM_LEFT="bottom-left",F.POSITION_BOTTOM_RIGHT="bottom-right",F.ASPECT_RATIO_DEFAULT="default",F.ASPECT_RATIO_CONTAIN="contain",F.ASPECT_RATIO_COVER="cover",F}();y.CallSettings=w;var N=function(){function F(){this.defaultLayout=!0,this.isAudioOnly=!1,this.mode=d.CallConstants.CALL_MODE.DEFAULT,this.ShowEndCallButton=!0,this.ShowMuteAudioButton=!0,this.ShowPauseVideoButton=!0,this.ShowScreenShareButton=!0,this.ShowSwitchModeButton=!0,this.StartAudioMuted=!1,this.StartVideoMuted=!1,this.localizedObject={},this.analyticsSettings={},this.ShowRecordingButton=!1,this.StartRecordingOnCallStart=!1,this.useLegacyUI=!1,this.ShowSwitchToVideoCallButton=!0,this.virtualBackground=(new I).build(),this.ShowVirtualBackgroundSetting=!0,this.MainVideoContainerSetting=new P}return F.prototype.setSessionID=function(C){return this.sessionID=C,this},F.prototype.enableDefaultLayout=function(C){return this.defaultLayout=C,this},F.prototype.setIsAudioOnlyCall=function(C){return this.isAudioOnly=C,this},F.prototype.setRegion=function(C){return this.region=C,this},F.prototype.setDomain=function(C){return this.domain=C,this},F.prototype.setUser=function(C){return this.user=C,this},F.prototype.setMode=function(C){return this.mode=C,this},F.prototype.showEndCallButton=function(C){return this.ShowEndCallButton=C,this},F.prototype.showMuteAudioButton=function(C){return this.ShowMuteAudioButton=C,this},F.prototype.showPauseVideoButton=function(C){return this.ShowPauseVideoButton=C,this},F.prototype.showScreenShareButton=function(C){return this.ShowScreenShareButton=C,this},F.prototype.showModeButton=function(C){return this.ShowSwitchModeButton=C,this},F.prototype.setLocalizedStringObject=function(C){return this.localizedObject=C,this},F.prototype.setAnalyticsSettings=function(C){return this.analyticsSettings=C,this},F.prototype.setAppId=function(C){return this.appId=C,this},F.prototype.startWithAudioMuted=function(C){return this.StartAudioMuted=C,this},F.prototype.startWithVideoMuted=function(C){return this.StartVideoMuted=C,this},F.prototype.setCustomCSS=function(C){return this.customCSS=C,this},F.prototype.showRecordingButton=function(C){return this.ShowRecordingButton=C,this},F.prototype.startRecordingOnCallStart=function(C){return this.StartRecordingOnCallStart=C,this},F.prototype.forceLegacyUI=function(C){return this.useLegacyUI=C,this},F.prototype.showSwitchToVideoCallButton=function(C){return this.ShowSwitchToVideoCallButton=C,this},F.prototype.setVirtualBackground=function(C){return this.virtualBackground=C,this},F.prototype.showVirtualBackgroundSetting=function(C){return this.ShowVirtualBackgroundSetting=C,this},F.prototype.setMainVideoContainerSetting=function(C){return this.MainVideoContainerSetting=C,this},F.prototype.build=function(){return new w(this)},F}();y.CallSettingsBuilder=N;var A=function(){function F(C){this.AllowBackgroundBlur=C.AllowBackgroundBlur,this.AllowUserImages=C.AllowUserImages,this.ShowDefaultImages=C.ShowDefaultImages,this.SetImages=C.SetImages,this.EnforceBackgroundBlur=C.EnforceBackgroundBlur,this.EnforceBackgroundImage=C.EnforceBackgroundImage}return F.prototype.shouldAllowBackgroundBlur=function(){return this.AllowBackgroundBlur},F.prototype.shouldAllowUserImages=function(){return this.AllowUserImages},F.prototype.shouldShowDefaultImages=function(){return this.ShowDefaultImages},F.prototype.getImages=function(){return this.SetImages},F.prototype.isBackgroundBlurEnforced=function(){return this.EnforceBackgroundBlur},F.prototype.getEnforcedBackgroundImage=function(){return this.EnforceBackgroundImage},F}();y.VirtualBackground=A;var I=function(){function F(){this.AllowBackgroundBlur=!0,this.AllowUserImages=!0,this.ShowDefaultImages=!0,this.SetImages=[],this.EnforceBackgroundBlur=0,this.EnforceBackgroundImage=""}return F.prototype.allowBackgroundBlur=function(C){return this.AllowBackgroundBlur=C,this},F.prototype.allowUserImages=function(C){return this.AllowUserImages=C,this},F.prototype.showDefaultImages=function(C){return this.ShowDefaultImages=C,this},F.prototype.setImages=function(C){return this.SetImages=C,this},F.prototype.enforceBackgroundBlur=function(C){return this.EnforceBackgroundBlur=C,this},F.prototype.enforceBackgroundImage=function(C){return this.EnforceBackgroundImage=C,this},F.prototype.build=function(){return new A(this)},F}();y.VirtualBackgroundBuilder=I;var P=function(){function F(){this.videoFit=w.ASPECT_RATIO_CONTAIN,this.zoomButton=d.CallConstants.ZOOM_BUTTON_DEFAULT_PARAMS,this.nameLabel=d.CallConstants.NAME_LABEL_DEFAULT_PARAMS,this.network=d.CallConstants.NETWORK_LABEL_DEFAULT_PARAMS}return F.prototype.setMainVideoAspectRatio=function(C){this.videoFit=C},F.prototype.setFullScreenButtonParams=function(C,M){v.isFalsy(C)||(this.zoomButton[d.CallConstants.MAIN_VIDEO_CONTAINER_SETTINGS.KEYS.POSITION]=C),null!=M&&null!=M&&(this.zoomButton[d.CallConstants.MAIN_VIDEO_CONTAINER_SETTINGS.KEYS.VISIBILITY]=M)},F.prototype.setNameLabelParams=function(C,M,x){v.isFalsy(C)||(this.nameLabel[d.CallConstants.MAIN_VIDEO_CONTAINER_SETTINGS.KEYS.POSITION]=C),null!=M&&null!=M&&(this.nameLabel[d.CallConstants.MAIN_VIDEO_CONTAINER_SETTINGS.KEYS.VISIBILITY]=M),v.isFalsy(x)||(this.nameLabel[d.CallConstants.MAIN_VIDEO_CONTAINER_SETTINGS.KEYS.COLOR]=x)},F.prototype.setNetworkLabelParams=function(C,M){v.isFalsy(C)||(this.network[d.CallConstants.MAIN_VIDEO_CONTAINER_SETTINGS.KEYS.POSITION]=C),null!=M&&null!=M&&(this.network[d.CallConstants.MAIN_VIDEO_CONTAINER_SETTINGS.KEYS.VISIBILITY]=M)},F}();y.MainVideoContainerSetting=P},function(ft,y,c){"use strict";y.__esModule=!0,y.RTCUser=void 0;var d=c(0),v=function(){function w(N){this.avatar="",d.isFalsy(N)||(this.uid=N.toString())}return w.prototype.setUID=function(N){this.uid=N?N.toString():""},w.prototype.getUID=function(){return this.uid.toString()},w.prototype.setName=function(N){this.name=N?N.toString():""},w.prototype.getName=function(){return this.name.toString()},w.prototype.setAvatar=function(N){this.avatar=N?N.toString():""},w.prototype.getAvatar=function(){return this.avatar.toString()},w.prototype.setJWT=function(N){this.jwt=N?N.toString():""},w.prototype.getJWT=function(){return this.jwt.toString()},w.prototype.setResource=function(N){this.resource=N?N.toString():""},w.prototype.getResource=function(){return this.resource.toString()},w}();y.RTCUser=v},function(ft,y,c){"use strict";var d=this&&this.__awaiter||function(xe,Ke,Ye,rt){return new(Ye||(Ye=Promise))(function(xt,on){function At(fe){try{pe(rt.next(fe))}catch(Ie){on(Ie)}}function je(fe){try{pe(rt.throw(fe))}catch(Ie){on(Ie)}}function pe(fe){var Ie;fe.done?xt(fe.value):(Ie=fe.value,Ie instanceof Ye?Ie:new Ye(function(Qe){Qe(Ie)})).then(At,je)}pe((rt=rt.apply(xe,Ke||[])).next())})},v=this&&this.__generator||function(xe,Ke){var Ye,rt,xt,on,At={label:0,sent:function(){if(1&xt[0])throw xt[1];return xt[1]},trys:[],ops:[]};return on={next:je(0),throw:je(1),return:je(2)},"function"==typeof Symbol&&(on[Symbol.iterator]=function(){return this}),on;function je(pe){return function(fe){return function(Ie){if(Ye)throw new TypeError("Generator is already executing.");for(;At;)try{if(Ye=1,rt&&(xt=2&Ie[0]?rt.return:Ie[0]?rt.throw||((xt=rt.return)&&xt.call(rt),0):rt.next)&&!(xt=xt.call(rt,Ie[1])).done)return xt;switch(rt=0,xt&&(Ie=[2&Ie[0],xt.value]),Ie[0]){case 0:case 1:xt=Ie;break;case 4:return At.label++,{value:Ie[1],done:!1};case 5:At.label++,rt=Ie[1],Ie=[0];continue;case 7:Ie=At.ops.pop(),At.trys.pop();continue;default:if(!(xt=0<(xt=At.trys).length&&xt[xt.length-1])&&(6===Ie[0]||2===Ie[0])){At=0;continue}if(3===Ie[0]&&(!xt||Ie[1]>xt[0]&&Ie[1]<xt[3])){At.label=Ie[1];break}if(6===Ie[0]&&At.label<xt[1]){At.label=xt[1],xt=Ie;break}if(xt&&At.label<xt[2]){At.label=xt[2],At.ops.push(Ie);break}xt[2]&&At.ops.pop(),At.trys.pop();continue}Ie=Ke.call(xe,At)}catch(Qe){Ie=[6,Qe],rt=0}finally{Ye=xt=0}if(5&Ie[0])throw Ie[1];return{value:Ie[0]?Ie[1]:void 0,done:!0}}([pe,fe])}}};y.__esModule=!0,y.WSConnectionHelper=void 0;var w=c(3),N=c(1),A=c(31),I=c(36),P=c(0),F=c(37),C=c(30),M=c(25),x=c(20),j=c(21),Q=c(54),$=c(55),S=c(56),se=c(57),ue=c(58),Be=c(59),me=c(60),Ne=c(22),Se=c(27),Re=c(26),Xe=c(5),it=c(61),We=F.ListenerHandlers.getInstance(),Je=function(){function xe(){}return xe.getInstance=function(){try{return null!=this.wsConnectionHelper&&null!=this.wsConnectionHelper||(this.wsConnectionHelper=new xe),this.wsConnectionHelper}catch(Ke){P.Logger.error("WSConnectionHelper: getInstance",Ke)}},xe.prototype.WSLogin=function(Ke,Ye){var rt=this;try{it.getWSURL().then(function(xt){rt.connection=new WebSocket(xt),Ye&&rt.connection&&rt.connection.readyState==Xe.READY_STATE.CONNECTING&&Ye(rt.connection.readyState),rt.connection.onopen=function(on){rt.onOpen(on,Ye),rt.authenticateUser(Ke)},rt.connection.onclose=function(on){rt.onClose(on,Ye)},rt.connection.onmessage=function(on){rt.onMessage(on)}},function(xt){P.Logger.error("WSConnectionHelper :: WSLogin",xt)})}catch(xt){P.Logger.error("WSConnectionHelper: WSLogin",xt)}},xe.prototype.onOpen=function(Ke,Ye){try{Ye&&this.connection&&Ye(this.connection.readyState)}catch(rt){P.Logger.error("WSConnectionHelper: onOpen",rt)}},xe.prototype.onClose=function(Ke,Ye){try{Ye&&this.connection&&Ye(this.connection.readyState)}catch(rt){P.Logger.error("WSConnectionHelper: onClose",rt)}},xe.prototype.onMessage=function(Ke){if(Ke.data&&"string"==typeof Ke.data)try{var Ye=JSON.parse(Ke.data);if(Ye&&Ye.action&&Ye.action===Xe.KEYS.PONG)return;var rt=this.getCometChatEventFromMessage(JSON.parse(Ke.data));if(rt.getDeviceId()===w.CometChat.getSessionId()&&rt.getType()!==Xe.AUTH.TYPE)return;switch(rt.getType()){case Xe.TYPING_INDICATOR.TYPE:this.publishTypingIndicator(rt);break;case Xe.RECEIPTS.TYPE:this.publishReceipts(rt);break;case Xe.PRESENCE.TYPE:this.publishPresence(rt);break;case Xe.AUTH.TYPE:this.authResponseReceived(rt);break;case Xe.MESSAGE.TYPE:this.publishMessages(rt);break;case Xe.TRANSIENT_MESSAGE.TYPE:this.publishTransientMessage(rt);break;default:P.Logger.log("WSHelper: onMessage :: unknown type",Ke.data)}}catch(xt){P.Logger.error("WSHelper: onMessage",xt)}else P.Logger.log("WSHelper: onMessage :: object data",Ke.data)},xe.prototype.authenticateUser=function(Ke){var Ye=this;try{w.CometChat.getLoggedinUser().then(function(rt){rt?C.KeyStore.getInstance().get("deviceId").then(function(xt){P.getAppSettings().then(function(on){var At=null;window&&window.location&&window.location.origin&&(At=window.location.origin);var je="",pe=xt,fe={version:N.SDKHeader.sdkVersion,apiVersion:on[N.APP_SETTINGS.KEYS.CHAT_API_VERSION],origin:At,uts:(new Date).getTime()};P.isFalsy(w.CometChat.resource)||(fe.resource=w.CometChat.resource),P.isFalsy(w.CometChat.platform)||(fe.platform=w.CometChat.platform),P.isFalsy(w.CometChat.language)||(fe.language=w.CometChat.language),navigator&&(je=navigator.userAgent);var Ie={appInfo:fe,userAgent:je,deviceId:pe,platform:N.SDKHeader.platform},Qe=new Q.CometChatAuthEvent(w.CometChat.getAppId(),"","",rt.getUid(),w.CometChat.getSessionId());if(Qe.setAuth(Ke),Qe.setPresenceSubscription(w.CometChat.appSettings.getSubscriptionType()),Qe.setDeviceId(w.CometChat.getSessionId()),Qe.setExtraParmaeters(Ie),it.checkConnection(Ye.connection)){var Kt=Qe.getAsString();Ye.connection.send(Kt)}})}):P.Logger.log("no logged-in user","null")},function(rt){P.Logger.log("error in fetching logged-in user",rt)})}catch(rt){P.Logger.error("WSConnectionHelper: startTypingIndicator",rt)}},xe.prototype.authResponseReceived=function(Ke){try{"200"===Ke.getCode()&&"OK"===Ke.getStatus()&&this.startPingingWS()}catch(Ye){P.Logger.error("WSConnectionHelper: authResponseReceived",Ye)}},xe.prototype.WSLogout=function(){try{this.clearPingTimer(),it.checkConnection(this.connection)&&this.connection.close(Xe.LOGOUT_CODE,Xe.LOGOUT_REASON)}catch(Ke){P.Logger.error("WSConnectionHelper: WSLogout",Ke)}},xe.prototype.startPingingWS=function(){var Ke=this;try{xe.pingTimer||(xe.pingTimer=setInterval(function(){return d(Ke,void 0,void 0,function(){var Ye,rt;return v(this,function(xt){switch(xt.label){case 0:return it.checkConnection(this.connection)?(Ye=new S.CometChatPingEvent("","","","",""),rt=Ye.getAsString(),this.connection.send(rt),[4,this.listenForPong()]):[3,2];case 1:xt.sent()?(P.Logger.log("WSConnectionHelper :: startPingingWS","pong success"),w.CometChat.getConnectionStatus()!=N.CONNECTION_STATUS.CONNECTED&&(this.WSLogout(),this.connection=null,w.CometChat.getInstance().makeWSConnection())):(P.Logger.log("WSConnectionHelper :: startPingingWS","pong failure"),this.WSLogout(),this.connection=null,w.CometChat.getInstance().setConnectionStatus(N.CONNECTION_STATUS.DISCONNECTED),We.connectionHandlers.map(function(on){try{on._eventListener&&(P.isFalsy(on._eventListener.onDisconnected)||on._eventListener.onDisconnected())}catch(At){P.Logger.error("WSConnectionHandlers: Disconnected Status",At)}}),w.CometChat.getInstance().accidentallyDisconnected()),xt.label=2;case 2:return[2]}})})},15e3))}catch(Ye){P.Logger.error("WSConnectionHelper: startPingingWS",Ye)}},xe.prototype.listenForPong=function(){var Ke=this;return new Promise(function(Ye,rt){var xt=setTimeout(function(){Ye(!1)},3e3);Ke.connection.addEventListener("message",function(on){on&&on.data&&"string"==typeof on.data&&JSON.parse(on.data).action===Xe.KEYS.PONG&&(clearTimeout(xt),Ye(!0))})})},xe.prototype.clearPingTimer=function(){xe.pingTimer&&(clearInterval(xe.pingTimer),xe.pingTimer=void 0)},xe.prototype.sendOnlineEvent=function(){var Ke=this;try{it.checkConnection(this.connection)&&w.CometChat.getLoggedinUser().then(function(Ye){if(Ye){Ye.authToken&&delete Ye.authToken;var rt={appId:w.CometChat.getAppId(),deviceId:w.CometChat.getSessionId(),type:Xe.PRESENCE.TYPE,body:{action:Xe.PRESENCE.ACTION.ONLINE,timestamp:Math.floor((new Date).getTime()/1e3),user:Ye}};if(it.checkConnection(Ke.connection)){var xt=it.stringifyMessage(rt);Ke.connection.send(xt)}}else P.Logger.log("no logged-in user","null")},function(Ye){P.Logger.log("error in fetching logged-in user",Ye)})}catch(Ye){P.Logger.error("WSConnectionHelper: sendOnlineEvent",Ye)}},xe.prototype.sendOfflineEvent=function(){var Ke=this;try{it.checkConnection(this.connection)&&w.CometChat.getLoggedinUser().then(function(Ye){if(Ye){Ye.authToken&&delete Ye.authToken;var rt={appId:w.CometChat.getAppId(),deviceId:w.CometChat.getSessionId(),type:Xe.PRESENCE.TYPE,body:{action:Xe.PRESENCE.ACTION.OFFLINE,timestamp:Math.floor((new Date).getTime()/1e3),user:Ye}};if(it.checkConnection(Ke.connection)){var xt=it.stringifyMessage(rt);Ke.connection.send(xt)}}else P.Logger.log("no logged-in user","null")},function(Ye){P.Logger.log("error in fetching logged-in user",Ye)})}catch(Ye){P.Logger.error("WSConnectionHelper: sendOfflineEvent",Ye)}},xe.prototype.startTypingIndicator=function(Ke,Ye,rt){var xt=this;try{w.CometChat.getLoggedinUser().then(function(on){if(on){var At=new Re.TypingIndicator(Ke,Ye);on.authToken&&delete on.authToken,At.setSender(on),rt&&At.setMetadata(rt);var je=new me.CometChatTypingEvent(w.CometChat.getAppId(),Ke,Ye,on.getUid(),w.CometChat.getSessionId());if(je.setAction(Xe.TYPING_INDICATOR.ACTION.STARTED),je.setTypingIndicator(At),it.checkConnection(xt.connection)){var pe=je.getAsString();xt.connection.send(pe)}}else P.Logger.log("no logged-in user","null")},function(on){P.Logger.log("error in fetching logged-in user",on)})}catch(on){P.Logger.error("WSConnectionHelper: startTypingIndicator",on)}},xe.prototype.pauseTypingIndicator=function(Ke,Ye,rt){var xt=this;try{w.CometChat.getLoggedinUser().then(function(on){if(on){var At=new Re.TypingIndicator(Ke,Ye);on.authToken&&delete on.authToken,At.setSender(on),rt&&At.setMetadata(rt);var je=new me.CometChatTypingEvent(w.CometChat.getAppId(),Ke,Ye,on.getUid(),w.CometChat.getSessionId());if(je.setAction(Xe.TYPING_INDICATOR.ACTION.ENDED),je.setTypingIndicator(At),it.checkConnection(xt.connection)){var pe=je.getAsString();xt.connection.send(pe)}}else P.Logger.log("no logged-in user","null")},function(on){P.Logger.log("error in fetching logged-in user",on)})}catch(on){P.Logger.error("WSConnectionHelper: pauseTypingIndicator",on)}},xe.prototype.markAsRead=function(Ke,Ye,rt,xt){var on=this;try{w.CometChat.getMode(),w.CometChat.getLoggedinUser().then(function(At){if(At){var je=new ue.CometChatReceiptEvent(w.CometChat.getAppId(),Ke,Ye,At.getUid(),w.CometChat.getSessionId(),xt);je.setAction(Xe.RECEIPTS.ACTION.READ);var pe=new Ne.MessageReceipt;if(At.authToken&&delete At.authToken,pe.setSender(At),pe.setReceiverType(Ye),pe.setReceiver(Ke),pe.setReceiptType(Xe.RECEIPTS.RECEIPT_TYPE.READ_RECEIPT),pe.setMessageId(rt),pe.setTimestamp(Math.floor((new Date).getTime()/1e3).toString()),je.setMessageReceipt(pe),it.checkConnection(on.connection)){var fe=je.getAsString();on.connection.send(fe)}}else P.Logger.log("no logged-in user","null")},function(At){P.Logger.log("error in fetching logged-in user",At)})}catch(At){P.Logger.error("WSConnectionHelper: markAsRead",At)}},xe.prototype.markAsDelivered=function(Ke,Ye,rt,xt){var on=this;try{w.CometChat.getMode(),w.CometChat.getLoggedinUser().then(function(At){if(At){var je=new ue.CometChatReceiptEvent(w.CometChat.getAppId(),Ke,Ye,At.getUid(),w.CometChat.getSessionId(),xt);je.setAction(Xe.RECEIPTS.ACTION.DELIVERED);var pe=new Ne.MessageReceipt;if(At.authToken&&delete At.authToken,pe.setSender(At),pe.setReceiverType(Ye),pe.setReceiver(Ke),pe.setReceiptType(Xe.RECEIPTS.RECEIPT_TYPE.DELIVERY_RECEIPT),pe.setMessageId(rt),pe.setTimestamp(Math.floor((new Date).getTime()/1e3).toString()),je.setMessageReceipt(pe),it.checkConnection(on.connection)){var fe=je.getAsString();on.connection.send(fe)}}else P.Logger.log("no logged-in user","null")},function(At){P.Logger.log("error in fetching logged-in user",At)})}catch(At){P.Logger.error("WSConnectionHelper: markAsDelivered",At)}},xe.prototype.sendTransientMessage=function(Ke,Ye,rt){var xt=this;try{w.CometChat.getLoggedinUser().then(function(on){if(on){var At=new Se.TransientMessage(Ke,Ye,rt);on.authToken&&delete on.authToken,At.setSender(on);var je=new Be.CometChatTransientEvent(w.CometChat.getAppId(),Ke,Ye,on.getUid(),w.CometChat.getSessionId());if(je.setTransientMessage(At),it.checkConnection(xt.connection)){var pe=je.getAsString();xt.connection.send(pe)}}else P.Logger.log("no logged-in user","null")},function(on){P.Logger.log("error in fetching logged-in user",on)})}catch(on){P.Logger.error("WSConnectionHelper: sendTransientMessage",on)}},xe.prototype.publishTypingIndicator=function(Ke){try{var Ye=Ke.getTypingIndicator();switch(Ke.getAction()){case Xe.TYPING_INDICATOR.ACTION.STARTED:We.messageHandlers.map(function(rt){rt._eventListener.onTypingStarted&&rt._eventListener.onTypingStarted(Ye)}),I.TypingNotificationController.addIncomingTypingStarted(Ye);break;case Xe.TYPING_INDICATOR.ACTION.ENDED:We.messageHandlers.map(function(rt){rt._eventListener.onTypingEnded&&rt._eventListener.onTypingEnded(Ye)}),I.TypingNotificationController.removeIncomingTypingStarted(Ye)}}catch(rt){P.Logger.error("WSHelper: publishTypingIndicator",rt)}},xe.prototype.publishReceipts=function(Ke){try{var Ye=Ke.getMessageReceipt();switch(Ke.getAction()){case Xe.RECEIPTS.ACTION.DELIVERED:We.messageHandlers.map(function(rt){rt._eventListener.onMessagesDelivered&&rt._eventListener.onMessagesDelivered(Ye)});break;case Xe.RECEIPTS.ACTION.READ:We.messageHandlers.map(function(rt){rt._eventListener.onMessagesRead&&rt._eventListener.onMessagesRead(Ye)})}}catch(rt){P.Logger.error("WSHelper: publishReceipts",rt)}},xe.prototype.publishPresence=function(Ke){try{var Ye=Ke.getUser();switch(Ye.setLastActiveAt(Ke.getTimestamp()),Ke.getAction()){case Xe.PRESENCE.ACTION.ONLINE:case Xe.PRESENCE.ACTION.AVAILABLE:Ye.setStatus(N.PresenceConstatnts.STATUS.ONLINE),We.userHandlers.map(function(rt){P.isFalsy(rt._eventListener.onUserOnline)||rt._eventListener.onUserOnline(Ye)});break;case Xe.PRESENCE.ACTION.OFFLINE:Ye.setStatus(N.PresenceConstatnts.STATUS.OFFLINE),We.userHandlers.map(function(rt){P.isFalsy(rt._eventListener.onUserOffline)||rt._eventListener.onUserOffline(Ye)})}}catch(rt){P.Logger.error("WSHelper: publishPresence",rt)}},xe.prototype.publishMessages=function(Ke){try{var Ye=Ke.getMessage();Ye&&Ye.getId()&&M.MessageListnerMaping.getInstance().set("all",Ye.getId()),Ye instanceof j.Call?this.publishCallMessage(Ye):Ye instanceof x.Action?this.publishActionMessage(Ye):this.publishMessage(Ye)}catch(rt){P.Logger.error("WSHelper: publishMessages",rt)}},xe.prototype.publishMessage=function(Ke){try{We.messageHandlers.map(function(Ye){if(Ye._eventListener){var rt=Ke;switch(rt.getType()){case N.MessageConstatnts.TYPE.TEXT:P.isFalsy(Ye._eventListener.onTextMessageReceived)||Ye._eventListener.onTextMessageReceived(Ke);break;case N.MessageConstatnts.TYPE.CUSTOM:P.isFalsy(Ye._eventListener.onCustomMessageReceived)||Ye._eventListener.onCustomMessageReceived(Ke);break;default:rt.getCategory()==N.MessageCategory.CUSTOM?P.isFalsy(Ye._eventListener.onCustomMessageReceived)||Ye._eventListener.onCustomMessageReceived(Ke):P.isFalsy(Ye._eventListener.onMediaMessageReceived)||Ye._eventListener.onMediaMessageReceived(Ke)}}})}catch(Ye){P.Logger.error("WSHelper: publishMessage",Ye)}},xe.prototype.publishCallMessage=function(Ke){try{var Ye=A.CallController.getInstance().getActiveCall();switch(Ke.getStatus()){case N.CallConstants.CALL_STATUS.INITIATED:Ke.getReceiverType()==N.CallConstants.RECEIVER_TYPE_GROUP?We.callHandlers.map(function(rt){Ke.getCallInitiator().getUid().toLocaleLowerCase()!=w.CometChat.user.getUid().toLocaleLowerCase()&&(P.isFalsy(rt._eventListener.onIncomingCallReceived)||rt._eventListener.onIncomingCallReceived(Ke))}):We.callHandlers.map(function(rt){P.isFalsy(rt._eventListener.onIncomingCallReceived)||rt._eventListener.onIncomingCallReceived(Ke)});break;case N.CallConstants.CALL_STATUS.ONGOING:Ke.getReceiverType()==N.CallConstants.RECEIVER_TYPE_GROUP?Ke.getCallInitiator().getUid().toLocaleLowerCase()==w.CometChat.user.getUid().toLocaleLowerCase()&&We.callHandlers.map(function(rt){P.isFalsy(rt._eventListener.onOutgoingCallAccepted)||rt._eventListener.onOutgoingCallAccepted(Ke)}):We.callHandlers.map(function(rt){P.isFalsy(rt._eventListener.onOutgoingCallAccepted)||rt._eventListener.onOutgoingCallAccepted(Ke)});break;case N.CallConstants.CALL_STATUS.UNANSWERED:if(Ke.getCallInitiator().getUid().toLocaleLowerCase()==w.CometChat.user.getUid().toLocaleLowerCase())We.callHandlers.map(function(rt){P.isFalsy(rt._eventListener.onOutgoingCallRejected)||rt._eventListener.onOutgoingCallRejected(Ke)});else{if(null!==Ye&&Ye.getSessionId()===Ke.getSessionId())try{A.CallController.getInstance().endCall()}catch(rt){P.Logger.error("CallError",rt)}We.callHandlers.map(function(rt){P.isFalsy(rt._eventListener.onIncomingCallCancelled)||rt._eventListener.onIncomingCallCancelled(Ke)})}break;case N.CallConstants.CALL_STATUS.REJECTED:if(Ke.getReceiverType()==N.CallConstants.RECEIVER_TYPE_GROUP)Ke.getCallInitiator().getUid().toLocaleLowerCase()==w.CometChat.user.getUid().toLocaleLowerCase()&&We.callHandlers.map(function(rt){P.isFalsy(rt._eventListener.onOutgoingCallRejected)||rt._eventListener.onOutgoingCallRejected(Ke)});else{if(null!==Ye&&Ye.getSessionId()===Ke.getSessionId())try{A.CallController.getInstance().endCall()}catch(rt){P.Logger.error("CallError",rt)}We.callHandlers.map(function(rt){P.isFalsy(rt._eventListener.onOutgoingCallRejected)||rt._eventListener.onOutgoingCallRejected(Ke)})}break;case N.CallConstants.CALL_STATUS.BUSY:Ke.getReceiverType()==N.CallConstants.RECEIVER_TYPE_GROUP?Ke.getCallInitiator().getUid().toLocaleLowerCase()==w.CometChat.user.getUid().toLocaleLowerCase()&&We.callHandlers.map(function(rt){P.isFalsy(rt._eventListener.onOutgoingCallRejected)||rt._eventListener.onOutgoingCallRejected(Ke)}):We.callHandlers.map(function(rt){if(null!==Ye&&Ye.getSessionId()===Ke.getSessionId())try{A.CallController.getInstance().endCall()}catch(xt){P.Logger.error("CallError",xt)}P.isFalsy(rt._eventListener.onOutgoingCallRejected)||rt._eventListener.onOutgoingCallRejected(Ke)});break;case N.CallConstants.CALL_STATUS.CANCELLED:if(We.callHandlers.map(function(rt){P.isFalsy(rt._eventListener.onIncomingCallCancelled)||rt._eventListener.onIncomingCallCancelled(Ke)}),null!==Ye&&Ye.getSessionId()===Ke.getSessionId())try{A.CallController.getInstance().endCall()}catch(rt){P.Logger.error("CallError",rt)}break;case N.CallConstants.CALL_STATUS.ENDED:if(We.callHandlers.map(function(rt){P.isFalsy(rt._eventListener.onCallEndedMessageReceived)||rt._eventListener.onCallEndedMessageReceived(Ke)}),A.CallController.getInstance().getCallListner()&&A.CallController.getInstance().getCallListner()._eventListener.onCallEnded(Ke),null!==Ye&&Ye.getSessionId()===Ke.getSessionId())try{A.CallController.getInstance().endCall()}catch(rt){P.Logger.error("CallError",rt)}break;default:P.Logger.log("WSHelper: publishCallMessage :: unknown status",Ke)}}catch(rt){P.Logger.error("WSHelper: publishCallMessage",rt)}},xe.prototype.publishActionMessage=function(Ke){try{switch(Ke.getAction()){case N.ActionConstatnts.ACTION_TYPE.TYPE_MEMBER_JOINED:case N.ActionConstatnts.ACTION_TYPE.TYPE_MEMBER_INVITED:We.groupHandlers.map(function(Ye){P.isFalsy(Ye._eventListener.onGroupMemberJoined)||Ye._eventListener.onGroupMemberJoined(Ke,Ke.getActionBy(),Ke.getActionFor())});break;case N.ActionConstatnts.ACTION_TYPE.TYPE_MEMBER_LEFT:We.groupHandlers.map(function(Ye){P.isFalsy(Ye._eventListener.onGroupMemberLeft)||Ye._eventListener.onGroupMemberLeft(Ke,Ke.getActionBy(),Ke.getActionFor())});break;case N.ActionConstatnts.ACTION_TYPE.TYPE_MEMBER_BANNED:We.groupHandlers.map(function(Ye){P.isFalsy(Ye._eventListener.onGroupMemberBanned)||Ye._eventListener.onGroupMemberBanned(Ke,Ke.getActionOn(),Ke.getActionBy(),Ke.getActionFor())});break;case N.ActionConstatnts.ACTION_TYPE.TYPE_MEMBER_KICKED:We.groupHandlers.map(function(Ye){P.isFalsy(Ye._eventListener.onGroupMemberKicked)||Ye._eventListener.onGroupMemberKicked(Ke,Ke.getActionOn(),Ke.getActionBy(),Ke.getActionFor())});break;case N.ActionConstatnts.ACTION_TYPE.TYPE_MEMBER_UNBANNED:We.groupHandlers.map(function(Ye){P.isFalsy(Ye._eventListener.onGroupMemberUnbanned)||Ye._eventListener.onGroupMemberUnbanned(Ke,Ke.getActionOn(),Ke.getActionBy(),Ke.getActionFor())});break;case N.ActionConstatnts.ACTION_TYPE.TYPE_MEMBER_SCOPE_CHANGED:We.groupHandlers.map(function(Ye){P.isFalsy(Ye._eventListener.onGroupMemberScopeChanged)||Ye._eventListener.onGroupMemberScopeChanged(Ke,Ke.getActionOn(),Ke.getNewScope(),Ke.getOldScope(),Ke.getActionFor())});break;case N.ActionConstatnts.ACTION_TYPE.TYPE_MESSAGE_EDITED:We.messageHandlers.map(function(Ye){P.isFalsy(Ye._eventListener.onMessageEdited)||Ye._eventListener.onMessageEdited(Ke.getActionOn())});break;case N.ActionConstatnts.ACTION_TYPE.TYPE_MESSAGE_DELETED:We.messageHandlers.map(function(Ye){P.isFalsy(Ye._eventListener.onMessageDeleted)||Ye._eventListener.onMessageDeleted(Ke.getActionOn())});break;case N.ActionConstatnts.ACTION_TYPE.TYPE_MEMBER_ADDED:We.groupHandlers.map(function(Ye){P.isFalsy(Ye._eventListener.onGroupMemberAddedToGroup)||Ye._eventListener.onGroupMemberAddedToGroup(Ke,Ke.getActionOn(),Ke.getActionBy(),Ke.getActionFor())});break;default:P.Logger.log("WSHelper: publishActionMessage :: unknown action",Ke)}}catch(Ye){P.Logger.error("WSHelper: publishActionMessage",Ye)}},xe.prototype.publishTransientMessage=function(Ke){try{var Ye=Ke.getTransientMessage();We.messageHandlers.map(function(rt){rt._eventListener.onTransientMessageReceived&&rt._eventListener.onTransientMessageReceived(Ye)})}catch(rt){P.Logger.error("WSHelper: publishTransientMessage",rt)}},xe.prototype.getCometChatEventFromMessage=function(Ke){try{if(Ke.hasOwnProperty(Xe.KEYS.TYPE))switch(Ke.type){case Xe.TYPING_INDICATOR.TYPE:return me.CometChatTypingEvent.getTypingEventFromJSON(Ke);case Xe.RECEIPTS.TYPE:return ue.CometChatReceiptEvent.getReceiptEventFromJSON(Ke);case Xe.PRESENCE.TYPE:return se.CometChatPresenceEvent.getPresenceEventFromJSON(Ke);case Xe.MESSAGE.TYPE:return $.CometChatMessageEvent.getMessageEventFromJSON(Ke);case Xe.AUTH.TYPE:return Q.CometChatAuthEvent.getAuthEventFromJSON(Ke);case Xe.TRANSIENT_MESSAGE.TYPE:return Be.CometChatTransientEvent.getTransientEventFromJSON(Ke)}}catch(Ye){P.Logger.error("WSConnectionHelper: getCometChatEventFromMessage",Ye)}},xe.wsConnectionHelper=new xe,xe}();y.WSConnectionHelper=Je},function(ft,y,c){"use strict";var d,v=this&&this.__extends||(d=function(A,I){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,F){P.__proto__=F}||function(P,F){for(var C in F)F.hasOwnProperty(C)&&(P[C]=F[C])})(A,I)},function(A,I){function P(){this.constructor=A}d(A,I),A.prototype=null===I?Object.create(I):(P.prototype=I.prototype,new P)});y.__esModule=!0,y.CometChatAuthEvent=void 0;var w=c(5),N=function(A){function I(P,F,C,M,x){var j=A.call(this,P,F,C,M,x)||this;return j.setType(w.AUTH.TYPE),j}return v(I,A),I.prototype.getStatus=function(){return this.status},I.prototype.setStatus=function(P){this.status=P},I.prototype.getCode=function(){return this.code},I.prototype.setCode=function(P){this.code=P},I.prototype.setAuth=function(P){this.auth=P},I.prototype.getAuth=function(){return this.auth},I.prototype.setPresenceSubscription=function(P){this.presenceSubscription=P},I.prototype.getPresenceSubscription=function(){return this.presenceSubscription},I.prototype.setDeviceId=function(P){this.deviceId=P},I.prototype.getdeviceId=function(){return this.deviceId},I.prototype.setExtraParmaeters=function(P){this.params=P},I.prototype.getExtraParameters=function(){return this.params},I.prototype.getAsString=function(){return JSON.stringify(this.getAsJSONObject())},I.prototype.getAsJSONObject=function(){var P=this.getCometChatEventJSON(),F={};return F[w.KEYS.AUTH]=this.auth,F[w.KEYS.DEVICE_ID]=this.deviceId,F[w.KEYS.PRESENCE_SUBSCRIPTION]=this.presenceSubscription,F[w.KEYS.PARAMS]=this.params,P[w.KEYS.BODY]=F,P},I.getAuthEventFromJSON=function(P){var Q=P[w.KEYS.BODY],$=Q[w.KEYS.STATUS],S=Q[w.KEYS.CODE],se=new I(P[w.KEYS.APP_ID],P[w.KEYS.RECEIVER],P[w.KEYS.RECEIVER_TYPE],P[w.KEYS.SENDER],P[w.KEYS.DEVICE_ID]);return se.setStatus($),se.setCode(S),se},I}(c(9).CometChatEvent);y.CometChatAuthEvent=N},function(ft,y,c){"use strict";var d,v=this&&this.__extends||(d=function(I,P){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(F,C){F.__proto__=C}||function(F,C){for(var M in C)C.hasOwnProperty(M)&&(F[M]=C[M])})(I,P)},function(I,P){function F(){this.constructor=I}d(I,P),I.prototype=null===P?Object.create(P):(F.prototype=P.prototype,new F)});y.__esModule=!0,y.CometChatMessageEvent=void 0;var w=c(10),N=c(5),A=function(I){function P(F,C,M,x,j){var Q=I.call(this,F,C,M,x,j)||this;return Q.setType(N.MESSAGE.TYPE),Q}return v(P,I),P.prototype.getMessage=function(){return this.message},P.prototype.setMessage=function(F){this.message=F},P.getMessageEventFromJSON=function(F){var $=F[N.KEYS.BODY],S=new P(F[N.KEYS.APP_ID],F[N.KEYS.RECEIVER],F[N.KEYS.RECEIVER_TYPE],F[N.KEYS.SENDER],F[N.KEYS.DEVICE_ID]),se=w.MessageController.trasformJSONMessge($);return S.setMessage(se),S},P}(c(9).CometChatEvent);y.CometChatMessageEvent=A},function(ft,y,c){"use strict";var d,v=this&&this.__extends||(d=function(A,I){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,F){P.__proto__=F}||function(P,F){for(var C in F)F.hasOwnProperty(C)&&(P[C]=F[C])})(A,I)},function(A,I){function P(){this.constructor=A}d(A,I),A.prototype=null===I?Object.create(I):(P.prototype=I.prototype,new P)});y.__esModule=!0,y.CometChatPingEvent=void 0;var w=c(5),N=function(A){function I(P,F,C,M,x){return A.call(this,P,F,C,M,x)||this}return v(I,A),I.prototype.getAsString=function(){return JSON.stringify(this.getAsJSONObject())},I.prototype.getAsJSONObject=function(){var P={};return P[w.KEYS.ACTION]=w.KEYS.PING,P[w.KEYS.ACK]="true",P},I}(c(9).CometChatEvent);y.CometChatPingEvent=N},function(ft,y,c){"use strict";var d,v=this&&this.__extends||(d=function(P,F){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,M){C.__proto__=M}||function(C,M){for(var x in M)M.hasOwnProperty(x)&&(C[x]=M[x])})(P,F)},function(P,F){function C(){this.constructor=P}d(P,F),P.prototype=null===F?Object.create(F):(C.prototype=F.prototype,new C)});y.__esModule=!0,y.CometChatPresenceEvent=void 0;var w=c(5),N=c(9),A=c(4),I=function(P){function F(C,M,x,j,Q){var $=P.call(this,C,M,x,j,Q)||this;return $.setType(w.PRESENCE.TYPE),$}return v(F,P),F.prototype.getAction=function(){return this.action},F.prototype.setAction=function(C){this.action=C},F.prototype.getUser=function(){return this.user},F.prototype.setUser=function(C){this.user=C},F.prototype.getTimestamp=function(){return this.timestamp},F.prototype.setTimestamp=function(C){this.timestamp=C},F.getPresenceEventFromJSON=function(C){var Q=C[w.KEYS.BODY],$=Q[w.KEYS.ACTION],S=Q[w.KEYS.USER],se=Q[w.KEYS.TIMESTAMP],ue=new F(C[w.KEYS.APP_ID],"","",C[w.KEYS.SENDER],C[w.KEYS.DEVICE_ID]);return ue.setAction($),ue.setUser(new A.User(S)),ue.setTimestamp(se),ue},F}(N.CometChatEvent);y.CometChatPresenceEvent=I},function(ft,y,c){"use strict";var d,v=this&&this.__extends||(d=function(F,C){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,x){M.__proto__=x}||function(M,x){for(var j in x)x.hasOwnProperty(j)&&(M[j]=x[j])})(F,C)},function(F,C){function M(){this.constructor=F}d(F,C),F.prototype=null===C?Object.create(C):(M.prototype=C.prototype,new M)});y.__esModule=!0,y.CometChatReceiptEvent=void 0;var w=c(5),N=c(9),A=c(22),I=c(4),P=function(F){function C(M,x,j,Q,$,S){var se=F.call(this,M,x,j,Q,$,S)||this;return se.setType(w.RECEIPTS.TYPE),se}return v(C,F),C.prototype.getAction=function(){return this.action},C.prototype.setAction=function(M){this.action=M},C.prototype.getMessageReceipt=function(){return this.receipt},C.prototype.setMessageReceipt=function(M){this.receipt=M},C.prototype.getAsString=function(){return JSON.stringify(this.getAsJSONObject())},C.prototype.getAsJSONObject=function(){var M=this.getCometChatEventJSON(),x={};return x[w.KEYS.ACTION]=this.action,x[w.KEYS.MESSAGE_ID]=this.receipt.getMessageId(),x[w.KEYS.USER]=this.receipt.getSender(),M[w.KEYS.BODY]=x,M},C.getReceiptEventFromJSON=function(M){var j=M[w.KEYS.RECEIVER],Q=M[w.KEYS.RECEIVER_TYPE],se=M[w.KEYS.BODY],ue=se[w.KEYS.ACTION],Be=se[w.KEYS.USER],me=se[w.KEYS.MESSAGE_ID],Ne=se[w.KEYS.TIMESTAMP],Se=new C(M[w.KEYS.APP_ID],j,Q,M[w.KEYS.SENDER],M[w.KEYS.DEVICE_ID]);Se.setAction(ue);var Re=new A.MessageReceipt;return Re.setSender(new I.User(Be)),Re.setReceiverType(Q),Re.setReceiver(j),ue===w.RECEIPTS.ACTION.DELIVERED&&(Re.setReceiptType(w.RECEIPTS.RECEIPT_TYPE.DELIVERY_RECEIPT),Re.setDeliveredAt(Ne)),ue===w.RECEIPTS.ACTION.READ&&(Re.setReceiptType(w.RECEIPTS.RECEIPT_TYPE.READ_RECEIPT),Re.setReadAt(Ne)),Re.setMessageId(me.toString()),Re.setTimestamp(Ne),Se.setMessageReceipt(Re),Se},C}(N.CometChatEvent);y.CometChatReceiptEvent=P},function(ft,y,c){"use strict";var d,v=this&&this.__extends||(d=function(F,C){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,x){M.__proto__=x}||function(M,x){for(var j in x)x.hasOwnProperty(j)&&(M[j]=x[j])})(F,C)},function(F,C){function M(){this.constructor=F}d(F,C),F.prototype=null===C?Object.create(C):(M.prototype=C.prototype,new M)});y.__esModule=!0,y.CometChatTransientEvent=void 0;var w=c(5),N=c(9),A=c(27),I=c(4),P=function(F){function C(M,x,j,Q,$){var S=F.call(this,M,x,j,Q,$)||this;return S.setType(w.TRANSIENT_MESSAGE.TYPE),S}return v(C,F),C.prototype.getTransientMessage=function(){return this.transientMessage},C.prototype.setTransientMessage=function(M){this.transientMessage=M},C.prototype.getAsString=function(){return JSON.stringify(this.getAsJSONObject())},C.prototype.getAsJSONObject=function(){var M=this.getCometChatEventJSON(),x={};return x[w.KEYS.USER]=this.transientMessage.getSender(),this.transientMessage.getData()&&(x[w.KEYS.DATA]=this.transientMessage.getData()),M[w.KEYS.BODY]=x,M},C.getTransientEventFromJSON=function(M){var j=M[w.KEYS.RECEIVER],Q=M[w.KEYS.RECEIVER_TYPE],se=M[w.KEYS.BODY],ue=se[w.KEYS.USER],Be=se[w.KEYS.DATA],me=new C(M[w.KEYS.APP_ID],j,Q,M[w.KEYS.SENDER],M[w.KEYS.DEVICE_ID]),Ne=new A.TransientMessage(j,Q,Be);return Ne.setSender(new I.User(ue)),se.hasOwnProperty(w.KEYS.DATA)&&se[w.KEYS.DATA]&&Ne.setData(Be),me.setTransientMessage(Ne),me},C}(N.CometChatEvent);y.CometChatTransientEvent=P},function(ft,y,c){"use strict";var d,v=this&&this.__extends||(d=function(F,C){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,x){M.__proto__=x}||function(M,x){for(var j in x)x.hasOwnProperty(j)&&(M[j]=x[j])})(F,C)},function(F,C){function M(){this.constructor=F}d(F,C),F.prototype=null===C?Object.create(C):(M.prototype=C.prototype,new M)});y.__esModule=!0,y.CometChatTypingEvent=void 0;var w=c(5),N=c(9),A=c(26),I=c(4),P=function(F){function C(M,x,j,Q,$){var S=F.call(this,M,x,j,Q,$)||this;return S.setType(w.TYPING_INDICATOR.TYPE),S}return v(C,F),C.prototype.getAction=function(){return this.action},C.prototype.setAction=function(M){this.action=M},C.prototype.getTypingIndicator=function(){return this.typingIndicator},C.prototype.setTypingIndicator=function(M){this.typingIndicator=M},C.prototype.getAsString=function(){return JSON.stringify(this.getAsJSONObject())},C.prototype.getAsJSONObject=function(){var M=this.getCometChatEventJSON(),x={};return x[w.KEYS.ACTION]=this.action,x[w.KEYS.USER]=this.typingIndicator.getSender(),this.typingIndicator.getMetadata()&&(x[w.KEYS.METADATA]=this.typingIndicator.getMetadata()),M[w.KEYS.BODY]=x,M},C.getTypingEventFromJSON=function(M){var j=M[w.KEYS.RECEIVER],Q=M[w.KEYS.RECEIVER_TYPE],se=M[w.KEYS.BODY],ue=se[w.KEYS.ACTION],Be=se[w.KEYS.USER],me=se[w.KEYS.METADATA],Ne=new C(M[w.KEYS.APP_ID],j,Q,M[w.KEYS.SENDER],M[w.KEYS.DEVICE_ID]);Ne.setAction(ue);var Se=new A.TypingIndicator(j,Q);return Se.setSender(new I.User(Be)),se.hasOwnProperty(w.KEYS.METADATA)&&se[w.KEYS.METADATA]&&Se.setMetadata(me),Ne.setTypingIndicator(Se),Ne},C}(N.CometChatEvent);y.CometChatTypingEvent=P},function(ft,y,c){"use strict";y.__esModule=!0,y.getWSURL=y.stringifyMessage=y.checkConnection=void 0;var d=c(1),v=c(0),w=c(5);y.checkConnection=function(N){return N&&N.readyState===w.READY_STATE.OPEN},y.stringifyMessage=function(N){return JSON.stringify(N)},y.getWSURL=function(){return new Promise(function(N,A){v.getAppSettings().then(function(I){var P=w.WS.protocol+v.getChatHost(I)+":"+I[d.APP_SETTINGS.KEYS.CHAT_WSS_PORT];N(P)},function(I){v.Logger.error("WSHelper :: getWSURL",I)})})}},function(ft,y,c){"use strict";y.__esModule=!0,y.CCExtension=void 0;var d=c(0),v=function(){function w(N){this.id="",this.name="",N&&(d.isFalsy(N.id)||(this.id=N.id),d.isFalsy(N.name)||(this.name=N.name))}return w.prototype.getId=function(){return this.id},w.prototype.getName=function(){return this.name},w}();y.CCExtension=v},function(ft,y,c){var d=c(64),v=c(65);ft.exports=function(w,N,A){var I=N&&A||0;"string"==typeof w&&(N="binary"===w?new Array(16):null,w=null);var P=(w=w||{}).random||(w.rng||d)();if(P[6]=15&P[6]|64,P[8]=63&P[8]|128,N)for(var F=0;F<16;++F)N[I+F]=P[F];return N||v(P)}},function(ft,y){var c=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(c){var d=new Uint8Array(16);ft.exports=function(){return c(d),d}}else{var v=new Array(16);ft.exports=function(){for(var w,N=0;N<16;N++)!(3&N)&&(w=4294967296*Math.random()),v[N]=w>>>((3&N)<<3)&255;return v}}},function(ft,y){for(var c=[],d=0;d<256;++d)c[d]=(d+256).toString(16).substr(1);ft.exports=function(v,w){var N=w||0;return[c[v[N++]],c[v[N++]],c[v[N++]],c[v[N++]],"-",c[v[N++]],c[v[N++]],"-",c[v[N++]],c[v[N++]],"-",c[v[N++]],c[v[N++]],"-",c[v[N++]],c[v[N++]],c[v[N++]],c[v[N++]],c[v[N++]],c[v[N++]]].join("")}}])},1076:(Jn,ft,y)=>{"use strict";y.d(ft,{Am:()=>Fe,Bd:()=>xe,FA:()=>_n,Fy:()=>Xe,I9:()=>$e,Im:()=>K,Ku:()=>_t,Ll:()=>Je,T9:()=>Ne,Uj:()=>F,XA:()=>Se,ZQ:()=>it,bD:()=>ye,c1:()=>Ye,cY:()=>Re,dM:()=>Kt,eX:()=>Qe,g:()=>kt,gR:()=>jn,hp:()=>pt,jZ:()=>We,lT:()=>At,lV:()=>xt,mS:()=>Q,nr:()=>fe,p7:()=>Ke,p9:()=>Yt,sr:()=>rt,tD:()=>ge,u:()=>C,zW:()=>Ie,zw:()=>x});const w=function(we){const ke=[];let st=0;for(let jt=0;jt<we.length;jt++){let Pt=we.charCodeAt(jt);Pt<128?ke[st++]=Pt:Pt<2048?(ke[st++]=Pt>>6|192,ke[st++]=63&Pt|128):55296==(64512&Pt)&&jt+1<we.length&&56320==(64512&we.charCodeAt(jt+1))?(Pt=65536+((1023&Pt)<<10)+(1023&we.charCodeAt(++jt)),ke[st++]=Pt>>18|240,ke[st++]=Pt>>12&63|128,ke[st++]=Pt>>6&63|128,ke[st++]=63&Pt|128):(ke[st++]=Pt>>12|224,ke[st++]=Pt>>6&63|128,ke[st++]=63&Pt|128)}return ke},A={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(we,ke){if(!Array.isArray(we))throw Error("encodeByteArray takes an array as a parameter");this.init_();const st=ke?this.byteToCharMapWebSafe_:this.byteToCharMap_,jt=[];for(let Pt=0;Pt<we.length;Pt+=3){const ht=we[Pt],Bt=Pt+1<we.length,Cn=Bt?we[Pt+1]:0,Kn=Pt+2<we.length,xn=Kn?we[Pt+2]:0;let vr=(15&Cn)<<2|xn>>6,ct=63&xn;Kn||(ct=64,Bt||(vr=64)),jt.push(st[ht>>2],st[(3&ht)<<4|Cn>>4],st[vr],st[ct])}return jt.join("")},encodeString(we,ke){return this.HAS_NATIVE_SUPPORT&&!ke?btoa(we):this.encodeByteArray(w(we),ke)},decodeString(we,ke){return this.HAS_NATIVE_SUPPORT&&!ke?atob(we):function(we){const ke=[];let st=0,jt=0;for(;st<we.length;){const Pt=we[st++];if(Pt<128)ke[jt++]=String.fromCharCode(Pt);else if(Pt>191&&Pt<224){const ht=we[st++];ke[jt++]=String.fromCharCode((31&Pt)<<6|63&ht)}else if(Pt>239&&Pt<365){const Kn=((7&Pt)<<18|(63&we[st++])<<12|(63&we[st++])<<6|63&we[st++])-65536;ke[jt++]=String.fromCharCode(55296+(Kn>>10)),ke[jt++]=String.fromCharCode(56320+(1023&Kn))}else{const ht=we[st++],Bt=we[st++];ke[jt++]=String.fromCharCode((15&Pt)<<12|(63&ht)<<6|63&Bt)}}return ke.join("")}(this.decodeStringToByteArray(we,ke))},decodeStringToByteArray(we,ke){this.init_();const st=ke?this.charToByteMapWebSafe_:this.charToByteMap_,jt=[];for(let Pt=0;Pt<we.length;){const ht=st[we.charAt(Pt++)],Cn=Pt<we.length?st[we.charAt(Pt)]:0;++Pt;const xn=Pt<we.length?st[we.charAt(Pt)]:64;++Pt;const Hn=Pt<we.length?st[we.charAt(Pt)]:64;if(++Pt,null==ht||null==Cn||null==xn||null==Hn)throw new I;jt.push(ht<<2|Cn>>4),64!==xn&&(jt.push(Cn<<4&240|xn>>2),64!==Hn&&jt.push(xn<<6&192|Hn))}return jt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let we=0;we<this.ENCODED_VALS.length;we++)this.byteToCharMap_[we]=this.ENCODED_VALS.charAt(we),this.charToByteMap_[this.byteToCharMap_[we]]=we,this.byteToCharMapWebSafe_[we]=this.ENCODED_VALS_WEBSAFE.charAt(we),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[we]]=we,we>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(we)]=we,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(we)]=we)}}};class I extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const F=function(we){return function(we){const ke=w(we);return A.encodeByteArray(ke,!0)}(we).replace(/\./g,"")},C=function(we){try{return A.decodeString(we,!0)}catch(ke){console.error("base64Decode failed: ",ke)}return null};function x(we,ke){if(!(ke instanceof Object))return ke;switch(ke.constructor){case Date:return new Date(ke.getTime());case Object:void 0===we&&(we={});break;case Array:we=[];break;default:return ke}for(const st in ke)!ke.hasOwnProperty(st)||!j(st)||(we[st]=x(we[st],ke[st]));return we}function j(we){return"__proto__"!==we}function Q(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const ue=()=>{try{return Q().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const we=process.env.__FIREBASE_DEFAULTS__;return we?JSON.parse(we):void 0})()||(()=>{if(typeof document>"u")return;let we;try{we=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ke=we&&C(we[1]);return ke&&JSON.parse(ke)})()}catch(we){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${we}`)}},Ne=()=>{var we;return null===(we=ue())||void 0===we?void 0:we.config},Se=we=>{var ke;return null===(ke=ue())||void 0===ke?void 0:ke[`_${we}`]};class Re{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ke,st)=>{this.resolve=ke,this.reject=st})}wrapCallback(ke){return(st,jt)=>{st?this.reject(st):this.resolve(jt),"function"==typeof ke&&(this.promise.catch(()=>{}),1===ke.length?ke(st):ke(st,jt))}}}function Xe(we,ke){if(we.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const jt=ke||"demo-project",Pt=we.iat||0,ht=we.sub||we.user_id;if(!ht)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Bt=Object.assign({iss:`https://securetoken.google.com/${jt}`,aud:jt,iat:Pt,exp:Pt+3600,auth_time:Pt,sub:ht,user_id:ht,firebase:{sign_in_provider:"custom",identities:{}}},we);return[F(JSON.stringify({alg:"none",type:"JWT"})),F(JSON.stringify(Bt)),""].join(".")}function it(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function We(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(it())}function Je(){var we;const ke=null===(we=ue())||void 0===we?void 0:we.forceEnvironment;if("node"===ke)return!0;if("browser"===ke)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function xe(){return typeof window<"u"||Ke()}function Ke(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function Ye(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}function rt(){const we="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof we&&void 0!==we.id}function xt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function At(){const we=it();return we.indexOf("MSIE ")>=0||we.indexOf("Trident/")>=0}function fe(){return!Je()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ie(){try{return"object"==typeof indexedDB}catch{return!1}}function Qe(){return new Promise((we,ke)=>{try{let st=!0;const jt="validate-browser-context-for-indexeddb-analytics-module",Pt=self.indexedDB.open(jt);Pt.onsuccess=()=>{Pt.result.close(),st||self.indexedDB.deleteDatabase(jt),we(!0)},Pt.onupgradeneeded=()=>{st=!1},Pt.onerror=()=>{var ht;ke((null===(ht=Pt.error)||void 0===ht?void 0:ht.message)||"")}}catch(st){ke(st)}})}function Kt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class kt extends Error{constructor(ke,st,jt){super(st),this.code=ke,this.customData=jt,this.name="FirebaseError",Object.setPrototypeOf(this,kt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_n.prototype.create)}}class _n{constructor(ke,st,jt){this.service=ke,this.serviceName=st,this.errors=jt}create(ke,...st){const jt=st[0]||{},Pt=`${this.service}/${ke}`,ht=this.errors[ke],Bt=ht?function vt(we,ke){return we.replace(It,(st,jt)=>{const Pt=ke[jt];return null!=Pt?String(Pt):`<${jt}?>`})}(ht,jt):"Error";return new kt(Pt,`${this.serviceName}: ${Bt} (${Pt}).`,jt)}}const It=/\{\$([^}]+)}/g;function jn(we,ke){return Object.prototype.hasOwnProperty.call(we,ke)}function K(we){for(const ke in we)if(Object.prototype.hasOwnProperty.call(we,ke))return!1;return!0}function ye(we,ke){if(we===ke)return!0;const st=Object.keys(we),jt=Object.keys(ke);for(const Pt of st){if(!jt.includes(Pt))return!1;const ht=we[Pt],Bt=ke[Pt];if(_e(ht)&&_e(Bt)){if(!ye(ht,Bt))return!1}else if(ht!==Bt)return!1}for(const Pt of jt)if(!st.includes(Pt))return!1;return!0}function _e(we){return null!==we&&"object"==typeof we}function Fe(we){const ke=[];for(const[st,jt]of Object.entries(we))Array.isArray(jt)?jt.forEach(Pt=>{ke.push(encodeURIComponent(st)+"="+encodeURIComponent(Pt))}):ke.push(encodeURIComponent(st)+"="+encodeURIComponent(jt));return ke.length?"&"+ke.join("&"):""}function $e(we){const ke={};return we.replace(/^\?/,"").split("&").forEach(jt=>{if(jt){const[Pt,ht]=jt.split("=");ke[decodeURIComponent(Pt)]=decodeURIComponent(ht)}}),ke}function pt(we){const ke=we.indexOf("?");if(!ke)return"";const st=we.indexOf("#",ke);return we.substring(ke,st>0?st:void 0)}function ge(we,ke){const st=new Te(we,ke);return st.subscribe.bind(st)}class Te{constructor(ke,st){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=st,this.task.then(()=>{ke(this)}).catch(jt=>{this.error(jt)})}next(ke){this.forEachObserver(st=>{st.next(ke)})}error(ke){this.forEachObserver(st=>{st.error(ke)}),this.close(ke)}complete(){this.forEachObserver(ke=>{ke.complete()}),this.close()}subscribe(ke,st,jt){let Pt;if(void 0===ke&&void 0===st&&void 0===jt)throw new Error("Missing Observer.");Pt=function Rt(we,ke){if("object"!=typeof we||null===we)return!1;for(const st of ke)if(st in we&&"function"==typeof we[st])return!0;return!1}(ke,["next","error","complete"])?ke:{next:ke,error:st,complete:jt},void 0===Pt.next&&(Pt.next=mt),void 0===Pt.error&&(Pt.error=mt),void 0===Pt.complete&&(Pt.complete=mt);const ht=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Pt.error(this.finalError):Pt.complete()}catch{}}),this.observers.push(Pt),ht}unsubscribeOne(ke){void 0===this.observers||void 0===this.observers[ke]||(delete this.observers[ke],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ke){if(!this.finalized)for(let st=0;st<this.observers.length;st++)this.sendOne(st,ke)}sendOne(ke,st){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ke])try{st(this.observers[ke])}catch(jt){typeof console<"u"&&console.error&&console.error(jt)}})}close(ke){this.finalized||(this.finalized=!0,void 0!==ke&&(this.finalError=ke),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mt(){}const ar=1e3,rr=2,Ht=144e5,Et=.5;function Yt(we,ke=ar,st=rr){const jt=ke*Math.pow(st,we),Pt=Math.round(Et*jt*(Math.random()-.5)*2);return Math.min(Ht,jt+Pt)}function _t(we){return we&&we._delegate?we._delegate:we}},4442:(Jn,ft,y)=>{"use strict";y.d(ft,{L:()=>N,a:()=>A,b:()=>I,c:()=>P,d:()=>F,g:()=>At}),y(5531);const N="ionViewWillEnter",A="ionViewDidEnter",I="ionViewWillLeave",P="ionViewDidLeave",F="ionViewWillUnload",At=je=>je.classList.contains("ion-page")?je:je.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||je},5531:(Jn,ft,y)=>{"use strict";y.d(ft,{a:()=>C,c:()=>d,g:()=>F});class c{constructor(){this.m=new Map}reset(je){this.m=new Map(Object.entries(je))}get(je,pe){const fe=this.m.get(je);return void 0!==fe?fe:pe}getBoolean(je,pe=!1){const fe=this.m.get(je);return void 0===fe?pe:"string"==typeof fe?"true"===fe:!!fe}getNumber(je,pe){const fe=parseFloat(this.m.get(je));return isNaN(fe)?void 0!==pe?pe:NaN:fe}set(je,pe){this.m.set(je,pe)}}const d=new c,F=At=>M(At),C=(At,je)=>("string"==typeof At&&(je=At,At=void 0),F(At).includes(je)),M=(At=window)=>{if(typeof At>"u")return[];At.Ionic=At.Ionic||{};let je=At.Ionic.platforms;return null==je&&(je=At.Ionic.platforms=x(At),je.forEach(pe=>At.document.documentElement.classList.add(`plt-${pe}`))),je},x=At=>{const je=d.get("platform");return Object.keys(Ye).filter(pe=>{const fe=null==je?void 0:je[pe];return"function"==typeof fe?fe(At):Ye[pe](At)})},Q=At=>!!(xe(At,/iPad/i)||xe(At,/Macintosh/i)&&Ne(At)),se=At=>xe(At,/android|sink/i),Ne=At=>Ke(At,"(any-pointer:coarse)"),Re=At=>Xe(At)||it(At),Xe=At=>!!(At.cordova||At.phonegap||At.PhoneGap),it=At=>{const je=At.Capacitor;return!(null==je||!je.isNative)},xe=(At,je)=>je.test(At.navigator.userAgent),Ke=(At,je)=>{var pe;return null===(pe=At.matchMedia)||void 0===pe?void 0:pe.call(At,je).matches},Ye={ipad:Q,iphone:At=>xe(At,/iPhone/i),ios:At=>xe(At,/iPhone|iPod/i)||Q(At),android:se,phablet:At=>{const je=At.innerWidth,pe=At.innerHeight,fe=Math.min(je,pe),Ie=Math.max(je,pe);return fe>390&&fe<520&&Ie>620&&Ie<800},tablet:At=>{const je=At.innerWidth,pe=At.innerHeight,fe=Math.min(je,pe),Ie=Math.max(je,pe);return Q(At)||(At=>se(At)&&!xe(At,/mobile/i))(At)||fe>460&&fe<820&&Ie>780&&Ie<1400},cordova:Xe,capacitor:it,electron:At=>xe(At,/electron/i),pwa:At=>{var je;return!!(null!==(je=At.matchMedia)&&void 0!==je&&je.call(At,"(display-mode: standalone)").matches||At.navigator.standalone)},mobile:Ne,mobileweb:At=>Ne(At)&&!Re(At),desktop:At=>!Ne(At),hybrid:Re}},9986:(Jn,ft,y)=>{"use strict";y.d(ft,{c:()=>A});var c=y(8476);let d;const w=(I,P,F)=>{const C=P.startsWith("animation")?(I=>(void 0===d&&(d=void 0===I.style.animationName&&void 0!==I.style.webkitAnimationName?"-webkit-":""),d))(I):"";I.style.setProperty(C+P,F)},N=(I=[],P)=>{if(void 0!==P){const F=Array.isArray(P)?P:[P];return[...I,...F]}return I},A=I=>{let P,F,C,M,x,j,ue,We,Je,xe,xt,Q=[],$=[],S=[],se=!1,Be={},me=[],Ne=[],Se={},Re=0,Xe=!1,it=!1,Ke=!0,Ye=!1,rt=!0,on=!1;const At=I,je=[],pe=[],fe=[],Ie=[],Qe=[],Kt=[],Ut=[],kt=[],_n=[],vt=[],It=[],sn="function"==typeof AnimationEffect||void 0!==c.w&&"function"==typeof c.w.AnimationEffect,Mn="function"==typeof Element&&"function"==typeof Element.prototype.animate&&sn,Vn=()=>It,jn=(Ee,ut)=>{const en=ut.findIndex(wn=>wn.c===Ee);en>-1&&ut.splice(en,1)},K=(Ee,ut)=>((null!=ut&&ut.oneTimeCallback?pe:je).push({c:Ee,o:ut}),xt),ye=()=>{Mn&&(It.forEach(Ee=>{Ee.cancel()}),It.length=0)},_e=()=>{Kt.forEach(Ee=>{null!=Ee&&Ee.parentNode&&Ee.parentNode.removeChild(Ee)}),Kt.length=0},wt=()=>void 0!==x?x:ue?ue.getFill():"both",an=()=>void 0!==We?We:void 0!==j?j:ue?ue.getDirection():"normal",Xt=()=>Xe?"linear":void 0!==C?C:ue?ue.getEasing():"linear",hn=()=>it?0:void 0!==Je?Je:void 0!==F?F:ue?ue.getDuration():0,$n=()=>void 0!==M?M:ue?ue.getIterations():1,Nn=()=>void 0!==xe?xe:void 0!==P?P:ue?ue.getDelay():0,Bt=()=>{0!==Re&&(Re--,0===Re&&((()=>{_n.forEach(tr=>tr()),vt.forEach(tr=>tr());const Ee=Ke?1:0,ut=me,en=Ne,wn=Se;Ie.forEach(tr=>{const Dr=tr.classList;ut.forEach(fr=>Dr.add(fr)),en.forEach(fr=>Dr.remove(fr));for(const fr in wn)wn.hasOwnProperty(fr)&&w(tr,fr,wn[fr])}),Je=void 0,We=void 0,xe=void 0,je.forEach(tr=>tr.c(Ee,xt)),pe.forEach(tr=>tr.c(Ee,xt)),pe.length=0,rt=!0,Ke&&(Ye=!0),Ke=!0})(),ue&&ue.animationFinish()))},Kn=()=>{(()=>{Ut.forEach(wn=>wn()),kt.forEach(wn=>wn());const Ee=$,ut=S,en=Be;Ie.forEach(wn=>{const tr=wn.classList;Ee.forEach(Dr=>tr.add(Dr)),ut.forEach(Dr=>tr.remove(Dr));for(const Dr in en)en.hasOwnProperty(Dr)&&w(wn,Dr,en[Dr])})})(),Q.length>0&&Mn&&(Ie.forEach(Ee=>{const ut=Ee.animate(Q,{id:At,delay:Nn(),duration:hn(),easing:Xt(),iterations:$n(),fill:wt(),direction:an()});ut.pause(),It.push(ut)}),It.length>0&&(It[0].onfinish=()=>{Bt()})),se=!0},xn=Ee=>{Ee=Math.min(Math.max(Ee,0),.9999),Mn&&It.forEach(ut=>{ut.currentTime=ut.effect.getComputedTiming().delay+hn()*Ee,ut.pause()})},Zn=Ee=>{It.forEach(ut=>{ut.effect.updateTiming({delay:Nn(),duration:hn(),easing:Xt(),iterations:$n(),fill:wt(),direction:an()})}),void 0!==Ee&&xn(Ee)},Hn=(Ee=!1,ut=!0,en)=>(Ee&&Qe.forEach(wn=>{wn.update(Ee,ut,en)}),Mn&&Zn(en),xt),Gn=()=>{se&&(Mn?It.forEach(Ee=>{Ee.pause()}):Ie.forEach(Ee=>{w(Ee,"animation-play-state","paused")}),on=!0)},mn=Ee=>new Promise(ut=>{null!=Ee&&Ee.sync&&(it=!0,K(()=>it=!1,{oneTimeCallback:!0})),se||Kn(),Ye&&(Mn&&(xn(0),Zn()),Ye=!1),rt&&(Re=Qe.length+1,rt=!1);const en=()=>{jn(wn,pe),ut()},wn=()=>{jn(en,fe),ut()};K(wn,{oneTimeCallback:!0}),(Ee=>{fe.push({c:Ee,o:{oneTimeCallback:!0}})})(en),Qe.forEach(tr=>{tr.play()}),Mn?(It.forEach(Ee=>{Ee.play()}),(0===Q.length||0===Ie.length)&&Bt()):Bt(),on=!1}),ce=(Ee,ut)=>{const en=Q[0];return void 0===en||void 0!==en.offset&&0!==en.offset?Q=[{offset:0,[Ee]:ut},...Q]:en[Ee]=ut,xt};return xt={parentAnimation:ue,elements:Ie,childAnimations:Qe,id:At,animationFinish:Bt,from:ce,to:(Ee,ut)=>{const en=Q[Q.length-1];return void 0===en||void 0!==en.offset&&1!==en.offset?Q=[...Q,{offset:1,[Ee]:ut}]:en[Ee]=ut,xt},fromTo:(Ee,ut,en)=>ce(Ee,ut).to(Ee,en),parent:Ee=>(ue=Ee,xt),play:mn,pause:()=>(Qe.forEach(Ee=>{Ee.pause()}),Gn(),xt),stop:()=>{Qe.forEach(Ee=>{Ee.stop()}),se&&(ye(),se=!1),Xe=!1,it=!1,rt=!0,We=void 0,Je=void 0,xe=void 0,Re=0,Ye=!1,Ke=!0,on=!1,fe.forEach(Ee=>Ee.c(0,xt)),fe.length=0},destroy:Ee=>(Qe.forEach(ut=>{ut.destroy(Ee)}),(Ee=>{ye(),Ee&&_e()})(Ee),Ie.length=0,Qe.length=0,Q.length=0,je.length=0,pe.length=0,se=!1,rt=!0,xt),keyframes:Ee=>{const ut=Q!==Ee;return Q=Ee,ut&&(Ee=>{Mn&&Vn().forEach(ut=>{const en=ut.effect;if(en.setKeyframes)en.setKeyframes(Ee);else{const wn=new KeyframeEffect(en.target,Ee,en.getTiming());ut.effect=wn}})})(Q),xt},addAnimation:Ee=>{if(null!=Ee)if(Array.isArray(Ee))for(const ut of Ee)ut.parent(xt),Qe.push(ut);else Ee.parent(xt),Qe.push(Ee);return xt},addElement:Ee=>{if(null!=Ee)if(1===Ee.nodeType)Ie.push(Ee);else if(Ee.length>=0)for(let ut=0;ut<Ee.length;ut++)Ie.push(Ee[ut]);else console.error("Invalid addElement value");return xt},update:Hn,fill:Ee=>(x=Ee,Hn(!0),xt),direction:Ee=>(j=Ee,Hn(!0),xt),iterations:Ee=>(M=Ee,Hn(!0),xt),duration:Ee=>(!Mn&&0===Ee&&(Ee=1),F=Ee,Hn(!0),xt),easing:Ee=>(C=Ee,Hn(!0),xt),delay:Ee=>(P=Ee,Hn(!0),xt),getWebAnimations:Vn,getKeyframes:()=>Q,getFill:wt,getDirection:an,getDelay:Nn,getIterations:$n,getEasing:Xt,getDuration:hn,afterAddRead:Ee=>(_n.push(Ee),xt),afterAddWrite:Ee=>(vt.push(Ee),xt),afterClearStyles:(Ee=[])=>{for(const ut of Ee)Se[ut]="";return xt},afterStyles:(Ee={})=>(Se=Ee,xt),afterRemoveClass:Ee=>(Ne=N(Ne,Ee),xt),afterAddClass:Ee=>(me=N(me,Ee),xt),beforeAddRead:Ee=>(Ut.push(Ee),xt),beforeAddWrite:Ee=>(kt.push(Ee),xt),beforeClearStyles:(Ee=[])=>{for(const ut of Ee)Be[ut]="";return xt},beforeStyles:(Ee={})=>(Be=Ee,xt),beforeRemoveClass:Ee=>(S=N(S,Ee),xt),beforeAddClass:Ee=>($=N($,Ee),xt),onFinish:K,isRunning:()=>0!==Re&&!on,progressStart:(Ee=!1,ut)=>(Qe.forEach(en=>{en.progressStart(Ee,ut)}),Gn(),Xe=Ee,se||Kn(),Hn(!1,!0,ut),xt),progressStep:Ee=>(Qe.forEach(ut=>{ut.progressStep(Ee)}),xn(Ee),xt),progressEnd:(Ee,ut,en)=>(Xe=!1,Qe.forEach(wn=>{wn.progressEnd(Ee,ut,en)}),void 0!==en&&(Je=en),Ye=!1,Ke=!0,0===Ee?(We="reverse"===an()?"normal":"reverse","reverse"===We&&(Ke=!1),Mn?(Hn(),xn(1-ut)):(xe=(1-ut)*hn()*-1,Hn(!1,!1))):1===Ee&&(Mn?(Hn(),xn(ut)):(xe=ut*hn()*-1,Hn(!1,!1))),void 0!==Ee&&!ue&&mn(),xt)}}},464:(Jn,ft,y)=>{"use strict";y.d(ft,{E:()=>C,a:()=>c,s:()=>P});const c=M=>{try{if(M instanceof I)return M.value;if(!w()||"string"!=typeof M||""===M)return M;if(M.includes("onload="))return"";const x=document.createDocumentFragment(),j=document.createElement("div");x.appendChild(j),j.innerHTML=M,A.forEach(se=>{const ue=x.querySelectorAll(se);for(let Be=ue.length-1;Be>=0;Be--){const me=ue[Be];me.parentNode?me.parentNode.removeChild(me):x.removeChild(me);const Ne=v(me);for(let Se=0;Se<Ne.length;Se++)d(Ne[Se])}});const Q=v(x);for(let se=0;se<Q.length;se++)d(Q[se]);const $=document.createElement("div");$.appendChild(x);const S=$.querySelector("div");return null!==S?S.innerHTML:$.innerHTML}catch(x){return console.error(x),""}},d=M=>{if(M.nodeType&&1!==M.nodeType)return;if(typeof NamedNodeMap<"u"&&!(M.attributes instanceof NamedNodeMap))return void M.remove();for(let j=M.attributes.length-1;j>=0;j--){const Q=M.attributes.item(j),$=Q.name;if(!N.includes($.toLowerCase())){M.removeAttribute($);continue}const S=Q.value,se=M[$];(null!=S&&S.toLowerCase().includes("javascript:")||null!=se&&se.toLowerCase().includes("javascript:"))&&M.removeAttribute($)}const x=v(M);for(let j=0;j<x.length;j++)d(x[j])},v=M=>null!=M.children?M.children:M.childNodes,w=()=>{var M;const x=window,j=null===(M=null==x?void 0:x.Ionic)||void 0===M?void 0:M.config;return!j||(j.get?j.get("sanitizerEnabled",!0):!0===j.sanitizerEnabled||void 0===j.sanitizerEnabled)},N=["class","id","href","src","name","slot"],A=["script","style","iframe","meta","link","object","embed"];class I{constructor(x){this.value=x}}const P=M=>{const x=window,j=x.Ionic;if(!j||!j.config||"Object"===j.config.constructor.name)return x.Ionic=x.Ionic||{},x.Ionic.config=Object.assign(Object.assign({},x.Ionic.config),M),x.Ionic.config},C=!1},8621:(Jn,ft,y)=>{"use strict";y.d(ft,{C:()=>N,a:()=>v,d:()=>w});var c=y(467),d=y(4920);const v=function(){var A=(0,c.A)(function*(I,P,F,C,M,x){var j;if(I)return I.attachViewToDom(P,F,M,C);if(!(x||"string"==typeof F||F instanceof HTMLElement))throw new Error("framework delegate is missing");const Q="string"==typeof F?null===(j=P.ownerDocument)||void 0===j?void 0:j.createElement(F):F;return C&&C.forEach($=>Q.classList.add($)),M&&Object.assign(Q,M),P.appendChild(Q),yield new Promise($=>(0,d.c)(Q,$)),Q});return function(P,F,C,M,x,j){return A.apply(this,arguments)}}(),w=(A,I)=>{if(I){if(A)return A.removeViewFromDom(I.parentElement,I);I.remove()}return Promise.resolve()},N=()=>{let A,I;return{attachViewToDom:function(){var C=(0,c.A)(function*(M,x,j={},Q=[]){var $,S;let se;if(A=M,x){const Be="string"==typeof x?null===($=A.ownerDocument)||void 0===$?void 0:$.createElement(x):x;Q.forEach(me=>Be.classList.add(me)),Object.assign(Be,j),A.appendChild(Be),se=Be,yield new Promise(me=>(0,d.c)(Be,me))}else if(A.children.length>0&&("ION-MODAL"===A.tagName||"ION-POPOVER"===A.tagName)&&!(se=A.children[0]).classList.contains("ion-delegate-host")){const me=null===(S=A.ownerDocument)||void 0===S?void 0:S.createElement("div");me.classList.add("ion-delegate-host"),Q.forEach(Ne=>me.classList.add(Ne)),me.append(...A.children),A.appendChild(me),se=me}const ue=document.querySelector("ion-app")||document.body;return I=document.createComment("ionic teleport"),A.parentNode.insertBefore(I,A),ue.appendChild(A),null!=se?se:A});return function(x,j){return C.apply(this,arguments)}}(),removeViewFromDom:()=>(A&&I&&(I.parentNode.insertBefore(A,I),I.remove()),Promise.resolve())}}},1970:(Jn,ft,y)=>{"use strict";y.d(ft,{B:()=>w,G:()=>N});class d{constructor(I,P,F,C,M){this.id=P,this.name=F,this.disableScroll=M,this.priority=1e6*C+P,this.ctrl=I}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const I=this.ctrl.capture(this.name,this.id,this.priority);return I&&this.disableScroll&&this.ctrl.disableScroll(this.id),I}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class v{constructor(I,P,F,C){this.id=P,this.disable=F,this.disableScroll=C,this.ctrl=I}block(){if(this.ctrl){if(this.disable)for(const I of this.disable)this.ctrl.disableGesture(I,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const I of this.disable)this.ctrl.enableGesture(I,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const w="backdrop-no-scroll",N=new class c{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(I){var P;return new d(this,this.newID(),I.name,null!==(P=I.priority)&&void 0!==P?P:0,!!I.disableScroll)}createBlocker(I={}){return new v(this,this.newID(),I.disable,!!I.disableScroll)}start(I,P,F){return this.canStart(I)?(this.requestedStart.set(P,F),!0):(this.requestedStart.delete(P),!1)}capture(I,P,F){if(!this.start(I,P,F))return!1;const C=this.requestedStart;let M=-1e4;if(C.forEach(x=>{M=Math.max(M,x)}),M===F){this.capturedId=P,C.clear();const x=new CustomEvent("ionGestureCaptured",{detail:{gestureName:I}});return document.dispatchEvent(x),!0}return C.delete(P),!1}release(I){this.requestedStart.delete(I),this.capturedId===I&&(this.capturedId=void 0)}disableGesture(I,P){let F=this.disabledGestures.get(I);void 0===F&&(F=new Set,this.disabledGestures.set(I,F)),F.add(P)}enableGesture(I,P){const F=this.disabledGestures.get(I);void 0!==F&&F.delete(P)}disableScroll(I){this.disabledScroll.add(I),1===this.disabledScroll.size&&document.body.classList.add(w)}enableScroll(I){this.disabledScroll.delete(I),0===this.disabledScroll.size&&document.body.classList.remove(w)}canStart(I){return!(void 0!==this.capturedId||this.isDisabled(I))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(I){const P=this.disabledGestures.get(I);return!!(P&&P.size>0)}newID(){return this.gestureId++,this.gestureId}}},7192:(Jn,ft,y)=>{"use strict";y.r(ft),y.d(ft,{MENU_BACK_BUTTON_PRIORITY:()=>F,OVERLAY_BACK_BUTTON_PRIORITY:()=>P,blockHardwareBackButton:()=>A,shouldUseCloseWatcher:()=>N,startHardwareBackButton:()=>I});var c=y(467),d=y(8476),v=y(9483);y(4261);const N=()=>v.c.get("experimentalCloseWatcher",!1)&&void 0!==d.w&&"CloseWatcher"in d.w,A=()=>{document.addEventListener("backbutton",()=>{})},I=()=>{const C=document;let M=!1;const x=()=>{if(M)return;let j=0,Q=[];const $=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(ue,Be){Q.push({priority:ue,handler:Be,id:j++})}}});C.dispatchEvent($);const S=function(){var ue=(0,c.A)(function*(Be){try{if(null!=Be&&Be.handler){const me=Be.handler(se);null!=me&&(yield me)}}catch(me){console.error(me)}});return function(me){return ue.apply(this,arguments)}}(),se=()=>{if(Q.length>0){let ue={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};Q.forEach(Be=>{Be.priority>=ue.priority&&(ue=Be)}),M=!0,Q=Q.filter(Be=>Be.id!==ue.id),S(ue).then(()=>M=!1)}};se()};if(N()){let j;const Q=()=>{null==j||j.destroy(),j=new d.w.CloseWatcher,j.onclose=()=>{x(),Q()}};Q()}else C.addEventListener("backbutton",x)},P=100,F=99},4920:(Jn,ft,y)=>{"use strict";y.d(ft,{a:()=>P,b:()=>F,c:()=>v,d:()=>Q,e:()=>Be,f:()=>j,g:()=>C,h:()=>N,i:()=>I,j:()=>$,k:()=>w,l:()=>x,m:()=>S,n:()=>ue,o:()=>me,p:()=>se,r:()=>M,s:()=>Ne,t:()=>c});const c=(Se,Re=0)=>new Promise(Xe=>{d(Se,Re,Xe)}),d=(Se,Re=0,Xe)=>{let it,We;const Je={passive:!0},Ke=()=>{it&&it()},Ye=rt=>{(void 0===rt||Se===rt.target)&&(Ke(),Xe(rt))};return Se&&(Se.addEventListener("webkitTransitionEnd",Ye,Je),Se.addEventListener("transitionend",Ye,Je),We=setTimeout(Ye,Re+500),it=()=>{void 0!==We&&(clearTimeout(We),We=void 0),Se.removeEventListener("webkitTransitionEnd",Ye,Je),Se.removeEventListener("transitionend",Ye,Je)}),Ke},v=(Se,Re)=>{Se.componentOnReady?Se.componentOnReady().then(Xe=>Re(Xe)):M(()=>Re(Se))},w=Se=>void 0!==Se.componentOnReady,N=(Se,Re=[])=>{const Xe={};return Re.forEach(it=>{Se.hasAttribute(it)&&(null!==Se.getAttribute(it)&&(Xe[it]=Se.getAttribute(it)),Se.removeAttribute(it))}),Xe},A=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],I=(Se,Re)=>{let Xe=A;return Re&&Re.length>0&&(Xe=Xe.filter(it=>!Re.includes(it))),N(Se,Xe)},P=(Se,Re,Xe,it)=>{var We;if(typeof window<"u"){const Je=window,xe=null===(We=null==Je?void 0:Je.Ionic)||void 0===We?void 0:We.config;if(xe){const Ke=xe.get("_ael");if(Ke)return Ke(Se,Re,Xe,it);if(xe._ael)return xe._ael(Se,Re,Xe,it)}}return Se.addEventListener(Re,Xe,it)},F=(Se,Re,Xe,it)=>{var We;if(typeof window<"u"){const Je=window,xe=null===(We=null==Je?void 0:Je.Ionic)||void 0===We?void 0:We.config;if(xe){const Ke=xe.get("_rel");if(Ke)return Ke(Se,Re,Xe,it);if(xe._rel)return xe._rel(Se,Re,Xe,it)}}return Se.removeEventListener(Re,Xe,it)},C=(Se,Re=Se)=>Se.shadowRoot||Re,M=Se=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(Se):"function"==typeof requestAnimationFrame?requestAnimationFrame(Se):setTimeout(Se),x=Se=>!!Se.shadowRoot&&!!Se.attachShadow,j=Se=>{if(Se.focus(),Se.classList.contains("ion-focusable")){const Re=Se.closest("ion-app");Re&&Re.setFocus([Se])}},Q=(Se,Re,Xe,it,We)=>{if(Se||x(Re)){let Je=Re.querySelector("input.aux-input");Je||(Je=Re.ownerDocument.createElement("input"),Je.type="hidden",Je.classList.add("aux-input"),Re.appendChild(Je)),Je.disabled=We,Je.name=Xe,Je.value=it||""}},$=(Se,Re,Xe)=>Math.max(Se,Math.min(Re,Xe)),S=(Se,Re)=>{if(!Se){const Xe="ASSERT: "+Re;throw console.error(Xe),new Error(Xe)}},se=Se=>{if(Se){const Re=Se.changedTouches;if(Re&&Re.length>0){const Xe=Re[0];return{x:Xe.clientX,y:Xe.clientY}}if(void 0!==Se.pageX)return{x:Se.pageX,y:Se.pageY}}return{x:0,y:0}},ue=Se=>{const Re="rtl"===document.dir;switch(Se){case"start":return Re;case"end":return!Re;default:throw new Error(`"${Se}" is not a valid value for [side]. Use "start" or "end" instead.`)}},Be=(Se,Re)=>{const Xe=Se._original||Se;return{_original:Se,emit:me(Xe.emit.bind(Xe),Re)}},me=(Se,Re=0)=>{let Xe;return(...it)=>{clearTimeout(Xe),Xe=setTimeout(Se,Re,...it)}},Ne=(Se,Re)=>{if(null!=Se||(Se={}),null!=Re||(Re={}),Se===Re)return!0;const Xe=Object.keys(Se);if(Xe.length!==Object.keys(Re).length)return!1;for(const it of Xe)if(!(it in Re)||Se[it]!==Re[it])return!1;return!0}},4261:(Jn,ft,y)=>{"use strict";y.d(ft,{B:()=>A,a:()=>rt,b:()=>as,c:()=>wt,d:()=>$n,e:()=>_n,f:()=>pt,g:()=>an,h:()=>Fe,i:()=>hn,j:()=>ai,k:()=>It,r:()=>F,w:()=>vt});var c=y(467);var w=Object.defineProperty,A={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},I=new WeakMap,P=L=>I.get(L),F=(L,q)=>I.set(q.$lazyInstance$=L,q),M=(L,q)=>q in L,x=(L,q)=>(0,console.error)(L,q),j=new Map,$=new Map,S=[],Ne="s-id",it="slot-fb{display:contents}slot-fb[hidden]{display:none}",We="http://www.w3.org/1999/xlink",Je=typeof window<"u"?window:{},xe=Je.document||{head:{}},Ye={$flags$:0,$resourcesUrl$:"",jmp:L=>L(),raf:L=>requestAnimationFrame(L),ael:(L,q,tt,et)=>L.addEventListener(q,tt,et),rel:(L,q,tt,et)=>L.removeEventListener(q,tt,et),ce:(L,q)=>new CustomEvent(L,q)},rt=L=>{Object.assign(Ye,L)},on=(()=>{let L=!1;try{xe.addEventListener("e",null,Object.defineProperty({},"passive",{get(){L=!0}}))}catch{}return L})(),je=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),pe=!1,fe=[],Ie=[],Qe=(L,q)=>tt=>{L.push(tt),pe||(pe=!0,q&&4&Ye.$flags$?kt(Ut):Ye.raf(Ut))},Kt=L=>{for(let q=0;q<L.length;q++)try{L[q](performance.now())}catch(tt){x(tt)}L.length=0},Ut=()=>{Kt(fe),Kt(Ie),(pe=fe.length>0)&&Ye.raf(Ut)},kt=L=>Promise.resolve(void 0).then(L),_n=Qe(fe,!1),vt=Qe(Ie,!0),It=L=>{const q=new URL(L,Ye.$resourcesUrl$);return q.origin!==Je.location.origin?q.href:q.pathname},sn={},sr=L=>"object"==(L=typeof L)||"function"===L;function Qn(L){var q,tt,et;return null!=(et=null==(tt=null==(q=L.head)?void 0:q.querySelector('meta[name="csp-nonce"]'))?void 0:tt.getAttribute("content"))?et:void 0}((L,q)=>{for(var tt in q)w(L,tt,{get:q[tt],enumerable:!0})})({},{err:()=>vn,map:()=>K,ok:()=>jn,unwrap:()=>H,unwrapErr:()=>ye});var jn=L=>({isOk:!0,isErr:!1,value:L}),vn=L=>({isOk:!1,isErr:!0,value:L});function K(L,q){if(L.isOk){const tt=q(L.value);return tt instanceof Promise?tt.then(et=>jn(et)):jn(tt)}if(L.isErr)return vn(L.value);throw"should never get here"}var H=L=>{if(L.isOk)return L.value;throw L.value},ye=L=>{if(L.isErr)return L.value;throw L.value},Fe=(L,q,...tt)=>{let et=null,Ft=null,St=null,Vt=!1,Qt=!1;const In=[],An=or=>{for(let Cr=0;Cr<or.length;Cr++)et=or[Cr],Array.isArray(et)?An(et):null!=et&&"boolean"!=typeof et&&((Vt="function"!=typeof L&&!sr(et))&&(et=String(et)),Vt&&Qt?In[In.length-1].$text$+=et:In.push(Vt?$e(null,et):et),Qt=Vt)};if(An(tt),q){q.key&&(Ft=q.key),q.name&&(St=q.name);{const or=q.className||q.class;or&&(q.class="object"!=typeof or?or:Object.keys(or).filter(Cr=>or[Cr]).join(" "))}}if("function"==typeof L)return L(null===q?{}:q,In,ge);const qn=$e(L,null);return qn.$attrs$=q,In.length>0&&(qn.$children$=In),qn.$key$=Ft,qn.$name$=St,qn},$e=(L,q)=>({$flags$:0,$tag$:L,$text$:q,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),pt={},ge={forEach:(L,q)=>L.map(Te).forEach(q),map:(L,q)=>L.map(Te).map(q).map(Pe)},Te=L=>({vattrs:L.$attrs$,vchildren:L.$children$,vkey:L.$key$,vname:L.$name$,vtag:L.$tag$,vtext:L.$text$}),Pe=L=>{if("function"==typeof L.vtag){const tt={...L.vattrs};return L.vkey&&(tt.key=L.vkey),L.vname&&(tt.name=L.vname),Fe(L.vtag,tt,...L.vchildren||[])}const q=$e(L.vtag,L.vtext);return q.$attrs$=L.vattrs,q.$children$=L.vchildren,q.$key$=L.vkey,q.$name$=L.vname,q},mt=(L,q,tt,et,Ft,St,Vt)=>{let Qt,In,An,qn;if(1===St.nodeType){if(Qt=St.getAttribute("c-id"),Qt&&(In=Qt.split("."),(In[0]===Vt||"0"===In[0])&&(An={$flags$:0,$hostId$:In[0],$nodeId$:In[1],$depth$:In[2],$index$:In[3],$tag$:St.tagName.toLowerCase(),$elm$:St,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},q.push(An),St.removeAttribute("c-id"),L.$children$||(L.$children$=[]),L.$children$[An.$index$]=An,L=An,et&&"0"===An.$depth$&&(et[An.$index$]=An.$elm$))),St.shadowRoot)for(qn=St.shadowRoot.childNodes.length-1;qn>=0;qn--)mt(L,q,tt,et,Ft,St.shadowRoot.childNodes[qn],Vt);for(qn=St.childNodes.length-1;qn>=0;qn--)mt(L,q,tt,et,Ft,St.childNodes[qn],Vt)}else if(8===St.nodeType)In=St.nodeValue.split("."),(In[1]===Vt||"0"===In[1])&&(Qt=In[0],An={$flags$:0,$hostId$:In[1],$nodeId$:In[2],$depth$:In[3],$index$:In[4],$elm$:St,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===Qt?(An.$elm$=St.nextSibling,An.$elm$&&3===An.$elm$.nodeType&&(An.$text$=An.$elm$.textContent,q.push(An),St.remove(),L.$children$||(L.$children$=[]),L.$children$[An.$index$]=An,et&&"0"===An.$depth$&&(et[An.$index$]=An.$elm$))):An.$hostId$===Vt&&("s"===Qt?(An.$tag$="slot",St["s-sn"]=In[5]?An.$name$=In[5]:"",St["s-sr"]=!0,et&&(An.$elm$=xe.createElement(An.$tag$),An.$name$&&An.$elm$.setAttribute("name",An.$name$),St.parentNode.insertBefore(An.$elm$,St),St.remove(),"0"===An.$depth$&&(et[An.$index$]=An.$elm$)),tt.push(An),L.$children$||(L.$children$=[]),L.$children$[An.$index$]=An):"r"===Qt&&(et?St.remove():(Ft["s-cr"]=St,St["s-cn"]=!0))));else if(L&&"style"===L.$tag$){const or=$e(null,St.textContent);or.$elm$=St,or.$index$="0",L.$children$=[or]}},Ze=(L,q)=>{if(1===L.nodeType){let tt=0;if(L.shadowRoot)for(;tt<L.shadowRoot.childNodes.length;tt++)Ze(L.shadowRoot.childNodes[tt],q);for(tt=0;tt<L.childNodes.length;tt++)Ze(L.childNodes[tt],q)}else if(8===L.nodeType){const tt=L.nodeValue.split(".");"o"===tt[0]&&(q.set(tt[1]+"."+tt[2],L),L.nodeValue="",L["s-en"]=tt[3])}},wt=L=>S.push(L),an=L=>P(L).$modeName$,hn=L=>P(L).$hostElement$,$n=(L,q,tt)=>{const et=hn(L);return{emit:Ft=>Nn(et,q,{bubbles:!!(4&tt),composed:!!(2&tt),cancelable:!!(1&tt),detail:Ft})}},Nn=(L,q,tt)=>{const et=Ye.ce(q,tt);return L.dispatchEvent(et),et},ar=new WeakMap,Ht=(L,q,tt)=>{var et;const Ft=Yt(q,tt),St=$.get(Ft);if(L=11===L.nodeType?L:xe,St)if("string"==typeof St){let Qt,Vt=ar.get(L=L.head||L);if(Vt||ar.set(L,Vt=new Set),!Vt.has(Ft)){if(L.host&&(Qt=L.querySelector(`[sty-id="${Ft}"]`)))Qt.innerHTML=St;else{Qt=xe.createElement("style"),Qt.innerHTML=St;const In=null!=(et=Ye.$nonce$)?et:Qn(xe);null!=In&&Qt.setAttribute("nonce",In),(!(1&q.$flags$)||1&q.$flags$&&"HEAD"!==L.nodeName)&&L.insertBefore(Qt,L.querySelector("link"))}4&q.$flags$&&(Qt.innerHTML+=it),Vt&&Vt.add(Ft)}}else L.adoptedStyleSheets.includes(St)||(L.adoptedStyleSheets=[...L.adoptedStyleSheets,St]);return Ft},Yt=(L,q)=>"sc-"+(q&&32&L.$flags$?L.$tagName$+"-"+q:L.$tagName$),Mt=(L,q,tt,et,Ft,St)=>{if(tt!==et){let Vt=M(L,q),Qt=q.toLowerCase();if("class"===q){const In=L.classList,An=_t(tt),qn=_t(et);In.remove(...An.filter(or=>or&&!qn.includes(or))),In.add(...qn.filter(or=>or&&!An.includes(or)))}else if("style"===q){for(const In in tt)(!et||null==et[In])&&(In.includes("-")?L.style.removeProperty(In):L.style[In]="");for(const In in et)(!tt||et[In]!==tt[In])&&(In.includes("-")?L.style.setProperty(In,et[In]):L.style[In]=et[In])}else if("key"!==q)if("ref"===q)et&&et(L);else if(Vt||"o"!==q[0]||"n"!==q[1]){const In=sr(et);if((Vt||In&&null!==et)&&!Ft)try{if(L.tagName.includes("-"))L[q]=et;else{const qn=null==et?"":et;"list"===q?Vt=!1:(null==tt||L[q]!=qn)&&(L[q]=qn)}}catch{}let An=!1;Qt!==(Qt=Qt.replace(/^xlink\:?/,""))&&(q=Qt,An=!0),null==et||!1===et?(!1!==et||""===L.getAttribute(q))&&(An?L.removeAttributeNS(We,q):L.removeAttribute(q)):(!Vt||4&St||Ft)&&!In&&(et=!0===et?"":et,An?L.setAttributeNS(We,q,et):L.setAttribute(q,et))}else if(q="-"===q[2]?q.slice(3):M(Je,Qt)?Qt.slice(2):Qt[2]+q.slice(3),tt||et){const In=q.endsWith(we);q=q.replace(ke,""),tt&&Ye.rel(L,q,tt,In),et&&Ye.ael(L,q,et,In)}}},ot=/\s/,_t=L=>L?L.split(ot):[],we="Capture",ke=new RegExp(we+"$"),st=(L,q,tt)=>{const et=11===q.$elm$.nodeType&&q.$elm$.host?q.$elm$.host:q.$elm$,Ft=L&&L.$attrs$||sn,St=q.$attrs$||sn;for(const Vt of jt(Object.keys(Ft)))Vt in St||Mt(et,Vt,Ft[Vt],void 0,tt,q.$flags$);for(const Vt of jt(Object.keys(St)))Mt(et,Vt,Ft[Vt],St[Vt],tt,q.$flags$)};function jt(L){return L.includes("ref")?[...L.filter(q=>"ref"!==q),"ref"]:L}var Pt,ht,Bt,Cn=!1,Kn=!1,xn=!1,Zn=!1,Hn=(L,q,tt,et)=>{var Ft;const St=q.$children$[tt];let Qt,In,An,Vt=0;if(Cn||(xn=!0,"slot"===St.$tag$&&(Pt&&et.classList.add(Pt+"-s"),St.$flags$|=St.$children$?2:1)),null!==St.$text$)Qt=St.$elm$=xe.createTextNode(St.$text$);else if(1&St.$flags$)Qt=St.$elm$=xe.createTextNode("");else{if(Zn||(Zn="svg"===St.$tag$),Qt=St.$elm$=xe.createElementNS(Zn?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",!Cn&&2&St.$flags$?"slot-fb":St.$tag$),Zn&&"foreignObject"===St.$tag$&&(Zn=!1),st(null,St,Zn),!!Qt.getRootNode().querySelector("body")&&(L=>null!=L)(Pt)&&Qt["s-si"]!==Pt&&Qt.classList.add(Qt["s-si"]=Pt),wn(Qt,et),St.$children$)for(Vt=0;Vt<St.$children$.length;++Vt)In=Hn(L,St,Vt,Qt),In&&Qt.appendChild(In);"svg"===St.$tag$?Zn=!1:"foreignObject"===Qt.tagName&&(Zn=!0)}return Qt["s-hn"]=Bt,3&St.$flags$&&(Qt["s-sr"]=!0,Qt["s-cr"]=ht,Qt["s-sn"]=St.$name$||"",Qt["s-rf"]=null==(Ft=St.$attrs$)?void 0:Ft.ref,An=L&&L.$children$&&L.$children$[tt],An&&An.$tag$===St.$tag$&&L.$elm$&&vr(L.$elm$)),Qt},vr=L=>{Ye.$flags$|=1;const q=L.closest(Bt.toLowerCase());if(null!=q){const tt=Array.from(q.childNodes).find(Ft=>Ft["s-cr"]),et=Array.from(L.childNodes);for(const Ft of tt?et.reverse():et)null!=Ft["s-sh"]&&(ut(q,Ft,null!=tt?tt:null),Ft["s-sh"]=void 0,xn=!0)}Ye.$flags$&=-2},ct=(L,q)=>{Ye.$flags$|=1;const tt=Array.from(L.childNodes);if(L["s-sr"]){let et=L;for(;et=et.nextSibling;)et&&et["s-sn"]===L["s-sn"]&&et["s-sh"]===Bt&&tt.push(et)}for(let et=tt.length-1;et>=0;et--){const Ft=tt[et];Ft["s-hn"]!==Bt&&Ft["s-ol"]&&(ut(cn(Ft),Ft,Dt(Ft)),Ft["s-ol"].remove(),Ft["s-ol"]=void 0,Ft["s-sh"]=void 0,xn=!0),q&&ct(Ft,q)}Ye.$flags$&=-2},bt=(L,q,tt,et,Ft,St)=>{let Qt,Vt=L["s-cr"]&&L["s-cr"].parentNode||L;for(Vt.shadowRoot&&Vt.tagName===Bt&&(Vt=Vt.shadowRoot);Ft<=St;++Ft)et[Ft]&&(Qt=Hn(null,tt,Ft,L),Qt&&(et[Ft].$elm$=Qt,ut(Vt,Qt,Dt(q))))},Gn=(L,q,tt)=>{for(let et=q;et<=tt;++et){const Ft=L[et];if(Ft){const St=Ft.$elm$;Ee(Ft),St&&(Kn=!0,St["s-ol"]?St["s-ol"].remove():ct(St,!0),St.remove())}}},Er=(L,q,tt=!1)=>!(L.$tag$!==q.$tag$||("slot"===L.$tag$?"$nodeId$"in L&&tt&&8!==L.$elm$.nodeType||L.$name$!==q.$name$:!tt&&L.$key$!==q.$key$)),Dt=L=>L&&L["s-ol"]||L,cn=L=>(L["s-ol"]?L["s-ol"]:L).parentNode,mn=(L,q,tt=!1)=>{const et=q.$elm$=L.$elm$,Ft=L.$children$,St=q.$children$,Vt=q.$tag$,Qt=q.$text$;let In;null===Qt?(Zn="svg"===Vt||"foreignObject"!==Vt&&Zn,"slot"!==Vt||Cn?st(L,q,Zn):L.$name$!==q.$name$&&(q.$elm$["s-sn"]=q.$name$||"",vr(q.$elm$.parentElement)),null!==Ft&&null!==St?((L,q,tt,et,Ft=!1)=>{let ni,Xr,St=0,Vt=0,Qt=0,In=0,An=q.length-1,qn=q[0],or=q[An],Cr=et.length-1,gr=et[0],qr=et[Cr];for(;St<=An&&Vt<=Cr;)if(null==qn)qn=q[++St];else if(null==or)or=q[--An];else if(null==gr)gr=et[++Vt];else if(null==qr)qr=et[--Cr];else if(Er(qn,gr,Ft))mn(qn,gr,Ft),qn=q[++St],gr=et[++Vt];else if(Er(or,qr,Ft))mn(or,qr,Ft),or=q[--An],qr=et[--Cr];else if(Er(qn,qr,Ft))("slot"===qn.$tag$||"slot"===qr.$tag$)&&ct(qn.$elm$.parentNode,!1),mn(qn,qr,Ft),ut(L,qn.$elm$,or.$elm$.nextSibling),qn=q[++St],qr=et[--Cr];else if(Er(or,gr,Ft))("slot"===qn.$tag$||"slot"===qr.$tag$)&&ct(or.$elm$.parentNode,!1),mn(or,gr,Ft),ut(L,or.$elm$,qn.$elm$),or=q[--An],gr=et[++Vt];else{for(Qt=-1,In=St;In<=An;++In)if(q[In]&&null!==q[In].$key$&&q[In].$key$===gr.$key$){Qt=In;break}Qt>=0?(Xr=q[Qt],Xr.$tag$!==gr.$tag$?ni=Hn(q&&q[Vt],tt,Qt,L):(mn(Xr,gr,Ft),q[Qt]=void 0,ni=Xr.$elm$),gr=et[++Vt]):(ni=Hn(q&&q[Vt],tt,Vt,L),gr=et[++Vt]),ni&&ut(cn(qn.$elm$),ni,Dt(qn.$elm$))}St>An?bt(L,null==et[Cr+1]?null:et[Cr+1].$elm$,tt,et,Vt,Cr):Vt>Cr&&Gn(q,St,An)})(et,Ft,q,St,tt):null!==St?(null!==L.$text$&&(et.textContent=""),bt(et,null,q,St,0,St.length-1)):!tt&&null!==Ft&&Gn(Ft,0,Ft.length-1),Zn&&"svg"===Vt&&(Zn=!1)):(In=et["s-cr"])?In.parentNode.textContent=Qt:L.$text$!==Qt&&(et.data=Qt)},ze=L=>{const q=L.childNodes;for(const tt of q)if(1===tt.nodeType){if(tt["s-sr"]){const et=tt["s-sn"];tt.hidden=!1;for(const Ft of q)if(Ft!==tt)if(Ft["s-hn"]!==tt["s-hn"]||""!==et){if(1===Ft.nodeType&&(et===Ft.getAttribute("slot")||et===Ft["s-sn"])||3===Ft.nodeType&&et===Ft["s-sn"]){tt.hidden=!0;break}}else if(1===Ft.nodeType||3===Ft.nodeType&&""!==Ft.textContent.trim()){tt.hidden=!0;break}}ze(tt)}},ce=[],yt=L=>{let q,tt,et;for(const Ft of L.childNodes){if(Ft["s-sr"]&&(q=Ft["s-cr"])&&q.parentNode){tt=q.parentNode.childNodes;const St=Ft["s-sn"];for(et=tt.length-1;et>=0;et--)if(q=tt[et],!(q["s-cn"]||q["s-nr"]||q["s-hn"]===Ft["s-hn"]||q["s-sh"]&&q["s-sh"]===Ft["s-hn"]))if(Ce(q,St)){let Vt=ce.find(Qt=>Qt.$nodeToRelocate$===q);Kn=!0,q["s-sn"]=q["s-sn"]||St,Vt?(Vt.$nodeToRelocate$["s-sh"]=Ft["s-hn"],Vt.$slotRefNode$=Ft):(q["s-sh"]=Ft["s-hn"],ce.push({$slotRefNode$:Ft,$nodeToRelocate$:q})),q["s-sr"]&&ce.map(Qt=>{Ce(Qt.$nodeToRelocate$,q["s-sn"])&&(Vt=ce.find(In=>In.$nodeToRelocate$===q),Vt&&!Qt.$slotRefNode$&&(Qt.$slotRefNode$=Vt.$slotRefNode$))})}else ce.some(Vt=>Vt.$nodeToRelocate$===q)||ce.push({$nodeToRelocate$:q})}1===Ft.nodeType&&yt(Ft)}},Ce=(L,q)=>1===L.nodeType?null===L.getAttribute("slot")&&""===q||L.getAttribute("slot")===q:L["s-sn"]===q||""===q,Ee=L=>{L.$attrs$&&L.$attrs$.ref&&L.$attrs$.ref(null),L.$children$&&L.$children$.map(Ee)},ut=(L,q,tt)=>{const et=null==L?void 0:L.insertBefore(q,tt);return wn(q,L),et},en=L=>{const q=[];return L&&q.push(...L["s-scs"]||[],L["s-si"],L["s-sc"],...en(L.parentElement)),q},wn=(L,q,tt=!1)=>{var et;if(L&&q&&1===L.nodeType){const Ft=new Set(en(q).filter(Boolean));if(Ft.size&&(null==(et=L.classList)||et.add(...L["s-scs"]=[...Ft]),L["s-ol"]||tt))for(const St of Array.from(L.childNodes))wn(St,L,!0)}},Dr=(L,q)=>{q&&!L.$onRenderResolve$&&q["s-p"]&&q["s-p"].push(new Promise(tt=>L.$onRenderResolve$=tt))},fr=(L,q)=>{if(L.$flags$|=16,!(4&L.$flags$))return Dr(L,L.$ancestorComponent$),vt(()=>yr(L,q));L.$flags$|=512},yr=(L,q)=>{const Ft=L.$lazyInstance$;if(!Ft)throw new Error(`Can't render component <${L.$hostElement$.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);let St;return q&&(L.$flags$|=256,L.$queuedListeners$&&(L.$queuedListeners$.map(([Vt,Qt])=>Ui(Ft,Vt,Qt)),L.$queuedListeners$=void 0),St=Ui(Ft,"componentWillLoad")),St=ui(St,()=>Ui(Ft,"componentWillRender")),ui(St,()=>si(L,Ft,q))},ui=(L,q)=>Ar(L)?L.then(q).catch(tt=>{console.error(tt),q()}):q(),Ar=L=>L instanceof Promise||L&&L.then&&"function"==typeof L.then,si=function(){var L=(0,c.A)(function*(q,tt,et){var Ft;const St=q.$hostElement$,Qt=St["s-rc"];et&&(L=>{const q=L.$cmpMeta$,tt=L.$hostElement$,et=q.$flags$,St=Ht(tt.shadowRoot?tt.shadowRoot:tt.getRootNode(),q,L.$modeName$);10&et&&2&et&&(tt["s-sc"]=St,tt.classList.add(St+"-h"),2&et&&tt.classList.add(St+"-s"))})(q);yi(q,tt,St,et),Qt&&(Qt.map(An=>An()),St["s-rc"]=void 0);{const An=null!=(Ft=St["s-p"])?Ft:[],qn=()=>zi(q);0===An.length?qn():(Promise.all(An).then(qn),q.$flags$|=4,An.length=0)}});return function(tt,et,Ft){return L.apply(this,arguments)}}(),yi=(L,q,tt,et)=>{try{q=q.render&&q.render(),L.$flags$&=-17,L.$flags$|=2,((L,q,tt=!1)=>{var et,Ft,St,Vt,Qt;const In=L.$hostElement$,An=L.$cmpMeta$,qn=L.$vnode$||$e(null,null),or=(L=>L&&L.$tag$===pt)(q)?q:Fe(null,null,q);if(Bt=In.tagName,An.$attrsToReflect$&&(or.$attrs$=or.$attrs$||{},An.$attrsToReflect$.map(([Cr,gr])=>or.$attrs$[gr]=In[Cr])),tt&&or.$attrs$)for(const Cr of Object.keys(or.$attrs$))In.hasAttribute(Cr)&&!["key","ref","style","class"].includes(Cr)&&(or.$attrs$[Cr]=In[Cr]);if(or.$tag$=null,or.$flags$|=4,L.$vnode$=or,or.$elm$=qn.$elm$=In.shadowRoot||In,Pt=In["s-sc"],Cn=!!(1&An.$flags$),ht=In["s-cr"],Kn=!1,mn(qn,or,tt),Ye.$flags$|=1,xn){yt(or.$elm$);for(const Cr of ce){const gr=Cr.$nodeToRelocate$;if(!gr["s-ol"]){const qr=xe.createTextNode("");qr["s-nr"]=gr,ut(gr.parentNode,gr["s-ol"]=qr,gr)}}for(const Cr of ce){const gr=Cr.$nodeToRelocate$,qr=Cr.$slotRefNode$;if(qr){const ni=qr.parentNode;let Xr=qr.nextSibling;if(Xr&&1===Xr.nodeType){let Qr=null==(et=gr["s-ol"])?void 0:et.previousSibling;for(;Qr;){let hi=null!=(Ft=Qr["s-nr"])?Ft:null;if(hi&&hi["s-sn"]===gr["s-sn"]&&ni===hi.parentNode){for(hi=hi.nextSibling;hi===gr||null!=hi&&hi["s-sr"];)hi=null==hi?void 0:hi.nextSibling;if(!hi||!hi["s-nr"]){Xr=hi;break}}Qr=Qr.previousSibling}}(!Xr&&ni!==gr.parentNode||gr.nextSibling!==Xr)&&gr!==Xr&&(ut(ni,gr,Xr),1===gr.nodeType&&(gr.hidden=null!=(St=gr["s-ih"])&&St)),gr&&"function"==typeof qr["s-rf"]&&qr["s-rf"](gr)}else 1===gr.nodeType&&(tt&&(gr["s-ih"]=null!=(Vt=gr.hidden)&&Vt),gr.hidden=!0)}}if(Kn&&ze(or.$elm$),Ye.$flags$&=-2,ce.length=0,2&An.$flags$)for(const Cr of or.$elm$.childNodes)Cr["s-hn"]!==Bt&&!Cr["s-sh"]&&(tt&&null==Cr["s-ih"]&&(Cr["s-ih"]=null!=(Qt=Cr.hidden)&&Qt),Cr.hidden=!0);ht=void 0})(L,q,et)}catch(Ft){x(Ft,L.$hostElement$)}return null},zi=L=>{const tt=L.$hostElement$,Ft=L.$lazyInstance$,St=L.$ancestorComponent$;Ui(Ft,"componentDidRender"),64&L.$flags$?Ui(Ft,"componentDidUpdate"):(L.$flags$|=64,eo(tt),Ui(Ft,"componentDidLoad"),L.$onReadyResolve$(tt),St||Eo()),L.$onInstanceResolve$(tt),L.$onRenderResolve$&&(L.$onRenderResolve$(),L.$onRenderResolve$=void 0),512&L.$flags$&&kt(()=>fr(L,!1)),L.$flags$&=-517},ai=L=>{{const q=P(L),tt=q.$hostElement$.isConnected;return tt&&2==(18&q.$flags$)&&fr(q,!1),tt}},Eo=L=>{eo(xe.documentElement),kt(()=>Nn(Je,"appload",{detail:{namespace:"ionic"}}))},Ui=(L,q,tt)=>{if(L&&L[q])try{return L[q](tt)}catch(et){x(et)}},eo=L=>L.classList.add("hydrated"),Di=(L,q,tt)=>{var et,Ft;const St=L.prototype;if(q.$members$||q.$watchers$||L.watchers){L.watchers&&!q.$watchers$&&(q.$watchers$=L.watchers);const Vt=Object.entries(null!=(et=q.$members$)?et:{});if(Vt.map(([Qt,[In]])=>{31&In||2&tt&&32&In?Object.defineProperty(St,Qt,{get(){return((L,q)=>P(this).$instanceValues$.get(q))(0,Qt)},set(An){((L,q,tt,et)=>{const Ft=P(L);if(!Ft)throw new Error(`Couldn't find host element for "${et.$tagName$}" as it is unknown to this Stencil runtime. This usually happens when integrating a 3rd party Stencil component with another Stencil component or application. Please reach out to the maintainers of the 3rd party Stencil component or report this on the Stencil Discord server (https://chat.stenciljs.com) or comment on this similar [GitHub issue](https://github.com/ionic-team/stencil/issues/5457).`);const St=Ft.$hostElement$,Vt=Ft.$instanceValues$.get(q),Qt=Ft.$flags$,In=Ft.$lazyInstance$;tt=((L,q)=>null==L||sr(L)?L:4&q?"false"!==L&&(""===L||!!L):2&q?parseFloat(L):1&q?String(L):L)(tt,et.$members$[q][0]);const An=Number.isNaN(Vt)&&Number.isNaN(tt);if((!(8&Qt)||void 0===Vt)&&tt!==Vt&&!An&&(Ft.$instanceValues$.set(q,tt),In)){if(et.$watchers$&&128&Qt){const or=et.$watchers$[q];or&&or.map(Cr=>{try{In[Cr](tt,Vt,q)}catch(gr){x(gr,St)}})}2==(18&Qt)&&fr(Ft,!1)}})(this,Qt,An,q)},configurable:!0,enumerable:!0}):1&tt&&64&In&&Object.defineProperty(St,Qt,{value(...An){var qn;const or=P(this);return null==(qn=null==or?void 0:or.$onInstancePromise$)?void 0:qn.then(()=>{var Cr;return null==(Cr=or.$lazyInstance$)?void 0:Cr[Qt](...An)})}})}),1&tt){const Qt=new Map;St.attributeChangedCallback=function(In,An,qn){Ye.jmp(()=>{var or;const Cr=Qt.get(In);if(this.hasOwnProperty(Cr))qn=this[Cr],delete this[Cr];else{if(St.hasOwnProperty(Cr)&&"number"==typeof this[Cr]&&this[Cr]==qn)return;if(null==Cr){const gr=P(this),qr=null==gr?void 0:gr.$flags$;if(qr&&!(8&qr)&&128&qr&&qn!==An){const ni=gr.$lazyInstance$,Xr=null==(or=q.$watchers$)?void 0:or[In];null==Xr||Xr.forEach(Qr=>{null!=ni[Qr]&&ni[Qr].call(ni,qn,An,In)})}return}}this[Cr]=(null!==qn||"boolean"!=typeof this[Cr])&&qn})},L.observedAttributes=Array.from(new Set([...Object.keys(null!=(Ft=q.$watchers$)?Ft:{}),...Vt.filter(([In,An])=>15&An[0]).map(([In,An])=>{var qn;const or=An[1]||In;return Qt.set(or,In),512&An[0]&&(null==(qn=q.$attrsToReflect$)||qn.push([In,or])),or})]))}}return L},io=function(){var L=(0,c.A)(function*(q,tt,et,Ft){let St;if(!(32&tt.$flags$)){if(tt.$flags$|=32,et.$lazyBundleId$){const An=(L=>{const et=L.$tagName$.replace(/-/g,"_"),Ft=L.$lazyBundleId$;if(!Ft)return;const St=j.get(Ft);return St?St[et]:y(8996)(`./${Ft}.entry.js`).then(Vt=>(j.set(Ft,Vt),Vt[et]),x)})(et);if(An&&"then"in An){const or=()=>{};St=yield An,or()}else St=An;if(!St)throw new Error(`Constructor for "${et.$tagName$}#${tt.$modeName$}" was not found`);St.isProxied||(et.$watchers$=St.watchers,Di(St,et,2),St.isProxied=!0);const qn=()=>{};tt.$flags$|=8;try{new St(tt)}catch(or){x(or)}tt.$flags$&=-9,tt.$flags$|=128,qn(),xo(tt.$lazyInstance$)}else St=q.constructor,customElements.whenDefined(q.localName).then(()=>tt.$flags$|=128);if(St&&St.style){let An;"string"==typeof St.style?An=St.style:"string"!=typeof St.style&&(tt.$modeName$=(L=>S.map(q=>q(L)).find(q=>!!q))(q),tt.$modeName$&&(An=St.style[tt.$modeName$]));const qn=Yt(et,tt.$modeName$);if(!$.has(qn)){const or=()=>{};((L,q,tt)=>{let et=$.get(L);je&&tt?(et=et||new CSSStyleSheet,"string"==typeof et?et=q:et.replaceSync(q)):et=q,$.set(L,et)})(qn,An,!!(1&et.$flags$)),or()}}}const Vt=tt.$ancestorComponent$,Qt=()=>fr(tt,!0);Vt&&Vt["s-rc"]?Vt["s-rc"].push(Qt):Qt()});return function(tt,et,Ft,St){return L.apply(this,arguments)}}(),xo=L=>{Ui(L,"connectedCallback")},Kr=L=>{const q=L["s-cr"]=xe.createComment("");q["s-cn"]=!0,ut(L,q,L.firstChild)},Jr=L=>{Ui(L,"disconnectedCallback")},ss=function(){var L=(0,c.A)(function*(q){if(!(1&Ye.$flags$)){const tt=P(q);tt.$rmListeners$&&(tt.$rmListeners$.map(et=>et()),tt.$rmListeners$=void 0),null!=tt&&tt.$lazyInstance$?Jr(tt.$lazyInstance$):null!=tt&&tt.$onReadyPromise$&&tt.$onReadyPromise$.then(()=>Jr(tt.$lazyInstance$))}});return function(tt){return L.apply(this,arguments)}}(),Wn=L=>{const q=L.cloneNode;L.cloneNode=function(tt){const et=this,Ft=et.shadowRoot&&true,St=q.call(et,!!Ft&&tt);if(!Ft&&tt){let Qt,In,Vt=0;const An=["s-id","s-cr","s-lr","s-rc","s-sc","s-p","s-cn","s-sr","s-sn","s-hn","s-ol","s-nr","s-si","s-rf","s-scs"];for(;Vt<et.childNodes.length;Vt++)Qt=et.childNodes[Vt]["s-nr"],In=An.every(qn=>!et.childNodes[Vt][qn]),Qt&&(St.__appendChild?St.__appendChild(Qt.cloneNode(!0)):St.appendChild(Qt.cloneNode(!0))),In&&St.appendChild(et.childNodes[Vt].cloneNode(!0))}return St}},Oa=L=>{L.__appendChild=L.appendChild,L.appendChild=function(q){const tt=q["s-sn"]=Hs(q),et=jo(this.childNodes,tt,this.tagName);if(et){const Ft=Na(et,tt),St=Ft[Ft.length-1],Vt=ut(St.parentNode,q,St.nextSibling);return ze(this),Vt}return this.__appendChild(q)}},ir=L=>{L.__removeChild=L.removeChild,L.removeChild=function(q){if(q&&typeof q["s-sn"]<"u"){const tt=jo(this.childNodes,q["s-sn"],this.tagName);if(tt){const Ft=Na(tt,q["s-sn"]).find(St=>St===q);if(Ft)return Ft.remove(),void ze(this)}}return this.__removeChild(q)}},pn=L=>{const q=L.prepend;L.prepend=function(...tt){tt.forEach(et=>{"string"==typeof et&&(et=this.ownerDocument.createTextNode(et));const Ft=et["s-sn"]=Hs(et),St=jo(this.childNodes,Ft,this.tagName);if(St){const Vt=document.createTextNode("");Vt["s-nr"]=et,St["s-cr"].parentNode.__appendChild(Vt),et["s-ol"]=Vt;const In=Na(St,Ft)[0];return ut(In.parentNode,et,In.nextSibling)}return 1===et.nodeType&&et.getAttribute("slot")&&(et.hidden=!0),q.call(this,et)})}},Ln=L=>{L.append=function(...q){q.forEach(tt=>{"string"==typeof tt&&(tt=this.ownerDocument.createTextNode(tt)),this.appendChild(tt)})}},Fi=L=>{const q=L.insertAdjacentHTML;L.insertAdjacentHTML=function(tt,et){if("afterbegin"!==tt&&"beforeend"!==tt)return q.call(this,tt,et);const Ft=this.ownerDocument.createElement("_");let St;if(Ft.innerHTML=et,"afterbegin"===tt)for(;St=Ft.firstChild;)this.prepend(St);else if("beforeend"===tt)for(;St=Ft.firstChild;)this.append(St)}},Rs=L=>{L.insertAdjacentText=function(q,tt){this.insertAdjacentHTML(q,tt)}},jr=L=>{const q=L.insertAdjacentElement;L.insertAdjacentElement=function(tt,et){return"afterbegin"!==tt&&"beforeend"!==tt?q.call(this,tt,et):"afterbegin"===tt?(this.prepend(et),et):("beforeend"===tt&&this.append(et),et)}},Ds=L=>{const q=Object.getOwnPropertyDescriptor(Node.prototype,"textContent");Object.defineProperty(L,"__textContent",q),Object.defineProperty(L,"textContent",{get(){return" "+Pi(this.childNodes).map(Ft=>{var St,Vt;const Qt=[];let In=Ft.nextSibling;for(;In&&In["s-sn"]===Ft["s-sn"];)(3===In.nodeType||1===In.nodeType)&&Qt.push(null!=(Vt=null==(St=In.textContent)?void 0:St.trim())?Vt:""),In=In.nextSibling;return Qt.filter(An=>""!==An).join(" ")}).filter(Ft=>""!==Ft).join(" ")+" "},set(tt){Pi(this.childNodes).forEach(Ft=>{let St=Ft.nextSibling;for(;St&&St["s-sn"]===Ft["s-sn"];){const Vt=St;St=St.nextSibling,Vt.remove()}if(""===Ft["s-sn"]){const Vt=this.ownerDocument.createTextNode(tt);Vt["s-sn"]="",ut(Ft.parentElement,Vt,Ft.nextSibling)}else Ft.remove()})}})},ba=(L,q)=>{class tt extends Array{item(Ft){return this[Ft]}}if(8&q.$flags$){const et=L.__lookupGetter__("childNodes");Object.defineProperty(L,"children",{get(){return this.childNodes.map(Ft=>1===Ft.nodeType)}}),Object.defineProperty(L,"childElementCount",{get:()=>L.children.length}),Object.defineProperty(L,"childNodes",{get(){const Ft=et.call(this);if(!(1&Ye.$flags$)&&2&P(this).$flags$){const St=new tt;for(let Vt=0;Vt<Ft.length;Vt++){const Qt=Ft[Vt]["s-nr"];Qt&&St.push(Qt)}return St}return tt.from(Ft)}})}},Pi=L=>{const q=[];for(const tt of Array.from(L))tt["s-sr"]&&q.push(tt),q.push(...Pi(tt.childNodes));return q},Hs=L=>L["s-sn"]||1===L.nodeType&&L.getAttribute("slot")||"",jo=(L,q,tt)=>{let Ft,et=0;for(;et<L.length;et++)if(Ft=L[et],Ft["s-sr"]&&Ft["s-sn"]===q&&Ft["s-hn"]===tt||(Ft=jo(Ft.childNodes,q,tt),Ft))return Ft;return null},Na=(L,q)=>{const tt=[L];for(;(L=L.nextSibling)&&L["s-sn"]===q;)tt.push(L);return tt},as=(L,q={})=>{var tt;const Ft=[],St=q.exclude||[],Vt=Je.customElements,Qt=xe.head,In=Qt.querySelector("meta[charset]"),An=xe.createElement("style"),qn=[];let or,Cr=!0;Object.assign(Ye,q),Ye.$resourcesUrl$=new URL(q.resourcesUrl||"./",xe.baseURI).href,Ye.$flags$|=2;let gr=!1;if(L.map(qr=>{qr[1].map(ni=>{var Xr;const Qr={$flags$:ni[0],$tagName$:ni[1],$members$:ni[2],$listeners$:ni[3]};4&Qr.$flags$&&(gr=!0),Qr.$members$=ni[2],Qr.$listeners$=ni[3],Qr.$attrsToReflect$=[],Qr.$watchers$=null!=(Xr=ni[4])?Xr:{};const hi=Qr.$tagName$,po=class extends HTMLElement{constructor(Li){if(super(Li),this.hasRegisteredEventListeners=!1,((L,q)=>{const tt={$flags$:0,$hostElement$:L,$cmpMeta$:q,$instanceValues$:new Map};tt.$onInstancePromise$=new Promise(et=>tt.$onInstanceResolve$=et),tt.$onReadyPromise$=new Promise(et=>tt.$onReadyResolve$=et),L["s-p"]=[],L["s-rc"]=[],I.set(L,tt)})(Li=this,Qr),1&Qr.$flags$)if(Li.shadowRoot){if("open"!==Li.shadowRoot.mode)throw new Error(`Unable to re-use existing shadow root for ${Qr.$tagName$}! Mode is set to ${Li.shadowRoot.mode} but Stencil only supports open shadow roots.`)}else Li.attachShadow({mode:"open",delegatesFocus:!!(16&Qr.$flags$)})}connectedCallback(){const Li=P(this);this.hasRegisteredEventListeners||(this.hasRegisteredEventListeners=!0,wi(this,Li,Qr.$listeners$)),or&&(clearTimeout(or),or=null),Cr?qn.push(this):Ye.jmp(()=>(L=>{if(!(1&Ye.$flags$)){const q=P(L),tt=q.$cmpMeta$,et=()=>{};if(1&q.$flags$)wi(L,q,tt.$listeners$),null!=q&&q.$lazyInstance$?xo(q.$lazyInstance$):null!=q&&q.$onReadyPromise$&&q.$onReadyPromise$.then(()=>xo(q.$lazyInstance$));else{let Ft;if(q.$flags$|=1,Ft=L.getAttribute(Ne),Ft){if(1&tt.$flags$){const St=Ht(L.shadowRoot,tt,L.getAttribute("s-mode"));L.classList.remove(St+"-h",St+"-s")}((L,q,tt,et)=>{const St=L.shadowRoot,Vt=[],In=St?[]:null,An=et.$vnode$=$e(q,null);Ye.$orgLocNodes$||Ze(xe.body,Ye.$orgLocNodes$=new Map),L[Ne]=tt,L.removeAttribute(Ne),mt(An,Vt,[],In,L,L,tt),Vt.map(qn=>{const or=qn.$hostId$+"."+qn.$nodeId$,Cr=Ye.$orgLocNodes$.get(or),gr=qn.$elm$;Cr&&""===Cr["s-en"]&&Cr.parentNode.insertBefore(gr,Cr.nextSibling),St||(gr["s-hn"]=q,Cr&&(gr["s-ol"]=Cr,gr["s-ol"]["s-nr"]=gr)),Ye.$orgLocNodes$.delete(or)}),St&&In.map(qn=>{qn&&St.appendChild(qn)})})(L,tt.$tagName$,Ft,q)}Ft||12&tt.$flags$&&Kr(L);{let St=L;for(;St=St.parentNode||St.host;)if(1===St.nodeType&&St.hasAttribute("s-id")&&St["s-p"]||St["s-p"]){Dr(q,q.$ancestorComponent$=St);break}}tt.$members$&&Object.entries(tt.$members$).map(([St,[Vt]])=>{if(31&Vt&&L.hasOwnProperty(St)){const Qt=L[St];delete L[St],L[St]=Qt}}),io(L,q,tt)}et()}})(this))}disconnectedCallback(){Ye.jmp(()=>ss(this))}componentOnReady(){return P(this).$onReadyPromise$}};2&Qr.$flags$&&((L,q)=>{Wn(L),Oa(L),Ln(L),pn(L),jr(L),Fi(L),Rs(L),Ds(L),ba(L,q),ir(L)})(po.prototype,Qr),Qr.$lazyBundleId$=qr[0],!St.includes(hi)&&!Vt.get(hi)&&(Ft.push(hi),Vt.define(hi,Di(po,Qr,1)))})}),Ft.length>0&&(gr&&(An.textContent+=it),An.textContent+=Ft.sort()+"{visibility:hidden}.hydrated{visibility:inherit}",An.innerHTML.length)){An.setAttribute("data-styles","");const qr=null!=(tt=Ye.$nonce$)?tt:Qn(xe);null!=qr&&An.setAttribute("nonce",qr),Qt.insertBefore(An,In?In.nextSibling:Qt.firstChild)}Cr=!1,qn.length?qn.map(qr=>qr.connectedCallback()):Ye.jmp(()=>or=setTimeout(Eo,30))},wi=(L,q,tt,et)=>{tt&&tt.map(([Ft,St,Vt])=>{const Qt=le(L,Ft),In=Y(q,Vt),An=Ue(Ft);Ye.ael(Qt,St,In,An),(q.$rmListeners$=q.$rmListeners$||[]).push(()=>Ye.rel(Qt,St,In,An))})},Y=(L,q)=>tt=>{var et;try{256&L.$flags$?null==(et=L.$lazyInstance$)||et[q](tt):(L.$queuedListeners$=L.$queuedListeners$||[]).push([q,tt])}catch(Ft){x(Ft)}},le=(L,q)=>4&q?xe:8&q?Je:16&q?xe.body:L,Ue=L=>on?{passive:!!(1&L),capture:!!(2&L)}:!!(2&L)},8607:(Jn,ft,y)=>{"use strict";y.r(ft),y.d(ft,{GESTURE_CONTROLLER:()=>c.G,createGesture:()=>F});var c=y(1970);const d=(j,Q,$,S)=>{const se=v(j)?{capture:!!S.capture,passive:!!S.passive}:!!S.capture;let ue,Be;return j.__zone_symbol__addEventListener?(ue="__zone_symbol__addEventListener",Be="__zone_symbol__removeEventListener"):(ue="addEventListener",Be="removeEventListener"),j[ue](Q,$,se),()=>{j[Be](Q,$,se)}},v=j=>{if(void 0===w)try{const Q=Object.defineProperty({},"passive",{get:()=>{w=!0}});j.addEventListener("optsTest",()=>{},Q)}catch{w=!1}return!!w};let w;const I=j=>j instanceof Document?j:j.ownerDocument,F=j=>{let Q=!1,$=!1,S=!0,se=!1;const ue=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},j),Be=ue.canStart,me=ue.onWillStart,Ne=ue.onStart,Se=ue.onEnd,Re=ue.notCaptured,Xe=ue.onMove,it=ue.threshold,We=ue.passive,Je=ue.blurOnStart,xe={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},Ke=((j,Q,$)=>{const S=$*(Math.PI/180),se="x"===j,ue=Math.cos(S),Be=Q*Q;let me=0,Ne=0,Se=!1,Re=0;return{start(Xe,it){me=Xe,Ne=it,Re=0,Se=!0},detect(Xe,it){if(!Se)return!1;const We=Xe-me,Je=it-Ne,xe=We*We+Je*Je;if(xe<Be)return!1;const Ke=Math.sqrt(xe),Ye=(se?We:Je)/Ke;return Re=Ye>ue?1:Ye<-ue?-1:0,Se=!1,!0},isGesture:()=>0!==Re,getDirection:()=>Re}})(ue.direction,ue.threshold,ue.maxAngle),Ye=c.G.createGesture({name:j.gestureName,priority:j.gesturePriority,disableScroll:j.disableScroll}),on=()=>{Q&&(se=!1,Xe&&Xe(xe))},At=()=>!!Ye.capture()&&(Q=!0,S=!1,xe.startX=xe.currentX,xe.startY=xe.currentY,xe.startTime=xe.currentTime,me?me(xe).then(pe):pe(),!0),pe=()=>{Je&&(()=>{if(typeof document<"u"){const Ut=document.activeElement;null!=Ut&&Ut.blur&&Ut.blur()}})(),Ne&&Ne(xe),S=!0},fe=()=>{Q=!1,$=!1,se=!1,S=!0,Ye.release()},Ie=Ut=>{const kt=Q,_n=S;if(fe(),_n){if(C(xe,Ut),kt)return void(Se&&Se(xe));Re&&Re(xe)}},Qe=((j,Q,$,S,se)=>{let ue,Be,me,Ne,Se,Re,Xe,it=0;const We=je=>{it=Date.now()+2e3,Q(je)&&(!Be&&$&&(Be=d(j,"touchmove",$,se)),me||(me=d(je.target,"touchend",xe,se)),Ne||(Ne=d(je.target,"touchcancel",xe,se)))},Je=je=>{it>Date.now()||Q(je)&&(!Re&&$&&(Re=d(I(j),"mousemove",$,se)),Xe||(Xe=d(I(j),"mouseup",Ke,se)))},xe=je=>{Ye(),S&&S(je)},Ke=je=>{rt(),S&&S(je)},Ye=()=>{Be&&Be(),me&&me(),Ne&&Ne(),Be=me=Ne=void 0},rt=()=>{Re&&Re(),Xe&&Xe(),Re=Xe=void 0},xt=()=>{Ye(),rt()},on=(je=!0)=>{je?(ue||(ue=d(j,"touchstart",We,se)),Se||(Se=d(j,"mousedown",Je,se))):(ue&&ue(),Se&&Se(),ue=Se=void 0,xt())};return{enable:on,stop:xt,destroy:()=>{on(!1),S=$=Q=void 0}}})(ue.el,Ut=>{const kt=x(Ut);return!($||!S||(M(Ut,xe),xe.startX=xe.currentX,xe.startY=xe.currentY,xe.startTime=xe.currentTime=kt,xe.velocityX=xe.velocityY=xe.deltaX=xe.deltaY=0,xe.event=Ut,Be&&!1===Be(xe))||(Ye.release(),!Ye.start()))&&($=!0,0===it?At():(Ke.start(xe.startX,xe.startY),!0))},Ut=>{Q?!se&&S&&(se=!0,C(xe,Ut),requestAnimationFrame(on)):(C(xe,Ut),Ke.detect(xe.currentX,xe.currentY)&&(!Ke.isGesture()||!At())&&Kt())},Ie,{capture:!1,passive:We}),Kt=()=>{fe(),Qe.stop(),Re&&Re(xe)};return{enable(Ut=!0){Ut||(Q&&Ie(void 0),fe()),Qe.enable(Ut)},destroy(){Ye.destroy(),Qe.destroy()}}},C=(j,Q)=>{if(!Q)return;const $=j.currentX,S=j.currentY,se=j.currentTime;M(Q,j);const ue=j.currentX,Be=j.currentY,Ne=(j.currentTime=x(Q))-se;if(Ne>0&&Ne<100){const Re=(Be-S)/Ne;j.velocityX=(ue-$)/Ne*.7+.3*j.velocityX,j.velocityY=.7*Re+.3*j.velocityY}j.deltaX=ue-j.startX,j.deltaY=Be-j.startY,j.event=Q},M=(j,Q)=>{let $=0,S=0;if(j){const se=j.changedTouches;if(se&&se.length>0){const ue=se[0];$=ue.clientX,S=ue.clientY}else void 0!==j.pageX&&($=j.pageX,S=j.pageY)}Q.currentX=$,Q.currentY=S},x=j=>j.timeStamp||Date.now()},3604:(Jn,ft,y)=>{"use strict";y.d(ft,{b:()=>P,c:()=>F,d:()=>C,e:()=>xt,g:()=>je,l:()=>Ye,s:()=>on,t:()=>ue,w:()=>rt});var c=y(467),d=y(9483),v=y(4261),w=y(4929),N=y(4920);const P="ionViewWillLeave",F="ionViewDidLeave",C="ionViewWillUnload",M=pe=>{pe.tabIndex=-1,pe.focus()},x=pe=>null!==pe.offsetParent,Q="ion-last-focus",se_saveViewFocus=Ie=>{if(d.c.get("focusManagerPriority",!1)){const Kt=document.activeElement;null!==Kt&&null!=Ie&&Ie.contains(Kt)&&Kt.setAttribute(Q,"true")}},se_setViewFocus=Ie=>{const Qe=d.c.get("focusManagerPriority",!1);if(Array.isArray(Qe)&&!Ie.contains(document.activeElement)){const Kt=Ie.querySelector(`[${Q}]`);if(Kt&&x(Kt))return void M(Kt);for(const Ut of Qe)switch(Ut){case"content":const kt=Ie.querySelector('main, [role="main"]');if(kt&&x(kt))return void M(kt);break;case"heading":const _n=Ie.querySelector('h1, [role="heading"][aria-level="1"]');if(_n&&x(_n))return void M(_n);break;case"banner":const vt=Ie.querySelector('header, [role="banner"]');if(vt&&x(vt))return void M(vt);break;default:(0,w.p)(`Unrecognized focus manager priority value ${Ut}`)}M(Ie)}},ue=pe=>new Promise((fe,Ie)=>{(0,v.w)(()=>{Be(pe),me(pe).then(Qe=>{Qe.animation&&Qe.animation.destroy(),Ne(pe),fe(Qe)},Qe=>{Ne(pe),Ie(Qe)})})}),Be=pe=>{const fe=pe.enteringEl,Ie=pe.leavingEl;se_saveViewFocus(Ie),At(fe,Ie,pe.direction),pe.showGoBack?fe.classList.add("can-go-back"):fe.classList.remove("can-go-back"),on(fe,!1),fe.style.setProperty("pointer-events","none"),Ie&&(on(Ie,!1),Ie.style.setProperty("pointer-events","none"))},me=function(){var pe=(0,c.A)(function*(fe){const Ie=yield Se(fe);return Ie&&v.B.isBrowser?Re(Ie,fe):Xe(fe)});return function(Ie){return pe.apply(this,arguments)}}(),Ne=pe=>{const fe=pe.enteringEl,Ie=pe.leavingEl;fe.classList.remove("ion-page-invisible"),fe.style.removeProperty("pointer-events"),void 0!==Ie&&(Ie.classList.remove("ion-page-invisible"),Ie.style.removeProperty("pointer-events")),se_setViewFocus(fe)},Se=function(){var pe=(0,c.A)(function*(fe){return fe.leavingEl&&fe.animated&&0!==fe.duration?fe.animationBuilder?fe.animationBuilder:"ios"===fe.mode?(yield Promise.resolve().then(y.bind(y,5022))).iosTransitionAnimation:(yield Promise.resolve().then(y.bind(y,3615))).mdTransitionAnimation:void 0});return function(Ie){return pe.apply(this,arguments)}}(),Re=function(){var pe=(0,c.A)(function*(fe,Ie){yield it(Ie,!0);const Qe=fe(Ie.baseEl,Ie);xe(Ie.enteringEl,Ie.leavingEl);const Kt=yield Je(Qe,Ie);return Ie.progressCallback&&Ie.progressCallback(void 0),Kt&&Ke(Ie.enteringEl,Ie.leavingEl),{hasCompleted:Kt,animation:Qe}});return function(Ie,Qe){return pe.apply(this,arguments)}}(),Xe=function(){var pe=(0,c.A)(function*(fe){const Ie=fe.enteringEl,Qe=fe.leavingEl,Kt=d.c.get("focusManagerPriority",!1);return yield it(fe,Kt),xe(Ie,Qe),Ke(Ie,Qe),{hasCompleted:!0}});return function(Ie){return pe.apply(this,arguments)}}(),it=function(){var pe=(0,c.A)(function*(fe,Ie){(void 0!==fe.deepWait?fe.deepWait:Ie)&&(yield Promise.all([xt(fe.enteringEl),xt(fe.leavingEl)])),yield We(fe.viewIsReady,fe.enteringEl)});return function(Ie,Qe){return pe.apply(this,arguments)}}(),We=function(){var pe=(0,c.A)(function*(fe,Ie){fe&&(yield fe(Ie))});return function(Ie,Qe){return pe.apply(this,arguments)}}(),Je=(pe,fe)=>{const Ie=fe.progressCallback,Qe=new Promise(Kt=>{pe.onFinish(Ut=>Kt(1===Ut))});return Ie?(pe.progressStart(!0),Ie(pe)):pe.play(),Qe},xe=(pe,fe)=>{Ye(fe,P),Ye(pe,"ionViewWillEnter")},Ke=(pe,fe)=>{Ye(pe,"ionViewDidEnter"),Ye(fe,F)},Ye=(pe,fe)=>{if(pe){const Ie=new CustomEvent(fe,{bubbles:!1,cancelable:!1});pe.dispatchEvent(Ie)}},rt=()=>new Promise(pe=>(0,N.r)(()=>(0,N.r)(()=>pe()))),xt=function(){var pe=(0,c.A)(function*(fe){const Ie=fe;if(Ie){if(null!=Ie.componentOnReady){if(null!=(yield Ie.componentOnReady()))return}else if(null!=Ie.__registerHost)return void(yield new Promise(Kt=>(0,N.r)(Kt)));yield Promise.all(Array.from(Ie.children).map(xt))}});return function(Ie){return pe.apply(this,arguments)}}(),on=(pe,fe)=>{fe?(pe.setAttribute("aria-hidden","true"),pe.classList.add("ion-page-hidden")):(pe.hidden=!1,pe.removeAttribute("aria-hidden"),pe.classList.remove("ion-page-hidden"))},At=(pe,fe,Ie)=>{void 0!==pe&&(pe.style.zIndex="back"===Ie?"99":"101"),void 0!==fe&&(fe.style.zIndex="100")},je=pe=>pe.classList.contains("ion-page")?pe:pe.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||pe},4929:(Jn,ft,y)=>{"use strict";y.d(ft,{a:()=>d,b:()=>v,p:()=>c});const c=(w,...N)=>console.warn(`[Ionic Warning]: ${w}`,...N),d=(w,...N)=>console.error(`[Ionic Error]: ${w}`,...N),v=(w,...N)=>console.error(`<${w.tagName.toLowerCase()}> must be used inside ${N.join(" or ")}.`)},8476:(Jn,ft,y)=>{"use strict";y.d(ft,{d:()=>d,w:()=>c});const c=typeof window<"u"?window:void 0,d=typeof document<"u"?document:void 0},9568:(Jn,ft,y)=>{"use strict";y.d(ft,{m:()=>j});var c=y(467),d=y(8476),v=y(7192),w=y(4929),N=y(4920),A=y(9483),I=y(9986);const P=Q=>(0,I.c)().duration(Q?400:300),F=Q=>{let $,S;const se=Q.width+8,ue=(0,I.c)(),Be=(0,I.c)();Q.isEndSide?($=se+"px",S="0px"):($=-se+"px",S="0px"),ue.addElement(Q.menuInnerEl).fromTo("transform",`translateX(${$})`,`translateX(${S})`);const Ne="ios"===(0,A.b)(Q),Se=Ne?.2:.25;return Be.addElement(Q.backdropEl).fromTo("opacity",.01,Se),P(Ne).addAnimation([ue,Be])},C=Q=>{let $,S;const se=(0,A.b)(Q),ue=Q.width;Q.isEndSide?($=-ue+"px",S=ue+"px"):($=ue+"px",S=-ue+"px");const Be=(0,I.c)().addElement(Q.menuInnerEl).fromTo("transform",`translateX(${S})`,"translateX(0px)"),me=(0,I.c)().addElement(Q.contentEl).fromTo("transform","translateX(0px)",`translateX(${$})`),Ne=(0,I.c)().addElement(Q.backdropEl).fromTo("opacity",.01,.32);return P("ios"===se).addAnimation([Be,me,Ne])},M=Q=>{const $=(0,A.b)(Q),S=Q.width*(Q.isEndSide?-1:1)+"px",se=(0,I.c)().addElement(Q.contentEl).fromTo("transform","translateX(0px)",`translateX(${S})`);return P("ios"===$).addAnimation(se)},j=(()=>{const Q=new Map,$=[],S=function(){var fe=(0,c.A)(function*(Ie){const Qe=yield Re(Ie,!0);return!!Qe&&Qe.open()});return function(Qe){return fe.apply(this,arguments)}}(),se=function(){var fe=(0,c.A)(function*(Ie){const Qe=yield void 0!==Ie?Re(Ie,!0):Xe();return void 0!==Qe&&Qe.close()});return function(Qe){return fe.apply(this,arguments)}}(),ue=function(){var fe=(0,c.A)(function*(Ie){const Qe=yield Re(Ie,!0);return!!Qe&&Qe.toggle()});return function(Qe){return fe.apply(this,arguments)}}(),Be=function(){var fe=(0,c.A)(function*(Ie,Qe){const Kt=yield Re(Qe);return Kt&&(Kt.disabled=!Ie),Kt});return function(Qe,Kt){return fe.apply(this,arguments)}}(),me=function(){var fe=(0,c.A)(function*(Ie,Qe){const Kt=yield Re(Qe);return Kt&&(Kt.swipeGesture=Ie),Kt});return function(Qe,Kt){return fe.apply(this,arguments)}}(),Ne=function(){var fe=(0,c.A)(function*(Ie){if(null!=Ie){const Qe=yield Re(Ie);return void 0!==Qe&&Qe.isOpen()}return void 0!==(yield Xe())});return function(Qe){return fe.apply(this,arguments)}}(),Se=function(){var fe=(0,c.A)(function*(Ie){const Qe=yield Re(Ie);return!!Qe&&!Qe.disabled});return function(Qe){return fe.apply(this,arguments)}}(),Re=function(){var fe=(0,c.A)(function*(Ie,Qe=!1){if(yield pe(),"start"===Ie||"end"===Ie){const Ut=$.filter(_n=>_n.side===Ie&&!_n.disabled);if(Ut.length>=1)return Ut.length>1&&Qe&&(0,w.p)(`menuController queried for a menu on the "${Ie}" side, but ${Ut.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,Ut.map(_n=>_n.el)),Ut[0].el;const kt=$.filter(_n=>_n.side===Ie);if(kt.length>=1)return kt.length>1&&Qe&&(0,w.p)(`menuController queried for a menu on the "${Ie}" side, but ${kt.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,kt.map(_n=>_n.el)),kt[0].el}else if(null!=Ie)return je(Ut=>Ut.menuId===Ie);return je(Ut=>!Ut.disabled)||($.length>0?$[0].el:void 0)});return function(Qe){return fe.apply(this,arguments)}}(),Xe=function(){var fe=(0,c.A)(function*(){return yield pe(),xt()});return function(){return fe.apply(this,arguments)}}(),it=function(){var fe=(0,c.A)(function*(){return yield pe(),on()});return function(){return fe.apply(this,arguments)}}(),We=function(){var fe=(0,c.A)(function*(){return yield pe(),At()});return function(){return fe.apply(this,arguments)}}(),Je=(fe,Ie)=>{Q.set(fe,Ie)},Ye=function(){var fe=(0,c.A)(function*(Ie,Qe,Kt){if(At())return!1;if(Qe){const Ut=yield Xe();Ut&&Ie.el!==Ut&&(yield Ut.setOpen(!1,!1))}return Ie._setOpen(Qe,Kt)});return function(Qe,Kt,Ut){return fe.apply(this,arguments)}}(),xt=()=>je(fe=>fe._isOpen),on=()=>$.map(fe=>fe.el),At=()=>$.some(fe=>fe.isAnimating),je=fe=>{const Ie=$.find(fe);if(void 0!==Ie)return Ie.el},pe=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(fe=>new Promise(Ie=>(0,N.c)(fe,Ie))));return Je("reveal",M),Je("push",C),Je("overlay",F),null==d.d||d.d.addEventListener("ionBackButton",fe=>{const Ie=xt();Ie&&fe.detail.register(v.MENU_BACK_BUTTON_PRIORITY,()=>Ie.close())}),{registerAnimation:Je,get:Re,getMenus:it,getOpen:Xe,isEnabled:Se,swipeGesture:me,isAnimating:We,isOpen:Ne,enable:Be,toggle:ue,close:se,open:S,_getOpenSync:xt,_createAnimation:(fe,Ie)=>{const Qe=Q.get(fe);if(!Qe)throw new Error("animation not registered");return Qe(Ie)},_register:fe=>{$.indexOf(fe)<0&&$.push(fe)},_unregister:fe=>{const Ie=$.indexOf(fe);Ie>-1&&$.splice(Ie,1)},_setOpen:Ye}})()},9483:(Jn,ft,y)=>{"use strict";y.d(ft,{a:()=>M,b:()=>on,c:()=>v,i:()=>At});var c=y(4261);class d{constructor(){this.m=new Map}reset(pe){this.m=new Map(Object.entries(pe))}get(pe,fe){const Ie=this.m.get(pe);return void 0!==Ie?Ie:fe}getBoolean(pe,fe=!1){const Ie=this.m.get(pe);return void 0===Ie?fe:"string"==typeof Ie?"true"===Ie:!!Ie}getNumber(pe,fe){const Ie=parseFloat(this.m.get(pe));return isNaN(Ie)?void 0!==fe?fe:NaN:Ie}set(pe,fe){this.m.set(pe,fe)}}const v=new d,P="ionic:",F="ionic-persist-config",M=(je,pe)=>("string"==typeof je&&(pe=je,je=void 0),(je=>x(je))(je).includes(pe)),x=(je=window)=>{if(typeof je>"u")return[];je.Ionic=je.Ionic||{};let pe=je.Ionic.platforms;return null==pe&&(pe=je.Ionic.platforms=j(je),pe.forEach(fe=>je.document.documentElement.classList.add(`plt-${fe}`))),pe},j=je=>{const pe=v.get("platform");return Object.keys(rt).filter(fe=>{const Ie=null==pe?void 0:pe[fe];return"function"==typeof Ie?Ie(je):rt[fe](je)})},$=je=>!!(Ke(je,/iPad/i)||Ke(je,/Macintosh/i)&&Se(je)),ue=je=>Ke(je,/android|sink/i),Se=je=>Ye(je,"(any-pointer:coarse)"),Xe=je=>it(je)||We(je),it=je=>!!(je.cordova||je.phonegap||je.PhoneGap),We=je=>{const pe=je.Capacitor;return!(null==pe||!pe.isNative)},Ke=(je,pe)=>pe.test(je.navigator.userAgent),Ye=(je,pe)=>{var fe;return null===(fe=je.matchMedia)||void 0===fe?void 0:fe.call(je,pe).matches},rt={ipad:$,iphone:je=>Ke(je,/iPhone/i),ios:je=>Ke(je,/iPhone|iPod/i)||$(je),android:ue,phablet:je=>{const pe=je.innerWidth,fe=je.innerHeight,Ie=Math.min(pe,fe),Qe=Math.max(pe,fe);return Ie>390&&Ie<520&&Qe>620&&Qe<800},tablet:je=>{const pe=je.innerWidth,fe=je.innerHeight,Ie=Math.min(pe,fe),Qe=Math.max(pe,fe);return $(je)||(je=>ue(je)&&!Ke(je,/mobile/i))(je)||Ie>460&&Ie<820&&Qe>780&&Qe<1400},cordova:it,capacitor:We,electron:je=>Ke(je,/electron/i),pwa:je=>{var pe;return!!(null!==(pe=je.matchMedia)&&void 0!==pe&&pe.call(je,"(display-mode: standalone)").matches||je.navigator.standalone)},mobile:Se,mobileweb:je=>Se(je)&&!Xe(je),desktop:je=>!Se(je),hybrid:Xe};let xt;const on=je=>je&&(0,c.g)(je)||xt,At=(je={})=>{if(typeof window>"u")return;const pe=window.document,fe=window,Ie=fe.Ionic=fe.Ionic||{},Qe={};je._ael&&(Qe.ael=je._ael),je._rel&&(Qe.rel=je._rel),je._ce&&(Qe.ce=je._ce),(0,c.a)(Qe);const Kt=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(je=>{try{const pe=je.sessionStorage.getItem(F);return null!==pe?JSON.parse(pe):{}}catch{return{}}})(fe)),{persistConfig:!1}),Ie.config),(je=>{const pe={};return je.location.search.slice(1).split("&").map(fe=>fe.split("=")).map(([fe,Ie])=>{try{return[decodeURIComponent(fe),decodeURIComponent(Ie)]}catch{return["",""]}}).filter(([fe])=>((je,pe)=>je.substr(0,pe.length)===pe)(fe,P)).map(([fe,Ie])=>[fe.slice(6),Ie]).forEach(([fe,Ie])=>{pe[fe]=Ie}),pe})(fe)),je);v.reset(Kt),v.getBoolean("persistConfig")&&((je,pe)=>{try{je.sessionStorage.setItem(F,JSON.stringify(pe))}catch{return}})(fe,Kt),x(fe),Ie.config=v,Ie.mode=xt=v.get("mode",pe.documentElement.getAttribute("mode")||(M(fe,"ios")?"ios":"md")),v.set("mode",xt),pe.documentElement.setAttribute("mode",xt),pe.documentElement.classList.add(xt),v.getBoolean("_testing")&&v.set("animated",!1);const Ut=_n=>{var vt;return null===(vt=_n.tagName)||void 0===vt?void 0:vt.startsWith("ION-")},kt=_n=>["ios","md"].includes(_n);(0,c.c)(_n=>{for(;_n;){const vt=_n.mode||_n.getAttribute("mode");if(vt){if(kt(vt))return vt;Ut(_n)&&console.warn('Invalid ionic mode: "'+vt+'", expected: "ios" or "md"')}_n=_n.parentElement}return xt})}},5022:(Jn,ft,y)=>{"use strict";y.r(ft),y.d(ft,{iosTransitionAnimation:()=>Q,shadow:()=>P});var c=y(9986),d=y(3604);y(8476),y(9483),y(4261);const I=S=>document.querySelector(`${S}.ion-cloned-element`),P=S=>S.shadowRoot||S,F=S=>{const se="ION-TABS"===S.tagName?S:S.querySelector("ion-tabs"),ue="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=se){const Be=se.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=Be?Be.querySelector(ue):null}return S.querySelector(ue)},C=(S,se)=>{const ue="ION-TABS"===S.tagName?S:S.querySelector("ion-tabs");let Be=[];if(null!=ue){const me=ue.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=me&&(Be=me.querySelectorAll("ion-buttons"))}else Be=S.querySelectorAll("ion-buttons");for(const me of Be){const Ne=me.closest("ion-header"),Se=Ne&&!Ne.classList.contains("header-collapse-condense-inactive"),Re=me.querySelector("ion-back-button"),Xe=me.classList.contains("buttons-collapse");if(null!==Re&&("start"===me.slot||""===me.slot)&&(Xe&&Se&&se||!Xe))return Re}return null},x=(S,se,ue,Be,me,Ne,Se,Re,Xe)=>{var it,We;const Je=se?`calc(100% - ${me.right+4}px)`:me.left-4+"px",xe=se?"right":"left",Ke=se?"left":"right",Ye=se?"right":"left";let rt=1,xt=1,on=`scale(${xt})`;const At="scale(1)";if(Ne&&Se){const H=(null===(it=Ne.textContent)||void 0===it?void 0:it.trim())===(null===(We=Re.textContent)||void 0===We?void 0:We.trim());rt=Xe.width/Se.width,xt=(Xe.height-$)/Se.height,on=H?`scale(${rt}, ${xt})`:`scale(${xt})`}const pe=P(Be).querySelector("ion-icon").getBoundingClientRect(),fe=se?pe.width/2-(pe.right-me.right)+"px":me.left-pe.width/2+"px",Ie=se?`-${window.innerWidth-me.right}px`:`${me.left}px`,Qe=`${Xe.top}px`,Kt=`${me.top}px`,_n=ue?[{offset:0,transform:`translate3d(${Ie}, ${Kt}, 0)`},{offset:1,transform:`translate3d(${fe}, ${Qe}, 0)`}]:[{offset:0,transform:`translate3d(${fe}, ${Qe}, 0)`},{offset:1,transform:`translate3d(${Ie}, ${Kt}, 0)`}],sn=ue?[{offset:0,opacity:1,transform:At},{offset:1,opacity:0,transform:on}]:[{offset:0,opacity:0,transform:on},{offset:1,opacity:1,transform:At}],nr=ue?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],sr=(0,c.c)(),Qn=(0,c.c)(),bn=(0,c.c)(),jn=I("ion-back-button"),vn=P(jn).querySelector(".button-text"),K=P(jn).querySelector("ion-icon");jn.text=Be.text,jn.mode=Be.mode,jn.icon=Be.icon,jn.color=Be.color,jn.disabled=Be.disabled,jn.style.setProperty("display","block"),jn.style.setProperty("position","fixed"),Qn.addElement(K),sr.addElement(vn),bn.addElement(jn),bn.beforeStyles({position:"absolute",top:"0px",[Ye]:"0px"}).beforeAddWrite(()=>{Be.style.setProperty("display","none"),jn.style.setProperty(xe,Je)}).afterAddWrite(()=>{Be.style.setProperty("display",""),jn.style.setProperty("display","none"),jn.style.removeProperty(xe)}).keyframes(_n),sr.beforeStyles({"transform-origin":`${xe} top`}).keyframes(sn),Qn.beforeStyles({"transform-origin":`${Ke} center`}).keyframes(nr),S.addAnimation([sr,Qn,bn])},j=(S,se,ue,Be,me,Ne,Se,Re,Xe)=>{var it,We;const Je=se?"right":"left",xe=se?`calc(100% - ${me.right}px)`:`${me.left}px`,Ye=`${me.top}px`;let xt=se?`-${window.innerWidth-Se.right-8}px`:`${Se.x+8}px`,on=.5;const At="scale(1)";let je=`scale(${on})`;if(Re&&Xe){xt=se?`-${window.innerWidth-Xe.right-8}px`:Xe.x-8+"px";const vt=(null===(it=Re.textContent)||void 0===it?void 0:it.trim())===(null===(We=Be.textContent)||void 0===We?void 0:We.trim());on=Xe.height/(Ne.height-$),je=vt?`scale(${Xe.width/Ne.width}, ${on})`:`scale(${on})`}const Ie=Se.top+Se.height/2-me.height*on/2+"px",Ut=ue?[{offset:0,opacity:0,transform:`translate3d(${xt}, ${Ie}, 0) ${je}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${Ye}, 0) ${At}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${Ye}, 0) ${At}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${xt}, ${Ie}, 0) ${je}`}],kt=I("ion-title"),_n=(0,c.c)();kt.innerText=Be.innerText,kt.size=Be.size,kt.color=Be.color,_n.addElement(kt),_n.beforeStyles({"transform-origin":`${Je} top`,height:`${me.height}px`,display:"",position:"relative",[Je]:xe}).beforeAddWrite(()=>{Be.style.setProperty("opacity","0")}).afterAddWrite(()=>{Be.style.setProperty("opacity",""),kt.style.setProperty("display","none")}).keyframes(Ut),S.addAnimation(_n)},Q=(S,se)=>{var ue;try{const Be="cubic-bezier(0.32,0.72,0,1)",me="opacity",Ne="transform",Se="0%",Xe="rtl"===S.ownerDocument.dir,it=Xe?"-99.5%":"99.5%",We=Xe?"33%":"-33%",Je=se.enteringEl,xe=se.leavingEl,Ke="back"===se.direction,Ye=Je.querySelector(":scope > ion-content"),rt=Je.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),xt=Je.querySelectorAll(":scope > ion-header > ion-toolbar"),on=(0,c.c)(),At=(0,c.c)();if(on.addElement(Je).duration((null!==(ue=se.duration)&&void 0!==ue?ue:0)||540).easing(se.easing||Be).fill("both").beforeRemoveClass("ion-page-invisible"),xe&&null!=S){const Ie=(0,c.c)();Ie.addElement(S),on.addAnimation(Ie)}if(Ye||0!==xt.length||0!==rt.length?(At.addElement(Ye),At.addElement(rt)):At.addElement(Je.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),on.addAnimation(At),Ke?At.beforeClearStyles([me]).fromTo("transform",`translateX(${We})`,`translateX(${Se})`).fromTo(me,.8,1):At.beforeClearStyles([me]).fromTo("transform",`translateX(${it})`,`translateX(${Se})`),Ye){const Ie=P(Ye).querySelector(".transition-effect");if(Ie){const Qe=Ie.querySelector(".transition-cover"),Kt=Ie.querySelector(".transition-shadow"),Ut=(0,c.c)(),kt=(0,c.c)(),_n=(0,c.c)();Ut.addElement(Ie).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),kt.addElement(Qe).beforeClearStyles([me]).fromTo(me,0,.1),_n.addElement(Kt).beforeClearStyles([me]).fromTo(me,.03,.7),Ut.addAnimation([kt,_n]),At.addAnimation([Ut])}}const je=Je.querySelector("ion-header.header-collapse-condense"),{forward:pe,backward:fe}=((S,se,ue,Be,me)=>{const Ne=C(Be,ue),Se=F(me),Re=F(Be),Xe=C(me,ue),it=null!==Ne&&null!==Se&&!ue,We=null!==Re&&null!==Xe&&ue;if(it){const Je=Se.getBoundingClientRect(),xe=Ne.getBoundingClientRect(),Ke=P(Ne).querySelector(".button-text"),Ye=null==Ke?void 0:Ke.getBoundingClientRect(),xt=P(Se).querySelector(".toolbar-title").getBoundingClientRect();j(S,se,ue,Se,Je,xt,xe,Ke,Ye),x(S,se,ue,Ne,xe,Ke,Ye,Se,xt)}else if(We){const Je=Re.getBoundingClientRect(),xe=Xe.getBoundingClientRect(),Ke=P(Xe).querySelector(".button-text"),Ye=null==Ke?void 0:Ke.getBoundingClientRect(),xt=P(Re).querySelector(".toolbar-title").getBoundingClientRect();j(S,se,ue,Re,Je,xt,xe,Ke,Ye),x(S,se,ue,Xe,xe,Ke,Ye,Re,xt)}return{forward:it,backward:We}})(on,Xe,Ke,Je,xe);if(xt.forEach(Ie=>{const Qe=(0,c.c)();Qe.addElement(Ie),on.addAnimation(Qe);const Kt=(0,c.c)();Kt.addElement(Ie.querySelector("ion-title"));const Ut=(0,c.c)(),kt=Array.from(Ie.querySelectorAll("ion-buttons,[menuToggle]")),_n=Ie.closest("ion-header"),vt=null==_n?void 0:_n.classList.contains("header-collapse-condense-inactive");let It;It=kt.filter(Ke?sr=>{const Qn=sr.classList.contains("buttons-collapse");return Qn&&!vt||!Qn}:sr=>!sr.classList.contains("buttons-collapse")),Ut.addElement(It);const sn=(0,c.c)();sn.addElement(Ie.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Mn=(0,c.c)();Mn.addElement(P(Ie).querySelector(".toolbar-background"));const Vn=(0,c.c)(),nr=Ie.querySelector("ion-back-button");if(nr&&Vn.addElement(nr),Qe.addAnimation([Kt,Ut,sn,Mn,Vn]),Ut.fromTo(me,.01,1),sn.fromTo(me,.01,1),Ke)vt||Kt.fromTo("transform",`translateX(${We})`,`translateX(${Se})`).fromTo(me,.01,1),sn.fromTo("transform",`translateX(${We})`,`translateX(${Se})`),Vn.fromTo(me,.01,1);else if(je||Kt.fromTo("transform",`translateX(${it})`,`translateX(${Se})`).fromTo(me,.01,1),sn.fromTo("transform",`translateX(${it})`,`translateX(${Se})`),Mn.beforeClearStyles([me,"transform"]),(null==_n?void 0:_n.translucent)?Mn.fromTo("transform",Xe?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Mn.fromTo(me,.01,"var(--opacity)"),pe||Vn.fromTo(me,.01,1),nr&&!pe){const Qn=(0,c.c)();Qn.addElement(P(nr).querySelector(".button-text")).fromTo("transform",Xe?"translateX(-100px)":"translateX(100px)","translateX(0px)"),Qe.addAnimation(Qn)}}),xe){const Ie=(0,c.c)(),Qe=xe.querySelector(":scope > ion-content"),Kt=xe.querySelectorAll(":scope > ion-header > ion-toolbar"),Ut=xe.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(Qe||0!==Kt.length||0!==Ut.length?(Ie.addElement(Qe),Ie.addElement(Ut)):Ie.addElement(xe.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),on.addAnimation(Ie),Ke){Ie.beforeClearStyles([me]).fromTo("transform",`translateX(${Se})`,Xe?"translateX(-100%)":"translateX(100%)");const kt=(0,d.g)(xe);on.afterAddWrite(()=>{"normal"===on.getDirection()&&kt.style.setProperty("display","none")})}else Ie.fromTo("transform",`translateX(${Se})`,`translateX(${We})`).fromTo(me,1,.8);if(Qe){const kt=P(Qe).querySelector(".transition-effect");if(kt){const _n=kt.querySelector(".transition-cover"),vt=kt.querySelector(".transition-shadow"),It=(0,c.c)(),sn=(0,c.c)(),Mn=(0,c.c)();It.addElement(kt).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),sn.addElement(_n).beforeClearStyles([me]).fromTo(me,.1,0),Mn.addElement(vt).beforeClearStyles([me]).fromTo(me,.7,.03),It.addAnimation([sn,Mn]),Ie.addAnimation([It])}}Kt.forEach(kt=>{const _n=(0,c.c)();_n.addElement(kt);const vt=(0,c.c)();vt.addElement(kt.querySelector("ion-title"));const It=(0,c.c)(),sn=kt.querySelectorAll("ion-buttons,[menuToggle]"),Mn=kt.closest("ion-header"),Vn=null==Mn?void 0:Mn.classList.contains("header-collapse-condense-inactive"),nr=Array.from(sn).filter(K=>{const H=K.classList.contains("buttons-collapse");return H&&!Vn||!H});It.addElement(nr);const sr=(0,c.c)(),Qn=kt.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");Qn.length>0&&sr.addElement(Qn);const bn=(0,c.c)();bn.addElement(P(kt).querySelector(".toolbar-background"));const jn=(0,c.c)(),vn=kt.querySelector("ion-back-button");if(vn&&jn.addElement(vn),_n.addAnimation([vt,It,sr,jn,bn]),on.addAnimation(_n),jn.fromTo(me,.99,0),It.fromTo(me,.99,0),sr.fromTo(me,.99,0),Ke){if(Vn||vt.fromTo("transform",`translateX(${Se})`,Xe?"translateX(-100%)":"translateX(100%)").fromTo(me,.99,0),sr.fromTo("transform",`translateX(${Se})`,Xe?"translateX(-100%)":"translateX(100%)"),bn.beforeClearStyles([me,"transform"]),(null==Mn?void 0:Mn.translucent)?bn.fromTo("transform","translateX(0px)",Xe?"translateX(-100%)":"translateX(100%)"):bn.fromTo(me,"var(--opacity)",0),vn&&!fe){const H=(0,c.c)();H.addElement(P(vn).querySelector(".button-text")).fromTo("transform",`translateX(${Se})`,`translateX(${(Xe?-124:124)+"px"})`),_n.addAnimation(H)}}else Vn||vt.fromTo("transform",`translateX(${Se})`,`translateX(${We})`).fromTo(me,.99,0).afterClearStyles([Ne,me]),sr.fromTo("transform",`translateX(${Se})`,`translateX(${We})`).afterClearStyles([Ne,me]),jn.afterClearStyles([me]),vt.afterClearStyles([me]),It.afterClearStyles([me])})}return on}catch(Be){throw Be}},$=10},3615:(Jn,ft,y)=>{"use strict";y.r(ft),y.d(ft,{mdTransitionAnimation:()=>A});var c=y(9986),d=y(3604);y(8476),y(9483),y(4261);const A=(I,P)=>{var F,C,M;const x="40px",Q="back"===P.direction,S=P.leavingEl,se=(0,d.g)(P.enteringEl),ue=se.querySelector("ion-toolbar"),Be=(0,c.c)();if(Be.addElement(se).fill("both").beforeRemoveClass("ion-page-invisible"),Q?Be.duration((null!==(F=P.duration)&&void 0!==F?F:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):Be.duration((null!==(C=P.duration)&&void 0!==C?C:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform",`translateY(${x})`,"translateY(0px)").fromTo("opacity",.01,1),ue){const me=(0,c.c)();me.addElement(ue),Be.addAnimation(me)}if(S&&Q){Be.duration((null!==(M=P.duration)&&void 0!==M?M:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const me=(0,c.c)();me.addElement((0,d.g)(S)).onFinish(Ne=>{1===Ne&&me.elements.length>0&&me.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)",`translateY(${x})`).fromTo("opacity",1,0),Be.addAnimation(me)}return Be}},9440:(Jn,ft,y)=>{"use strict";y.d(ft,{B:()=>sn,F:()=>jn,G:()=>Mn,O:()=>Vn,a:()=>se,b:()=>ue,c:()=>Se,d:()=>nr,e:()=>sr,f:()=>pe,g:()=>Ie,h:()=>Ut,i:()=>_n,j:()=>Xe,k:()=>it,m:()=>me,n:()=>C,o:()=>At,q:()=>M,s:()=>It});var c=y(467),d=y(8476),v=y(4920),w=y(7192),N=y(9483),A=y(8621),I=y(1970),P=y(4929);const F='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',C=(vn,K)=>{const H=vn.querySelector(F);x(H,null!=K?K:vn)},M=(vn,K)=>{const H=Array.from(vn.querySelectorAll(F));x(H.length>0?H[H.length-1]:null,null!=K?K:vn)},x=(vn,K)=>{let H=vn;const ye=null==vn?void 0:vn.shadowRoot;ye&&(H=ye.querySelector(F)||vn),H?(0,v.f)(H):K.focus()};let j=0,Q=0;const $=new WeakMap,S=vn=>({create:K=>We(vn,K),dismiss:(K,H,ye)=>rt(document,K,H,vn,ye),getTop:()=>(0,c.A)(function*(){return At(document,vn)})()}),se=S("ion-alert"),ue=S("ion-action-sheet"),me=S("ion-modal"),Se=S("ion-popover"),Xe=vn=>{typeof document<"u"&&Ye(document);const K=j++;vn.overlayIndex=K},it=vn=>(vn.hasAttribute("id")||(vn.id="ion-overlay-"+ ++Q),vn.id),We=(vn,K)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(vn).then(()=>{const H=document.createElement(vn);return H.classList.add("overlay-hidden"),Object.assign(H,Object.assign(Object.assign({},K),{hasController:!0})),Qe(document).appendChild(H),new Promise(ye=>(0,v.c)(H,ye))}):Promise.resolve(),xe=(vn,K)=>{let H=vn;const ye=null==vn?void 0:vn.shadowRoot;ye&&(H=ye.querySelector(F)||vn),H?(0,v.f)(H):K.focus()},Ye=vn=>{0===j&&(j=1,vn.addEventListener("focus",K=>{((vn,K)=>{const H=At(K,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover"),ye=vn.target;H&&ye&&!H.classList.contains(jn)&&(H.shadowRoot?(()=>{if(H.contains(ye))H.lastFocus=ye;else if("ION-TOAST"===ye.tagName)xe(H.lastFocus,H);else{const Fe=H.lastFocus;C(H),Fe===K.activeElement&&M(H),H.lastFocus=K.activeElement}})():(()=>{if(H===ye)H.lastFocus=void 0;else if("ION-TOAST"===ye.tagName)xe(H.lastFocus,H);else{const Fe=(0,v.g)(H);if(!Fe.contains(ye))return;const $e=Fe.querySelector(".ion-overlay-wrapper");if(!$e)return;if($e.contains(ye)||ye===Fe.querySelector("ion-backdrop"))H.lastFocus=ye;else{const pt=H.lastFocus;C($e,H),pt===K.activeElement&&M($e,H),H.lastFocus=K.activeElement}}})())})(K,vn)},!0),vn.addEventListener("ionBackButton",K=>{const H=At(vn);null!=H&&H.backdropDismiss&&K.detail.register(w.OVERLAY_BACK_BUTTON_PRIORITY,()=>{H.dismiss(void 0,sn)})}),(0,w.shouldUseCloseWatcher)()||vn.addEventListener("keydown",K=>{if("Escape"===K.key){const H=At(vn);null!=H&&H.backdropDismiss&&H.dismiss(void 0,sn)}}))},rt=(vn,K,H,ye,_e)=>{const Me=At(vn,ye,_e);return Me?Me.dismiss(K,H):Promise.reject("overlay does not exist")},on=(vn,K)=>((vn,K)=>(void 0===K&&(K="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover,ion-toast"),Array.from(vn.querySelectorAll(K)).filter(H=>H.overlayIndex>0)))(vn,K).filter(H=>!(vn=>vn.classList.contains("overlay-hidden"))(H)),At=(vn,K,H)=>{const ye=on(vn,K);return void 0===H?ye[ye.length-1]:ye.find(_e=>_e.id===H)},je=(vn=!1)=>{const H=Qe(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");H&&(vn?H.setAttribute("aria-hidden","true"):H.removeAttribute("aria-hidden"))},pe=function(){var vn=(0,c.A)(function*(K,H,ye,_e,Me){var Fe,$e;if(K.presented)return;je(!0),document.body.classList.add(I.B),Qn(K.el),K.presented=!0,K.willPresent.emit(),null===(Fe=K.willPresentShorthand)||void 0===Fe||Fe.emit();const pt=(0,N.b)(K),zt=K.enterAnimation?K.enterAnimation:N.c.get(H,"ios"===pt?ye:_e);(yield Kt(K,zt,K.el,Me))&&(K.didPresent.emit(),null===($e=K.didPresentShorthand)||void 0===$e||$e.emit()),"ION-TOAST"!==K.el.tagName&&fe(K.el),K.keyboardClose&&(null===document.activeElement||!K.el.contains(document.activeElement))&&K.el.focus(),K.el.removeAttribute("aria-hidden")});return function(H,ye,_e,Me,Fe){return vn.apply(this,arguments)}}(),fe=function(){var vn=(0,c.A)(function*(K){let H=document.activeElement;if(!H)return;const ye=null==H?void 0:H.shadowRoot;ye&&(H=ye.querySelector(F)||H),yield K.onDidDismiss(),(null===document.activeElement||document.activeElement===document.body)&&H.focus()});return function(H){return vn.apply(this,arguments)}}(),Ie=function(){var vn=(0,c.A)(function*(K,H,ye,_e,Me,Fe,$e){var pt,zt;if(!K.presented)return!1;void 0!==d.d&&1===on(d.d).length&&(je(!1),document.body.classList.remove(I.B)),K.presented=!1;try{K.el.style.setProperty("pointer-events","none"),K.willDismiss.emit({data:H,role:ye}),null===(pt=K.willDismissShorthand)||void 0===pt||pt.emit({data:H,role:ye});const Te=(0,N.b)(K),Pe=K.leaveAnimation?K.leaveAnimation:N.c.get(_e,"ios"===Te?Me:Fe);ye!==Mn&&(yield Kt(K,Pe,K.el,$e)),K.didDismiss.emit({data:H,role:ye}),null===(zt=K.didDismissShorthand)||void 0===zt||zt.emit({data:H,role:ye}),($.get(K)||[]).forEach(mt=>mt.destroy()),$.delete(K),K.el.classList.add("overlay-hidden"),K.el.style.removeProperty("pointer-events"),void 0!==K.el.lastFocus&&(K.el.lastFocus=void 0)}catch(Te){console.error(Te)}return K.el.remove(),bn(),!0});return function(H,ye,_e,Me,Fe,$e,pt){return vn.apply(this,arguments)}}(),Qe=vn=>vn.querySelector("ion-app")||vn.body,Kt=function(){var vn=(0,c.A)(function*(K,H,ye,_e){ye.classList.remove("overlay-hidden");const Fe=H(K.el,_e);(!K.animated||!N.c.getBoolean("animated",!0))&&Fe.duration(0),K.keyboardClose&&Fe.beforeAddWrite(()=>{const pt=ye.ownerDocument.activeElement;null!=pt&&pt.matches("input,ion-input, ion-textarea")&&pt.blur()});const $e=$.get(K)||[];return $.set(K,[...$e,Fe]),yield Fe.play(),!0});return function(H,ye,_e,Me){return vn.apply(this,arguments)}}(),Ut=(vn,K)=>{let H;const ye=new Promise(_e=>H=_e);return kt(vn,K,_e=>{H(_e.detail)}),ye},kt=(vn,K,H)=>{const ye=_e=>{(0,v.b)(vn,K,ye),H(_e)};(0,v.a)(vn,K,ye)},_n=vn=>"cancel"===vn||vn===sn,vt=vn=>vn(),It=(vn,K)=>{if("function"==typeof vn)return N.c.get("_zoneGate",vt)(()=>{try{return vn(K)}catch(ye){throw ye}})},sn="backdrop",Mn="gesture",Vn=39,nr=vn=>{let H,K=!1;const ye=(0,A.C)(),_e=($e=!1)=>{if(H&&!$e)return{delegate:H,inline:K};const{el:pt,hasController:zt,delegate:ge}=vn;return K=null!==pt.parentNode&&!zt,H=K?ge||ye:ge,{inline:K,delegate:H}};return{attachViewToDom:function(){var $e=(0,c.A)(function*(pt){const{delegate:zt}=_e(!0);if(zt)return yield zt.attachViewToDom(vn.el,pt);const{hasController:ge}=vn;if(ge&&void 0!==pt)throw new Error("framework delegate is missing");return null});return function(zt){return $e.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:$e}=_e();$e&&void 0!==vn.el&&$e.removeViewFromDom(vn.el.parentElement,vn.el)}}},sr=()=>{let vn;const K=()=>{vn&&(vn(),vn=void 0)};return{addClickListener:(ye,_e)=>{K();const Me=void 0!==_e?document.getElementById(_e):null;Me?vn=(($e,pt)=>{const zt=()=>{pt.present()};return $e.addEventListener("click",zt),()=>{$e.removeEventListener("click",zt)}})(Me,ye):(0,P.p)(`A trigger element with the ID "${_e}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,ye)},removeClickListener:K}},Qn=vn=>{var K;if(void 0===d.d)return;const H=on(d.d);for(let ye=H.length-1;ye>=0;ye--){const _e=H[ye],Me=null!==(K=H[ye+1])&&void 0!==K?K:vn;(Me.hasAttribute("aria-hidden")||"ION-TOAST"!==Me.tagName)&&_e.setAttribute("aria-hidden","true")}},bn=()=>{if(void 0===d.d)return;const vn=on(d.d);for(let K=vn.length-1;K>=0;K--){const H=vn[K];if(H.removeAttribute("aria-hidden"),"ION-TOAST"!==H.tagName)break}},jn="ion-disable-focus-trap"},4543:(Jn,ft,y)=>{"use strict";var c=y(345),d=y(6432),v=y(2872),w=y(4742),N=y(3881);const A_firebaseConfig={apiKey:"AIzaSyCnbJrq71-bI5DqAVAsVhrsA4OvpHG1yaA",authDomain:"unilab-69dc7.firebaseapp.com",projectId:"unilab-69dc7",storageBucket:"unilab-69dc7.firebasestorage.app",messagingSenderId:"109511439884",appId:"1:109511439884:web:5506f6120abe3218002029",measurementId:"G-R0E108GNWP"},A_cometChatConfig_appID="267118168947cc21",A_cometChatConfig_region="us";var I=y(4438);let P=(()=>{var a;class e{constructor(){this.initializeCometChat()}initializeCometChat(){const o=A_cometChatConfig_appID,u=A_cometChatConfig_region,_=(new N.CometChat.AppSettingsBuilder).setRegion(u).build();N.CometChat.init(o,_).then(()=>{console.log("CometChat foi inicializado com sucesso")},D=>{console.log("Erro ao inicializar o CometChat:",D)})}}return(a=e).\u0275fac=function(o){return new(o||a)},a.\u0275cmp=I.VBU({type:a,selectors:[["app-root"]],decls:2,vars:0,template:function(o,u){1&o&&(I.j41(0,"ion-app"),I.nrm(1,"ion-router-outlet"),I.k0s())},dependencies:[w.U1,w.Rg]}),e})();const F=[{path:"login",loadChildren:()=>y.e(3485).then(y.bind(y,3485)).then(a=>a.LoginPageModule)},{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",loadChildren:()=>y.e(5075).then(y.bind(y,5075)).then(a=>a.HomePageModule)},{path:"fotos",loadChildren:()=>y.e(3595).then(y.bind(y,3595)).then(a=>a.FotosPageModule)},{path:"cadastro",loadChildren:()=>y.e(7740).then(y.bind(y,7740)).then(a=>a.CadastroPageModule)}];let C=(()=>{var a;class e{}return(a=e).\u0275fac=function(o){return new(o||a)},a.\u0275mod=I.$C({type:a}),a.\u0275inj=I.G2t({imports:[d.iI.forRoot(F,{preloadingStrategy:d.Kp}),d.iI]}),e})();var M=y(4341),x=y(9842),j=y(8742);(0,j.registerVersion)("firebase","10.14.1","app");var S=y(8359);class se extends S.yU{constructor(e,r){super()}schedule(e,r=0){return this}}const ue={setInterval(a,e,...r){const{delegate:o}=ue;return null!=o&&o.setInterval?o.setInterval(a,e,...r):setInterval(a,e,...r)},clearInterval(a){const{delegate:e}=ue;return((null==e?void 0:e.clearInterval)||clearInterval)(a)},delegate:void 0};var Be=y(7908);class me extends se{constructor(e,r){super(e,r),this.scheduler=e,this.work=r,this.pending=!1}schedule(e,r=0){var o;if(this.closed)return this;this.state=e;const u=this.id,f=this.scheduler;return null!=u&&(this.id=this.recycleAsyncId(f,u,r)),this.pending=!0,this.delay=r,this.id=null!==(o=this.id)&&void 0!==o?o:this.requestAsyncId(f,this.id,r),this}requestAsyncId(e,r,o=0){return ue.setInterval(e.flush.bind(e,this),o)}recycleAsyncId(e,r,o=0){if(null!=o&&this.delay===o&&!1===this.pending)return r;null!=r&&ue.clearInterval(r)}execute(e,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const o=this._execute(e,r);if(o)return o;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,r){let u,o=!1;try{this.work(e)}catch(f){o=!0,u=f||new Error("Scheduled action threw falsy error")}if(o)return this.unsubscribe(),u}unsubscribe(){if(!this.closed){const{id:e,scheduler:r}=this,{actions:o}=r;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Be.o)(o,this),null!=e&&(this.id=this.recycleAsyncId(r,e,null)),this.delay=null,super.unsubscribe()}}}const Se={now:()=>(Se.delegate||Date).now(),delegate:void 0};class Re{constructor(e,r=Re.now){this.schedulerActionCtor=e,this.now=r}schedule(e,r=0,o){return new this.schedulerActionCtor(this,e).schedule(o,r)}}Re.now=Se.now;class Xe extends Re{constructor(e,r=Re.now){super(e,r),this.actions=[],this._active=!1}flush(e){const{actions:r}=this;if(this._active)return void r.push(e);let o;this._active=!0;do{if(o=e.execute(e.state,e.delay))break}while(e=r.shift());if(this._active=!1,o){for(;e=r.shift();)e.unsubscribe();throw o}}}const We=new class it extends Xe{}(class Ne extends me{constructor(e,r){super(e,r),this.scheduler=e,this.work=r}schedule(e,r=0){return r>0?super.schedule(e,r):(this.delay=r,this.state=e,this.scheduler.flush(this),this)}execute(e,r){return r>0||this.closed?super.execute(e,r):this._execute(e,r)}requestAsyncId(e,r,o=0){return null!=o&&o>0||null==o&&this.delay>0?super.requestAsyncId(e,r,o):(e.flush(this),0)}}),xe=new Xe(me);var Ye=y(8141),rt=y(941),xt=y(6745);const on=new I.RxE("ANGULARFIRE2_VERSION");class fe{constructor(){return((a,e)=>{const r=e?[e]:(0,j.getApps)(),o=[];return r.forEach(u=>{u.container.getProvider(a).instances.forEach(_=>{o.includes(_)||o.push(_)})}),o})(Ie)}}const Ie="app-check";function Qe(){}class Kt{constructor(e,r=We){(0,x.A)(this,"zone",void 0),(0,x.A)(this,"delegate",void 0),this.zone=e,this.delegate=r}now(){return this.delegate.now()}schedule(e,r,o){const u=this.zone;return this.delegate.schedule(function(_){u.runGuarded(()=>{e.apply(this,[_])})},r,o)}}class Ut{constructor(e){(0,x.A)(this,"zone",void 0),(0,x.A)(this,"task",null),this.zone=e}call(e,r){const o=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Qe,{},Qe,Qe)),r.pipe((0,Ye.M)({next:o,complete:o,error:o})).subscribe(e).add(o)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let kt=(()=>{var a;class e{constructor(o){(0,x.A)(this,"ngZone",void 0),(0,x.A)(this,"outsideAngular",void 0),(0,x.A)(this,"insideAngular",void 0),this.ngZone=o,this.outsideAngular=o.runOutsideAngular(()=>new Kt(Zone.current)),this.insideAngular=o.run(()=>new Kt(Zone.current,xe)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return a=e,(0,x.A)(e,"\u0275fac",function(o){return new(o||a)(I.KVO(I.SKi))}),(0,x.A)(e,"\u0275prov",I.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})),e})();function _n(){const a=globalThis.\u0275AngularFireScheduler;if(!a)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return a}function sn(a){return a.pipe((0,rt.Q)(_n().outsideAngular))}function Vn(a){return function nr(a){return function(r){return(r=r.lift(new Ut(a.ngZone))).pipe((0,xt._)(a.outsideAngular),(0,rt.Q)(a.insideAngular))}}(_n())(a)}var bn=y(3345);bn.A.registerVersion("firebase","10.14.1","app-compat");const K=["ngOnDestroy"],H=(a,e,r,o={})=>new Proxy(a,{get:(u,f)=>r.runOutsideAngular(()=>{var _;if(a[f])return null!=o&&null!==(_=o.spy)&&void 0!==_&&_.get&&o.spy.get(f,a[f]),a[f];if(K.indexOf(f)>-1)return()=>{};const D=e.toPromise().then(G=>{const ne=null==G?void 0:G[f];return"function"==typeof ne?ne.bind(G):null!=ne&&ne.then?ne.then(ve=>r.run(()=>ve)):r.run(()=>ne)});return new Proxy(()=>{},{get:(G,ne)=>D[ne],apply:(G,ne,ve)=>D.then(Ve=>{var at;const Lt=null==Ve?void 0:Ve(...ve);return null!=o&&null!==(at=o.spy)&&void 0!==at&&at.apply&&o.spy.apply(f,ve,Lt),Lt})})})});class _e{constructor(e){return e}}const Me=new I.nKC("angularfire2.app.options"),Fe=new I.nKC("angularfire2.app.name");function $e(a,e,r){const u="object"==typeof r&&r||{};u.name=u.name||"string"==typeof r&&r||"[DEFAULT]";const _=bn.A.apps.filter(D=>D&&D.name===u.name)[0]||e.runOutsideAngular(()=>bn.A.initializeApp(a,u));try{if(JSON.stringify(a)!==JSON.stringify(_.options)){const D=!!module.hot;pt("error",`${_.name} Firebase App already initialized with different options${D?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new _e(_)}const pt=(a,...e)=>{(0,I.naY)()&&typeof console<"u"&&console[a](...e)},zt={provide:_e,useFactory:$e,deps:[Me,I.SKi,[new I.Xx1,Fe]]};let ge=(()=>{var a;class e{static initializeApp(o,u){return{ngModule:e,providers:[{provide:Me,useValue:o},{provide:Fe,useValue:u}]}}constructor(o){bn.A.registerVersion("angularfire",on.full,"core"),bn.A.registerVersion("angularfire",on.full,"app-compat"),bn.A.registerVersion("angular",I.xvI.full,o.toString())}}return a=e,(0,x.A)(e,"\u0275fac",function(o){return new(o||a)(I.KVO(I.Agw))}),(0,x.A)(e,"\u0275mod",I.$C({type:a})),(0,x.A)(e,"\u0275inj",I.G2t({providers:[zt]})),e})();function Te(a,e,r,o,u){const[,f,_]=globalThis.\u0275AngularfireInstanceCache.find(D=>D[0]===a)||[];if(f)return function Pe(a,e){try{return a.toString()===e.toString()}catch{return a===e}}(u,_)||(mt("error",`${e} was already initialized on the ${r} Firebase App with different settings.${Rt?" You may need to reload as Firebase is not HMR aware.":""}`),mt("warn",{is:u,was:_})),f;{const D=o();return globalThis.\u0275AngularfireInstanceCache.push([a,D,u]),D}}const Rt=typeof module<"u"&&!!module.hot,mt=(a,...e)=>{(0,I.naY)()&&typeof console<"u"&&console[a](...e)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[]),y(7955);var Ot=y(177),wt=y(1413),an=y(7673),Xt=y(1985),hn=y(8455),$n=y(6365),Nn=y(8750),ar=y(983),rr=y(3794),Et=y(5558),Yt=y(6354);class Mt extends wt.B{constructor(e=1/0,r=1/0,o=Se){super(),this._bufferSize=e,this._windowTime=r,this._timestampProvider=o,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=r===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,r)}next(e){const{isStopped:r,_buffer:o,_infiniteTimeWindow:u,_timestampProvider:f,_windowTime:_}=this;r||(o.push(e),!u&&o.push(f.now()+_)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const r=this._innerSubscribe(e),{_infiniteTimeWindow:o,_buffer:u}=this,f=u.slice();for(let _=0;_<f.length&&!e.closed;_+=o?1:2)e.next(f[_]);return this._checkFinalizedStatuses(e),r}_trimBuffer(){const{_bufferSize:e,_timestampProvider:r,_buffer:o,_infiniteTimeWindow:u}=this,f=(u?1:2)*e;if(e<1/0&&f<o.length&&o.splice(0,o.length-f),!u){const _=r.now();let D=0;for(let G=1;G<o.length&&o[G]<=_;G+=2)D=G;D&&o.splice(0,D+1)}}}var ot=y(7707),_t=y(9974);function ke(a,e,...r){if(!0===e)return void a();if(!1===e)return;const o=new ot.Ms({next:()=>{o.unsubscribe(),a()}});return(0,Nn.Tg)(e(...r)).subscribe(o)}function st(a,e,r){let o,u=!1;return a&&"object"==typeof a?({bufferSize:o=1/0,windowTime:e=1/0,refCount:u=!1,scheduler:r}=a):o=null!=a?a:1/0,function we(a={}){const{connector:e=()=>new wt.B,resetOnError:r=!0,resetOnComplete:o=!0,resetOnRefCountZero:u=!0}=a;return f=>{let _,D,G,ne=0,ve=!1,Ve=!1;const at=()=>{null==D||D.unsubscribe(),D=void 0},Lt=()=>{at(),_=G=void 0,ve=Ve=!1},qt=()=>{const yn=_;Lt(),null==yn||yn.unsubscribe()};return(0,_t.N)((yn,fn)=>{ne++,!Ve&&!ve&&at();const zn=G=null!=G?G:e();fn.add(()=>{ne--,0===ne&&!Ve&&!ve&&(D=ke(qt,u))}),zn.subscribe(fn),!_&&ne>0&&(_=new ot.Ms({next:dr=>zn.next(dr),error:dr=>{Ve=!0,at(),D=ke(Lt,r,dr),zn.error(dr)},complete:()=>{ve=!0,at(),D=ke(Lt,o),zn.complete()}}),(0,Nn.Tg)(yn).subscribe(_))})(f)}}({connector:()=>new Mt(o,e,r),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:u})}var jt=y(1594),Pt=y(8071);function ht(a,e){return(0,Pt.T)(e)?(0,Et.n)(()=>a,e):(0,Et.n)(()=>a)}var Bt=y(5964);const Kn=new I.nKC("angularfire2.auth.use-emulator"),xn=new I.nKC("angularfire2.auth.settings"),Zn=new I.nKC("angularfire2.auth.tenant-id"),Hn=new I.nKC("angularfire2.auth.langugage-code"),vr=new I.nKC("angularfire2.auth.use-device-language"),ct=new I.nKC("angularfire.auth.persistence"),bt=(a,e,r,o,u,f,_,D)=>Te(`${a.name}.auth`,"AngularFireAuth",a.name,()=>{const G=e.runOutsideAngular(()=>a.auth());if(r&&G.useEmulator(...r),o&&(G.tenantId=o),G.languageCode=u,f&&G.useDeviceLanguage(),_)for(const[ne,ve]of Object.entries(_))G.settings[ne]=ve;return D&&G.setPersistence(D),G},[r,o,u,f,_,D]);let Gn=(()=>{var a;class e{constructor(o,u,f,_,D,G,ne,ve,Ve,at,Lt,qt){(0,x.A)(this,"authState",void 0),(0,x.A)(this,"idToken",void 0),(0,x.A)(this,"user",void 0),(0,x.A)(this,"idTokenResult",void 0),(0,x.A)(this,"credential",void 0);const yn=new wt.B,fn=(0,an.of)(void 0).pipe((0,rt.Q)(D.outsideAngular),(0,Et.n)(()=>_.runOutsideAngular(()=>Promise.resolve().then(y.bind(y,7955)))),(0,Yt.T)(()=>$e(o,_,u)),(0,Yt.T)(zn=>bt(zn,_,G,ve,Ve,at,ne,Lt)),st({bufferSize:1,refCount:!1}));if((0,Ot.Vy)(f))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,an.of)(null);else{fn.pipe((0,jt.$)()).subscribe();const zn=fn.pipe((0,Et.n)(ur=>ur.getRedirectResult().then(xr=>xr,()=>null)),Vn,st({bufferSize:1,refCount:!1})),dr=fn.pipe((0,Et.n)(ur=>new Xt.c(xr=>({unsubscribe:_.runOutsideAngular(()=>ur.onAuthStateChanged(wr=>xr.next(wr),wr=>xr.error(wr),()=>xr.complete()))})))),hr=fn.pipe((0,Et.n)(ur=>new Xt.c(xr=>({unsubscribe:_.runOutsideAngular(()=>ur.onIdTokenChanged(wr=>xr.next(wr),wr=>xr.error(wr),()=>xr.complete()))}))));this.authState=zn.pipe(ht(dr),(0,xt._)(D.outsideAngular),(0,rt.Q)(D.insideAngular)),this.user=zn.pipe(ht(hr),(0,xt._)(D.outsideAngular),(0,rt.Q)(D.insideAngular)),this.idToken=this.user.pipe((0,Et.n)(ur=>ur?(0,hn.H)(ur.getIdToken()):(0,an.of)(null))),this.idTokenResult=this.user.pipe((0,Et.n)(ur=>ur?(0,hn.H)(ur.getIdTokenResult()):(0,an.of)(null))),this.credential=function Ht(...a){const e=(0,rr.lI)(a),r=(0,rr.R0)(a,1/0),o=a;return o.length?1===o.length?(0,Nn.Tg)(o[0]):(0,$n.U)(r)((0,hn.H)(o,e)):ar.w}(zn,yn,this.authState.pipe((0,Bt.p)(ur=>!ur))).pipe((0,Yt.T)(ur=>null!=ur&&ur.user?ur:null),(0,xt._)(D.outsideAngular),(0,rt.Q)(D.insideAngular))}return H(this,fn,_,{spy:{apply:(zn,dr,hr)=>{(zn.startsWith("signIn")||zn.startsWith("createUser"))&&hr.then(ur=>yn.next(ur))}}})}}return a=e,(0,x.A)(e,"\u0275fac",function(o){return new(o||a)(I.KVO(Me),I.KVO(Fe,8),I.KVO(I.Agw),I.KVO(I.SKi),I.KVO(kt),I.KVO(Kn,8),I.KVO(xn,8),I.KVO(Zn,8),I.KVO(Hn,8),I.KVO(vr,8),I.KVO(ct,8),I.KVO(fe,8))}),(0,x.A)(e,"\u0275prov",I.jDH({token:a,factory:a.\u0275fac,providedIn:"any"})),e})(),er=(()=>{var a;class e{constructor(){bn.A.registerVersion("angularfire",on.full,"auth-compat")}}return a=e,(0,x.A)(e,"\u0275fac",function(o){return new(o||a)}),(0,x.A)(e,"\u0275mod",I.$C({type:a})),(0,x.A)(e,"\u0275inj",I.G2t({providers:[Gn]})),e})();var Er=y(9172),Dt=y(4360);function cn(){return(0,_t.N)((a,e)=>{let r,o=!1;a.subscribe((0,Dt._)(e,u=>{const f=r;r=u,o&&e.next([f,u]),o=!0}))})}var wn,tr,mn=y(2816),ze=y(3294),ce=y(467),yt=y(1362),Ce=y(8041),Ee=y(1076),ut=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},en={};(function(){var a;function o(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function u(Wt,Tt,$t){$t||($t=0);var tn=Array(16);if("string"==typeof Tt)for(var un=0;16>un;++un)tn[un]=Tt.charCodeAt($t++)|Tt.charCodeAt($t++)<<8|Tt.charCodeAt($t++)<<16|Tt.charCodeAt($t++)<<24;else for(un=0;16>un;++un)tn[un]=Tt[$t++]|Tt[$t++]<<8|Tt[$t++]<<16|Tt[$t++]<<24;var gn=Wt.g[3],Gt=(Tt=Wt.g[0])+(gn^($t=Wt.g[1])&((un=Wt.g[2])^gn))+tn[0]+3614090360&4294967295;Gt=($t=(un=(gn=(Tt=($t=(un=(gn=(Tt=($t=(un=(gn=(Tt=($t=(un=(gn=(Tt=($t=(un=(gn=(Tt=($t=(un=(gn=(Tt=($t=(un=(gn=(Tt=($t=(un=(gn=(Tt=($t=(un=(gn=(Tt=($t=(un=(gn=(Tt=($t=(un=(gn=(Tt=($t=(un=(gn=(Tt=($t=(un=(gn=(Tt=($t=(un=(gn=(Tt=($t=(un=(gn=(Tt=$t+(Gt<<7&4294967295|Gt>>>25))+((Gt=gn+(un^Tt&($t^un))+tn[1]+3905402710&4294967295)<<12&4294967295|Gt>>>20))+((Gt=un+($t^gn&(Tt^$t))+tn[2]+606105819&4294967295)<<17&4294967295|Gt>>>15))+((Gt=$t+(Tt^un&(gn^Tt))+tn[3]+3250441966&4294967295)<<22&4294967295|Gt>>>10))+((Gt=Tt+(gn^$t&(un^gn))+tn[4]+4118548399&4294967295)<<7&4294967295|Gt>>>25))+((Gt=gn+(un^Tt&($t^un))+tn[5]+1200080426&4294967295)<<12&4294967295|Gt>>>20))+((Gt=un+($t^gn&(Tt^$t))+tn[6]+2821735955&4294967295)<<17&4294967295|Gt>>>15))+((Gt=$t+(Tt^un&(gn^Tt))+tn[7]+4249261313&4294967295)<<22&4294967295|Gt>>>10))+((Gt=Tt+(gn^$t&(un^gn))+tn[8]+1770035416&4294967295)<<7&4294967295|Gt>>>25))+((Gt=gn+(un^Tt&($t^un))+tn[9]+2336552879&4294967295)<<12&4294967295|Gt>>>20))+((Gt=un+($t^gn&(Tt^$t))+tn[10]+4294925233&4294967295)<<17&4294967295|Gt>>>15))+((Gt=$t+(Tt^un&(gn^Tt))+tn[11]+2304563134&4294967295)<<22&4294967295|Gt>>>10))+((Gt=Tt+(gn^$t&(un^gn))+tn[12]+1804603682&4294967295)<<7&4294967295|Gt>>>25))+((Gt=gn+(un^Tt&($t^un))+tn[13]+4254626195&4294967295)<<12&4294967295|Gt>>>20))+((Gt=un+($t^gn&(Tt^$t))+tn[14]+2792965006&4294967295)<<17&4294967295|Gt>>>15))+((Gt=$t+(Tt^un&(gn^Tt))+tn[15]+1236535329&4294967295)<<22&4294967295|Gt>>>10))+((Gt=Tt+(un^gn&($t^un))+tn[1]+4129170786&4294967295)<<5&4294967295|Gt>>>27))+((Gt=gn+($t^un&(Tt^$t))+tn[6]+3225465664&4294967295)<<9&4294967295|Gt>>>23))+((Gt=un+(Tt^$t&(gn^Tt))+tn[11]+643717713&4294967295)<<14&4294967295|Gt>>>18))+((Gt=$t+(gn^Tt&(un^gn))+tn[0]+3921069994&4294967295)<<20&4294967295|Gt>>>12))+((Gt=Tt+(un^gn&($t^un))+tn[5]+3593408605&4294967295)<<5&4294967295|Gt>>>27))+((Gt=gn+($t^un&(Tt^$t))+tn[10]+38016083&4294967295)<<9&4294967295|Gt>>>23))+((Gt=un+(Tt^$t&(gn^Tt))+tn[15]+3634488961&4294967295)<<14&4294967295|Gt>>>18))+((Gt=$t+(gn^Tt&(un^gn))+tn[4]+3889429448&4294967295)<<20&4294967295|Gt>>>12))+((Gt=Tt+(un^gn&($t^un))+tn[9]+568446438&4294967295)<<5&4294967295|Gt>>>27))+((Gt=gn+($t^un&(Tt^$t))+tn[14]+3275163606&4294967295)<<9&4294967295|Gt>>>23))+((Gt=un+(Tt^$t&(gn^Tt))+tn[3]+4107603335&4294967295)<<14&4294967295|Gt>>>18))+((Gt=$t+(gn^Tt&(un^gn))+tn[8]+1163531501&4294967295)<<20&4294967295|Gt>>>12))+((Gt=Tt+(un^gn&($t^un))+tn[13]+2850285829&4294967295)<<5&4294967295|Gt>>>27))+((Gt=gn+($t^un&(Tt^$t))+tn[2]+4243563512&4294967295)<<9&4294967295|Gt>>>23))+((Gt=un+(Tt^$t&(gn^Tt))+tn[7]+1735328473&4294967295)<<14&4294967295|Gt>>>18))+((Gt=$t+(gn^Tt&(un^gn))+tn[12]+2368359562&4294967295)<<20&4294967295|Gt>>>12))+((Gt=Tt+($t^un^gn)+tn[5]+4294588738&4294967295)<<4&4294967295|Gt>>>28))+((Gt=gn+(Tt^$t^un)+tn[8]+2272392833&4294967295)<<11&4294967295|Gt>>>21))+((Gt=un+(gn^Tt^$t)+tn[11]+1839030562&4294967295)<<16&4294967295|Gt>>>16))+((Gt=$t+(un^gn^Tt)+tn[14]+4259657740&4294967295)<<23&4294967295|Gt>>>9))+((Gt=Tt+($t^un^gn)+tn[1]+2763975236&4294967295)<<4&4294967295|Gt>>>28))+((Gt=gn+(Tt^$t^un)+tn[4]+1272893353&4294967295)<<11&4294967295|Gt>>>21))+((Gt=un+(gn^Tt^$t)+tn[7]+4139469664&4294967295)<<16&4294967295|Gt>>>16))+((Gt=$t+(un^gn^Tt)+tn[10]+3200236656&4294967295)<<23&4294967295|Gt>>>9))+((Gt=Tt+($t^un^gn)+tn[13]+681279174&4294967295)<<4&4294967295|Gt>>>28))+((Gt=gn+(Tt^$t^un)+tn[0]+3936430074&4294967295)<<11&4294967295|Gt>>>21))+((Gt=un+(gn^Tt^$t)+tn[3]+3572445317&4294967295)<<16&4294967295|Gt>>>16))+((Gt=$t+(un^gn^Tt)+tn[6]+76029189&4294967295)<<23&4294967295|Gt>>>9))+((Gt=Tt+($t^un^gn)+tn[9]+3654602809&4294967295)<<4&4294967295|Gt>>>28))+((Gt=gn+(Tt^$t^un)+tn[12]+3873151461&4294967295)<<11&4294967295|Gt>>>21))+((Gt=un+(gn^Tt^$t)+tn[15]+530742520&4294967295)<<16&4294967295|Gt>>>16))+((Gt=$t+(un^gn^Tt)+tn[2]+3299628645&4294967295)<<23&4294967295|Gt>>>9))+((Gt=Tt+(un^($t|~gn))+tn[0]+4096336452&4294967295)<<6&4294967295|Gt>>>26))+((Gt=gn+($t^(Tt|~un))+tn[7]+1126891415&4294967295)<<10&4294967295|Gt>>>22))+((Gt=un+(Tt^(gn|~$t))+tn[14]+2878612391&4294967295)<<15&4294967295|Gt>>>17))+((Gt=$t+(gn^(un|~Tt))+tn[5]+4237533241&4294967295)<<21&4294967295|Gt>>>11))+((Gt=Tt+(un^($t|~gn))+tn[12]+1700485571&4294967295)<<6&4294967295|Gt>>>26))+((Gt=gn+($t^(Tt|~un))+tn[3]+2399980690&4294967295)<<10&4294967295|Gt>>>22))+((Gt=un+(Tt^(gn|~$t))+tn[10]+4293915773&4294967295)<<15&4294967295|Gt>>>17))+((Gt=$t+(gn^(un|~Tt))+tn[1]+2240044497&4294967295)<<21&4294967295|Gt>>>11))+((Gt=Tt+(un^($t|~gn))+tn[8]+1873313359&4294967295)<<6&4294967295|Gt>>>26))+((Gt=gn+($t^(Tt|~un))+tn[15]+4264355552&4294967295)<<10&4294967295|Gt>>>22))+((Gt=un+(Tt^(gn|~$t))+tn[6]+2734768916&4294967295)<<15&4294967295|Gt>>>17))+((Gt=$t+(gn^(un|~Tt))+tn[13]+1309151649&4294967295)<<21&4294967295|Gt>>>11))+((gn=(Tt=$t+((Gt=Tt+(un^($t|~gn))+tn[4]+4149444226&4294967295)<<6&4294967295|Gt>>>26))+((Gt=gn+($t^(Tt|~un))+tn[11]+3174756917&4294967295)<<10&4294967295|Gt>>>22))^((un=gn+((Gt=un+(Tt^(gn|~$t))+tn[2]+718787259&4294967295)<<15&4294967295|Gt>>>17))|~Tt))+tn[9]+3951481745&4294967295,Wt.g[0]=Wt.g[0]+Tt&4294967295,Wt.g[1]=Wt.g[1]+(un+(Gt<<21&4294967295|Gt>>>11))&4294967295,Wt.g[2]=Wt.g[2]+un&4294967295,Wt.g[3]=Wt.g[3]+gn&4294967295}function _(Wt,Tt){this.h=Tt;for(var $t=[],tn=!0,un=Wt.length-1;0<=un;un--){var gn=0|Wt[un];tn&&gn==Tt||($t[un]=gn,tn=!1)}this.g=$t}(function e(Wt,Tt){function $t(){}$t.prototype=Tt.prototype,Wt.D=Tt.prototype,Wt.prototype=new $t,Wt.prototype.constructor=Wt,Wt.C=function(tn,un,gn){for(var Gt=Array(arguments.length-2),Bs=2;Bs<arguments.length;Bs++)Gt[Bs-2]=arguments[Bs];return Tt.prototype[un].apply(tn,Gt)}})(o,function r(){this.blockSize=-1}),o.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},o.prototype.u=function(Wt,Tt){void 0===Tt&&(Tt=Wt.length);for(var $t=Tt-this.blockSize,tn=this.B,un=this.h,gn=0;gn<Tt;){if(0==un)for(;gn<=$t;)u(this,Wt,gn),gn+=this.blockSize;if("string"==typeof Wt){for(;gn<Tt;)if(tn[un++]=Wt.charCodeAt(gn++),un==this.blockSize){u(this,tn),un=0;break}}else for(;gn<Tt;)if(tn[un++]=Wt[gn++],un==this.blockSize){u(this,tn),un=0;break}}this.h=un,this.o+=Tt},o.prototype.v=function(){var Wt=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);Wt[0]=128;for(var Tt=1;Tt<Wt.length-8;++Tt)Wt[Tt]=0;var $t=8*this.o;for(Tt=Wt.length-8;Tt<Wt.length;++Tt)Wt[Tt]=255&$t,$t/=256;for(this.u(Wt),Wt=Array(16),Tt=$t=0;4>Tt;++Tt)for(var tn=0;32>tn;tn+=8)Wt[$t++]=this.g[Tt]>>>tn&255;return Wt};var D={};function G(Wt){return-128<=Wt&&128>Wt?function f(Wt,Tt){var $t=D;return Object.prototype.hasOwnProperty.call($t,Wt)?$t[Wt]:$t[Wt]=Tt(Wt)}(Wt,function(Tt){return new _([0|Tt],0>Tt?-1:0)}):new _([0|Wt],0>Wt?-1:0)}function ne(Wt){if(isNaN(Wt)||!isFinite(Wt))return Ve;if(0>Wt)return fn(ne(-Wt));for(var Tt=[],$t=1,tn=0;Wt>=$t;tn++)Tt[tn]=Wt/$t|0,$t*=4294967296;return new _(Tt,0)}var Ve=G(0),at=G(1),Lt=G(16777216);function qt(Wt){if(0!=Wt.h)return!1;for(var Tt=0;Tt<Wt.g.length;Tt++)if(0!=Wt.g[Tt])return!1;return!0}function yn(Wt){return-1==Wt.h}function fn(Wt){for(var Tt=Wt.g.length,$t=[],tn=0;tn<Tt;tn++)$t[tn]=~Wt.g[tn];return new _($t,~Wt.h).add(at)}function zn(Wt,Tt){return Wt.add(fn(Tt))}function dr(Wt,Tt){for(;(65535&Wt[Tt])!=Wt[Tt];)Wt[Tt+1]+=Wt[Tt]>>>16,Wt[Tt]&=65535,Tt++}function hr(Wt,Tt){this.g=Wt,this.h=Tt}function ur(Wt,Tt){if(qt(Tt))throw Error("division by zero");if(qt(Wt))return new hr(Ve,Ve);if(yn(Wt))return Tt=ur(fn(Wt),Tt),new hr(fn(Tt.g),fn(Tt.h));if(yn(Tt))return Tt=ur(Wt,fn(Tt)),new hr(fn(Tt.g),Tt.h);if(30<Wt.g.length){if(yn(Wt)||yn(Tt))throw Error("slowDivide_ only works with positive integers.");for(var $t=at,tn=Tt;0>=tn.l(Wt);)$t=xr($t),tn=xr(tn);var un=wr($t,1),gn=wr(tn,1);for(tn=wr(tn,2),$t=wr($t,2);!qt(tn);){var Gt=gn.add(tn);0>=Gt.l(Wt)&&(un=un.add($t),gn=Gt),tn=wr(tn,1),$t=wr($t,1)}return Tt=zn(Wt,un.j(Tt)),new hr(un,Tt)}for(un=Ve;0<=Wt.l(Tt);){for($t=Math.max(1,Math.floor(Wt.m()/Tt.m())),tn=48>=(tn=Math.ceil(Math.log($t)/Math.LN2))?1:Math.pow(2,tn-48),Gt=(gn=ne($t)).j(Tt);yn(Gt)||0<Gt.l(Wt);)Gt=(gn=ne($t-=tn)).j(Tt);qt(gn)&&(gn=at),un=un.add(gn),Wt=zn(Wt,Gt)}return new hr(un,Wt)}function xr(Wt){for(var Tt=Wt.g.length+1,$t=[],tn=0;tn<Tt;tn++)$t[tn]=Wt.i(tn)<<1|Wt.i(tn-1)>>>31;return new _($t,Wt.h)}function wr(Wt,Tt){var $t=Tt>>5;Tt%=32;for(var tn=Wt.g.length-$t,un=[],gn=0;gn<tn;gn++)un[gn]=0<Tt?Wt.i(gn+$t)>>>Tt|Wt.i(gn+$t+1)<<32-Tt:Wt.i(gn+$t);return new _(un,Wt.h)}(a=_.prototype).m=function(){if(yn(this))return-fn(this).m();for(var Wt=0,Tt=1,$t=0;$t<this.g.length;$t++){var tn=this.i($t);Wt+=(0<=tn?tn:4294967296+tn)*Tt,Tt*=4294967296}return Wt},a.toString=function(Wt){if(2>(Wt=Wt||10)||36<Wt)throw Error("radix out of range: "+Wt);if(qt(this))return"0";if(yn(this))return"-"+fn(this).toString(Wt);for(var Tt=ne(Math.pow(Wt,6)),$t=this,tn="";;){var un=ur($t,Tt).g,gn=((0<($t=zn($t,un.j(Tt))).g.length?$t.g[0]:$t.h)>>>0).toString(Wt);if(qt($t=un))return gn+tn;for(;6>gn.length;)gn="0"+gn;tn=gn+tn}},a.i=function(Wt){return 0>Wt?0:Wt<this.g.length?this.g[Wt]:this.h},a.l=function(Wt){return yn(Wt=zn(this,Wt))?-1:qt(Wt)?0:1},a.abs=function(){return yn(this)?fn(this):this},a.add=function(Wt){for(var Tt=Math.max(this.g.length,Wt.g.length),$t=[],tn=0,un=0;un<=Tt;un++){var gn=tn+(65535&this.i(un))+(65535&Wt.i(un)),Gt=(gn>>>16)+(this.i(un)>>>16)+(Wt.i(un)>>>16);tn=Gt>>>16,$t[un]=(Gt&=65535)<<16|(gn&=65535)}return new _($t,-2147483648&$t[$t.length-1]?-1:0)},a.j=function(Wt){if(qt(this)||qt(Wt))return Ve;if(yn(this))return yn(Wt)?fn(this).j(fn(Wt)):fn(fn(this).j(Wt));if(yn(Wt))return fn(this.j(fn(Wt)));if(0>this.l(Lt)&&0>Wt.l(Lt))return ne(this.m()*Wt.m());for(var Tt=this.g.length+Wt.g.length,$t=[],tn=0;tn<2*Tt;tn++)$t[tn]=0;for(tn=0;tn<this.g.length;tn++)for(var un=0;un<Wt.g.length;un++){var gn=this.i(tn)>>>16,Gt=65535&this.i(tn),Bs=Wt.i(un)>>>16,Yd=65535&Wt.i(un);$t[2*tn+2*un]+=Gt*Yd,dr($t,2*tn+2*un),$t[2*tn+2*un+1]+=gn*Yd,dr($t,2*tn+2*un+1),$t[2*tn+2*un+1]+=Gt*Bs,dr($t,2*tn+2*un+1),$t[2*tn+2*un+2]+=gn*Bs,dr($t,2*tn+2*un+2)}for(tn=0;tn<Tt;tn++)$t[tn]=$t[2*tn+1]<<16|$t[2*tn];for(tn=Tt;tn<2*Tt;tn++)$t[tn]=0;return new _($t,0)},a.A=function(Wt){return ur(this,Wt).h},a.and=function(Wt){for(var Tt=Math.max(this.g.length,Wt.g.length),$t=[],tn=0;tn<Tt;tn++)$t[tn]=this.i(tn)&Wt.i(tn);return new _($t,this.h&Wt.h)},a.or=function(Wt){for(var Tt=Math.max(this.g.length,Wt.g.length),$t=[],tn=0;tn<Tt;tn++)$t[tn]=this.i(tn)|Wt.i(tn);return new _($t,this.h|Wt.h)},a.xor=function(Wt){for(var Tt=Math.max(this.g.length,Wt.g.length),$t=[],tn=0;tn<Tt;tn++)$t[tn]=this.i(tn)^Wt.i(tn);return new _($t,this.h^Wt.h)},o.prototype.digest=o.prototype.v,o.prototype.reset=o.prototype.s,o.prototype.update=o.prototype.u,tr=en.Md5=o,_.prototype.add=_.prototype.add,_.prototype.multiply=_.prototype.j,_.prototype.modulo=_.prototype.A,_.prototype.compare=_.prototype.l,_.prototype.toNumber=_.prototype.m,_.prototype.toString=_.prototype.toString,_.prototype.getBits=_.prototype.i,_.fromNumber=ne,_.fromString=function ve(Wt,Tt){if(0==Wt.length)throw Error("number format error: empty string");if(2>(Tt=Tt||10)||36<Tt)throw Error("radix out of range: "+Tt);if("-"==Wt.charAt(0))return fn(ve(Wt.substring(1),Tt));if(0<=Wt.indexOf("-"))throw Error('number format error: interior "-" character');for(var $t=ne(Math.pow(Tt,8)),tn=Ve,un=0;un<Wt.length;un+=8){var gn=Math.min(8,Wt.length-un),Gt=parseInt(Wt.substring(un,un+gn),Tt);8>gn?(gn=ne(Math.pow(Tt,gn)),tn=tn.j(gn).add(ne(Gt))):tn=(tn=tn.j($t)).add(ne(Gt))}return tn},wn=en.Integer=_}).apply(typeof ut<"u"?ut:typeof self<"u"?self:typeof window<"u"?window:{});var yr,Ar,si,yi,zi,ai,Eo,Ui,Dr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},fr={};(function(){var a,e="function"==typeof Object.defineProperties?Object.defineProperty:function(E,Z,he){return E==Array.prototype||E==Object.prototype||(E[Z]=he.value),E},o=function r(E){E=["object"==typeof globalThis&&globalThis,E,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Dr&&Dr];for(var Z=0;Z<E.length;++Z){var he=E[Z];if(he&&he.Math==Math)return he}throw Error("Cannot find global object")}(this);!function u(E,Z){if(Z)e:{var he=o;E=E.split(".");for(var qe=0;qe<E.length-1;qe++){var dn=E[qe];if(!(dn in he))break e;he=he[dn]}(Z=Z(qe=he[E=E[E.length-1]]))!=qe&&null!=Z&&e(he,E,{configurable:!0,writable:!0,value:Z})}}("Array.prototype.values",function(E){return E||function(){return function f(E,Z){E instanceof String&&(E+="");var he=0,qe=!1,dn={next:function(){if(!qe&&he<E.length){var Sn=he++;return{value:Z(Sn,E[Sn]),done:!1}}return qe=!0,{done:!0,value:void 0}}};return dn[Symbol.iterator]=function(){return dn},dn}(this,function(Z,he){return he})}});var _=_||{},D=this||self;function G(E){var Z=typeof E;return"array"==(Z="object"!=Z?Z:E?Array.isArray(E)?"array":Z:"null")||"object"==Z&&"number"==typeof E.length}function ne(E){var Z=typeof E;return"object"==Z&&null!=E||"function"==Z}function ve(E,Z,he){return E.call.apply(E.bind,arguments)}function Ve(E,Z,he){if(!E)throw Error();if(2<arguments.length){var qe=Array.prototype.slice.call(arguments,2);return function(){var dn=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(dn,qe),E.apply(Z,dn)}}return function(){return E.apply(Z,arguments)}}function at(E,Z,he){return(at=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ve:Ve).apply(null,arguments)}function Lt(E,Z){var he=Array.prototype.slice.call(arguments,1);return function(){var qe=he.slice();return qe.push.apply(qe,arguments),E.apply(this,qe)}}function qt(E,Z){function he(){}he.prototype=Z.prototype,E.aa=Z.prototype,E.prototype=new he,E.prototype.constructor=E,E.Qb=function(qe,dn,Sn){for(var pr=Array(arguments.length-2),Qi=2;Qi<arguments.length;Qi++)pr[Qi-2]=arguments[Qi];return Z.prototype[dn].apply(qe,pr)}}function yn(E){const Z=E.length;if(0<Z){const he=Array(Z);for(let qe=0;qe<Z;qe++)he[qe]=E[qe];return he}return[]}function fn(E,Z){for(let he=1;he<arguments.length;he++){const qe=arguments[he];if(G(qe)){const dn=E.length||0,Sn=qe.length||0;E.length=dn+Sn;for(let pr=0;pr<Sn;pr++)E[dn+pr]=qe[pr]}else E.push(qe)}}function dr(E){return/^[\s\xa0]*$/.test(E)}function hr(){var E=D.navigator;return E&&(E=E.userAgent)?E:""}function ur(E){return ur[" "](E),E}ur[" "]=function(){};var xr=!(-1==hr().indexOf("Gecko")||-1!=hr().toLowerCase().indexOf("webkit")&&-1==hr().indexOf("Edge")||-1!=hr().indexOf("Trident")||-1!=hr().indexOf("MSIE")||-1!=hr().indexOf("Edge"));function wr(E,Z,he){for(const qe in E)Z.call(he,E[qe],qe,E)}function Tt(E){const Z={};for(const he in E)Z[he]=E[he];return Z}const $t="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tn(E,Z){let he,qe;for(let dn=1;dn<arguments.length;dn++){for(he in qe=arguments[dn],qe)E[he]=qe[he];for(let Sn=0;Sn<$t.length;Sn++)he=$t[Sn],Object.prototype.hasOwnProperty.call(qe,he)&&(E[he]=qe[he])}}function un(E){var Z=1;E=E.split(":");const he=[];for(;0<Z&&E.length;)he.push(E.shift()),Z--;return E.length&&he.push(E.join(":")),he}function gn(E){D.setTimeout(()=>{throw E},0)}function Gt(){var E=l_;let Z=null;return E.g&&(Z=E.g,E.g=E.g.next,E.g||(E.h=null),Z.next=null),Z}var Yd=new class zn{constructor(Z,he){this.i=Z,this.j=he,this.h=0,this.g=null}get(){let Z;return 0<this.h?(this.h--,Z=this.g,this.g=Z.next,Z.next=null):Z=this.i(),Z}}(()=>new f0,E=>E.reset());class f0{constructor(){this.next=this.g=this.h=null}set(Z,he){this.h=Z,this.g=he,this.next=null}reset(){this.next=this.g=this.h=null}}let Of,fg=!1,l_=new class Bs{constructor(){this.h=this.g=null}add(Z,he){const qe=Yd.get();qe.set(Z,he),this.h?this.h.next=qe:this.g=qe,this.h=qe}},Fv=()=>{const E=D.Promise.resolve(void 0);Of=()=>{E.then(pg)}};var pg=()=>{for(var E;E=Gt();){try{E.h.call(E.g)}catch(he){gn(he)}var Z=Yd;Z.j(E),100>Z.h&&(Z.h++,E.next=Z.g,Z.g=E)}fg=!1};function lu(){this.s=this.s,this.C=this.C}function Do(E,Z){this.type=E,this.g=this.target=Z,this.defaultPrevented=!1}lu.prototype.s=!1,lu.prototype.ma=function(){this.s||(this.s=!0,this.N())},lu.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},Do.prototype.h=function(){this.defaultPrevented=!0};var QC=function(){if(!D.addEventListener||!Object.defineProperty)return!1;var E=!1,Z=Object.defineProperty({},"passive",{get:function(){E=!0}});try{const he=()=>{};D.addEventListener("test",he,Z),D.removeEventListener("test",he,Z)}catch{}return E}();function uu(E,Z){if(Do.call(this,E?E.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,E){var he=this.type=E.type,qe=E.changedTouches&&E.changedTouches.length?E.changedTouches[0]:null;if(this.target=E.target||E.srcElement,this.g=Z,Z=E.relatedTarget){if(xr){e:{try{ur(Z.nodeName);var dn=!0;break e}catch{}dn=!1}dn||(Z=null)}}else"mouseover"==he?Z=E.fromElement:"mouseout"==he&&(Z=E.toElement);this.relatedTarget=Z,qe?(this.clientX=void 0!==qe.clientX?qe.clientX:qe.pageX,this.clientY=void 0!==qe.clientY?qe.clientY:qe.pageY,this.screenX=qe.screenX||0,this.screenY=qe.screenY||0):(this.clientX=void 0!==E.clientX?E.clientX:E.pageX,this.clientY=void 0!==E.clientY?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0),this.button=E.button,this.key=E.key||"",this.ctrlKey=E.ctrlKey,this.altKey=E.altKey,this.shiftKey=E.shiftKey,this.metaKey=E.metaKey,this.pointerId=E.pointerId||0,this.pointerType="string"==typeof E.pointerType?E.pointerType:Vv[E.pointerType]||"",this.state=E.state,this.i=E,E.defaultPrevented&&uu.aa.h.call(this)}}qt(uu,Do);var Vv={2:"touch",3:"pen",4:"mouse"};uu.prototype.h=function(){uu.aa.h.call(this);var E=this.i;E.preventDefault?E.preventDefault():E.returnValue=!1};var cu="closure_listenable_"+(1e6*Math.random()|0),bf=0;function Nf(E,Z,he,qe,dn){this.listener=E,this.proxy=null,this.src=Z,this.type=he,this.capture=!!qe,this.ha=dn,this.key=++bf,this.da=this.fa=!1}function Hu(E){E.da=!0,E.listener=null,E.proxy=null,E.src=null,E.ha=null}function Yu(E){this.src=E,this.g={},this.h=0}function Vc(E,Z){var he=Z.type;if(he in E.g){var Sn,qe=E.g[he],dn=Array.prototype.indexOf.call(qe,Z,void 0);(Sn=0<=dn)&&Array.prototype.splice.call(qe,dn,1),Sn&&(Hu(Z),0==E.g[he].length&&(delete E.g[he],E.h--))}}function Bc(E,Z,he,qe){for(var dn=0;dn<E.length;++dn){var Sn=E[dn];if(!Sn.da&&Sn.listener==Z&&Sn.capture==!!he&&Sn.ha==qe)return dn}return-1}Yu.prototype.add=function(E,Z,he,qe,dn){var Sn=E.toString();(E=this.g[Sn])||(E=this.g[Sn]=[],this.h++);var pr=Bc(E,Z,qe,dn);return-1<pr?(Z=E[pr],he||(Z.fa=!1)):((Z=new Nf(Z,this.src,Sn,!!qe,dn)).fa=he,E.push(Z)),Z};var Gc="closure_lm_"+(1e6*Math.random()|0),$c={};function Bv(E,Z,he,qe,dn){if(qe&&qe.once)return $v(E,Z,he,qe,dn);if(Array.isArray(Z)){for(var Sn=0;Sn<Z.length;Sn++)Bv(E,Z[Sn],he,qe,dn);return null}return he=du(he),E&&E[cu]?E.K(Z,he,ne(qe)?!!qe.capture:!!qe,dn):Gv(E,Z,he,!1,qe,dn)}function Gv(E,Z,he,qe,dn,Sn){if(!Z)throw Error("Invalid event type");var pr=ne(dn)?!!dn.capture:!!dn,Qi=c_(E);if(Qi||(E[Gc]=Qi=new Yu(E)),(he=Qi.add(Z,he,qe,pr,Sn)).proxy)return he;if(qe=function ZC(){const Z=eS;return function E(he){return Z.call(E.src,E.listener,he)}}(),he.proxy=qe,qe.src=E,qe.listener=he,E.addEventListener)QC||(dn=pr),void 0===dn&&(dn=!1),E.addEventListener(Z.toString(),qe,dn);else if(E.attachEvent)E.attachEvent(jv(Z.toString()),qe);else{if(!E.addListener||!E.removeListener)throw Error("addEventListener and attachEvent are unavailable.");E.addListener(qe)}return he}function $v(E,Z,he,qe,dn){if(Array.isArray(Z)){for(var Sn=0;Sn<Z.length;Sn++)$v(E,Z[Sn],he,qe,dn);return null}return he=du(he),E&&E[cu]?E.L(Z,he,ne(qe)?!!qe.capture:!!qe,dn):Gv(E,Z,he,!0,qe,dn)}function Kv(E,Z,he,qe,dn){if(Array.isArray(Z))for(var Sn=0;Sn<Z.length;Sn++)Kv(E,Z[Sn],he,qe,dn);else qe=ne(qe)?!!qe.capture:!!qe,he=du(he),E&&E[cu]?(E=E.i,(Z=String(Z).toString())in E.g&&-1<(he=Bc(Sn=E.g[Z],he,qe,dn))&&(Hu(Sn[he]),Array.prototype.splice.call(Sn,he,1),0==Sn.length&&(delete E.g[Z],E.h--))):E&&(E=c_(E))&&(Z=E.g[Z.toString()],E=-1,Z&&(E=Bc(Z,he,qe,dn)),(he=-1<E?Z[E]:null)&&u_(he))}function u_(E){if("number"!=typeof E&&E&&!E.da){var Z=E.src;if(Z&&Z[cu])Vc(Z.i,E);else{var he=E.type,qe=E.proxy;Z.removeEventListener?Z.removeEventListener(he,qe,E.capture):Z.detachEvent?Z.detachEvent(jv(he),qe):Z.addListener&&Z.removeListener&&Z.removeListener(qe),(he=c_(Z))?(Vc(he,E),0==he.h&&(he.src=null,Z[Gc]=null)):Hu(E)}}}function jv(E){return E in $c?$c[E]:$c[E]="on"+E}function eS(E,Z){if(E.da)E=!0;else{Z=new uu(Z,this);var he=E.listener,qe=E.ha||E.src;E.fa&&u_(E),E=he.call(qe,Z)}return E}function c_(E){return(E=E[Gc])instanceof Yu?E:null}var Mf="__closure_events_fn_"+(1e9*Math.random()>>>0);function du(E){return"function"==typeof E?E:(E[Mf]||(E[Mf]=function(Z){return E.handleEvent(Z)}),E[Mf])}function Gs(){lu.call(this),this.i=new Yu(this),this.M=this,this.F=null}function la(E,Z){var he,qe=E.F;if(qe)for(he=[];qe;qe=qe.F)he.push(qe);if(E=E.M,qe=Z.type||Z,"string"==typeof Z)Z=new Do(Z,E);else if(Z instanceof Do)Z.target=Z.target||E;else{var dn=Z;tn(Z=new Do(qe,E),dn)}if(dn=!0,he)for(var Sn=he.length-1;0<=Sn;Sn--){var pr=Z.g=he[Sn];dn=Pf(pr,qe,!0,Z)&&dn}if(dn=Pf(pr=Z.g=E,qe,!0,Z)&&dn,dn=Pf(pr,qe,!1,Z)&&dn,he)for(Sn=0;Sn<he.length;Sn++)dn=Pf(pr=Z.g=he[Sn],qe,!1,Z)&&dn}function Pf(E,Z,he,qe){if(!(Z=E.i.g[String(Z)]))return!0;Z=Z.concat();for(var dn=!0,Sn=0;Sn<Z.length;++Sn){var pr=Z[Sn];if(pr&&!pr.da&&pr.capture==he){var Qi=pr.listener,Ks=pr.ha||pr.src;pr.fa&&Vc(E.i,pr),dn=!1!==Qi.call(Ks,qe)&&dn}}return dn&&!qe.defaultPrevented}function Kc(E,Z,he){if("function"==typeof E)he&&(E=at(E,he));else{if(!E||"function"!=typeof E.handleEvent)throw Error("Invalid listener argument");E=at(E.handleEvent,E)}return 2147483647<Number(Z)?-1:D.setTimeout(E,Z||0)}function d_(E){E.g=Kc(()=>{E.g=null,E.i&&(E.i=!1,d_(E))},E.l);const Z=E.h;E.h=null,E.m.apply(null,Z)}qt(Gs,lu),Gs.prototype[cu]=!0,Gs.prototype.removeEventListener=function(E,Z,he,qe){Kv(this,E,Z,he,qe)},Gs.prototype.N=function(){if(Gs.aa.N.call(this),this.i){var Z,E=this.i;for(Z in E.g){for(var he=E.g[Z],qe=0;qe<he.length;qe++)Hu(he[qe]);delete E.g[Z],E.h--}}this.F=null},Gs.prototype.K=function(E,Z,he,qe){return this.i.add(String(E),Z,!1,he,qe)},Gs.prototype.L=function(E,Z,he,qe){return this.i.add(String(E),Z,!0,he,qe)};class p0 extends lu{constructor(Z,he){super(),this.m=Z,this.l=he,this.h=null,this.i=!1,this.g=null}j(Z){this.h=arguments,this.g?this.i=!0:d_(this)}N(){super.N(),this.g&&(D.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wd(E){lu.call(this),this.h=E,this.g={}}qt(Wd,lu);var g0=[];function m0(E){wr(E.g,function(Z,he){this.g.hasOwnProperty(he)&&u_(Z)},E),E.g={}}Wd.prototype.N=function(){Wd.aa.N.call(this),m0(this)},Wd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Hv=D.JSON.stringify,_0=D.JSON.parse,tS=class{stringify(E){return D.JSON.stringify(E,void 0)}parse(E){return D.JSON.parse(E,void 0)}};function Yv(){}function Wv(){}Yv.prototype.h=null;var gg={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function zv(){Do.call(this,"d")}function h_(){Do.call(this,"c")}qt(zv,Do),qt(h_,Do);var zd={},qv=null;function mg(){return qv=qv||new Gs}function qd(E){Do.call(this,zd.La,E)}function _g(E){const Z=mg();la(Z,new qd(Z))}function nS(E,Z){Do.call(this,zd.STAT_EVENT,E),this.stat=Z}function $s(E){const Z=mg();la(Z,new nS(Z,E))}function rS(E,Z){Do.call(this,zd.Ma,E),this.size=Z}function Lf(E,Z){if("function"!=typeof E)throw Error("Fn must not be null and must be a function");return D.setTimeout(function(){E()},Z)}function f_(){this.g=!0}function Xd(E,Z,he,qe){E.info(function(){return"XMLHTTP TEXT ("+Z+"): "+function hu(E,Z){if(!E.g)return Z;if(!Z)return null;try{var he=JSON.parse(Z);if(he)for(E=0;E<he.length;E++)if(Array.isArray(he[E])){var qe=he[E];if(!(2>qe.length)){var dn=qe[1];if(Array.isArray(dn)&&!(1>dn.length)){var Sn=dn[0];if("noop"!=Sn&&"stop"!=Sn&&"close"!=Sn)for(var pr=1;pr<dn.length;pr++)dn[pr]=""}}}return Hv(he)}catch{return Z}}(E,he)+(qe?" "+qe:"")})}zd.La="serverreachability",qt(qd,Do),zd.STAT_EVENT="statevent",qt(nS,Do),zd.Ma="timingevent",qt(rS,Do),f_.prototype.xa=function(){this.g=!1},f_.prototype.info=function(){};var gl,p_={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},iS={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Da(){}function os(E,Z,he,qe){this.j=E,this.i=Z,this.l=he,this.R=qe||1,this.U=new Wd(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Zv}function Zv(){this.i=null,this.g="",this.h=!1}qt(Da,Yv),Da.prototype.g=function(){return new XMLHttpRequest},Da.prototype.i=function(){return{}},gl=new Da;var ey={},ty={};function ny(E,Z,he){E.L=1,E.v=yg(Wu(Z)),E.m=he,E.P=!0,oS(E,null)}function oS(E,Z){E.F=Date.now(),jc(E),E.A=Wu(E.v);var he=E.A,qe=E.R;Array.isArray(qe)||(qe=[String(qe)]),Ig(he.i,"t",qe),E.C=0,he=E.j.J,E.h=new Zv,E.g=AS(E.j,he?Z:null,!E.m),0<E.O&&(E.M=new p0(at(E.Y,E,E.g),E.O)),Z=E.U,he=E.g,qe=E.ca;var dn="readystatechange";Array.isArray(dn)||(dn&&(g0[0]=dn.toString()),dn=g0);for(var Sn=0;Sn<dn.length;Sn++){var pr=Bv(he,dn[Sn],qe||Z.handleEvent,!1,Z.h||Z);if(!pr)break;Z.g[pr.key]=pr}Z=E.H?Tt(E.H):{},E.m?(E.u||(E.u="POST"),Z["Content-Type"]="application/x-www-form-urlencoded",E.g.ea(E.A,E.u,E.m,Z)):(E.u="GET",E.g.ea(E.A,E.u,null,Z)),_g(),function Xv(E,Z,he,qe,dn,Sn){E.info(function(){if(E.g)if(Sn)for(var pr="",Qi=Sn.split("&"),Ks=0;Ks<Qi.length;Ks++){var Ci=Qi[Ks].split("=");if(1<Ci.length){var Ko=Ci[0];Ci=Ci[1];var js=Ko.split("_");pr=2<=js.length&&"type"==js[1]?pr+(Ko+"=")+Ci+"&":pr+(Ko+"=redacted&")}}else pr=null;else pr=Sn;return"XMLHTTP REQ ("+qe+") [attempt "+dn+"]: "+Z+"\n"+he+"\n"+pr})}(E.i,E.u,E.A,E.l,E.R,E.m)}function sS(E){return!!E.g&&"GET"==E.u&&2!=E.L&&E.j.Ca}function ry(E,Z){var he=E.C,qe=Z.indexOf("\n",he);return-1==qe?ty:(he=Number(Z.substring(he,qe)),isNaN(he)?ey:(qe+=1)+he>Z.length?ty:(Z=Z.slice(qe,qe+he),E.C=qe+he,Z))}function jc(E){E.S=Date.now()+E.I,aS(E,E.I)}function aS(E,Z){if(null!=E.B)throw Error("WatchDog timer not null");E.B=Lf(at(E.ba,E),Z)}function g_(E){E.B&&(D.clearTimeout(E.B),E.B=null)}function Eg(E){0==E.j.G||E.J||CS(E.j,E)}function Jd(E){g_(E);var Z=E.M;Z&&"function"==typeof Z.ma&&Z.ma(),E.M=null,m0(E.U),E.g&&(Z=E.g,E.g=null,Z.abort(),Z.ma())}function m_(E,Z){try{var he=E.j;if(0!=he.G&&(he.g==E||oy(he.h,E)))if(!E.K&&oy(he.h,E)&&3==he.G){try{var qe=he.Da.g.parse(Z)}catch{qe=null}if(Array.isArray(qe)&&3==qe.length){var dn=qe;if(0==dn[0]){e:if(!he.u){if(he.g){if(!(he.g.F+3e3<E.F))break e;wg(he),Ag(he)}Bf(he),$s(18)}}else he.za=dn[1],0<he.za-he.T&&37500>dn[2]&&he.F&&0==he.v&&!he.C&&(he.C=Lf(at(he.Za,he),6e3));if(1>=iy(he.h)&&he.ca){try{he.ca()}catch{}he.ca=void 0}}else kl(he,11)}else if((E.K||he.g==E)&&wg(he),!dr(Z))for(dn=he.Da.g.parse(Z),Z=0;Z<dn.length;Z++){let Ci=dn[Z];if(he.T=Ci[0],Ci=Ci[1],2==he.G)if("c"==Ci[0]){he.K=Ci[1],he.ia=Ci[2];const Ko=Ci[3];null!=Ko&&(he.la=Ko,he.j.info("VER="+he.la));const js=Ci[4];null!=js&&(he.Aa=js,he.j.info("SVER="+he.Aa));const Kf=Ci[5];null!=Kf&&"number"==typeof Kf&&0<Kf&&(he.L=qe=1.5*Kf,he.j.info("backChannelRequestTimeoutMs_="+qe)),qe=he;const ml=E.g;if(ml){const Wc=ml.g?ml.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Wc){var Sn=qe.h;Sn.g||-1==Wc.indexOf("spdy")&&-1==Wc.indexOf("quic")&&-1==Wc.indexOf("h2")||(Sn.j=Sn.l,Sn.g=new Set,Sn.h&&(sy(Sn,Sn.h),Sn.h=null))}if(qe.D){const py=ml.g?ml.g.getResponseHeader("X-HTTP-Session-Id"):null;py&&(qe.ya=py,Wi(qe.I,qe.D,py))}}he.G=3,he.l&&he.l.ua(),he.ba&&(he.R=Date.now()-E.F,he.j.info("Handshake RTT: "+he.R+"ms"));var pr=E;if((qe=he).qa=TS(qe,qe.J?qe.ia:null,qe.W),pr.K){cS(qe.h,pr);var Qi=pr,Ks=qe.L;Ks&&(Qi.I=Ks),Qi.B&&(g_(Qi),jc(Qi)),qe.g=pr}else IS(qe);0<he.i.length&&qu(he)}else"stop"!=Ci[0]&&"close"!=Ci[0]||kl(he,7);else 3==he.G&&("stop"==Ci[0]||"close"==Ci[0]?"stop"==Ci[0]?kl(he,7):y_(he):"noop"!=Ci[0]&&he.l&&he.l.ta(Ci),he.v=0)}_g()}catch{}}os.prototype.ca=function(E){E=E.target;const Z=this.M;Z&&3==zu(E)?Z.j():this.Y(E)},os.prototype.Y=function(E){try{if(E==this.g)e:{const js=zu(this.g);var Z=this.g.Ba();if(this.g.Z(),!(3>js)&&(3!=js||this.g&&(this.h.h||this.g.oa()||eh(this.g)))){this.J||4!=js||7==Z||_g(),g_(this);var he=this.g.Z();this.X=he;t:if(sS(this)){var qe=eh(this.g);E="";var dn=qe.length,Sn=4==zu(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Jd(this),Eg(this);var pr="";break t}this.h.i=new D.TextDecoder}for(Z=0;Z<dn;Z++)this.h.h=!0,E+=this.h.i.decode(qe[Z],{stream:!(Sn&&Z==dn-1)});qe.length=0,this.h.g+=E,this.C=0,pr=this.h.g}else pr=this.g.oa();if(this.o=200==he,function Jv(E,Z,he,qe,dn,Sn,pr){E.info(function(){return"XMLHTTP RESP ("+qe+") [ attempt "+dn+"]: "+Z+"\n"+he+"\n"+Sn+" "+pr})}(this.i,this.u,this.A,this.l,this.R,js,he),this.o){if(this.T&&!this.K){t:{if(this.g){var Qi,Ks=this.g;if((Qi=Ks.g?Ks.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!dr(Qi)){var Ci=Qi;break t}}Ci=null}if(!(he=Ci)){this.o=!1,this.s=3,$s(12),Jd(this),Eg(this);break e}Xd(this.i,this.l,he,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,m_(this,he)}if(this.P){let ml;for(he=!0;!this.J&&this.C<pr.length;){if(ml=ry(this,pr),ml==ty){4==js&&(this.s=4,$s(14),he=!1),Xd(this.i,this.l,null,"[Incomplete Response]");break}if(ml==ey){this.s=4,$s(15),Xd(this.i,this.l,pr,"[Invalid Chunk]"),he=!1;break}Xd(this.i,this.l,ml,null),m_(this,ml)}if(sS(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=js||0!=pr.length||this.h.h||(this.s=1,$s(16),he=!1),this.o=this.o&&he,he){if(0<pr.length&&!this.W){this.W=!0;var Ko=this.j;Ko.g==this&&Ko.ba&&!Ko.M&&(Ko.j.info("Great, no buffering proxy detected. Bytes received: "+pr.length),Gf(Ko),Ko.M=!0,$s(11))}}else Xd(this.i,this.l,pr,"[Invalid Chunked Response]"),Jd(this),Eg(this)}else Xd(this.i,this.l,pr,null),m_(this,pr);4==js&&Jd(this),this.o&&!this.J&&(4==js?CS(this.j,this):(this.o=!1,jc(this)))}else(function uD(E){const Z={};E=(E.g&&2<=zu(E)&&E.g.getAllResponseHeaders()||"").split("\r\n");for(let qe=0;qe<E.length;qe++){if(dr(E[qe]))continue;var he=un(E[qe]);const dn=he[0];if("string"!=typeof(he=he[1]))continue;he=he.trim();const Sn=Z[dn]||[];Z[dn]=Sn,Sn.push(he)}!function Wt(E,Z){for(const he in E)Z.call(void 0,E[he],he,E)}(Z,function(qe){return qe.join(", ")})})(this.g),400==he&&0<pr.indexOf("Unknown SID")?(this.s=3,$s(12)):(this.s=0,$s(13)),Jd(this),Eg(this)}}}catch{}},os.prototype.cancel=function(){this.J=!0,Jd(this)},os.prototype.ba=function(){this.B=null;const E=Date.now();0<=E-this.S?(function Qv(E,Z){E.info(function(){return"TIMEOUT: "+Z})}(this.i,this.A),2!=this.L&&(_g(),$s(17)),Jd(this),this.s=2,Eg(this)):aS(this,this.S-E)};var lS=class{constructor(E,Z){this.g=E,this.map=Z}};function vg(E){this.l=E||10,E=D.PerformanceNavigationTiming?0<(E=D.performance.getEntriesByType("navigation")).length&&("hq"==E[0].nextHopProtocol||"h2"==E[0].nextHopProtocol):!!(D.chrome&&D.chrome.loadTimes&&D.chrome.loadTimes()&&D.chrome.loadTimes().wasFetchedViaSpdy),this.j=E?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function uS(E){return!!E.h||!!E.g&&E.g.size>=E.j}function iy(E){return E.h?1:E.g?E.g.size:0}function oy(E,Z){return E.h?E.h==Z:!!E.g&&E.g.has(Z)}function sy(E,Z){E.g?E.g.add(Z):E.h=Z}function cS(E,Z){E.h&&E.h==Z?E.h=null:E.g&&E.g.has(Z)&&E.g.delete(Z)}function dS(E){if(null!=E.h)return E.i.concat(E.h.D);if(null!=E.g&&0!==E.g.size){let Z=E.i;for(const he of E.g.values())Z=Z.concat(he.D);return Z}return yn(E.i)}function hS(E,Z){if(E.forEach&&"function"==typeof E.forEach)E.forEach(Z,void 0);else if(G(E)||"string"==typeof E)Array.prototype.forEach.call(E,Z,void 0);else for(var he=function v0(E){if(E.na&&"function"==typeof E.na)return E.na();if(!E.V||"function"!=typeof E.V){if(typeof Map<"u"&&E instanceof Map)return Array.from(E.keys());if(!(typeof Set<"u"&&E instanceof Set)){if(G(E)||"string"==typeof E){var Z=[];E=E.length;for(var he=0;he<E;he++)Z.push(he);return Z}Z=[],he=0;for(const qe in E)Z[he++]=qe;return Z}}}(E),qe=function E0(E){if(E.V&&"function"==typeof E.V)return E.V();if(typeof Map<"u"&&E instanceof Map||typeof Set<"u"&&E instanceof Set)return Array.from(E.values());if("string"==typeof E)return E.split("");if(G(E)){for(var Z=[],he=E.length,qe=0;qe<he;qe++)Z.push(E[qe]);return Z}for(qe in Z=[],he=0,E)Z[he++]=E[qe];return Z}(E),dn=qe.length,Sn=0;Sn<dn;Sn++)Z.call(void 0,qe[Sn],he&&he[Sn],E)}vg.prototype.cancel=function(){if(this.i=dS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const E of this.g.values())E.cancel();this.g.clear()}};var fS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qd(E){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,E instanceof Qd){this.h=E.h,xf(this,E.j),this.o=E.o,this.g=E.g,ay(this,E.s),this.l=E.l;var Z=E.i,he=new __;he.i=Z.i,Z.g&&(he.g=new Map(Z.g),he.h=Z.h),pS(this,he),this.m=E.m}else E&&(Z=String(E).match(fS))?(this.h=!1,xf(this,Z[1]||"",!0),this.o=kf(Z[2]||""),this.g=kf(Z[3]||"",!0),ay(this,Z[4]),this.l=kf(Z[5]||"",!0),pS(this,Z[6]||"",!0),this.m=kf(Z[7]||"")):(this.h=!1,this.i=new __(null,this.h))}function Wu(E){return new Qd(E)}function xf(E,Z,he){E.j=he?kf(Z,!0):Z,E.j&&(E.j=E.j.replace(/:$/,""))}function ay(E,Z){if(Z){if(Z=Number(Z),isNaN(Z)||0>Z)throw Error("Bad port number "+Z);E.s=Z}else E.s=null}function pS(E,Z,he){Z instanceof __?(E.i=Z,function R0(E,Z){Z&&!E.j&&(Zd(E),E.i=null,E.g.forEach(function(he,qe){var dn=qe.toLowerCase();qe!=dn&&(mS(this,qe),Ig(this,dn,he))},E)),E.j=Z}(E.i,E.h)):(he||(Z=Uf(Z,T0)),E.i=new __(Z,E.h))}function Wi(E,Z,he){E.i.set(Z,he)}function yg(E){return Wi(E,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),E}function kf(E,Z){return E?Z?decodeURI(E.replace(/%25/g,"%2525")):decodeURIComponent(E):""}function Uf(E,Z,he){return"string"==typeof E?(E=encodeURI(E).replace(Z,I0),he&&(E=E.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E):null}function I0(E){return"%"+((E=E.charCodeAt(0))>>4&15).toString(16)+(15&E).toString(16)}Qd.prototype.toString=function(){var E=[],Z=this.j;Z&&E.push(Uf(Z,gS,!0),":");var he=this.g;return(he||"file"==Z)&&(E.push("//"),(Z=this.o)&&E.push(Uf(Z,gS,!0),"@"),E.push(encodeURIComponent(String(he)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(he=this.s)&&E.push(":",String(he))),(he=this.l)&&(this.g&&"/"!=he.charAt(0)&&E.push("/"),E.push(Uf(he,"/"==he.charAt(0)?S0:C0,!0))),(he=this.i.toString())&&E.push("?",he),(he=this.m)&&E.push("#",Uf(he,A0)),E.join("")};var gS=/[#\/\?@]/g,C0=/[#\?:]/g,S0=/[#\?]/g,T0=/[#\?@]/g,A0=/#/g;function __(E,Z){this.h=this.g=null,this.i=E||null,this.j=!!Z}function Zd(E){E.g||(E.g=new Map,E.h=0,E.i&&function y0(E,Z){if(E){E=E.split("&");for(var he=0;he<E.length;he++){var qe=E[he].indexOf("="),dn=null;if(0<=qe){var Sn=E[he].substring(0,qe);dn=E[he].substring(qe+1)}else Sn=E[he];Z(Sn,dn?decodeURIComponent(dn.replace(/\+/g," ")):"")}}}(E.i,function(Z,he){E.add(decodeURIComponent(Z.replace(/\+/g," ")),he)}))}function mS(E,Z){Zd(E),Z=Ff(E,Z),E.g.has(Z)&&(E.i=null,E.h-=E.g.get(Z).length,E.g.delete(Z))}function _S(E,Z){return Zd(E),Z=Ff(E,Z),E.g.has(Z)}function Ig(E,Z,he){mS(E,Z),0<he.length&&(E.i=null,E.g.set(Ff(E,Z),yn(he)),E.h+=he.length)}function Ff(E,Z){return Z=String(Z),E.j&&(Z=Z.toLowerCase()),Z}function xl(E,Z,he,qe,dn){try{dn&&(dn.onload=null,dn.onerror=null,dn.onabort=null,dn.ontimeout=null),qe(he)}catch{}}function E_(){this.g=new tS}function uy(E,Z,he){const qe=he||"";try{hS(E,function(dn,Sn){let pr=dn;ne(dn)&&(pr=Hv(dn)),Z.push(qe+Sn+"="+encodeURIComponent(pr))})}catch(dn){throw Z.push(qe+"type="+encodeURIComponent("_badmap")),dn}}function Vf(E){this.l=E.Ub||null,this.j=E.eb||!1}function v_(E,Z){Gs.call(this),this.D=E,this.o=Z,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function ES(E){E.j.read().then(E.Pa.bind(E)).catch(E.ga.bind(E))}function Cg(E){E.readyState=4,E.l=null,E.j=null,E.v=null,Hc(E)}function Hc(E){E.onreadystatechange&&E.onreadystatechange.call(E)}function Sg(E){let Z="";return wr(E,function(he,qe){Z+=qe,Z+=":",Z+=he,Z+="\r\n"}),Z}function Tg(E,Z,he){e:{for(qe in he){var qe=!1;break e}qe=!0}qe||(he=Sg(he),"string"==typeof E?null!=he&&encodeURIComponent(String(he)):Wi(E,Z,he))}function _o(E){Gs.call(this),this.headers=new Map,this.o=E||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(a=__.prototype).add=function(E,Z){Zd(this),this.i=null,E=Ff(this,E);var he=this.g.get(E);return he||this.g.set(E,he=[]),he.push(Z),this.h+=1,this},a.forEach=function(E,Z){Zd(this),this.g.forEach(function(he,qe){he.forEach(function(dn){E.call(Z,dn,qe,this)},this)},this)},a.na=function(){Zd(this);const E=Array.from(this.g.values()),Z=Array.from(this.g.keys()),he=[];for(let qe=0;qe<Z.length;qe++){const dn=E[qe];for(let Sn=0;Sn<dn.length;Sn++)he.push(Z[qe])}return he},a.V=function(E){Zd(this);let Z=[];if("string"==typeof E)_S(this,E)&&(Z=Z.concat(this.g.get(Ff(this,E))));else{E=Array.from(this.g.values());for(let he=0;he<E.length;he++)Z=Z.concat(E[he])}return Z},a.set=function(E,Z){return Zd(this),this.i=null,_S(this,E=Ff(this,E))&&(this.h-=this.g.get(E).length),this.g.set(E,[Z]),this.h+=1,this},a.get=function(E,Z){return E&&0<(E=this.V(E)).length?String(E[0]):Z},a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const E=[],Z=Array.from(this.g.keys());for(var he=0;he<Z.length;he++){var qe=Z[he];const Sn=encodeURIComponent(String(qe)),pr=this.V(qe);for(qe=0;qe<pr.length;qe++){var dn=Sn;""!==pr[qe]&&(dn+="="+encodeURIComponent(String(pr[qe]))),E.push(dn)}}return this.i=E.join("&")},qt(Vf,Yv),Vf.prototype.g=function(){return new v_(this.l,this.j)},Vf.prototype.i=function(E){return function(){return E}}({}),qt(v_,Gs),(a=v_.prototype).open=function(E,Z){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=E,this.A=Z,this.readyState=1,Hc(this)},a.send=function(E){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const Z={headers:this.u,method:this.B,credentials:this.m,cache:void 0};E&&(Z.body=E),(this.D||D).fetch(new Request(this.A,Z)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Cg(this)),this.readyState=0},a.Sa=function(E){if(this.g&&(this.l=E,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=E.headers,this.readyState=2,Hc(this)),this.g&&(this.readyState=3,Hc(this),this.g)))if("arraybuffer"===this.responseType)E.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof D.ReadableStream<"u"&&"body"in E){if(this.j=E.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ES(this)}else E.text().then(this.Ra.bind(this),this.ga.bind(this))},a.Pa=function(E){if(this.g){if(this.o&&E.value)this.response.push(E.value);else if(!this.o){var Z=E.value?E.value:new Uint8Array(0);(Z=this.v.decode(Z,{stream:!E.done}))&&(this.response=this.responseText+=Z)}E.done?Cg(this):Hc(this),3==this.readyState&&ES(this)}},a.Ra=function(E){this.g&&(this.response=this.responseText=E,Cg(this))},a.Qa=function(E){this.g&&(this.response=E,Cg(this))},a.ga=function(){this.g&&Cg(this)},a.setRequestHeader=function(E,Z){this.u.append(E,Z)},a.getResponseHeader=function(E){return this.h&&this.h.get(E.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const E=[],Z=this.h.entries();for(var he=Z.next();!he.done;)E.push((he=he.value)[0]+": "+he[1]),he=Z.next();return E.join("\r\n")},Object.defineProperty(v_.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(E){this.m=E?"include":"same-origin"}}),qt(_o,Gs);var w0=/^https?$/i,O0=["POST","PUT"];function cy(E,Z){E.h=!1,E.g&&(E.j=!0,E.g.abort(),E.j=!1),E.l=Z,E.m=5,dy(E),fu(E)}function dy(E){E.A||(E.A=!0,la(E,"complete"),la(E,"error"))}function hy(E){if(E.h&&typeof _<"u"&&(!E.v[1]||4!=zu(E)||2!=E.Z()))if(E.u&&4==zu(E))Kc(E.Ea,0,E);else if(la(E,"readystatechange"),4==zu(E)){E.h=!1;try{const pr=E.Z();e:switch(pr){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var Z=!0;break e;default:Z=!1}var he;if(!(he=Z)){var qe;if(qe=0===pr){var dn=String(E.D).match(fS)[1]||null;!dn&&D.self&&D.self.location&&(dn=D.self.location.protocol.slice(0,-1)),qe=!w0.test(dn?dn.toLowerCase():"")}he=qe}if(he)la(E,"complete"),la(E,"success");else{E.m=6;try{var Sn=2<zu(E)?E.g.statusText:""}catch{Sn=""}E.l=Sn+" ["+E.Z()+"]",dy(E)}}finally{fu(E)}}}function fu(E,Z){if(E.g){vS(E);const he=E.g,qe=E.v[0]?()=>{}:null;E.g=null,E.v=null,Z||la(E,"ready");try{he.onreadystatechange=qe}catch{}}}function vS(E){E.I&&(D.clearTimeout(E.I),E.I=null)}function zu(E){return E.g?E.g.readyState:0}function eh(E){try{if(!E.g)return null;if("response"in E.g)return E.g.response;switch(E.H){case"":case"text":return E.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in E.g)return E.g.mozResponseArrayBuffer}return null}catch{return null}}function th(E,Z,he){return he&&he.internalChannelParams&&he.internalChannelParams[E]||Z}function b0(E){this.Aa=0,this.i=[],this.j=new f_,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=th("failFast",!1,E),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=th("baseRetryDelayMs",5e3,E),this.cb=th("retryDelaySeedMs",1e4,E),this.Wa=th("forwardChannelMaxRetries",2,E),this.wa=th("forwardChannelRequestTimeoutMs",2e4,E),this.pa=E&&E.xmlHttpFactory||void 0,this.Xa=E&&E.Tb||void 0,this.Ca=E&&E.useFetchStreams||!1,this.L=void 0,this.J=E&&E.supportsCrossDomainXhr||!1,this.K="",this.h=new vg(E&&E.concurrentRequestLimit),this.Da=new E_,this.P=E&&E.fastHandshake||!1,this.O=E&&E.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=E&&E.Rb||!1,E&&E.xa&&this.j.xa(),E&&E.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&E&&E.detectBufferingProxy||!1,this.ja=void 0,E&&E.longPollingTimeout&&0<E.longPollingTimeout&&(this.ja=E.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function y_(E){if(N0(E),3==E.G){var Z=E.U++,he=Wu(E.I);if(Wi(he,"SID",E.K),Wi(he,"RID",Z),Wi(he,"TYPE","terminate"),Rg(E,he),(Z=new os(E,E.j,Z)).L=2,Z.v=yg(Wu(he)),he=!1,D.navigator&&D.navigator.sendBeacon)try{he=D.navigator.sendBeacon(Z.v.toString(),"")}catch{}!he&&D.Image&&((new Image).src=Z.v,he=!0),he||(Z.g=AS(Z.j,null),Z.g.ea(Z.v)),Z.F=Date.now(),jc(Z)}$f(E)}function Ag(E){E.g&&(Gf(E),E.g.cancel(),E.g=null)}function N0(E){Ag(E),E.u&&(D.clearTimeout(E.u),E.u=null),wg(E),E.h.cancel(),E.s&&("number"==typeof E.s&&D.clearTimeout(E.s),E.s=null)}function qu(E){if(!uS(E.h)&&!E.s){E.s=!0;var Z=E.Ga;Of||Fv(),fg||(Of(),fg=!0),l_.add(Z,E),E.B=0}}function yS(E,Z){var he;he=Z?Z.l:E.U++;const qe=Wu(E.I);Wi(qe,"SID",E.K),Wi(qe,"RID",he),Wi(qe,"AID",E.T),Rg(E,qe),E.m&&E.o&&Tg(qe,E.m,E.o),he=new os(E,E.j,he,E.B+1),null===E.m&&(he.H=E.o),Z&&(E.i=Z.D.concat(E.i)),Z=Dg(E,he,1e3),he.I=Math.round(.5*E.wa)+Math.round(.5*E.wa*Math.random()),sy(E.h,he),ny(he,qe,Z)}function Rg(E,Z){E.H&&wr(E.H,function(he,qe){Wi(Z,qe,he)}),E.l&&hS({},function(he,qe){Wi(Z,qe,he)})}function Dg(E,Z,he){he=Math.min(E.i.length,he);var qe=E.l?at(E.l.Na,E.l,E):null;e:{var dn=E.i;let Sn=-1;for(;;){const pr=["count="+he];-1==Sn?0<he?(Sn=dn[0].g,pr.push("ofs="+Sn)):Sn=0:pr.push("ofs="+Sn);let Qi=!0;for(let Ks=0;Ks<he;Ks++){let Ci=dn[Ks].g;const Ko=dn[Ks].map;if(Ci-=Sn,0>Ci)Sn=Math.max(0,dn[Ks].g-100),Qi=!1;else try{uy(Ko,pr,"req"+Ci+"_")}catch{qe&&qe(Ko)}}if(Qi){qe=pr.join("&");break e}}}return E=E.i.splice(0,he),Z.D=E,qe}function IS(E){if(!E.g&&!E.u){E.Y=1;var Z=E.Fa;Of||Fv(),fg||(Of(),fg=!0),l_.add(Z,E),E.v=0}}function Bf(E){return!(E.g||E.u||3<=E.v||(E.Y++,E.u=Lf(at(E.Fa,E),SS(E,E.v)),E.v++,0))}function Gf(E){null!=E.A&&(D.clearTimeout(E.A),E.A=null)}function ua(E){E.g=new os(E,E.j,"rpc",E.Y),null===E.m&&(E.g.H=E.o),E.g.O=0;var Z=Wu(E.qa);Wi(Z,"RID","rpc"),Wi(Z,"SID",E.K),Wi(Z,"AID",E.T),Wi(Z,"CI",E.F?"0":"1"),!E.F&&E.ja&&Wi(Z,"TO",E.ja),Wi(Z,"TYPE","xmlhttp"),Rg(E,Z),E.m&&E.o&&Tg(Z,E.m,E.o),E.L&&(E.g.I=E.L);var he=E.g;E=E.ia,he.L=1,he.v=yg(Wu(Z)),he.m=null,he.P=!0,oS(he,E)}function wg(E){null!=E.C&&(D.clearTimeout(E.C),E.C=null)}function CS(E,Z){var he=null;if(E.g==Z){wg(E),Gf(E),E.g=null;var qe=2}else{if(!oy(E.h,Z))return;he=Z.D,cS(E.h,Z),qe=1}if(0!=E.G)if(Z.o)if(1==qe){he=Z.m?Z.m.length:0,Z=Date.now()-Z.F;var dn=E.B;la(qe=mg(),new rS(qe,he)),qu(E)}else IS(E);else if(3==(dn=Z.s)||0==dn&&0<Z.X||!(1==qe&&function M0(E,Z){return!(iy(E.h)>=E.h.j-(E.s?1:0)||(E.s?(E.i=Z.D.concat(E.i),0):1==E.G||2==E.G||E.B>=(E.Va?0:E.Wa)||(E.s=Lf(at(E.Ga,E,Z),SS(E,E.B)),E.B++,0)))}(E,Z)||2==qe&&Bf(E)))switch(he&&0<he.length&&(Z=E.h,Z.i=Z.i.concat(he)),dn){case 1:kl(E,5);break;case 4:kl(E,10);break;case 3:kl(E,6);break;default:kl(E,2)}}function SS(E,Z){let he=E.Ta+Math.floor(Math.random()*E.cb);return E.isActive()||(he*=2),he*Z}function kl(E,Z){if(E.j.info("Error code "+Z),2==Z){var he=at(E.fb,E),qe=E.Xa;const dn=!qe;qe=new Qd(qe||"//www.google.com/images/cleardot.gif"),D.location&&"http"==D.location.protocol||xf(qe,"https"),yg(qe),dn?function ly(E,Z){const he=new f_;if(D.Image){const qe=new Image;qe.onload=Lt(xl,he,"TestLoadImage: loaded",!0,Z,qe),qe.onerror=Lt(xl,he,"TestLoadImage: error",!1,Z,qe),qe.onabort=Lt(xl,he,"TestLoadImage: abort",!1,Z,qe),qe.ontimeout=Lt(xl,he,"TestLoadImage: timeout",!1,Z,qe),D.setTimeout(function(){qe.ontimeout&&qe.ontimeout()},1e4),qe.src=E}else Z(!1)}(qe.toString(),he):function D0(E,Z){new f_;const qe=new AbortController,dn=setTimeout(()=>{qe.abort(),xl(0,0,!1,Z)},1e4);fetch(E,{signal:qe.signal}).then(Sn=>{clearTimeout(dn),xl(0,0,!!Sn.ok,Z)}).catch(()=>{clearTimeout(dn),xl(0,0,!1,Z)})}(qe.toString(),he)}else $s(2);E.G=0,E.l&&E.l.sa(Z),$f(E),N0(E)}function $f(E){if(E.G=0,E.ka=[],E.l){const Z=dS(E.h);(0!=Z.length||0!=E.i.length)&&(fn(E.ka,Z),fn(E.ka,E.i),E.h.i.length=0,yn(E.i),E.i.length=0),E.l.ra()}}function TS(E,Z,he){var qe=he instanceof Qd?Wu(he):new Qd(he);if(""!=qe.g)Z&&(qe.g=Z+"."+qe.g),ay(qe,qe.s);else{var dn=D.location;qe=dn.protocol,Z=Z?Z+"."+dn.hostname:dn.hostname,dn=+dn.port;var Sn=new Qd(null);qe&&xf(Sn,qe),Z&&(Sn.g=Z),dn&&ay(Sn,dn),he&&(Sn.l=he),qe=Sn}return Z=E.ya,(he=E.D)&&Z&&Wi(qe,he,Z),Wi(qe,"VER",E.la),Rg(E,qe),qe}function AS(E,Z,he){if(Z&&!E.J)throw Error("Can't create secondary domain capable XhrIo object.");return(Z=new _o(E.Ca&&!E.pa?new Vf({eb:he}):E.pa)).Ha(E.J),Z}function fy(){}function Yc(){}function Ya(E,Z){Gs.call(this),this.g=new b0(Z),this.l=E,this.h=Z&&Z.messageUrlParams||null,E=Z&&Z.messageHeaders||null,Z&&Z.clientProtocolHeaderRequired&&(E?E["X-Client-Protocol"]="webchannel":E={"X-Client-Protocol":"webchannel"}),this.g.o=E,E=Z&&Z.initMessageHeaders||null,Z&&Z.messageContentType&&(E?E["X-WebChannel-Content-Type"]=Z.messageContentType:E={"X-WebChannel-Content-Type":Z.messageContentType}),Z&&Z.va&&(E?E["X-WebChannel-Client-Profile"]=Z.va:E={"X-WebChannel-Client-Profile":Z.va}),this.g.S=E,(E=Z&&Z.Sb)&&!dr(E)&&(this.g.m=E),this.v=Z&&Z.supportsCrossDomainXhr||!1,this.u=Z&&Z.sendRawJson||!1,(Z=Z&&Z.httpSessionIdParam)&&!dr(Z)&&(this.g.D=Z,null!==(E=this.h)&&Z in E&&Z in(E=this.h)&&delete E[Z]),this.j=new nh(this)}function RS(E){zv.call(this),E.__headers__&&(this.headers=E.__headers__,this.statusCode=E.__status__,delete E.__headers__,delete E.__status__);var Z=E.__sm__;if(Z){e:{for(const he in Z){E=he;break e}E=void 0}(this.i=E)&&(E=this.i,Z=null!==Z&&E in Z?Z[E]:void 0),this.data=Z}else this.data=E}function DS(){h_.call(this),this.status=1}function nh(E){this.g=E}(a=_o.prototype).Ha=function(E){this.J=E},a.ea=function(E,Z,he,qe){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+E);Z=Z?Z.toUpperCase():"GET",this.D=E,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():gl.g(),this.v=function Lo(E){return E.h||(E.h=E.i())}(this.o?this.o:gl),this.g.onreadystatechange=at(this.Ea,this);try{this.B=!0,this.g.open(Z,String(E),!0),this.B=!1}catch(Sn){return void cy(this,Sn)}if(E=he||"",he=new Map(this.headers),qe)if(Object.getPrototypeOf(qe)===Object.prototype)for(var dn in qe)he.set(dn,qe[dn]);else{if("function"!=typeof qe.keys||"function"!=typeof qe.get)throw Error("Unknown input type for opt_headers: "+String(qe));for(const Sn of qe.keys())he.set(Sn,qe.get(Sn))}qe=Array.from(he.keys()).find(Sn=>"content-type"==Sn.toLowerCase()),dn=D.FormData&&E instanceof D.FormData,!(0<=Array.prototype.indexOf.call(O0,Z,void 0))||qe||dn||he.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Sn,pr]of he)this.g.setRequestHeader(Sn,pr);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{vS(this),this.u=!0,this.g.send(E),this.u=!1}catch(Sn){cy(this,Sn)}},a.abort=function(E){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=E||7,la(this,"complete"),la(this,"abort"),fu(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fu(this,!0)),_o.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?hy(this):this.bb())},a.bb=function(){hy(this)},a.isActive=function(){return!!this.g},a.Z=function(){try{return 2<zu(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(E){if(this.g){var Z=this.g.responseText;return E&&0==Z.indexOf(E)&&(Z=Z.substring(E.length)),_0(Z)}},a.Ba=function(){return this.m},a.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(a=b0.prototype).la=8,a.G=1,a.connect=function(E,Z,he,qe){$s(0),this.W=E,this.H=Z||{},he&&void 0!==qe&&(this.H.OSID=he,this.H.OAID=qe),this.F=this.X,this.I=TS(this,null,this.W),qu(this)},a.Ga=function(E){if(this.s)if(this.s=null,1==this.G){if(!E){this.U=Math.floor(1e5*Math.random()),E=this.U++;const dn=new os(this,this.j,E);let Sn=this.o;if(this.S&&(Sn?(Sn=Tt(Sn),tn(Sn,this.S)):Sn=this.S),null!==this.m||this.O||(dn.H=Sn,Sn=null),this.P)e:{for(var Z=0,he=0;he<this.i.length;he++){var qe=this.i[he];if(void 0===(qe="__data__"in qe.map&&"string"==typeof(qe=qe.map.__data__)?qe.length:void 0))break;if(4096<(Z+=qe)){Z=he;break e}if(4096===Z||he===this.i.length-1){Z=he+1;break e}}Z=1e3}else Z=1e3;Z=Dg(this,dn,Z),Wi(he=Wu(this.I),"RID",E),Wi(he,"CVER",22),this.D&&Wi(he,"X-HTTP-Session-Id",this.D),Rg(this,he),Sn&&(this.O?Z="headers="+encodeURIComponent(String(Sg(Sn)))+"&"+Z:this.m&&Tg(he,this.m,Sn)),sy(this.h,dn),this.Ua&&Wi(he,"TYPE","init"),this.P?(Wi(he,"$req",Z),Wi(he,"SID","null"),dn.T=!0,ny(dn,he,null)):ny(dn,he,Z),this.G=2}}else 3==this.G&&(E?yS(this,E):0==this.i.length||uS(this.h)||yS(this))},a.Fa=function(){if(this.u=null,ua(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var E=2*this.R;this.j.info("BP detection timer enabled: "+E),this.A=Lf(at(this.ab,this),E)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,$s(10),Ag(this),ua(this))},a.Za=function(){null!=this.C&&(this.C=null,Ag(this),Bf(this),$s(19))},a.fb=function(E){E?(this.j.info("Successfully pinged google.com"),$s(2)):(this.j.info("Failed to ping google.com"),$s(1))},a.isActive=function(){return!!this.l&&this.l.isActive(this)},(a=fy.prototype).ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){},Yc.prototype.g=function(E,Z){return new Ya(E,Z)},qt(Ya,Gs),Ya.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ya.prototype.close=function(){y_(this.g)},Ya.prototype.o=function(E){var Z=this.g;if("string"==typeof E){var he={};he.__data__=E,E=he}else this.u&&((he={}).__data__=Hv(E),E=he);Z.i.push(new lS(Z.Ya++,E)),3==Z.G&&qu(Z)},Ya.prototype.N=function(){this.g.l=null,delete this.j,y_(this.g),delete this.g,Ya.aa.N.call(this)},qt(RS,zv),qt(DS,h_),qt(nh,fy),nh.prototype.ua=function(){la(this.g,"a")},nh.prototype.ta=function(E){la(this.g,new RS(E))},nh.prototype.sa=function(E){la(this.g,new DS)},nh.prototype.ra=function(){la(this.g,"b")},Yc.prototype.createWebChannel=Yc.prototype.g,Ya.prototype.send=Ya.prototype.o,Ya.prototype.open=Ya.prototype.m,Ya.prototype.close=Ya.prototype.close,Ui=fr.createWebChannelTransport=function(){return new Yc},Eo=fr.getStatEventTarget=function(){return mg()},ai=fr.Event=zd,zi=fr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},p_.NO_ERROR=0,p_.TIMEOUT=8,p_.HTTP_ERROR=6,yi=fr.ErrorCode=p_,iS.COMPLETE="complete",si=fr.EventType=iS,Wv.EventType=gg,gg.OPEN="a",gg.CLOSE="b",gg.ERROR="c",gg.MESSAGE="d",Gs.prototype.listen=Gs.prototype.K,Ar=fr.WebChannel=Wv,fr.FetchXmlHttpFactory=Vf,_o.prototype.listenOnce=_o.prototype.L,_o.prototype.getLastError=_o.prototype.Ka,_o.prototype.getLastErrorCode=_o.prototype.Ba,_o.prototype.getStatus=_o.prototype.Z,_o.prototype.getResponseJson=_o.prototype.Oa,_o.prototype.getResponseText=_o.prototype.oa,_o.prototype.send=_o.prototype.ea,_o.prototype.setWithCredentials=_o.prototype.Ha,yr=fr.XhrIo=_o}).apply(typeof Dr<"u"?Dr:typeof self<"u"?self:typeof window<"u"?window:{});const eo="@firebase/firestore";class di{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}di.UNAUTHENTICATED=new di(null),di.GOOGLE_CREDENTIALS=new di("google-credentials-uid"),di.FIRST_PARTY=new di("first-party-uid"),di.MOCK_USER=new di("mock-user");let vo="10.14.0";const Di=new Ce.Vy("@firebase/firestore");function io(){return Di.logLevel}function Un(a,...e){if(Di.logLevel<=Ce.$b.DEBUG){const r=e.map(ss);Di.debug(`Firestore (${vo}): ${a}`,...r)}}function Kr(a,...e){if(Di.logLevel<=Ce.$b.ERROR){const r=e.map(ss);Di.error(`Firestore (${vo}): ${a}`,...r)}}function Jr(a,...e){if(Di.logLevel<=Ce.$b.WARN){const r=e.map(ss);Di.warn(`Firestore (${vo}): ${a}`,...r)}}function ss(a){if("string"==typeof a)return a;try{return JSON.stringify(a)}catch{return a}}function Pn(a="Unexpected state"){const e=`FIRESTORE (${vo}) INTERNAL ASSERTION FAILED: `+a;throw Kr(e),new Error(e)}function Wn(a,e){a||Pn()}function ir(a,e){return a}const pn={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ln extends Ee.g{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Fi{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}class Rs{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class jr{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(di.UNAUTHENTICATED))}shutdown(){}}class Ds{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class ba{constructor(e){this.t=e,this.currentUser=di.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){var o=this;Wn(void 0===this.o);let u=this.i;const f=ne=>this.i!==u?(u=this.i,r(ne)):Promise.resolve();let _=new Fi;this.o=()=>{this.i++,this.currentUser=this.u(),_.resolve(),_=new Fi,e.enqueueRetryable(()=>f(this.currentUser))};const D=()=>{const ne=_;e.enqueueRetryable((0,ce.A)(function*(){yield ne.promise,yield f(o.currentUser)}))},G=ne=>{Un("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=ne,this.o&&(this.auth.addAuthTokenListener(this.o),D())};this.t.onInit(ne=>G(ne)),setTimeout(()=>{if(!this.auth){const ne=this.t.getImmediate({optional:!0});ne?G(ne):(Un("FirebaseAuthCredentialsProvider","Auth not yet detected"),_.resolve(),_=new Fi)}},0),D()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(o=>this.i!==e?(Un("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Wn("string"==typeof o.accessToken),new Rs(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Wn(null===e||"string"==typeof e),new di(e)}}class Pi{constructor(e,r,o){this.l=e,this.h=r,this.P=o,this.type="FirstParty",this.user=di.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Hs{constructor(e,r,o){this.l=e,this.h=r,this.P=o}getToken(){return Promise.resolve(new Pi(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(di.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class jo{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Na{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){Wn(void 0===this.o);const o=f=>{null!=f.error&&Un("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${f.error.message}`);const _=f.token!==this.R;return this.R=f.token,Un("FirebaseAppCheckTokenProvider",`Received ${_?"new":"existing"} token.`),_?r(f.token):Promise.resolve()};this.o=f=>{e.enqueueRetryable(()=>o(f))};const u=f=>{Un("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=f,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(f=>u(f)),setTimeout(()=>{if(!this.appCheck){const f=this.A.getImmediate({optional:!0});f?u(f):Un("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Wn("string"==typeof r.token),this.R=r.token,new jo(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function wi(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(a);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(r);else for(let o=0;o<a;o++)r[o]=Math.floor(256*Math.random());return r}class Y{static newId(){const r=62*Math.floor(256/62);let o="";for(;o.length<20;){const u=wi(40);for(let f=0;f<u.length;++f)o.length<20&&u[f]<r&&(o+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(u[f]%62))}return o}}function le(a,e){return a<e?-1:a>e?1:0}function Ue(a,e,r){return a.length===e.length&&a.every((o,u)=>r(o,e[u]))}function X(a){return a+"\0"}class L{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Ln(pn.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Ln(pn.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new Ln(pn.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ln(pn.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return L.fromMillis(Date.now())}static fromDate(e){return L.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*r));return new L(r,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?le(this.nanoseconds,e.nanoseconds):le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class q{constructor(e){this.timestamp=e}static fromTimestamp(e){return new q(e)}static min(){return new q(new L(0,0))}static max(){return new q(new L(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class tt{constructor(e,r,o){void 0===r?r=0:r>e.length&&Pn(),void 0===o?o=e.length-r:o>e.length-r&&Pn(),this.segments=e,this.offset=r,this.len=o}get length(){return this.len}isEqual(e){return 0===tt.comparator(this,e)}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof tt?e.forEach(o=>{r.push(o)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,o=this.limit();r<o;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const o=Math.min(e.length,r.length);for(let u=0;u<o;u++){const f=e.get(u),_=r.get(u);if(f<_)return-1;if(f>_)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class et extends tt{construct(e,r,o){return new et(e,r,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const o of e){if(o.indexOf("//")>=0)throw new Ln(pn.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);r.push(...o.split("/").filter(u=>u.length>0))}return new et(r)}static emptyPath(){return new et([])}}const Ft=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class St extends tt{construct(e,r,o){return new St(e,r,o)}static isValidIdentifier(e){return Ft.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),St.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new St(["__name__"])}static fromServerFormat(e){const r=[];let o="",u=0;const f=()=>{if(0===o.length)throw new Ln(pn.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(o),o=""};let _=!1;for(;u<e.length;){const D=e[u];if("\\"===D){if(u+1===e.length)throw new Ln(pn.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const G=e[u+1];if("\\"!==G&&"."!==G&&"`"!==G)throw new Ln(pn.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=G,u+=2}else"`"===D?(_=!_,u++):"."!==D||_?(o+=D,u++):(f(),u++)}if(f(),_)throw new Ln(pn.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new St(r)}static emptyPath(){return new St([])}}class Vt{constructor(e){this.path=e}static fromPath(e){return new Vt(et.fromString(e))}static fromName(e){return new Vt(et.fromString(e).popFirst(5))}static empty(){return new Vt(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===et.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,r){return et.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Vt(new et(e.slice()))}}class Qt{constructor(e,r,o,u){this.indexId=e,this.collectionGroup=r,this.fields=o,this.indexState=u}}function In(a){return a.fields.find(e=>2===e.kind)}function An(a){return a.fields.filter(e=>2!==e.kind)}Qt.UNKNOWN_ID=-1;class or{constructor(e,r){this.fieldPath=e,this.kind=r}}class gr{constructor(e,r){this.sequenceNumber=e,this.offset=r}static empty(){return new gr(0,Xr.min())}}function qr(a,e){const r=a.toTimestamp().seconds,o=a.toTimestamp().nanoseconds+1,u=q.fromTimestamp(1e9===o?new L(r+1,0):new L(r,o));return new Xr(u,Vt.empty(),e)}function ni(a){return new Xr(a.readTime,a.key,-1)}class Xr{constructor(e,r,o){this.readTime=e,this.documentKey=r,this.largestBatchId=o}static min(){return new Xr(q.min(),Vt.empty(),-1)}static max(){return new Xr(q.max(),Vt.empty(),-1)}}function Qr(a,e){let r=a.readTime.compareTo(e.readTime);return 0!==r?r:(r=Vt.comparator(a.documentKey,e.documentKey),0!==r?r:le(a.largestBatchId,e.largestBatchId))}const hi="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class po{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Li(a){return oo.apply(this,arguments)}function oo(){return(oo=(0,ce.A)(function*(a){if(a.code!==pn.FAILED_PRECONDITION||a.message!==hi)throw a;Un("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class Zt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Pn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new Zt((o,u)=>{this.nextCallback=f=>{this.wrapSuccess(e,f).next(o,u)},this.catchCallback=f=>{this.wrapFailure(r,f).next(o,u)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof Zt?r:Zt.resolve(r)}catch(r){return Zt.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):Zt.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):Zt.reject(r)}static resolve(e){return new Zt((r,o)=>{r(e)})}static reject(e){return new Zt((r,o)=>{o(e)})}static waitFor(e){return new Zt((r,o)=>{let u=0,f=0,_=!1;e.forEach(D=>{++u,D.next(()=>{++f,_&&f===u&&r()},G=>o(G))}),_=!0,f===u&&r()})}static or(e){let r=Zt.resolve(!1);for(const o of e)r=r.next(u=>u?Zt.resolve(u):o());return r}static forEach(e,r){const o=[];return e.forEach((u,f)=>{o.push(r.call(this,u,f))}),this.waitFor(o)}static mapArray(e,r){return new Zt((o,u)=>{const f=e.length,_=new Array(f);let D=0;for(let G=0;G<f;G++){const ne=G;r(e[ne]).next(ve=>{_[ne]=ve,++D,D===f&&o(_)},ve=>u(ve))}})}static doWhile(e,r){return new Zt((o,u)=>{const f=()=>{!0===e()?r().next(()=>{f()},u):o()};f()})}}class to{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.V=new Fi,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{r.error?this.V.reject(new wo(e,r.error)):this.V.resolve()},this.transaction.onerror=o=>{const u=cs(o.target.error);this.V.reject(new wo(e,u))}}static open(e,r,o,u){try{return new to(r,e.transaction(u,o))}catch(f){throw new wo(r,f)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Un("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const r=this.transaction.objectStore(e);return new us(r)}}class yo{constructor(e,r,o){this.name=e,this.version=r,this.p=o,12.2===yo.S((0,Ee.ZQ)())&&Kr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Un("SimpleDb","Removing database:",e),Ii(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,Ee.zW)())return!1;if(yo.v())return!0;const e=(0,Ee.ZQ)(),r=yo.S(e),o=0<r&&r<10,u=Ys(e),f=0<u&&u<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||f)}static v(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.C)}static F(e,r){return e.store(r)}static S(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(o)}M(e){var r=this;return(0,ce.A)(function*(){return r.db||(Un("SimpleDb","Opening database:",r.name),r.db=yield new Promise((o,u)=>{const f=indexedDB.open(r.name,r.version);f.onsuccess=_=>{o(_.target.result)},f.onblocked=()=>{u(new wo(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},f.onerror=_=>{const D=_.target.error;u("VersionError"===D.name?new Ln(pn.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===D.name?new Ln(pn.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+D):new wo(e,D))},f.onupgradeneeded=_=>{Un("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',_.oldVersion),r.p.O(_.target.result,f.transaction,_.oldVersion,r.version).next(()=>{Un("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.N&&(r.db.onversionchange=o=>r.N(o)),r.db})()}L(e){this.N=e,this.db&&(this.db.onversionchange=r=>e(r))}runTransaction(e,r,o,u){var f=this;return(0,ce.A)(function*(){const _="readonly"===r;let D=0;for(;;){++D;try{f.db=yield f.M(e);const G=to.open(f.db,e,_?"readonly":"readwrite",o),ne=u(G).next(ve=>(G.g(),ve)).catch(ve=>(G.abort(ve),Zt.reject(ve))).toPromise();return ne.catch(()=>{}),yield G.m,ne}catch(G){const ne=G,ve="FirebaseError"!==ne.name&&D<3;if(Un("SimpleDb","Transaction failed with error:",ne.message,"Retrying:",ve),f.close(),!ve)return Promise.reject(ne)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function Ys(a){const e=a.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}class ls{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Ii(this.B.delete())}}class wo extends Ln{constructor(e,r){super(pn.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function ko(a){return"IndexedDbTransactionError"===a.name}class us{constructor(e){this.store=e}put(e,r){let o;return void 0!==r?(Un("SimpleDb","PUT",this.store.name,e,r),o=this.store.put(r,e)):(Un("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),Ii(o)}add(e){return Un("SimpleDb","ADD",this.store.name,e,e),Ii(this.store.add(e))}get(e){return Ii(this.store.get(e)).next(r=>(void 0===r&&(r=null),Un("SimpleDb","GET",this.store.name,e,r),r))}delete(e){return Un("SimpleDb","DELETE",this.store.name,e),Ii(this.store.delete(e))}count(){return Un("SimpleDb","COUNT",this.store.name),Ii(this.store.count())}U(e,r){const o=this.options(e,r),u=o.index?this.store.index(o.index):this.store;if("function"==typeof u.getAll){const f=u.getAll(o.range);return new Zt((_,D)=>{f.onerror=G=>{D(G.target.error)},f.onsuccess=G=>{_(G.target.result)}})}{const f=this.cursor(o),_=[];return this.W(f,(D,G)=>{_.push(G)}).next(()=>_)}}G(e,r){const o=this.store.getAll(e,null===r?void 0:r);return new Zt((u,f)=>{o.onerror=_=>{f(_.target.error)},o.onsuccess=_=>{u(_.target.result)}})}j(e,r){Un("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,r);o.H=!1;const u=this.cursor(o);return this.W(u,(f,_,D)=>D.delete())}J(e,r){let o;r?o=e:(o={},r=e);const u=this.cursor(o);return this.W(u,r)}Y(e){const r=this.cursor({});return new Zt((o,u)=>{r.onerror=f=>{const _=cs(f.target.error);u(_)},r.onsuccess=f=>{const _=f.target.result;_?e(_.primaryKey,_.value).next(D=>{D?_.continue():o()}):o()}})}W(e,r){const o=[];return new Zt((u,f)=>{e.onerror=_=>{f(_.target.error)},e.onsuccess=_=>{const D=_.target.result;if(!D)return void u();const G=new ls(D),ne=r(D.primaryKey,D.value,G);if(ne instanceof Zt){const ve=ne.catch(Ve=>(G.done(),Zt.reject(Ve)));o.push(ve)}G.isDone?u():null===G.K?D.continue():D.continue(G.K)}}).next(()=>Zt.waitFor(o))}options(e,r){let o;return void 0!==e&&("string"==typeof e?o=e:r=e),{index:o,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const o=this.store.index(e.index);return e.H?o.openKeyCursor(e.range,r):o.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function Ii(a){return new Zt((e,r)=>{a.onsuccess=o=>{e(o.target.result)},a.onerror=o=>{const u=cs(o.target.error);r(u)}})}let Ho=!1;function cs(a){const e=yo.S((0,Ee.ZQ)());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(a.message.indexOf(r)>=0){const o=new Ln("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Ho||(Ho=!0,setTimeout(()=>{throw o},0)),o}}return a}class Xu{constructor(e,r){this.asyncQueue=e,this.Z=r,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){var r=this;Un("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,ce.A)(function*(){r.task=null;try{Un("IndexBackfiller",`Documents written: ${yield r.Z.ee()}`)}catch(o){ko(o)?Un("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",o):yield Li(o)}yield r.X(6e4)}))}}class Ma{constructor(e,r){this.localStore=e,this.persistence=r}ee(e=50){var r=this;return(0,ce.A)(function*(){return r.persistence.runTransaction("Backfill Indexes","readwrite-primary",o=>r.te(o,e))})()}te(e,r){const o=new Set;let u=r,f=!0;return Zt.doWhile(()=>!0===f&&u>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(_=>{if(null!==_&&!o.has(_))return Un("IndexBackfiller",`Processing collection: ${_}`),this.ne(e,_,u).next(D=>{u-=D,o.add(_)});f=!1})).next(()=>r-u)}ne(e,r,o){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,r).next(u=>this.localStore.localDocuments.getNextDocuments(e,r,u,o).next(f=>{const _=f.changes;return this.localStore.indexManager.updateIndexEntries(e,_).next(()=>this.re(u,f)).next(D=>(Un("IndexBackfiller",`Updating offset: ${D}`),this.localStore.indexManager.updateCollectionGroup(e,r,D))).next(()=>_.size)}))}re(e,r){let o=e;return r.changes.forEach((u,f)=>{const _=ni(f);Qr(_,o)>0&&(o=_)}),new Xr(o.readTime,o.documentKey,Math.max(r.batchId,e.largestBatchId))}}let pi=(()=>{class a{constructor(r,o){this.previousValue=r,o&&(o.sequenceNumberHandler=u=>this.ie(u),this.se=u=>o.writeSequenceNumber(u))}ie(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.se&&this.se(r),r}}return a.oe=-1,a})();function Ur(a){return null==a}function go(a){return 0===a&&1/a==-1/0}function Yo(a){return"number"==typeof a&&Number.isInteger(a)&&!go(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}function Ai(a){let e="";for(let r=0;r<a.length;r++)e.length>0&&(e=ws(e)),e=Pa(a.get(r),e);return ws(e)}function Pa(a,e){let r=e;const o=a.length;for(let u=0;u<o;u++){const f=a.charAt(u);switch(f){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=f}}return r}function ws(a){return a+"\x01\x01"}function ri(a){const e=a.length;if(Wn(e>=2),2===e)return Wn("\x01"===a.charAt(0)&&"\x01"===a.charAt(1)),et.emptyPath();const r=e-2,o=[];let u="";for(let f=0;f<e;){const _=a.indexOf("\x01",f);switch((_<0||_>r)&&Pn(),a.charAt(_+1)){case"\x01":const D=a.substring(f,_);let G;0===u.length?G=D:(u+=D,G=u,u=""),o.push(G);break;case"\x10":u+=a.substring(f,_),u+="\0";break;case"\x11":u+=a.substring(f,_+1);break;default:Pn()}f=_+2}return new et(o)}const Io=["userId","batchId"];function Fl(a,e){return[a,Ai(e)]}function La(a,e,r){return[a,Ai(e),r]}const za={},_l=["prefixPath","collectionGroup","readTime","documentId"],xa=["prefixPath","collectionGroup","documentId"],Vl=["collectionGroup","readTime","prefixPath","documentId"],qa=["canonicalId","targetId"],ii=["targetId","path"],Os=["path","targetId"],Bl=["collectionId","parent"],pu=["indexId","uid"],Wo=["uid","sequenceNumber"],Gl=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],gu=["indexId","uid","orderedDocumentKey"],ae=["userId","collectionPath","documentId"],W=["userId","collectionPath","largestBatchId"],Ae=["userId","collectionGroup","largestBatchId"],re=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],He=[...re,"documentOverlays"],Fn=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Rr=Fn,gi=[...Rr,"indexConfiguration","indexState","indexEntries"],Vi=gi,so=[...gi,"globals"];class zo extends po{constructor(e,r){super(),this._e=e,this.currentSequenceNumber=r}}function mi(a,e){const r=ir(a);return yo.F(r._e,e)}function ca(a){let e=0;for(const r in a)Object.prototype.hasOwnProperty.call(a,r)&&e++;return e}function qo(a,e){for(const r in a)Object.prototype.hasOwnProperty.call(a,r)&&e(r,a[r])}function Gr(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}class kr{constructor(e,r){this.comparator=e,this.root=r||_i.EMPTY}insert(e,r){return new kr(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,_i.BLACK,null,null))}remove(e){return new kr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_i.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return r.value;o<0?r=r.left:o>0&&(r=r.right)}return null}indexOf(e){let r=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(e,o.key);if(0===u)return r+o.left.size;u<0?o=o.left:(r+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,o)=>(e(r,o),!1))}toString(){const e=[];return this.inorderTraversal((r,o)=>(e.push(`${r}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bi(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bi(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bi(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bi(this.root,e,this.comparator,!0)}}class Bi{constructor(e,r,o,u){this.isReverse=u,this.nodeStack=[];let f=1;for(;!e.isEmpty();)if(f=r?o(e.key,r):1,r&&u&&(f*=-1),f<0)e=this.isReverse?e.left:e.right;else{if(0===f){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _i{constructor(e,r,o,u,f){this.key=e,this.value=r,this.color=null!=o?o:_i.RED,this.left=null!=u?u:_i.EMPTY,this.right=null!=f?f:_i.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,o,u,f){return new _i(null!=e?e:this.key,null!=r?r:this.value,null!=o?o:this.color,null!=u?u:this.left,null!=f?f:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,o){let u=this;const f=o(e,u.key);return u=f<0?u.copy(null,null,null,u.left.insert(e,r,o),null):0===f?u.copy(null,r,null,null,null):u.copy(null,null,null,null,u.right.insert(e,r,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return _i.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let o,u=this;if(r(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,r),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===r(e,u.key)){if(u.right.isEmpty())return _i.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,r))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_i.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_i.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Pn();const e=this.left.check();if(e!==this.right.check())throw Pn();return e+(this.isRed()?0:1)}}_i.EMPTY=null,_i.RED=!0,_i.BLACK=!1,_i.EMPTY=new class{constructor(){this.size=0}get key(){throw Pn()}get value(){throw Pn()}get color(){throw Pn()}get left(){throw Pn()}get right(){throw Pn()}copy(e,r,o,u,f){return this}insert(e,r,o){return new _i(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Fr{constructor(e){this.comparator=e,this.data=new kr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,o)=>(e(r),!1))}forEachInRange(e,r){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,e[1])>=0)return;r(u.key)}}forEachWhile(e,r){let o;for(o=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new El(this.data.getIterator())}getIteratorFrom(e){return new El(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(o=>{r=r.add(o)}),r}isEqual(e){if(!(e instanceof Fr)||this.size!==e.size)return!1;const r=this.data.getIterator(),o=e.data.getIterator();for(;r.hasNext();){const u=r.getNext().key,f=o.getNext().key;if(0!==this.comparator(u,f))return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Fr(this.comparator);return r.data=e,r}}class El{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function da(a){return a.hasNext()?a.getNext():void 0}class Oi{constructor(e){this.fields=e,e.sort(St.comparator)}static empty(){return new Oi([])}unionWith(e){let r=new Fr(St.comparator);for(const o of this.fields)r=r.add(o);for(const o of e)r=r.add(o);return new Oi(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Ue(this.fields,e.fields,(r,o)=>r.isEqual(o))}}class vl extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class bi{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(u){try{return atob(u)}catch(f){throw typeof DOMException<"u"&&f instanceof DOMException?new vl("Invalid base64 string: "+f):f}}(e);return new bi(r)}static fromUint8Array(e){const r=function(u){let f="";for(let _=0;_<u.length;++_)f+=String.fromCharCode(u[_]);return f}(e);return new bi(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const o=new Uint8Array(r.length);for(let u=0;u<r.length;u++)o[u]=r.charCodeAt(u);return o}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bi.EMPTY_BYTE_STRING=new bi("");const Qu=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bs(a){if(Wn(!!a),"string"==typeof a){let e=0;const r=Qu.exec(a);if(Wn(!!r),r[1]){let u=r[1];u=(u+"000000000").substr(0,9),e=Number(u)}const o=new Date(a);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Si(a.seconds),nanos:Si(a.nanos)}}function Si(a){return"number"==typeof a?a:"string"==typeof a?Number(a):0}function ds(a){return"string"==typeof a?bi.fromBase64String(a):bi.fromUint8Array(a)}function Zu(a){var e,r;return"server_timestamp"===(null===(r=((null===(e=null==a?void 0:a.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function Ws(a){const e=a.mapValue.fields.__previous_value__;return Zu(e)?Ws(e):e}function $l(a){const e=bs(a.mapValue.fields.__local_write_time__.timestampValue);return new L(e.seconds,e.nanos)}class Kl{constructor(e,r,o,u,f,_,D,G,ne){this.databaseId=e,this.appId=r,this.persistenceKey=o,this.host=u,this.ssl=f,this.forceLongPolling=_,this.autoDetectLongPolling=D,this.longPollingOptions=G,this.useFetchStreams=ne}}class hs{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new hs("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof hs&&e.projectId===this.projectId&&e.database===this.database}}const zs={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},fs={nullValue:"NULL_VALUE"};function qs(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Zu(a)?4:ec(a)?9007199254740991:Xo(a)?10:11:Pn()}function Oo(a,e){if(a===e)return!0;const r=qs(a);if(r!==qs(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return $l(a).isEqual($l(e));case 3:return function(u,f){if("string"==typeof u.timestampValue&&"string"==typeof f.timestampValue&&u.timestampValue.length===f.timestampValue.length)return u.timestampValue===f.timestampValue;const _=bs(u.timestampValue),D=bs(f.timestampValue);return _.seconds===D.seconds&&_.nanos===D.nanos}(a,e);case 5:return a.stringValue===e.stringValue;case 6:return f=e,ds(a.bytesValue).isEqual(ds(f.bytesValue));case 7:return a.referenceValue===e.referenceValue;case 8:return function(u,f){return Si(u.geoPointValue.latitude)===Si(f.geoPointValue.latitude)&&Si(u.geoPointValue.longitude)===Si(f.geoPointValue.longitude)}(a,e);case 2:return function(u,f){if("integerValue"in u&&"integerValue"in f)return Si(u.integerValue)===Si(f.integerValue);if("doubleValue"in u&&"doubleValue"in f){const _=Si(u.doubleValue),D=Si(f.doubleValue);return _===D?go(_)===go(D):isNaN(_)&&isNaN(D)}return!1}(a,e);case 9:return Ue(a.arrayValue.values||[],e.arrayValue.values||[],Oo);case 10:case 11:return function(u,f){const _=u.mapValue.fields||{},D=f.mapValue.fields||{};if(ca(_)!==ca(D))return!1;for(const G in _)if(_.hasOwnProperty(G)&&(void 0===D[G]||!Oo(_[G],D[G])))return!1;return!0}(a,e);default:return Pn()}var f}function Ua(a,e){return void 0!==(a.values||[]).find(r=>Oo(r,e))}function Xs(a,e){if(a===e)return 0;const r=qs(a),o=qs(e);if(r!==o)return le(r,o);switch(r){case 0:case 9007199254740991:return 0;case 1:return le(a.booleanValue,e.booleanValue);case 2:return function(f,_){const D=Si(f.integerValue||f.doubleValue),G=Si(_.integerValue||_.doubleValue);return D<G?-1:D>G?1:D===G?0:isNaN(D)?isNaN(G)?0:-1:1}(a,e);case 3:return yl(a.timestampValue,e.timestampValue);case 4:return yl($l(a),$l(e));case 5:return le(a.stringValue,e.stringValue);case 6:return function(f,_){const D=ds(f),G=ds(_);return D.compareTo(G)}(a.bytesValue,e.bytesValue);case 7:return function(f,_){const D=f.split("/"),G=_.split("/");for(let ne=0;ne<D.length&&ne<G.length;ne++){const ve=le(D[ne],G[ne]);if(0!==ve)return ve}return le(D.length,G.length)}(a.referenceValue,e.referenceValue);case 8:return function(f,_){const D=le(Si(f.latitude),Si(_.latitude));return 0!==D?D:le(Si(f.longitude),Si(_.longitude))}(a.geoPointValue,e.geoPointValue);case 9:return Fa(a.arrayValue,e.arrayValue);case 10:return function(f,_){var D,G,ne,ve;const Lt=null===(D=(f.fields||{}).value)||void 0===D?void 0:D.arrayValue,qt=null===(G=(_.fields||{}).value)||void 0===G?void 0:G.arrayValue,yn=le((null===(ne=null==Lt?void 0:Lt.values)||void 0===ne?void 0:ne.length)||0,(null===(ve=null==qt?void 0:qt.values)||void 0===ve?void 0:ve.length)||0);return 0!==yn?yn:Fa(Lt,qt)}(a.mapValue,e.mapValue);case 11:return function(f,_){if(f===zs.mapValue&&_===zs.mapValue)return 0;if(f===zs.mapValue)return 1;if(_===zs.mapValue)return-1;const D=f.fields||{},G=Object.keys(D),ne=_.fields||{},ve=Object.keys(ne);G.sort(),ve.sort();for(let Ve=0;Ve<G.length&&Ve<ve.length;++Ve){const at=le(G[Ve],ve[Ve]);if(0!==at)return at;const Lt=Xs(D[G[Ve]],ne[ve[Ve]]);if(0!==Lt)return Lt}return le(G.length,ve.length)}(a.mapValue,e.mapValue);default:throw Pn()}}function yl(a,e){if("string"==typeof a&&"string"==typeof e&&a.length===e.length)return le(a,e);const r=bs(a),o=bs(e),u=le(r.seconds,o.seconds);return 0!==u?u:le(r.nanos,o.nanos)}function Fa(a,e){const r=a.values||[],o=e.values||[];for(let u=0;u<r.length&&u<o.length;++u){const f=Xs(r[u],o[u]);if(f)return f}return le(r.length,o.length)}function Co(a){return bo(a)}function bo(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(r){const o=bs(r);return`time(${o.seconds},${o.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?ds(a.bytesValue).toBase64():"referenceValue"in a?Vt.fromName(a.referenceValue).toString():"geoPointValue"in a?function(r){return`geo(${r.latitude},${r.longitude})`}(a.geoPointValue):"arrayValue"in a?function(r){let o="[",u=!0;for(const f of r.values||[])u?u=!1:o+=",",o+=bo(f);return o+"]"}(a.arrayValue):"mapValue"in a?function(r){const o=Object.keys(r.fields||{}).sort();let u="{",f=!0;for(const _ of o)f?f=!1:u+=",",u+=`${_}:${bo(r.fields[_])}`;return u+"}"}(a.mapValue):Pn()}function Ns(a,e){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${e.path.canonicalString()}`}}function Ba(a){return!!a&&"integerValue"in a}function Ga(a){return!!a&&"arrayValue"in a}function $a(a){return!!a&&"nullValue"in a}function Xa(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function jl(a){return!!a&&"mapValue"in a}function Xo(a){var e,r;return"__vector__"===(null===(r=((null===(e=null==a?void 0:a.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function ps(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&"object"==typeof a.timestampValue)return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){const e={mapValue:{fields:{}}};return qo(a.mapValue.fields,(r,o)=>e.mapValue.fields[r]=ps(o)),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(a.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=ps(a.arrayValue.values[r]);return e}return Object.assign({},a)}function ec(a){return"__max__"===(((a.mapValue||{}).fields||{}).__type__||{}).stringValue}const mu={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function U(a){return"nullValue"in a?fs:"booleanValue"in a?{booleanValue:!1}:"integerValue"in a||"doubleValue"in a?{doubleValue:NaN}:"timestampValue"in a?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in a?{stringValue:""}:"bytesValue"in a?{bytesValue:""}:"referenceValue"in a?Ns(hs.empty(),Vt.empty()):"geoPointValue"in a?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in a?{arrayValue:{}}:"mapValue"in a?Xo(a)?mu:{mapValue:{}}:Pn()}function ie(a){return"nullValue"in a?{booleanValue:!1}:"booleanValue"in a?{doubleValue:NaN}:"integerValue"in a||"doubleValue"in a?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in a?{stringValue:""}:"stringValue"in a?{bytesValue:""}:"bytesValue"in a?Ns(hs.empty(),Vt.empty()):"referenceValue"in a?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in a?{arrayValue:{}}:"arrayValue"in a?mu:"mapValue"in a?Xo(a)?{mapValue:{}}:zs:Pn()}function nt(a,e){const r=Xs(a.value,e.value);return 0!==r?r:a.inclusive&&!e.inclusive?-1:!a.inclusive&&e.inclusive?1:0}function te(a,e){const r=Xs(a.value,e.value);return 0!==r?r:a.inclusive&&!e.inclusive?1:!a.inclusive&&e.inclusive?-1:0}class Oe{constructor(e){this.value=e}static empty(){return new Oe({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let o=0;o<e.length-1;++o)if(r=(r.mapValue.fields||{})[e.get(o)],!jl(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=ps(r)}setAll(e){let r=St.emptyPath(),o={},u=[];e.forEach((_,D)=>{if(!r.isImmediateParentOf(D)){const G=this.getFieldsMap(r);this.applyChanges(G,o,u),o={},u=[],r=D.popLast()}_?o[D.lastSegment()]=ps(_):u.push(D.lastSegment())});const f=this.getFieldsMap(r);this.applyChanges(f,o,u)}delete(e){const r=this.field(e.popLast());jl(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Oo(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let o=0;o<e.length;++o){let u=r.mapValue.fields[e.get(o)];jl(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},r.mapValue.fields[e.get(o)]=u),r=u}return r.mapValue.fields}applyChanges(e,r,o){qo(r,(u,f)=>e[u]=f);for(const u of o)delete e[u]}clone(){return new Oe(ps(this.value))}}function dt(a){const e=[];return qo(a.fields,(r,o)=>{const u=new St([r]);if(jl(o)){const f=dt(o.mapValue).fields;if(0===f.length)e.push(u);else for(const _ of f)e.push(u.child(_))}else e.push(u)}),new Oi(e)}class ln{constructor(e,r,o,u,f,_,D){this.key=e,this.documentType=r,this.version=o,this.readTime=u,this.createTime=f,this.data=_,this.documentState=D}static newInvalidDocument(e){return new ln(e,0,q.min(),q.min(),q.min(),Oe.empty(),0)}static newFoundDocument(e,r,o,u){return new ln(e,1,r,q.min(),o,u,0)}static newNoDocument(e,r){return new ln(e,2,r,q.min(),q.min(),Oe.empty(),0)}static newUnknownDocument(e,r){return new ln(e,3,r,q.min(),q.min(),Oe.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(q.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Oe.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Oe.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=q.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Bn{constructor(e,r){this.position=e,this.inclusive=r}}function Or(a,e,r){let o=0;for(let u=0;u<a.position.length;u++){const f=e[u],_=a.position[u];if(o=f.field.isKeyField()?Vt.comparator(Vt.fromName(_.referenceValue),r.key):Xs(_,r.data.field(f.field)),"desc"===f.dir&&(o*=-1),0!==o)break}return o}function Zr(a,e){if(null===a)return null===e;if(null===e||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let r=0;r<a.position.length;r++)if(!Oo(a.position[r],e.position[r]))return!1;return!0}class Hr{constructor(e,r="asc"){this.field=e,this.dir=r}}function Yr(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}class Ei{}class Sr extends Ei{constructor(e,r,o){super(),this.field=e,this.op=r,this.value=o}static create(e,r,o){return e.isKeyField()?"in"===r||"not-in"===r?this.createKeyFieldInFilter(e,r,o):new ha(e,r,o):"array-contains"===r?new Nr(e,o):"in"===r?new Ja(e,o):"not-in"===r?new Js(e,o):"array-contains-any"===r?new Hl(e,o):new Sr(e,r,o)}static createKeyFieldInFilter(e,r,o){return"in"===r?new Ti(e,o):new Gi(e,o)}matches(e){const r=e.data.field(this.field);return"!="===this.op?null!==r&&this.matchesComparison(Xs(r,this.value)):null!==r&&qs(this.value)===qs(r)&&this.matchesComparison(Xs(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Pn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class br extends Ei{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new br(e,r)}matches(e){return vi(this)?void 0===this.filters.find(r=>!r.matches(e)):void 0!==this.filters.find(r=>r.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function vi(a){return"and"===a.op}function $r(a){return"or"===a.op}function Yn(a){return Ir(a)&&vi(a)}function Ir(a){for(const e of a.filters)if(e instanceof br)return!1;return!0}function Ri(a){if(a instanceof Sr)return a.field.canonicalString()+a.op.toString()+Co(a.value);if(Yn(a))return a.filters.map(e=>Ri(e)).join(",");{const e=a.filters.map(r=>Ri(r)).join(",");return`${a.op}(${e})`}}function no(a,e){return a instanceof Sr?(o=a,(u=e)instanceof Sr&&o.op===u.op&&o.field.isEqual(u.field)&&Oo(o.value,u.value)):a instanceof br?function(o,u){return u instanceof br&&o.op===u.op&&o.filters.length===u.filters.length&&o.filters.reduce((f,_,D)=>f&&no(_,u.filters[D]),!0)}(a,e):void Pn();var o,u}function Ni(a,e){const r=a.filters.concat(e);return br.create(r,a.op)}function ao(a){return a instanceof Sr?`${(r=a).field.canonicalString()} ${r.op} ${Co(r.value)}`:a instanceof br?function(r){return r.op.toString()+" {"+r.getFilters().map(ao).join(" ,")+"}"}(a):"Filter";var r}class ha extends Sr{constructor(e,r,o){super(e,r,o),this.key=Vt.fromName(o.referenceValue)}matches(e){const r=Vt.comparator(e.key,this.key);return this.matchesComparison(r)}}class Ti extends Sr{constructor(e,r){super(e,"in",r),this.keys=Ms(0,r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class Gi extends Sr{constructor(e,r){super(e,"not-in",r),this.keys=Ms(0,r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function Ms(a,e){var r;return((null===(r=e.arrayValue)||void 0===r?void 0:r.values)||[]).map(o=>Vt.fromName(o.referenceValue))}class Nr extends Sr{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return Ga(r)&&Ua(r.arrayValue,this.value)}}class Ja extends Sr{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return null!==r&&Ua(this.value.arrayValue,r)}}class Js extends Sr{constructor(e,r){super(e,"not-in",r)}matches(e){if(Ua(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return null!==r&&!Ua(this.value.arrayValue,r)}}class Hl extends Sr{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!Ga(r)||!r.arrayValue.values)&&r.arrayValue.values.some(o=>Ua(this.value.arrayValue,o))}}class qi{constructor(e,r=null,o=[],u=[],f=null,_=null,D=null){this.path=e,this.collectionGroup=r,this.orderBy=o,this.filters=u,this.limit=f,this.startAt=_,this.endAt=D,this.ue=null}}function Qs(a,e=null,r=[],o=[],u=null,f=null,_=null){return new qi(a,e,r,o,u,f,_)}function fa(a){const e=ir(a);if(null===e.ue){let r=e.path.canonicalString();null!==e.collectionGroup&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(o=>Ri(o)).join(","),r+="|ob:",r+=e.orderBy.map(o=>{return(f=o).field.canonicalString()+f.dir;var f}).join(","),Ur(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(o=>Co(o)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(o=>Co(o)).join(",")),e.ue=r}return e.ue}function Xi(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<a.orderBy.length;r++)if(!Yr(a.orderBy[r],e.orderBy[r]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let r=0;r<a.filters.length;r++)if(!no(a.filters[r],e.filters[r]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!Zr(a.startAt,e.startAt)&&Zr(a.endAt,e.endAt)}function pa(a){return Vt.isDocumentKey(a.path)&&null===a.collectionGroup&&0===a.filters.length}function Il(a,e){return a.filters.filter(r=>r instanceof Sr&&r.field.isEqual(e))}function gs(a,e,r){let o=fs,u=!0;for(const f of Il(a,e)){let _=fs,D=!0;switch(f.op){case"<":case"<=":_=U(f.value);break;case"==":case"in":case">=":_=f.value;break;case">":_=f.value,D=!1;break;case"!=":case"not-in":_=fs}nt({value:o,inclusive:u},{value:_,inclusive:D})<0&&(o=_,u=D)}if(null!==r)for(let f=0;f<a.orderBy.length;++f)if(a.orderBy[f].field.isEqual(e)){const _=r.position[f];nt({value:o,inclusive:u},{value:_,inclusive:r.inclusive})<0&&(o=_,u=r.inclusive);break}return{value:o,inclusive:u}}function Yl(a,e,r){let o=zs,u=!0;for(const f of Il(a,e)){let _=zs,D=!0;switch(f.op){case">=":case">":_=ie(f.value),D=!1;break;case"==":case"in":case"<=":_=f.value;break;case"<":_=f.value,D=!1;break;case"!=":case"not-in":_=zs}te({value:o,inclusive:u},{value:_,inclusive:D})>0&&(o=_,u=D)}if(null!==r)for(let f=0;f<a.orderBy.length;++f)if(a.orderBy[f].field.isEqual(e)){const _=r.position[f];te({value:o,inclusive:u},{value:_,inclusive:r.inclusive})>0&&(o=_,u=r.inclusive);break}return{value:o,inclusive:u}}class ei{constructor(e,r=null,o=[],u=[],f=null,_="F",D=null,G=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=o,this.filters=u,this.limit=f,this.limitType=_,this.startAt=D,this.endAt=G,this.ce=null,this.le=null,this.he=null}}function Tr(a,e,r,o,u,f,_,D){return new ei(a,e,r,o,u,f,_,D)}function ga(a){return new ei(a)}function _u(a){return 0===a.filters.length&&null===a.limit&&null==a.startAt&&null==a.endAt&&(0===a.explicitOrderBy.length||1===a.explicitOrderBy.length&&a.explicitOrderBy[0].field.isKeyField())}function ms(a){return null!==a.collectionGroup}function Qa(a){const e=ir(a);if(null===e.ce){e.ce=[];const r=new Set;for(const f of e.explicitOrderBy)e.ce.push(f),r.add(f.field.canonicalString());const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(_){let D=new Fr(St.comparator);return _.filters.forEach(G=>{G.getFlattenedFilters().forEach(ne=>{ne.isInequality()&&(D=D.add(ne.field))})}),D})(e).forEach(f=>{r.has(f.canonicalString())||f.isKeyField()||e.ce.push(new Hr(f,o))}),r.has(St.keyField().canonicalString())||e.ce.push(new Hr(St.keyField(),o))}return e.ce}function ro(a){const e=ir(a);return e.le||(e.le=function tc(a,e){if("F"===a.limitType)return Qs(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map(u=>new Hr(u.field,"desc"===u.dir?"asc":"desc"));const r=a.endAt?new Bn(a.endAt.position,a.endAt.inclusive):null,o=a.startAt?new Bn(a.startAt.position,a.startAt.inclusive):null;return Qs(a.path,a.collectionGroup,e,a.filters,a.limit,r,o)}}(e,Qa(a))),e.le}function xi(a,e){const r=a.filters.concat([e]);return new ei(a.path,a.collectionGroup,a.explicitOrderBy.slice(),r,a.limit,a.limitType,a.startAt,a.endAt)}function lo(a,e,r){return new ei(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,r,a.startAt,a.endAt)}function Zs(a,e){return Xi(ro(a),ro(e))&&a.limitType===e.limitType}function ea(a){return`${fa(ro(a))}|lt:${a.limitType}`}function Ka(a){return`Query(target=${function(r){let o=r.path.canonicalString();return null!==r.collectionGroup&&(o+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(o+=`, filters: [${r.filters.map(u=>ao(u)).join(", ")}]`),Ur(r.limit)||(o+=", limit: "+r.limit),r.orderBy.length>0&&(o+=`, orderBy: [${r.orderBy.map(u=>{return`${(_=u).field.canonicalString()} (${_.dir})`;var _}).join(", ")}]`),r.startAt&&(o+=", startAt: ",o+=r.startAt.inclusive?"b:":"a:",o+=r.startAt.position.map(u=>Co(u)).join(",")),r.endAt&&(o+=", endAt: ",o+=r.endAt.inclusive?"a:":"b:",o+=r.endAt.position.map(u=>Co(u)).join(",")),`Target(${o})`}(ro(a))}; limitType=${a.limitType})`}function To(a,e){return e.isFoundDocument()&&function(o,u){const f=u.key.path;return null!==o.collectionGroup?u.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(f):Vt.isDocumentKey(o.path)?o.path.isEqual(f):o.path.isImmediateParentOf(f)}(a,e)&&function(o,u){for(const f of Qa(o))if(!f.field.isKeyField()&&null===u.data.field(f.field))return!1;return!0}(a,e)&&function(o,u){for(const f of o.filters)if(!f.matches(u))return!1;return!0}(a,e)&&(u=e,!((o=a).startAt&&!function(_,D,G){const ne=Or(_,D,G);return _.inclusive?ne<=0:ne<0}(o.startAt,Qa(o),u)||o.endAt&&!function(_,D,G){const ne=Or(_,D,G);return _.inclusive?ne>=0:ne>0}(o.endAt,Qa(o),u)));var o,u}function Cl(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function Eu(a){return(e,r)=>{let o=!1;for(const u of Qa(a)){const f=rh(u,e,r);if(0!==f)return f;o=o||u.field.isKeyField()}return 0}}function rh(a,e,r){const o=a.field.isKeyField()?Vt.comparator(e.key,r.key):function(f,_,D){const G=_.data.field(f),ne=D.data.field(f);return null!==G&&null!==ne?Xs(G,ne):Pn()}(a.field,e,r);switch(a.dir){case"asc":return o;case"desc":return-1*o;default:return Pn()}}class _s{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0!==o)for(const[u,f]of o)if(this.equalsFn(u,e))return f}has(e){return void 0!==this.get(e)}set(e,r){const o=this.mapKeyFn(e),u=this.inner[o];if(void 0===u)return this.inner[o]=[[e,r]],void this.innerSize++;for(let f=0;f<u.length;f++)if(this.equalsFn(u[f][0],e))return void(u[f]=[e,r]);u.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return 1===o.length?delete this.inner[r]:o.splice(u,1),this.innerSize--,!0;return!1}forEach(e){qo(this.inner,(r,o)=>{for(const[u,f]of o)e(u,f)})}isEmpty(){return Gr(this.inner)}size(){return this.innerSize}}const ih=new kr(Vt.comparator);function Es(){return ih}const qc=new kr(Vt.comparator);function oh(...a){let e=qc;for(const r of a)e=e.insert(r.key,r);return e}function vu(a){let e=qc;return a.forEach((r,o)=>e=e.insert(r,o.overlayedDocument)),e}function Za(){return V()}function b(){return V()}function V(){return new _s(a=>a.toString(),(a,e)=>a.isEqual(e))}const J=new kr(Vt.comparator),B=new Fr(Vt.comparator);function z(...a){let e=B;for(const r of a)e=e.add(r);return e}const Le=new Fr(le);function Ge(){return Le}function Jt(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:go(e)?"-0":e}}function Dn(a){return{integerValue:""+a}}function nn(a,e){return Yo(e)?Dn(e):Jt(a,e)}class lr{constructor(){this._=void 0}}function Pr(a,e,r){return a instanceof Mi?function(u,f){const _={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return f&&Zu(f)&&(f=Ws(f)),f&&(_.fields.__previous_value__=f),{mapValue:_}}(r,e):a instanceof uo?Uo(a,e):a instanceof Fo?Jo(a,e):function(u,f){const _=Vr(u,f),D=nc(_)+nc(u.Pe);return Ba(_)&&Ba(u.Pe)?Dn(D):Jt(u.serializer,D)}(a,e)}function ci(a,e,r){return a instanceof uo?Uo(a,e):a instanceof Fo?Jo(a,e):r}function Vr(a,e){return a instanceof ta?Ba(o=e)||(f=o)&&"doubleValue"in f?e:{integerValue:0}:null;var o,f}class Mi extends lr{}class uo extends lr{constructor(e){super(),this.elements=e}}function Uo(a,e){const r=Sl(e);for(const o of a.elements)r.some(u=>Oo(u,o))||r.push(o);return{arrayValue:{values:r}}}class Fo extends lr{constructor(e){super(),this.elements=e}}function Jo(a,e){let r=Sl(e);for(const o of a.elements)r=r.filter(u=>!Oo(u,o));return{arrayValue:{values:r}}}class ta extends lr{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function nc(a){return Si(a.integerValue||a.doubleValue)}function Sl(a){return Ga(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}class Wl{constructor(e,r){this.field=e,this.transform=r}}class rc{constructor(e,r){this.version=e,this.transformResults=r}}class $i{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new $i}static exists(e){return new $i(void 0,e)}static updateTime(e){return new $i(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function na(a,e){return void 0!==a.updateTime?e.isFoundDocument()&&e.version.isEqual(a.updateTime):void 0===a.exists||a.exists===e.isFoundDocument()}class yu{}function Iu(a,e){if(!a.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return a.isNoDocument()?new el(a.key,$i.none()):new ic(a.key,a.data,$i.none());{const r=a.data,o=Oe.empty();let u=new Fr(St.comparator);for(let f of e.fields)if(!u.has(f)){let _=r.field(f);null===_&&f.length>1&&(f=f.popLast(),_=r.field(f)),null===_?o.delete(f):o.set(f,_),u=u.add(f)}return new vs(a.key,o,new Oi(u.toArray()),$i.none())}}function ti(a,e,r){a instanceof ic?function(u,f,_){const D=u.value.clone(),G=Ps(u.fieldTransforms,f,_.transformResults);D.setAll(G),f.convertToFoundDocument(_.version,D).setHasCommittedMutations()}(a,e,r):a instanceof vs?function(u,f,_){if(!na(u.precondition,f))return void f.convertToUnknownDocument(_.version);const D=Ps(u.fieldTransforms,f,_.transformResults),G=f.data;G.setAll(Al(u)),G.setAll(D),f.convertToFoundDocument(_.version,G).setHasCommittedMutations()}(a,e,r):e.convertToNoDocument(r.version).setHasCommittedMutations()}function Tl(a,e,r,o){return a instanceof ic?function(f,_,D,G){if(!na(f.precondition,_))return D;const ne=f.value.clone(),ve=Ng(f.fieldTransforms,G,_);return ne.setAll(ve),_.convertToFoundDocument(_.version,ne).setHasLocalMutations(),null}(a,e,r,o):a instanceof vs?function(f,_,D,G){if(!na(f.precondition,_))return D;const ne=Ng(f.fieldTransforms,G,_),ve=_.data;return ve.setAll(Al(f)),ve.setAll(ne),_.convertToFoundDocument(_.version,ve).setHasLocalMutations(),null===D?null:D.unionWith(f.fieldMask.fields).unionWith(f.fieldTransforms.map(Ve=>Ve.field))}(a,e,r,o):(D=r,na(a.precondition,_=e)?(_.convertToNoDocument(_.version).setHasLocalMutations(),null):D);var _,D}function Xc(a,e){let r=null;for(const o of a.fieldTransforms){const u=e.data.field(o.field),f=Vr(o.transform,u||null);null!=f&&(null===r&&(r=Oe.empty()),r.set(o.field,f))}return r||null}function Qo(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&(u=e.fieldTransforms,!!(void 0===(o=a.fieldTransforms)&&void 0===u||o&&u&&Ue(o,u,(f,_)=>function zl(a,e){return a.field.isEqual(e.field)&&(u=e.transform,(o=a.transform)instanceof uo&&u instanceof uo||o instanceof Fo&&u instanceof Fo?Ue(o.elements,u.elements,Oo):o instanceof ta&&u instanceof ta?Oo(o.Pe,u.Pe):o instanceof Mi&&u instanceof Mi);var o,u}(f,_))))&&(0===a.type?a.value.isEqual(e.value):1!==a.type||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask));var o,u}class ic extends yu{constructor(e,r,o,u=[]){super(),this.key=e,this.value=r,this.precondition=o,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class vs extends yu{constructor(e,r,o,u,f=[]){super(),this.key=e,this.data=r,this.fieldMask=o,this.precondition=u,this.fieldTransforms=f,this.type=1}getFieldMask(){return this.fieldMask}}function Al(a){const e=new Map;return a.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const o=a.data.field(r);e.set(r,o)}}),e}function Ps(a,e,r){const o=new Map;Wn(a.length===r.length);for(let u=0;u<r.length;u++){const f=a[u],_=f.transform,D=e.data.field(f.field);o.set(f.field,ci(_,D,r[u]))}return o}function Ng(a,e,r){const o=new Map;for(const u of a){const f=u.transform,_=r.data.field(u.field);o.set(u.field,Pr(f,_,e))}return o}class el extends yu{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Hf extends yu{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Zo{constructor(e,r,o,u){this.batchId=e,this.localWriteTime=r,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(e,r){const o=r.mutationResults;for(let u=0;u<this.mutations.length;u++){const f=this.mutations[u];f.key.isEqual(e.key)&&ti(f,e,o[u])}}applyToLocalView(e,r){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(r=Tl(o,e,r,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(r=Tl(o,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const o=b();return this.mutations.forEach(u=>{const f=e.get(u.key),_=f.overlayedDocument;let D=this.applyToLocalView(_,f.mutatedFields);D=r.has(u.key)?null:D;const G=Iu(_,D);null!==G&&o.set(u.key,G),_.isValidDocument()||_.convertToNoDocument(q.min())}),o}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),z())}isEqual(e){return this.batchId===e.batchId&&Ue(this.mutations,e.mutations,(r,o)=>Qo(r,o))&&Ue(this.baseMutations,e.baseMutations,(r,o)=>Qo(r,o))}}class sh{constructor(e,r,o,u){this.batch=e,this.commitVersion=r,this.mutationResults=o,this.docVersions=u}static from(e,r,o){Wn(e.mutations.length===o.length);let u=function(){return J}();const f=e.mutations;for(let _=0;_<f.length;_++)u=u.insert(f[_].key,o[_].version);return new sh(e,r,o,u)}}class oc{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class ah{constructor(e,r){this.count=e,this.unchangedNames=r}}var Ki,oi;function Qc(a){switch(a){default:return Pn();case pn.CANCELLED:case pn.UNKNOWN:case pn.DEADLINE_EXCEEDED:case pn.RESOURCE_EXHAUSTED:case pn.INTERNAL:case pn.UNAVAILABLE:case pn.UNAUTHENTICATED:return!1;case pn.INVALID_ARGUMENT:case pn.NOT_FOUND:case pn.ALREADY_EXISTS:case pn.PERMISSION_DENIED:case pn.FAILED_PRECONDITION:case pn.ABORTED:case pn.OUT_OF_RANGE:case pn.UNIMPLEMENTED:case pn.DATA_LOSS:return!0}}function sc(a){if(void 0===a)return Kr("GRPC error has no .code"),pn.UNKNOWN;switch(a){case Ki.OK:return pn.OK;case Ki.CANCELLED:return pn.CANCELLED;case Ki.UNKNOWN:return pn.UNKNOWN;case Ki.DEADLINE_EXCEEDED:return pn.DEADLINE_EXCEEDED;case Ki.RESOURCE_EXHAUSTED:return pn.RESOURCE_EXHAUSTED;case Ki.INTERNAL:return pn.INTERNAL;case Ki.UNAVAILABLE:return pn.UNAVAILABLE;case Ki.UNAUTHENTICATED:return pn.UNAUTHENTICATED;case Ki.INVALID_ARGUMENT:return pn.INVALID_ARGUMENT;case Ki.NOT_FOUND:return pn.NOT_FOUND;case Ki.ALREADY_EXISTS:return pn.ALREADY_EXISTS;case Ki.PERMISSION_DENIED:return pn.PERMISSION_DENIED;case Ki.FAILED_PRECONDITION:return pn.FAILED_PRECONDITION;case Ki.ABORTED:return pn.ABORTED;case Ki.OUT_OF_RANGE:return pn.OUT_OF_RANGE;case Ki.UNIMPLEMENTED:return pn.UNIMPLEMENTED;case Ki.DATA_LOSS:return pn.DATA_LOSS;default:return Pn()}}(oi=Ki||(Ki={}))[oi.OK=0]="OK",oi[oi.CANCELLED=1]="CANCELLED",oi[oi.UNKNOWN=2]="UNKNOWN",oi[oi.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",oi[oi.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",oi[oi.NOT_FOUND=5]="NOT_FOUND",oi[oi.ALREADY_EXISTS=6]="ALREADY_EXISTS",oi[oi.PERMISSION_DENIED=7]="PERMISSION_DENIED",oi[oi.UNAUTHENTICATED=16]="UNAUTHENTICATED",oi[oi.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",oi[oi.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",oi[oi.ABORTED=10]="ABORTED",oi[oi.OUT_OF_RANGE=11]="OUT_OF_RANGE",oi[oi.UNIMPLEMENTED=12]="UNIMPLEMENTED",oi[oi.INTERNAL=13]="INTERNAL",oi[oi.UNAVAILABLE=14]="UNAVAILABLE",oi[oi.DATA_LOSS=15]="DATA_LOSS";function Lr(){return new TextEncoder}const lh=new wn([4294967295,4294967295],0);function ac(a){const e=Lr().encode(a),r=new tr;return r.update(e),new Uint8Array(r.digest())}function uh(a){const e=new DataView(a.buffer),r=e.getUint32(0,!0),o=e.getUint32(4,!0),u=e.getUint32(8,!0),f=e.getUint32(12,!0);return[new wn([r,o],0),new wn([u,f],0)]}class Yf{constructor(e,r,o){if(this.bitmap=e,this.padding=r,this.hashCount=o,r<0||r>=8)throw new Zc(`Invalid padding: ${r}`);if(o<0)throw new Zc(`Invalid hash count: ${o}`);if(e.length>0&&0===this.hashCount)throw new Zc(`Invalid hash count: ${o}`);if(0===e.length&&0!==r)throw new Zc(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=wn.fromNumber(this.Ie)}Ee(e,r,o){let u=e.add(r.multiply(wn.fromNumber(o)));return 1===u.compare(lh)&&(u=new wn([u.getBits(0),u.getBits(1)],0)),u.modulo(this.Te).toNumber()}de(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const r=ac(e),[o,u]=uh(r);for(let f=0;f<this.hashCount;f++){const _=this.Ee(o,u,f);if(!this.de(_))return!1}return!0}static create(e,r,o){const u=e%8==0?0:8-e%8,f=new Uint8Array(Math.ceil(e/8)),_=new Yf(f,u,r);return o.forEach(D=>_.insert(D)),_}insert(e){if(0===this.Ie)return;const r=ac(e),[o,u]=uh(r);for(let f=0;f<this.hashCount;f++){const _=this.Ee(o,u,f);this.Ae(_)}}Ae(e){const r=Math.floor(e/8);this.bitmap[r]|=1<<e%8}}class Zc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ed{constructor(e,r,o,u,f){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=f}static createSynthesizedRemoteEventForCurrentChange(e,r,o){const u=new Map;return u.set(e,Cu.createSynthesizedTargetChangeForCurrentChange(e,r,o)),new ed(q.min(),u,new kr(le),Es(),z())}}class Cu{constructor(e,r,o,u,f){this.resumeToken=e,this.current=r,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=f}static createSynthesizedTargetChangeForCurrentChange(e,r,o){return new Cu(o,r,z(),z(),z())}}class td{constructor(e,r,o,u){this.Re=e,this.removedTargetIds=r,this.key=o,this.Ve=u}}class ql{constructor(e,r){this.targetId=e,this.me=r}}class ch{constructor(e,r,o=bi.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=r,this.resumeToken=o,this.cause=u}}class Mg{constructor(){this.fe=0,this.ge=Pg(),this.pe=bi.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=z(),r=z(),o=z();return this.ge.forEach((u,f)=>{switch(f){case 0:e=e.add(u);break;case 2:r=r.add(u);break;case 1:o=o.add(u);break;default:Pn()}}),new Cu(this.pe,this.ye,e,r,o)}Ce(){this.we=!1,this.ge=Pg()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Wn(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class S_{constructor(e){this.Le=e,this.Be=new Map,this.ke=Es(),this.qe=dh(),this.Qe=new kr(le)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const o=this.Ge(r);switch(e.state){case 0:this.ze(r)&&o.De(e.resumeToken);break;case 1:o.Oe(),o.Se||o.Ce(),o.De(e.resumeToken);break;case 2:o.Oe(),o.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(o.Ne(),o.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),o.De(e.resumeToken));break;default:Pn()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((o,u)=>{this.ze(u)&&r(u)})}He(e){const r=e.targetId,o=e.me.count,u=this.Je(r);if(u){const f=u.target;if(pa(f))if(0===o){const _=new Vt(f.path);this.Ue(r,_,ln.newNoDocument(_,q.min()))}else Wn(1===o);else{const _=this.Ye(r);if(_!==o){const D=this.Ze(e),G=D?this.Xe(D,e,_):1;0!==G&&(this.je(r),this.Qe=this.Qe.insert(r,2===G?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:o="",padding:u=0},hashCount:f=0}=r;let _,D;try{_=ds(o).toUint8Array()}catch(G){if(G instanceof vl)return Jr("Decoding the base64 bloom filter in existence filter failed ("+G.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw G}try{D=new Yf(_,u,f)}catch(G){return Jr(G instanceof Zc?"BloomFilter error: ":"Applying bloom filter failed: ",G),null}return 0===D.Ie?null:D}Xe(e,r,o){return r.me.count===o-this.nt(e,r.targetId)?0:2}nt(e,r){const o=this.Le.getRemoteKeysForTarget(r);let u=0;return o.forEach(f=>{const _=this.Le.tt(),D=`projects/${_.projectId}/databases/${_.database}/documents/${f.path.canonicalString()}`;e.mightContain(D)||(this.Ue(r,f,null),u++)}),u}rt(e){const r=new Map;this.Be.forEach((f,_)=>{const D=this.Je(_);if(D){if(f.current&&pa(D.target)){const G=new Vt(D.target.path);null!==this.ke.get(G)||this.it(_,G)||this.Ue(_,G,ln.newNoDocument(G,e))}f.be&&(r.set(_,f.ve()),f.Ce())}});let o=z();this.qe.forEach((f,_)=>{let D=!0;_.forEachWhile(G=>{const ne=this.Je(G);return!ne||"TargetPurposeLimboResolution"===ne.purpose||(D=!1,!1)}),D&&(o=o.add(f))}),this.ke.forEach((f,_)=>_.setReadTime(e));const u=new ed(e,r,this.Qe,this.ke,o);return this.ke=Es(),this.qe=dh(),this.Qe=new kr(le),u}$e(e,r){if(!this.ze(e))return;const o=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,o),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,o){if(!this.ze(e))return;const u=this.Ge(e);this.it(e,r)?u.Fe(r,1):u.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),o&&(this.ke=this.ke.insert(r,o))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new Mg,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new Fr(le),this.qe=this.qe.insert(e,r)),r}ze(e){const r=null!==this.Je(e);return r||Un("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Mg),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function dh(){return new kr(Vt.comparator)}function Pg(){return new kr(Vt.comparator)}const Rn={asc:"ASCENDING",desc:"DESCENDING"},Wr={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hh={and:"AND",or:"OR"};class Wf{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function fi(a,e){return a.useProto3Json||Ur(e)?e:{value:e}}function Su(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Tu(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function ma(a,e){return Su(a,e.toTimestamp())}function Ji(a){return Wn(!!a),q.fromTimestamp(function(r){const o=bs(r);return new L(o.seconds,o.nanos)}(a))}function nd(a,e){return rd(a,e).canonicalString()}function rd(a,e){const r=(u=a,new et(["projects",u.projectId,"databases",u.database])).child("documents");var u;return void 0===e?r:r.child(e)}function zf(a){const e=et.fromString(a);return Wn(No(e)),e}function fh(a,e){return nd(a.databaseId,e.path)}function ja(a,e){const r=zf(e);if(r.get(1)!==a.databaseId.projectId)throw new Ln(pn.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+a.databaseId.projectId);if(r.get(3)!==a.databaseId.database)throw new Ln(pn.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+a.databaseId.database);return new Vt(tl(r))}function qf(a,e){return nd(a.databaseId,e)}function id(a){const e=zf(a);return 4===e.length?et.emptyPath():tl(e)}function Vo(a){return new et(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function tl(a){return Wn(a.length>4&&"documents"===a.get(4)),a.popFirst(5)}function ph(a,e,r){return{name:fh(a,e),fields:r.value.mapValue.fields}}function _a(a,e,r){const o=ja(a,e.name),u=Ji(e.updateTime),f=e.createTime?Ji(e.createTime):q.min(),_=new Oe({mapValue:{fields:e.fields}}),D=ln.newFoundDocument(o,u,f,_);return r&&D.setHasCommittedMutations(),r?D.setHasCommittedMutations():D}function lc(a,e){let r;if(e instanceof ic)r={update:ph(a,e.key,e.value)};else if(e instanceof el)r={delete:fh(a,e.key)};else if(e instanceof vs)r={update:ph(a,e.key,e.data),updateMask:R_(e.fieldMask)};else{if(!(e instanceof Hf))return Pn();r={verify:fh(a,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(o=>function(f,_){const D=_.transform;if(D instanceof Mi)return{fieldPath:_.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(D instanceof uo)return{fieldPath:_.field.canonicalString(),appendMissingElements:{values:D.elements}};if(D instanceof Fo)return{fieldPath:_.field.canonicalString(),removeAllFromArray:{values:D.elements}};if(D instanceof ta)return{fieldPath:_.field.canonicalString(),increment:D.Pe};throw Pn()}(0,o))),e.precondition.isNone||(r.currentDocument=void 0!==(f=e.precondition).updateTime?{updateTime:ma(a,f.updateTime)}:void 0!==f.exists?{exists:f.exists}:Pn()),r;var f}function Xf(a,e){const r=e.currentDocument?void 0!==(f=e.currentDocument).updateTime?$i.updateTime(Ji(f.updateTime)):void 0!==f.exists?$i.exists(f.exists):$i.none():$i.none(),o=e.updateTransforms?e.updateTransforms.map(u=>function(_,D){let G=null;"setToServerValue"in D?(Wn("REQUEST_TIME"===D.setToServerValue),G=new Mi):"appendMissingElements"in D?G=new uo(D.appendMissingElements.values||[]):"removeAllFromArray"in D?G=new Fo(D.removeAllFromArray.values||[]):"increment"in D?G=new ta(_,D.increment):Pn();const ne=St.fromServerFormat(D.fieldPath);return new Wl(ne,G)}(a,u)):[];var f;if(e.update){const u=ja(a,e.update.name),f=new Oe({mapValue:{fields:e.update.fields}});if(e.updateMask){const _=new Oi((e.updateMask.fieldPaths||[]).map(ve=>St.fromServerFormat(ve)));return new vs(u,f,_,r,o)}return new ic(u,f,r,o)}if(e.delete){const u=ja(a,e.delete);return new el(u,r)}if(e.verify){const u=ja(a,e.verify);return new Hf(u,r)}return Pn()}function gh(a,e){return{documents:[qf(a,e.path)]}}function uc(a,e){const r={structuredQuery:{}},o=e.path;let u;null!==e.collectionGroup?(u=o,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=o.popLast(),r.structuredQuery.from=[{collectionId:o.lastSegment()}]),r.parent=qf(a,u);const f=function(ne){if(0!==ne.length)return _h(br.create(ne,"and"))}(e.filters);f&&(r.structuredQuery.where=f);const _=function(ne){if(0!==ne.length)return ne.map(ve=>{return{field:Rl((at=ve).field),direction:Zf(at.dir)};var at})}(e.orderBy);_&&(r.structuredQuery.orderBy=_);const D=fi(a,e.limit);return null!==D&&(r.structuredQuery.limit=D),e.startAt&&(r.structuredQuery.startAt={before:(ne=e.startAt).inclusive,values:ne.position}),e.endAt&&(r.structuredQuery.endAt=function(ne){return{before:!ne.inclusive,values:ne.position}}(e.endAt)),{_t:r,parent:u};var ne}function od(a){let e=id(a.parent);const r=a.structuredQuery,o=r.from?r.from.length:0;let u=null;if(o>0){Wn(1===o);const ve=r.from[0];ve.allDescendants?u=ve.collectionId:e=e.child(ve.collectionId)}let f=[];r.where&&(f=function(Ve){const at=Qf(Ve);return at instanceof br&&Yn(at)?at.getFilters():[at]}(r.where));let _=[];r.orderBy&&(_=r.orderBy.map(at=>{return new Hr(Xl((qt=at).field),function(fn){switch(fn){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(qt.direction));var qt}));let D=null;r.limit&&(D=function(Ve){let at;return at="object"==typeof Ve?Ve.value:Ve,Ur(at)?null:at}(r.limit));let G=null;var Ve;r.startAt&&(G=new Bn((Ve=r.startAt).values||[],!!Ve.before));let ne=null;return r.endAt&&(ne=function(Ve){return new Bn(Ve.values||[],!Ve.before)}(r.endAt)),Tr(e,u,_,f,D,"F",G,ne)}function Qf(a){return void 0!==a.unaryFilter?function(r){switch(r.unaryFilter.op){case"IS_NAN":const o=Xl(r.unaryFilter.field);return Sr.create(o,"==",{doubleValue:NaN});case"IS_NULL":const u=Xl(r.unaryFilter.field);return Sr.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const f=Xl(r.unaryFilter.field);return Sr.create(f,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const _=Xl(r.unaryFilter.field);return Sr.create(_,"!=",{nullValue:"NULL_VALUE"});default:return Pn()}}(a):void 0!==a.fieldFilter?Sr.create(Xl((r=a).fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Pn()}}(r.fieldFilter.op),r.fieldFilter.value):void 0!==a.compositeFilter?function(r){return br.create(r.compositeFilter.filters.map(o=>Qf(o)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return Pn()}}(r.compositeFilter.op))}(a):Pn();var r}function Zf(a){return Rn[a]}function Lg(a){return Wr[a]}function xg(a){return hh[a]}function Rl(a){return{fieldPath:a.canonicalString()}}function Xl(a){return St.fromServerFormat(a.fieldPath)}function _h(a){return a instanceof Sr?function(r){if("=="===r.op){if(Xa(r.value))return{unaryFilter:{field:Rl(r.field),op:"IS_NAN"}};if($a(r.value))return{unaryFilter:{field:Rl(r.field),op:"IS_NULL"}}}else if("!="===r.op){if(Xa(r.value))return{unaryFilter:{field:Rl(r.field),op:"IS_NOT_NAN"}};if($a(r.value))return{unaryFilter:{field:Rl(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Rl(r.field),op:Lg(r.op),value:r.value}}}(a):a instanceof br?function(r){const o=r.getFilters().map(u=>_h(u));return 1===o.length?o[0]:{compositeFilter:{op:xg(r.op),filters:o}}}(a):Pn()}function R_(a){const e=[];return a.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function No(a){return a.length>=4&&"projects"===a.get(0)&&"databases"===a.get(2)}class ys{constructor(e,r,o,u,f=q.min(),_=q.min(),D=bi.EMPTY_BYTE_STRING,G=null){this.target=e,this.targetId=r,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=_,this.resumeToken=D,this.expectedCount=G}withSequenceNumber(e){return new ys(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new ys(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ys(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ys(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class ki{constructor(e){this.ct=e}}function Eh(a,e){const r=e.key,o={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:vh(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:fh(f=a.ct,(_=e).key),fields:_.data.value.mapValue.fields,updateTime:Su(f,_.version.toTimestamp()),createTime:Su(f,_.createTime.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:r.path.toArray(),readTime:Dl(e.version)};else{if(!e.isUnknownDocument())return Pn();o.unknownDocument={path:r.path.toArray(),version:Dl(e.version)}}var f,_;return o}function vh(a){const e=a.toTimestamp();return[e.seconds,e.nanoseconds]}function Dl(a){const e=a.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Jl(a){const e=new L(a.seconds,a.nanoseconds);return q.fromTimestamp(e)}function wl(a,e){const r=(e.baseMutations||[]).map(f=>Xf(a.ct,f));for(let f=0;f<e.mutations.length-1;++f)f+1<e.mutations.length&&void 0!==e.mutations[f+1].transform&&(e.mutations[f].updateTransforms=e.mutations[f+1].transform.fieldTransforms,e.mutations.splice(f+1,1),++f);const o=e.mutations.map(f=>Xf(a.ct,f)),u=L.fromMillis(e.localWriteTimeMs);return new Zo(e.batchId,u,r,o)}function nl(a){const e=Jl(a.readTime),r=void 0!==a.lastLimboFreeSnapshotVersion?Jl(a.lastLimboFreeSnapshotVersion):q.min();let o;return o=void 0!==a.query.documents?(Wn(1===(f=a.query).documents.length),ro(ga(id(f.documents[0])))):function(f){return ro(od(f))}(a.query),new ys(o,a.targetId,"TargetPurposeListen",a.lastListenSequenceNumber,e,r,bi.fromBase64String(a.resumeToken));var f}function ra(a,e){const r=Dl(e.snapshotVersion),o=Dl(e.lastLimboFreeSnapshotVersion);let u;u=pa(e.target)?gh(a.ct,e.target):uc(a.ct,e.target)._t;const f=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:fa(e.target),readTime:r,resumeToken:f,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:u}}function tp(a){const e=od({parent:a.parent,structuredQuery:a.structuredQuery});return"LAST"===a.limitType?lo(e,e.limit,"L"):e}function sd(a,e){return new oc(e.largestBatchId,Xf(a.ct,e.overlayMutation))}function Au(a,e){const r=e.path.lastSegment();return[a,Ai(e.path.popLast()),r]}function cc(a,e,r,o){return{indexId:a,uid:e,sequenceNumber:r,readTime:Dl(o.readTime),documentKey:Ai(o.documentKey.path),largestBatchId:o.largestBatchId}}class dc{getBundleMetadata(e,r){return yh(e).get(r).next(o=>{if(o)return{id:(f=o).bundleId,createTime:Jl(f.createTime),version:f.version};var f})}saveBundleMetadata(e,r){return yh(e).put({bundleId:(u=r).id,createTime:Dl(Ji(u.createTime)),version:u.version});var u}getNamedQuery(e,r){return Ih(e).get(r).next(o=>{if(o)return{name:(f=o).name,query:tp(f.bundledQuery),readTime:Jl(f.readTime)};var f})}saveNamedQuery(e,r){return Ih(e).put({name:(u=r).name,readTime:Dl(Ji(u.readTime)),bundledQuery:u.bundledQuery});var u}}function yh(a){return mi(a,"bundles")}function Ih(a){return mi(a,"namedQueries")}class Ch{constructor(e,r){this.serializer=e,this.userId=r}static lt(e,r){return new Ch(e,r.uid||"")}getOverlay(e,r){return rl(e).get(Au(this.userId,r)).next(o=>o?sd(this.serializer,o):null)}getOverlays(e,r){const o=Za();return Zt.forEach(r,u=>this.getOverlay(e,u).next(f=>{null!==f&&o.set(u,f)})).next(()=>o)}saveOverlays(e,r,o){const u=[];return o.forEach((f,_)=>{const D=new oc(r,_);u.push(this.ht(e,D))}),Zt.waitFor(u)}removeOverlaysForBatchId(e,r,o){const u=new Set;r.forEach(_=>u.add(Ai(_.getCollectionPath())));const f=[];return u.forEach(_=>{const D=IDBKeyRange.bound([this.userId,_,o],[this.userId,_,o+1],!1,!0);f.push(rl(e).j("collectionPathOverlayIndex",D))}),Zt.waitFor(f)}getOverlaysForCollection(e,r,o){const u=Za(),f=Ai(r),_=IDBKeyRange.bound([this.userId,f,o],[this.userId,f,Number.POSITIVE_INFINITY],!0);return rl(e).U("collectionPathOverlayIndex",_).next(D=>{for(const G of D){const ne=sd(this.serializer,G);u.set(ne.getKey(),ne)}return u})}getOverlaysForCollectionGroup(e,r,o,u){const f=Za();let _;const D=IDBKeyRange.bound([this.userId,r,o],[this.userId,r,Number.POSITIVE_INFINITY],!0);return rl(e).J({index:"collectionGroupOverlayIndex",range:D},(G,ne,ve)=>{const Ve=sd(this.serializer,ne);f.size()<u||Ve.largestBatchId===_?(f.set(Ve.getKey(),Ve),_=Ve.largestBatchId):ve.done()}).next(()=>f)}ht(e,r){return rl(e).put(function(u,f,_){const[D,G,ne]=Au(f,_.mutation.key);return{userId:f,collectionPath:G,documentId:ne,collectionGroup:_.mutation.key.getCollectionGroup(),largestBatchId:_.largestBatchId,overlayMutation:lc(u.ct,_.mutation)}}(this.serializer,this.userId,r))}}function rl(a){return mi(a,"documentOverlays")}class ad{Pt(e){return mi(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(r=>{const o=null==r?void 0:r.value;return o?bi.fromUint8Array(o):bi.EMPTY_BYTE_STRING})}setSessionToken(e,r){return this.Pt(e).put({name:"sessionToken",value:r.toUint8Array()})}}class Ru{constructor(){}It(e,r){this.Tt(e,r),r.Et()}Tt(e,r){if("nullValue"in e)this.dt(r,5);else if("booleanValue"in e)this.dt(r,10),r.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(r,15),r.At(Si(e.integerValue));else if("doubleValue"in e){const o=Si(e.doubleValue);isNaN(o)?this.dt(r,13):(this.dt(r,15),go(o)?r.At(0):r.At(o))}else if("timestampValue"in e){let o=e.timestampValue;this.dt(r,20),"string"==typeof o&&(o=bs(o)),r.Rt(`${o.seconds||""}`),r.At(o.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,r),this.ft(r);else if("bytesValue"in e)this.dt(r,30),r.gt(ds(e.bytesValue)),this.ft(r);else if("referenceValue"in e)this.yt(e.referenceValue,r);else if("geoPointValue"in e){const o=e.geoPointValue;this.dt(r,45),r.At(o.latitude||0),r.At(o.longitude||0)}else"mapValue"in e?ec(e)?this.dt(r,Number.MAX_SAFE_INTEGER):Xo(e)?this.wt(e.mapValue,r):(this.St(e.mapValue,r),this.ft(r)):"arrayValue"in e?(this.bt(e.arrayValue,r),this.ft(r)):Pn()}Vt(e,r){this.dt(r,25),this.Dt(e,r)}Dt(e,r){r.Rt(e)}St(e,r){const o=e.fields||{};this.dt(r,55);for(const u of Object.keys(o))this.Vt(u,r),this.Tt(o[u],r)}wt(e,r){var o,u;const f=e.fields||{};this.dt(r,53);const _="value",D=(null===(u=null===(o=f[_].arrayValue)||void 0===o?void 0:o.values)||void 0===u?void 0:u.length)||0;this.dt(r,15),r.At(Si(D)),this.Vt(_,r),this.Tt(f[_],r)}bt(e,r){const o=e.values||[];this.dt(r,50);for(const u of o)this.Tt(u,r)}yt(e,r){this.dt(r,37),Vt.fromName(e).path.forEach(o=>{this.dt(r,60),this.Dt(o,r)})}dt(e,r){e.At(r)}ft(e){e.At(2)}}function np(a){if(0===a)return 8;let e=0;return!(a>>4)&&(e+=4,a<<=4),!(a>>6)&&(e+=2,a<<=2),!(a>>7)&&(e+=1),e}function Sh(a){const e=64-function(o){let u=0;for(let f=0;f<8;++f){const _=np(255&o[f]);if(u+=_,8!==_)break}return u}(a);return Math.ceil(e/8)}Ru.vt=new Ru;class D_{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const r=e[Symbol.iterator]();let o=r.next();for(;!o.done;)this.Ft(o.value),o=r.next();this.Mt()}xt(e){const r=e[Symbol.iterator]();let o=r.next();for(;!o.done;)this.Ot(o.value),o=r.next();this.Nt()}Lt(e){for(const r of e){const o=r.charCodeAt(0);if(o<128)this.Ft(o);else if(o<2048)this.Ft(960|o>>>6),this.Ft(128|63&o);else if(r<"\ud800"||"\udbff"<r)this.Ft(480|o>>>12),this.Ft(128|63&o>>>6),this.Ft(128|63&o);else{const u=r.codePointAt(0);this.Ft(240|u>>>18),this.Ft(128|63&u>>>12),this.Ft(128|63&u>>>6),this.Ft(128|63&u)}}this.Mt()}Bt(e){for(const r of e){const o=r.charCodeAt(0);if(o<128)this.Ot(o);else if(o<2048)this.Ot(960|o>>>6),this.Ot(128|63&o);else if(r<"\ud800"||"\udbff"<r)this.Ot(480|o>>>12),this.Ot(128|63&o>>>6),this.Ot(128|63&o);else{const u=r.codePointAt(0);this.Ot(240|u>>>18),this.Ot(128|63&u>>>12),this.Ot(128|63&u>>>6),this.Ot(128|63&u)}}this.Nt()}kt(e){const r=this.qt(e),o=Sh(r);this.Qt(1+o),this.buffer[this.position++]=255&o;for(let u=r.length-o;u<r.length;++u)this.buffer[this.position++]=255&r[u]}Kt(e){const r=this.qt(e),o=Sh(r);this.Qt(1+o),this.buffer[this.position++]=~(255&o);for(let u=r.length-o;u<r.length;++u)this.buffer[this.position++]=~(255&r[u])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const r=function(f){const _=new DataView(new ArrayBuffer(8));return _.setFloat64(0,f,!1),new Uint8Array(_.buffer)}(e),o=!!(128&r[0]);r[0]^=o?255:128;for(let u=1;u<r.length;++u)r[u]^=o?255:0;return r}Ft(e){const r=255&e;0===r?(this.Ut(0),this.Ut(255)):255===r?(this.Ut(255),this.Ut(0)):this.Ut(r)}Ot(e){const r=255&e;0===r?(this.Gt(0),this.Gt(255)):255===r?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const r=e+this.position;if(r<=this.buffer.length)return;let o=2*this.buffer.length;o<r&&(o=r);const u=new Uint8Array(o);u.set(this.buffer),this.buffer=u}}class Ay{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}}class w_{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class il{constructor(){this.jt=new D_,this.Ht=new Ay(this.jt),this.Jt=new w_(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return 0===e?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}class hc{constructor(e,r,o,u){this.indexId=e,this.documentKey=r,this.arrayValue=o,this.directionalValue=u}Zt(){const e=this.directionalValue.length,r=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(r);return o.set(this.directionalValue,0),r!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new hc(this.indexId,this.documentKey,this.arrayValue,o)}}function ol(a,e){let r=a.indexId-e.indexId;return 0!==r?r:(r=sl(a.arrayValue,e.arrayValue),0!==r?r:(r=sl(a.directionalValue,e.directionalValue),0!==r?r:Vt.comparator(a.documentKey,e.documentKey)))}function sl(a,e){for(let r=0;r<a.length&&r<e.length;++r){const o=a[r]-e[r];if(0!==o)return o}return a.length-e.length}class Th{constructor(e){this.Xt=new Fr((r,o)=>St.comparator(r.field,o.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(const r of e.filters){const o=r;o.isInequality()?this.Xt=this.Xt.add(o):this.tn.push(o)}}get nn(){return this.Xt.size>1}rn(e){if(Wn(e.collectionGroup===this.collectionId),this.nn)return!1;const r=In(e);if(void 0!==r&&!this.sn(r))return!1;const o=An(e);let u=new Set,f=0,_=0;for(;f<o.length&&this.sn(o[f]);++f)u=u.add(o[f].fieldPath.canonicalString());if(f===o.length)return!0;if(this.Xt.size>0){const D=this.Xt.getIterator().getNext();if(!u.has(D.field.canonicalString())){const G=o[f];if(!this.on(D,G)||!this._n(this.en[_++],G))return!1}++f}for(;f<o.length;++f)if(_>=this.en.length||!this._n(this.en[_++],o[f]))return!1;return!0}an(){if(this.nn)return null;let e=new Fr(St.comparator);const r=[];for(const o of this.tn)if(!o.field.isKeyField())if("array-contains"===o.op||"array-contains-any"===o.op)r.push(new or(o.field,2));else{if(e.has(o.field))continue;e=e.add(o.field),r.push(new or(o.field,0))}for(const o of this.en)o.field.isKeyField()||e.has(o.field)||(e=e.add(o.field),r.push(new or(o.field,"asc"===o.dir?0:1)));return new Qt(Qt.UNKNOWN_ID,this.collectionId,r,gr.empty())}sn(e){for(const r of this.tn)if(this.on(r,e))return!0;return!1}on(e,r){return!(void 0===e||!e.field.isEqual(r.fieldPath))&&2===r.kind==("array-contains"===e.op||"array-contains-any"===e.op)}_n(e,r){return!!e.field.isEqual(r.fieldPath)&&(0===r.kind&&"asc"===e.dir||1===r.kind&&"desc"===e.dir)}}function Ql(a){var e,r;if(Wn(a instanceof Sr||a instanceof br),a instanceof Sr){if(a instanceof Ja){const u=(null===(r=null===(e=a.value.arrayValue)||void 0===e?void 0:e.values)||void 0===r?void 0:r.map(f=>Sr.create(a.field,"==",f)))||[];return br.create(u,"or")}return a}const o=a.filters.map(u=>Ql(u));return br.create(o,a.op)}function O_(a){if(0===a.getFilters().length)return[];const e=fc(Ql(a));return Wn(Ah(e)),Du(e)||ld(e)?[e]:e.getFilters()}function Du(a){return a instanceof Sr}function ld(a){return a instanceof br&&Yn(a)}function Ah(a){return Du(a)||ld(a)||function(r){if(r instanceof br&&$r(r)){for(const o of r.getFilters())if(!Du(o)&&!ld(o))return!1;return!0}return!1}(a)}function fc(a){if(Wn(a instanceof Sr||a instanceof br),a instanceof Sr)return a;if(1===a.filters.length)return fc(a.filters[0]);const e=a.filters.map(o=>fc(o));let r=br.create(e,a.op);return r=ud(r),Ah(r)?r:(Wn(r instanceof br),Wn(vi(r)),Wn(r.filters.length>1),r.filters.reduce((o,u)=>Rh(o,u)))}function Rh(a,e){let r;return Wn(a instanceof Sr||a instanceof br),Wn(e instanceof Sr||e instanceof br),r=a instanceof Sr?e instanceof Sr?br.create([a,e],"and"):rp(a,e):e instanceof Sr?rp(e,a):function(u,f){if(Wn(u.filters.length>0&&f.filters.length>0),vi(u)&&vi(f))return Ni(u,f.getFilters());const _=$r(u)?u:f,D=$r(u)?f:u,G=_.filters.map(ne=>Rh(ne,D));return br.create(G,"or")}(a,e),ud(r)}function rp(a,e){if(vi(e))return Ni(e,a.getFilters());{const r=e.filters.map(o=>Rh(a,o));return br.create(r,"or")}}function ud(a){if(Wn(a instanceof Sr||a instanceof br),a instanceof Sr)return a;const e=a.getFilters();if(1===e.length)return ud(e[0]);if(Ir(a))return a;const r=e.map(u=>ud(u)),o=[];return r.forEach(u=>{u instanceof Sr?o.push(u):u instanceof br&&(u.op===a.op?o.push(...u.filters):o.push(u))}),1===o.length?o[0]:br.create(o,a.op)}class b_{constructor(){this.un=new va}addToCollectionParentIndex(e,r){return this.un.add(r),Zt.resolve()}getCollectionParents(e,r){return Zt.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return Zt.resolve()}deleteFieldIndex(e,r){return Zt.resolve()}deleteAllFieldIndexes(e){return Zt.resolve()}createTargetIndexes(e,r){return Zt.resolve()}getDocumentsMatchingTarget(e,r){return Zt.resolve(null)}getIndexType(e,r){return Zt.resolve(0)}getFieldIndexes(e,r){return Zt.resolve([])}getNextCollectionGroupToUpdate(e){return Zt.resolve(null)}getMinOffset(e,r){return Zt.resolve(Xr.min())}getMinOffsetFromCollectionGroup(e,r){return Zt.resolve(Xr.min())}updateCollectionGroup(e,r,o){return Zt.resolve()}updateIndexEntries(e,r){return Zt.resolve()}}class va{constructor(){this.index={}}add(e){const r=e.lastSegment(),o=e.popLast(),u=this.index[r]||new Fr(et.comparator),f=!u.has(o);return this.index[r]=u.add(o),f}has(e){const r=e.lastSegment(),o=e.popLast(),u=this.index[r];return u&&u.has(o)}getEntries(e){return(this.index[e]||new Fr(et.comparator)).toArray()}}const Dh=new Uint8Array(0);class cd{constructor(e,r){this.databaseId=r,this.cn=new va,this.ln=new _s(o=>fa(o),(o,u)=>Xi(o,u)),this.uid=e.uid||""}addToCollectionParentIndex(e,r){if(!this.cn.has(r)){const o=r.lastSegment(),u=r.popLast();e.addOnCommittedListener(()=>{this.cn.add(r)});const f={collectionId:o,parent:Ai(u)};return pc(e).put(f)}return Zt.resolve()}getCollectionParents(e,r){const o=[],u=IDBKeyRange.bound([r,""],[X(r),""],!1,!0);return pc(e).U(u).next(f=>{for(const _ of f){if(_.collectionId!==r)break;o.push(ri(_.parent))}return o})}addFieldIndex(e,r){const o=Zl(e),u={indexId:(D=r).indexId,collectionGroup:D.collectionGroup,fields:D.fields.map(G=>[G.fieldPath.canonicalString(),G.kind])};var D;delete u.indexId;const f=o.add(u);if(r.indexState){const _=al(e);return f.next(D=>{_.put(cc(D,this.uid,r.indexState.sequenceNumber,r.indexState.offset))})}return f.next()}deleteFieldIndex(e,r){const o=Zl(e),u=al(e),f=wu(e);return o.delete(r.indexId).next(()=>u.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>f.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const r=Zl(e),o=wu(e),u=al(e);return r.j().next(()=>o.j()).next(()=>u.j())}createTargetIndexes(e,r){return Zt.forEach(this.hn(r),o=>this.getIndexType(e,o).next(u=>{if(0===u||1===u){const f=new Th(o).an();if(null!=f)return this.addFieldIndex(e,f)}}))}getDocumentsMatchingTarget(e,r){const o=wu(e);let u=!0;const f=new Map;return Zt.forEach(this.hn(r),_=>this.Pn(e,_).next(D=>{u&&(u=!!D),f.set(_,D)})).next(()=>{if(u){let _=z();const D=[];return Zt.forEach(f,(G,ne)=>{var hr;Un("IndexedDbIndexManager",`Using index ${hr=G,`id=${hr.indexId}|cg=${hr.collectionGroup}|f=${hr.fields.map(ur=>`${ur.fieldPath}:${ur.kind}`).join(",")}`} to execute ${fa(r)}`);const ve=function(hr,ur){const xr=In(ur);if(void 0===xr)return null;for(const wr of Il(hr,xr.fieldPath))switch(wr.op){case"array-contains-any":return wr.value.arrayValue.values||[];case"array-contains":return[wr.value]}return null}(ne,G),Ve=function(hr,ur){const xr=new Map;for(const wr of An(ur))for(const Wt of Il(hr,wr.fieldPath))switch(Wt.op){case"==":case"in":xr.set(wr.fieldPath.canonicalString(),Wt.value);break;case"not-in":case"!=":return xr.set(wr.fieldPath.canonicalString(),Wt.value),Array.from(xr.values())}return null}(ne,G),at=function(hr,ur){const xr=[];let wr=!0;for(const Wt of An(ur)){const Tt=0===Wt.kind?gs(hr,Wt.fieldPath,hr.startAt):Yl(hr,Wt.fieldPath,hr.startAt);xr.push(Tt.value),wr&&(wr=Tt.inclusive)}return new Bn(xr,wr)}(ne,G),Lt=function(hr,ur){const xr=[];let wr=!0;for(const Wt of An(ur)){const Tt=0===Wt.kind?Yl(hr,Wt.fieldPath,hr.endAt):gs(hr,Wt.fieldPath,hr.endAt);xr.push(Tt.value),wr&&(wr=Tt.inclusive)}return new Bn(xr,wr)}(ne,G),qt=this.In(G,ne,at),yn=this.In(G,ne,Lt),fn=this.Tn(G,ne,Ve),zn=this.En(G.indexId,ve,qt,at.inclusive,yn,Lt.inclusive,fn);return Zt.forEach(zn,dr=>o.G(dr,r.limit).next(hr=>{hr.forEach(ur=>{const xr=Vt.fromSegments(ur.documentKey);_.has(xr)||(_=_.add(xr),D.push(xr))})}))}).next(()=>D)}return Zt.resolve(null)})}hn(e){let r=this.ln.get(e);return r||(r=0===e.filters.length?[e]:O_(br.create(e.filters,"and")).map(o=>Qs(e.path,e.collectionGroup,e.orderBy,o.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,r),r)}En(e,r,o,u,f,_,D){const G=(null!=r?r.length:1)*Math.max(o.length,f.length),ne=G/(null!=r?r.length:1),ve=[];for(let Ve=0;Ve<G;++Ve){const at=r?this.dn(r[Ve/ne]):Dh,Lt=this.An(e,at,o[Ve%ne],u),qt=this.Rn(e,at,f[Ve%ne],_),yn=D.map(fn=>this.An(e,at,fn,!0));ve.push(...this.createRange(Lt,qt,yn))}return ve}An(e,r,o,u){const f=new hc(e,Vt.empty(),r,o);return u?f:f.Zt()}Rn(e,r,o,u){const f=new hc(e,Vt.empty(),r,o);return u?f.Zt():f}Pn(e,r){const o=new Th(r),u=null!=r.collectionGroup?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(e,u).next(f=>{let _=null;for(const D of f)o.rn(D)&&(!_||D.fields.length>_.fields.length)&&(_=D);return _})}getIndexType(e,r){let o=2;const u=this.hn(r);return Zt.forEach(u,f=>this.Pn(e,f).next(_=>{_?0!==o&&_.fields.length<function(G){let ne=new Fr(St.comparator),ve=!1;for(const Ve of G.filters)for(const at of Ve.getFlattenedFilters())at.field.isKeyField()||("array-contains"===at.op||"array-contains-any"===at.op?ve=!0:ne=ne.add(at.field));for(const Ve of G.orderBy)Ve.field.isKeyField()||(ne=ne.add(Ve.field));return ne.size+(ve?1:0)}(f)&&(o=1):o=0})).next(()=>null!==r.limit&&u.length>1&&2===o?1:o)}Vn(e,r){const o=new il;for(const u of An(e)){const f=r.data.field(u.fieldPath);if(null==f)return null;const _=o.Yt(u.kind);Ru.vt.It(f,_)}return o.zt()}dn(e){const r=new il;return Ru.vt.It(e,r.Yt(0)),r.zt()}mn(e,r){const o=new il;return Ru.vt.It(Ns(this.databaseId,r),o.Yt(function(f){const _=An(f);return 0===_.length?0:_[_.length-1].kind}(e))),o.zt()}Tn(e,r,o){if(null===o)return[];let u=[];u.push(new il);let f=0;for(const _ of An(e)){const D=o[f++];for(const G of u)if(this.fn(r,_.fieldPath)&&Ga(D))u=this.gn(u,_,D);else{const ne=G.Yt(_.kind);Ru.vt.It(D,ne)}}return this.pn(u)}In(e,r,o){return this.Tn(e,r,o.position)}pn(e){const r=[];for(let o=0;o<e.length;++o)r[o]=e[o].zt();return r}gn(e,r,o){const u=[...e],f=[];for(const _ of o.arrayValue.values||[])for(const D of u){const G=new il;G.seed(D.zt()),Ru.vt.It(_,G.Yt(r.kind)),f.push(G)}return f}fn(e,r){return!!e.filters.find(o=>o instanceof Sr&&o.field.isEqual(r)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,r){const o=Zl(e),u=al(e);return(r?o.U("collectionGroupIndex",IDBKeyRange.bound(r,r)):o.U()).next(f=>{const _=[];return Zt.forEach(f,D=>u.get([D.indexId,this.uid]).next(G=>{_.push(function(ve,Ve){const at=Ve?new gr(Ve.sequenceNumber,new Xr(Jl(Ve.readTime),new Vt(ri(Ve.documentKey)),Ve.largestBatchId)):gr.empty(),Lt=ve.fields.map(([qt,yn])=>new or(St.fromServerFormat(qt),yn));return new Qt(ve.indexId,ve.collectionGroup,Lt,at)}(D,G))})).next(()=>_)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(r=>0===r.length?null:(r.sort((o,u)=>{const f=o.indexState.sequenceNumber-u.indexState.sequenceNumber;return 0!==f?f:le(o.collectionGroup,u.collectionGroup)}),r[0].collectionGroup))}updateCollectionGroup(e,r,o){const u=Zl(e),f=al(e);return this.yn(e).next(_=>u.U("collectionGroupIndex",IDBKeyRange.bound(r,r)).next(D=>Zt.forEach(D,G=>f.put(cc(G.indexId,this.uid,_,o)))))}updateIndexEntries(e,r){const o=new Map;return Zt.forEach(r,(u,f)=>{const _=o.get(u.collectionGroup);return(_?Zt.resolve(_):this.getFieldIndexes(e,u.collectionGroup)).next(D=>(o.set(u.collectionGroup,D),Zt.forEach(D,G=>this.wn(e,u,G).next(ne=>{const ve=this.Sn(f,G);return ne.isEqual(ve)?Zt.resolve():this.bn(e,f,G,ne,ve)}))))})}Dn(e,r,o,u){return wu(e).put({indexId:u.indexId,uid:this.uid,arrayValue:u.arrayValue,directionalValue:u.directionalValue,orderedDocumentKey:this.mn(o,r.key),documentKey:r.key.path.toArray()})}vn(e,r,o,u){return wu(e).delete([u.indexId,this.uid,u.arrayValue,u.directionalValue,this.mn(o,r.key),r.key.path.toArray()])}wn(e,r,o){const u=wu(e);let f=new Fr(ol);return u.J({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.mn(o,r)])},(_,D)=>{f=f.add(new hc(o.indexId,r,D.arrayValue,D.directionalValue))}).next(()=>f)}Sn(e,r){let o=new Fr(ol);const u=this.Vn(r,e);if(null==u)return o;const f=In(r);if(null!=f){const _=e.data.field(f.fieldPath);if(Ga(_))for(const D of _.arrayValue.values||[])o=o.add(new hc(r.indexId,e.key,this.dn(D),u))}else o=o.add(new hc(r.indexId,e.key,Dh,u));return o}bn(e,r,o,u,f){Un("IndexedDbIndexManager","Updating index entries for document '%s'",r.key);const _=[];return function(G,ne,ve,Ve,at){const Lt=G.getIterator(),qt=ne.getIterator();let yn=da(Lt),fn=da(qt);for(;yn||fn;){let zn=!1,dr=!1;if(yn&&fn){const hr=ve(yn,fn);hr<0?dr=!0:hr>0&&(zn=!0)}else null!=yn?dr=!0:zn=!0;zn?(Ve(fn),fn=da(qt)):dr?(at(yn),yn=da(Lt)):(yn=da(Lt),fn=da(qt))}}(u,f,ol,D=>{_.push(this.Dn(e,r,o,D))},D=>{_.push(this.vn(e,r,o,D))}),Zt.waitFor(_)}yn(e){let r=1;return al(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,u,f)=>{f.done(),r=u.sequenceNumber+1}).next(()=>r)}createRange(e,r,o){o=o.sort((_,D)=>ol(_,D)).filter((_,D,G)=>!D||0!==ol(_,G[D-1]));const u=[];u.push(e);for(const _ of o){const D=ol(_,e),G=ol(_,r);if(0===D)u[0]=e.Zt();else if(D>0&&G<0)u.push(_),u.push(_.Zt());else if(G>0)break}u.push(r);const f=[];for(let _=0;_<u.length;_+=2){if(this.Cn(u[_],u[_+1]))return[];f.push(IDBKeyRange.bound([u[_].indexId,this.uid,u[_].arrayValue,u[_].directionalValue,Dh,[]],[u[_+1].indexId,this.uid,u[_+1].arrayValue,u[_+1].directionalValue,Dh,[]]))}return f}Cn(e,r){return ol(e,r)>0}getMinOffsetFromCollectionGroup(e,r){return this.getFieldIndexes(e,r).next(wh)}getMinOffset(e,r){return Zt.mapArray(this.hn(r),o=>this.Pn(e,o).next(u=>u||Pn())).next(wh)}}function pc(a){return mi(a,"collectionParents")}function wu(a){return mi(a,"indexEntries")}function Zl(a){return mi(a,"indexConfiguration")}function al(a){return mi(a,"indexState")}function wh(a){Wn(0!==a.length);let e=a[0].indexState.offset,r=e.largestBatchId;for(let o=1;o<a.length;o++){const u=a[o].indexState.offset;Qr(u,e)<0&&(e=u),r<u.largestBatchId&&(r=u.largestBatchId)}return new Xr(e.readTime,e.documentKey,r)}const ip={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Bo{constructor(e,r,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new Bo(e,Bo.DEFAULT_COLLECTION_PERCENTILE,Bo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function gc(a,e,r){const o=a.store("mutations"),u=a.store("documentMutations"),f=[],_=IDBKeyRange.only(r.batchId);let D=0;const G=o.J({range:_},(ve,Ve,at)=>(D++,at.delete()));f.push(G.next(()=>{Wn(1===D)}));const ne=[];for(const ve of r.mutations){const Ve=La(e,ve.key.path,r.batchId);f.push(u.delete(Ve)),ne.push(ve.key)}return Zt.waitFor(f).next(()=>ne)}function dd(a){if(!a)return 0;let e;if(a.document)e=a.document;else if(a.unknownDocument)e=a.unknownDocument;else{if(!a.noDocument)throw Pn();e=a.noDocument}return JSON.stringify(e).length}Bo.DEFAULT_COLLECTION_PERCENTILE=10,Bo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bo.DEFAULT=new Bo(41943040,Bo.DEFAULT_COLLECTION_PERCENTILE,Bo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bo.DISABLED=new Bo(-1,0,0);class Oh{constructor(e,r,o,u){this.userId=e,this.serializer=r,this.indexManager=o,this.referenceDelegate=u,this.Fn={}}static lt(e,r,o,u){Wn(""!==e.uid);const f=e.isAuthenticated()?e.uid:"";return new Oh(f,r,o,u)}checkEmpty(e){let r=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Is(e).J({index:"userMutationsIndex",range:o},(u,f,_)=>{r=!1,_.done()}).next(()=>r)}addMutationBatch(e,r,o,u){const f=mc(e),_=Is(e);return _.add({}).next(D=>{Wn("number"==typeof D);const G=new Zo(D,r,o,u),ne=function(Lt,qt,yn){const fn=yn.baseMutations.map(dr=>lc(Lt.ct,dr)),zn=yn.mutations.map(dr=>lc(Lt.ct,dr));return{userId:qt,batchId:yn.batchId,localWriteTimeMs:yn.localWriteTime.toMillis(),baseMutations:fn,mutations:zn}}(this.serializer,this.userId,G),ve=[];let Ve=new Fr((at,Lt)=>le(at.canonicalString(),Lt.canonicalString()));for(const at of u){const Lt=La(this.userId,at.key.path,D);Ve=Ve.add(at.key.path.popLast()),ve.push(_.put(ne)),ve.push(f.put(Lt,za))}return Ve.forEach(at=>{ve.push(this.indexManager.addToCollectionParentIndex(e,at))}),e.addOnCommittedListener(()=>{this.Fn[D]=G.keys()}),Zt.waitFor(ve).next(()=>G)})}lookupMutationBatch(e,r){return Is(e).get(r).next(o=>o?(Wn(o.userId===this.userId),wl(this.serializer,o)):null)}Mn(e,r){return this.Fn[r]?Zt.resolve(this.Fn[r]):this.lookupMutationBatch(e,r).next(o=>{if(o){const u=o.keys();return this.Fn[r]=u,u}return null})}getNextMutationBatchAfterBatchId(e,r){const o=r+1,u=IDBKeyRange.lowerBound([this.userId,o]);let f=null;return Is(e).J({index:"userMutationsIndex",range:u},(_,D,G)=>{D.userId===this.userId&&(Wn(D.batchId>=o),f=wl(this.serializer,D)),G.done()}).next(()=>f)}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return Is(e).J({index:"userMutationsIndex",range:r,reverse:!0},(u,f,_)=>{o=f.batchId,_.done()}).next(()=>o)}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Is(e).U("userMutationsIndex",r).next(o=>o.map(u=>wl(this.serializer,u)))}getAllMutationBatchesAffectingDocumentKey(e,r){const o=Fl(this.userId,r.path),u=IDBKeyRange.lowerBound(o),f=[];return mc(e).J({range:u},(_,D,G)=>{const[ne,ve,Ve]=_,at=ri(ve);if(ne===this.userId&&r.path.isEqual(at))return Is(e).get(Ve).next(Lt=>{if(!Lt)throw Pn();Wn(Lt.userId===this.userId),f.push(wl(this.serializer,Lt))});G.done()}).next(()=>f)}getAllMutationBatchesAffectingDocumentKeys(e,r){let o=new Fr(le);const u=[];return r.forEach(f=>{const _=Fl(this.userId,f.path),D=IDBKeyRange.lowerBound(_),G=mc(e).J({range:D},(ne,ve,Ve)=>{const[at,Lt,qt]=ne,yn=ri(Lt);at===this.userId&&f.path.isEqual(yn)?o=o.add(qt):Ve.done()});u.push(G)}),Zt.waitFor(u).next(()=>this.xn(e,o))}getAllMutationBatchesAffectingQuery(e,r){const o=r.path,u=o.length+1,f=Fl(this.userId,o),_=IDBKeyRange.lowerBound(f);let D=new Fr(le);return mc(e).J({range:_},(G,ne,ve)=>{const[Ve,at,Lt]=G,qt=ri(at);Ve===this.userId&&o.isPrefixOf(qt)?qt.length===u&&(D=D.add(Lt)):ve.done()}).next(()=>this.xn(e,D))}xn(e,r){const o=[],u=[];return r.forEach(f=>{u.push(Is(e).get(f).next(_=>{if(null===_)throw Pn();Wn(_.userId===this.userId),o.push(wl(this.serializer,_))}))}),Zt.waitFor(u).next(()=>o)}removeMutationBatch(e,r){return gc(e._e,this.userId,r).next(o=>(e.addOnCommittedListener(()=>{this.On(r.batchId)}),Zt.forEach(o,u=>this.referenceDelegate.markPotentiallyOrphaned(e,u))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(r=>{if(!r)return Zt.resolve();const o=IDBKeyRange.lowerBound(function(_){return[_]}(this.userId)),u=[];return mc(e).J({range:o},(f,_,D)=>{if(f[0]===this.userId){const G=ri(f[1]);u.push(G)}else D.done()}).next(()=>{Wn(0===u.length)})})}containsKey(e,r){return hd(e,this.userId,r)}Nn(e){return op(e).get(this.userId).next(r=>r||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function hd(a,e,r){const o=Fl(e,r.path),u=o[1],f=IDBKeyRange.lowerBound(o);let _=!1;return mc(a).J({range:f,H:!0},(D,G,ne)=>{const[ve,Ve,at]=D;ve===e&&Ve===u&&(_=!0),ne.done()}).next(()=>_)}function Is(a){return mi(a,"mutations")}function mc(a){return mi(a,"documentMutations")}function op(a){return mi(a,"mutationQueues")}class eu{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new eu(0)}static kn(){return new eu(-1)}}class _c{constructor(e,r){this.referenceDelegate=e,this.serializer=r}allocateTargetId(e){return this.qn(e).next(r=>{const o=new eu(r.highestTargetId);return r.highestTargetId=o.next(),this.Qn(e,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(r=>q.fromTimestamp(new L(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(e,r,o){return this.qn(e).next(u=>(u.highestListenSequenceNumber=r,o&&(u.lastRemoteSnapshotVersion=o.toTimestamp()),r>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=r),this.Qn(e,u)))}addTargetData(e,r){return this.Kn(e,r).next(()=>this.qn(e).next(o=>(o.targetCount+=1,this.$n(r,o),this.Qn(e,o))))}updateTargetData(e,r){return this.Kn(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next(()=>Cs(e).delete(r.targetId)).next(()=>this.qn(e)).next(o=>(Wn(o.targetCount>0),o.targetCount-=1,this.Qn(e,o)))}removeTargets(e,r,o){let u=0;const f=[];return Cs(e).J((_,D)=>{const G=nl(D);G.sequenceNumber<=r&&null===o.get(G.targetId)&&(u++,f.push(this.removeTargetData(e,G)))}).next(()=>Zt.waitFor(f)).next(()=>u)}forEachTarget(e,r){return Cs(e).J((o,u)=>{const f=nl(u);r(f)})}qn(e){return So(e).get("targetGlobalKey").next(r=>(Wn(null!==r),r))}Qn(e,r){return So(e).put("targetGlobalKey",r)}Kn(e,r){return Cs(e).put(ra(this.serializer,r))}$n(e,r){let o=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,o=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.qn(e).next(r=>r.targetCount)}getTargetData(e,r){const o=fa(r),u=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let f=null;return Cs(e).J({range:u,index:"queryTargetsIndex"},(_,D,G)=>{const ne=nl(D);Xi(r,ne.target)&&(f=ne,G.done())}).next(()=>f)}addMatchingKeys(e,r,o){const u=[],f=Ol(e);return r.forEach(_=>{const D=Ai(_.path);u.push(f.put({targetId:o,path:D})),u.push(this.referenceDelegate.addReference(e,o,_))}),Zt.waitFor(u)}removeMatchingKeys(e,r,o){const u=Ol(e);return Zt.forEach(r,f=>{const _=Ai(f.path);return Zt.waitFor([u.delete([o,_]),this.referenceDelegate.removeReference(e,o,f)])})}removeMatchingKeysForTargetId(e,r){const o=Ol(e),u=IDBKeyRange.bound([r],[r+1],!1,!0);return o.delete(u)}getMatchingKeysForTargetId(e,r){const o=IDBKeyRange.bound([r],[r+1],!1,!0),u=Ol(e);let f=z();return u.J({range:o,H:!0},(_,D,G)=>{const ne=ri(_[1]),ve=new Vt(ne);f=f.add(ve)}).next(()=>f)}containsKey(e,r){const o=Ai(r.path),u=IDBKeyRange.bound([o],[X(o)],!1,!0);let f=0;return Ol(e).J({index:"documentTargetsIndex",H:!0,range:u},([_,D],G,ne)=>{0!==_&&(f++,ne.done())}).next(()=>f>0)}ot(e,r){return Cs(e).get(r).next(o=>o?nl(o):null)}}function Cs(a){return mi(a,"targets")}function So(a){return mi(a,"targetGlobal")}function Ol(a){return mi(a,"targetDocuments")}function sp([a,e],[r,o]){const u=le(a,r);return 0===u?le(e,o):u}class ap{constructor(e){this.Un=e,this.buffer=new Fr(sp),this.Wn=0}Gn(){return++this.Wn}zn(e){const r=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(r);else{const o=this.buffer.last();sp(r,o)<0&&(this.buffer=this.buffer.delete(o).add(r))}}get maxValue(){return this.buffer.last()[0]}}class kg{constructor(e,r,o){this.garbageCollector=e,this.asyncQueue=r,this.localStore=o,this.jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return null!==this.jn}Hn(e){var r=this;Un("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,ce.A)(function*(){r.jn=null;try{yield r.localStore.collectGarbage(r.garbageCollector)}catch(o){ko(o)?Un("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield Li(o)}yield r.Hn(3e5)}))}}class Ug{constructor(e,r){this.Jn=e,this.params=r}calculateTargetCount(e,r){return this.Jn.Yn(e).next(o=>Math.floor(r/100*o))}nthSequenceNumber(e,r){if(0===r)return Zt.resolve(pi.oe);const o=new ap(r);return this.Jn.forEachTarget(e,u=>o.zn(u.sequenceNumber)).next(()=>this.Jn.Zn(e,u=>o.zn(u))).next(()=>o.maxValue)}removeTargets(e,r,o){return this.Jn.removeTargets(e,r,o)}removeOrphanedDocuments(e,r){return this.Jn.removeOrphanedDocuments(e,r)}collect(e,r){return-1===this.params.cacheSizeCollectionThreshold?(Un("LruGarbageCollector","Garbage collection skipped; disabled"),Zt.resolve(ip)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(Un("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ip):this.Xn(e,r))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,r){let o,u,f,_,D,G,ne;const ve=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Ve=>(Ve>this.params.maximumSequenceNumbersToCollect?(Un("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Ve}`),u=this.params.maximumSequenceNumbersToCollect):u=Ve,_=Date.now(),this.nthSequenceNumber(e,u))).next(Ve=>(o=Ve,D=Date.now(),this.removeTargets(e,o,r))).next(Ve=>(f=Ve,G=Date.now(),this.removeOrphanedDocuments(e,o))).next(Ve=>(ne=Date.now(),io()<=Ce.$b.DEBUG&&Un("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${_-ve}ms\n\tDetermined least recently used ${u} in `+(D-_)+`ms\n\tRemoved ${f} targets in `+(G-D)+`ms\n\tRemoved ${Ve} documents in `+(ne-G)+`ms\nTotal Duration: ${ne-ve}ms`),Zt.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:f,documentsRemoved:Ve})))}}class lp{constructor(e,r){this.db=e,this.garbageCollector=function Ec(a,e){return new Ug(a,e)}(this,r)}Yn(e){const r=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(o=>r.next(u=>o+u))}er(e){let r=0;return this.Zn(e,o=>{r++}).next(()=>r)}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}Zn(e,r){return this.tr(e,(o,u)=>r(u))}addReference(e,r,o){return Ou(e,o)}removeReference(e,r,o){return Ou(e,o)}removeTargets(e,r,o){return this.db.getTargetCache().removeTargets(e,r,o)}markPotentiallyOrphaned(e,r){return Ou(e,r)}nr(e,r){return function(u,f){let _=!1;return op(u).Y(D=>hd(u,D,f).next(G=>(G&&(_=!0),Zt.resolve(!G)))).next(()=>_)}(e,r)}removeOrphanedDocuments(e,r){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let f=0;return this.tr(e,(_,D)=>{if(D<=r){const G=this.nr(e,_).next(ne=>{if(!ne)return f++,o.getEntry(e,_).next(()=>(o.removeEntry(_,q.min()),Ol(e).delete([0,Ai(_.path)])))});u.push(G)}}).next(()=>Zt.waitFor(u)).next(()=>o.apply(e)).next(()=>f)}removeTarget(e,r){const o=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,r){return Ou(e,r)}tr(e,r){const o=Ol(e);let u,f=pi.oe;return o.J({index:"documentTargetsIndex"},([_,D],{path:G,sequenceNumber:ne})=>{0===_?(f!==pi.oe&&r(new Vt(ri(u)),f),f=ne,u=G):f=pi.oe}).next(()=>{f!==pi.oe&&r(new Vt(ri(u)),f)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Ou(a,e){return Ol(a).put((u=a.currentSequenceNumber,{targetId:0,path:Ai(e.path),sequenceNumber:u}));var u}class fd{constructor(){this.changes=new _s(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,ln.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const o=this.changes.get(r);return void 0!==o?Zt.resolve(o):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class bh{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,r,o){return Ha(e).put(o)}removeEntry(e,r,o){return Ha(e).delete(function(f,_){const D=f.path.toArray();return[D.slice(0,D.length-2),D[D.length-2],vh(_),D[D.length-1]]}(r,o))}updateMetadata(e,r){return this.getMetadata(e).next(o=>(o.byteSize+=r,this.rr(e,o)))}getEntry(e,r){let o=ln.newInvalidDocument(r);return Ha(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(bu(r))},(u,f)=>{o=this.ir(r,f)}).next(()=>o)}sr(e,r){let o={size:0,document:ln.newInvalidDocument(r)};return Ha(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(bu(r))},(u,f)=>{o={document:this.ir(r,f),size:dd(f)}}).next(()=>o)}getEntries(e,r){let o=Es();return this._r(e,r,(u,f)=>{const _=this.ir(u,f);o=o.insert(u,_)}).next(()=>o)}ar(e,r){let o=Es(),u=new kr(Vt.comparator);return this._r(e,r,(f,_)=>{const D=this.ir(f,_);o=o.insert(f,D),u=u.insert(f,dd(_))}).next(()=>({documents:o,ur:u}))}_r(e,r,o){if(r.isEmpty())return Zt.resolve();let u=new Fr(gd);r.forEach(G=>u=u.add(G));const f=IDBKeyRange.bound(bu(u.first()),bu(u.last())),_=u.getIterator();let D=_.getNext();return Ha(e).J({index:"documentKeyIndex",range:f},(G,ne,ve)=>{const Ve=Vt.fromSegments([...ne.prefixPath,ne.collectionGroup,ne.documentId]);for(;D&&gd(D,Ve)<0;)o(D,null),D=_.getNext();D&&D.isEqual(Ve)&&(o(D,ne),D=_.hasNext()?_.getNext():null),D?ve.$(bu(D)):ve.done()}).next(()=>{for(;D;)o(D,null),D=_.hasNext()?_.getNext():null})}getDocumentsMatchingQuery(e,r,o,u,f){const _=r.path,D=[_.popLast().toArray(),_.lastSegment(),vh(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],G=[_.popLast().toArray(),_.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ha(e).U(IDBKeyRange.bound(D,G,!0)).next(ne=>{null==f||f.incrementDocumentReadCount(ne.length);let ve=Es();for(const Ve of ne){const at=this.ir(Vt.fromSegments(Ve.prefixPath.concat(Ve.collectionGroup,Ve.documentId)),Ve);at.isFoundDocument()&&(To(r,at)||u.has(at.key))&&(ve=ve.insert(at.key,at))}return ve})}getAllFromCollectionGroup(e,r,o,u){let f=Es();const _=Fg(r,o),D=Fg(r,Xr.max());return Ha(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(_,D,!0)},(G,ne,ve)=>{const Ve=this.ir(Vt.fromSegments(ne.prefixPath.concat(ne.collectionGroup,ne.documentId)),ne);f=f.insert(Ve.key,Ve),f.size===u&&ve.done()}).next(()=>f)}newChangeBuffer(e){return new N_(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(r=>r.byteSize)}getMetadata(e){return xs(e).get("remoteDocumentGlobalKey").next(r=>(Wn(!!r),r))}rr(e,r){return xs(e).put("remoteDocumentGlobalKey",r)}ir(e,r){if(r){const o=function ep(a,e){let r;if(e.document)r=_a(a.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=Vt.fromSegments(e.noDocument.path),u=Jl(e.noDocument.readTime);r=ln.newNoDocument(o,u),e.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!e.unknownDocument)return Pn();{const o=Vt.fromSegments(e.unknownDocument.path),u=Jl(e.unknownDocument.version);r=ln.newUnknownDocument(o,u)}}return e.readTime&&r.setReadTime(function(u){const f=new L(u[0],u[1]);return q.fromTimestamp(f)}(e.readTime)),r}(this.serializer,r);if(!o.isNoDocument()||!o.version.isEqual(q.min()))return o}return ln.newInvalidDocument(e)}}function pd(a){return new bh(a)}class N_ extends fd{constructor(e,r){super(),this.cr=e,this.trackRemovals=r,this.lr=new _s(o=>o.toString(),(o,u)=>o.isEqual(u))}applyChanges(e){const r=[];let o=0,u=new Fr((f,_)=>le(f.canonicalString(),_.canonicalString()));return this.changes.forEach((f,_)=>{const D=this.lr.get(f);if(r.push(this.cr.removeEntry(e,f,D.readTime)),_.isValidDocument()){const G=Eh(this.cr.serializer,_);u=u.add(f.path.popLast());const ne=dd(G);o+=ne-D.size,r.push(this.cr.addEntry(e,f,G))}else if(o-=D.size,this.trackRemovals){const G=Eh(this.cr.serializer,_.convertToNoDocument(q.min()));r.push(this.cr.addEntry(e,f,G))}}),u.forEach(f=>{r.push(this.cr.indexManager.addToCollectionParentIndex(e,f))}),r.push(this.cr.updateMetadata(e,o)),Zt.waitFor(r)}getFromCache(e,r){return this.cr.sr(e,r).next(o=>(this.lr.set(r,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,r){return this.cr.ar(e,r).next(({documents:o,ur:u})=>(u.forEach((f,_)=>{this.lr.set(f,{size:_,readTime:o.get(f).readTime})}),o))}}function xs(a){return mi(a,"remoteDocumentGlobal")}function Ha(a){return mi(a,"remoteDocumentsV14")}function bu(a){const e=a.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Fg(a,e){const r=e.documentKey.path.toArray();return[a,vh(e.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function gd(a,e){const r=a.path.toArray(),o=e.path.toArray();let u=0;for(let f=0;f<r.length-2&&f<o.length-2;++f)if(u=le(r[f],o[f]),u)return u;return u=le(r.length,o.length),u||(u=le(r[r.length-2],o[o.length-2]),u||le(r[r.length-1],o[o.length-1]))}class up{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}class Vg{constructor(e,r,o,u){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=o,this.indexManager=u}getDocument(e,r){let o=null;return this.documentOverlayCache.getOverlay(e,r).next(u=>(o=u,this.remoteDocumentCache.getEntry(e,r))).next(u=>(null!==o&&Tl(o.mutation,u,Oi.empty(),L.now()),u))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(o=>this.getLocalViewOfDocuments(e,o,z()).next(()=>o))}getLocalViewOfDocuments(e,r,o=z()){const u=Za();return this.populateOverlays(e,u,r).next(()=>this.computeViews(e,r,u,o).next(f=>{let _=oh();return f.forEach((D,G)=>{_=_.insert(D,G.overlayedDocument)}),_}))}getOverlayedDocuments(e,r){const o=Za();return this.populateOverlays(e,o,r).next(()=>this.computeViews(e,r,o,z()))}populateOverlays(e,r,o){const u=[];return o.forEach(f=>{r.has(f)||u.push(f)}),this.documentOverlayCache.getOverlays(e,u).next(f=>{f.forEach((_,D)=>{r.set(_,D)})})}computeViews(e,r,o,u){let f=Es();const _=V(),D=V();return r.forEach((G,ne)=>{const ve=o.get(ne.key);u.has(ne.key)&&(void 0===ve||ve.mutation instanceof vs)?f=f.insert(ne.key,ne):void 0!==ve?(_.set(ne.key,ve.mutation.getFieldMask()),Tl(ve.mutation,ne,ve.mutation.getFieldMask(),L.now())):_.set(ne.key,Oi.empty())}),this.recalculateAndSaveOverlays(e,f).next(G=>(G.forEach((ne,ve)=>_.set(ne,ve)),r.forEach((ne,ve)=>{var Ve;return D.set(ne,new up(ve,null!==(Ve=_.get(ne))&&void 0!==Ve?Ve:null))}),D))}recalculateAndSaveOverlays(e,r){const o=V();let u=new kr((_,D)=>_-D),f=z();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(_=>{for(const D of _)D.keys().forEach(G=>{const ne=r.get(G);if(null===ne)return;let ve=o.get(G)||Oi.empty();ve=D.applyToLocalView(ne,ve),o.set(G,ve);const Ve=(u.get(D.batchId)||z()).add(G);u=u.insert(D.batchId,Ve)})}).next(()=>{const _=[],D=u.getReverseIterator();for(;D.hasNext();){const G=D.getNext(),ne=G.key,ve=G.value,Ve=b();ve.forEach(at=>{if(!f.has(at)){const Lt=Iu(r.get(at),o.get(at));null!==Lt&&Ve.set(at,Lt),f=f.add(at)}}),_.push(this.documentOverlayCache.saveOverlays(e,ne,Ve))}return Zt.waitFor(_)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,r,o,u){return Vt.isDocumentKey((_=r).path)&&null===_.collectionGroup&&0===_.filters.length?this.getDocumentsMatchingDocumentQuery(e,r.path):ms(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,o,u):this.getDocumentsMatchingCollectionQuery(e,r,o,u);var _}getNextDocuments(e,r,o,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,o,u).next(f=>{const _=u-f.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,o.largestBatchId,u-f.size):Zt.resolve(Za());let D=-1,G=f;return _.next(ne=>Zt.forEach(ne,(ve,Ve)=>(D<Ve.largestBatchId&&(D=Ve.largestBatchId),f.get(ve)?Zt.resolve():this.remoteDocumentCache.getEntry(e,ve).next(at=>{G=G.insert(ve,at)}))).next(()=>this.populateOverlays(e,ne,f)).next(()=>this.computeViews(e,G,ne,z())).next(ve=>({batchId:D,changes:vu(ve)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Vt(r)).next(o=>{let u=oh();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}getDocumentsMatchingCollectionGroupQuery(e,r,o,u){const f=r.collectionGroup;let _=oh();return this.indexManager.getCollectionParents(e,f).next(D=>Zt.forEach(D,G=>{const ne=(Ve=r,at=G.child(f),new ei(at,null,Ve.explicitOrderBy.slice(),Ve.filters.slice(),Ve.limit,Ve.limitType,Ve.startAt,Ve.endAt));var Ve,at;return this.getDocumentsMatchingCollectionQuery(e,ne,o,u).next(ve=>{ve.forEach((Ve,at)=>{_=_.insert(Ve,at)})})}).next(()=>_))}getDocumentsMatchingCollectionQuery(e,r,o,u){let f;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,o.largestBatchId).next(_=>(f=_,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,o,f,u))).next(_=>{f.forEach((G,ne)=>{const ve=ne.getKey();null===_.get(ve)&&(_=_.insert(ve,ln.newInvalidDocument(ve)))});let D=oh();return _.forEach((G,ne)=>{const ve=f.get(G);void 0!==ve&&Tl(ve.mutation,ne,Oi.empty(),L.now()),To(r,ne)&&(D=D.insert(G,ne))}),D})}}class M_{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return Zt.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,{id:(u=r).id,version:u.version,createTime:Ji(u.createTime)}),Zt.resolve();var u}getNamedQuery(e,r){return Zt.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,{name:(u=r).name,query:tp(u.bundledQuery),readTime:Ji(u.readTime)}),Zt.resolve();var u}}class Bg{constructor(){this.overlays=new kr(Vt.comparator),this.Ir=new Map}getOverlay(e,r){return Zt.resolve(this.overlays.get(r))}getOverlays(e,r){const o=Za();return Zt.forEach(r,u=>this.getOverlay(e,u).next(f=>{null!==f&&o.set(u,f)})).next(()=>o)}saveOverlays(e,r,o){return o.forEach((u,f)=>{this.ht(e,r,f)}),Zt.resolve()}removeOverlaysForBatchId(e,r,o){const u=this.Ir.get(o);return void 0!==u&&(u.forEach(f=>this.overlays=this.overlays.remove(f)),this.Ir.delete(o)),Zt.resolve()}getOverlaysForCollection(e,r,o){const u=Za(),f=r.length+1,_=new Vt(r.child("")),D=this.overlays.getIteratorFrom(_);for(;D.hasNext();){const G=D.getNext().value,ne=G.getKey();if(!r.isPrefixOf(ne.path))break;ne.path.length===f&&G.largestBatchId>o&&u.set(G.getKey(),G)}return Zt.resolve(u)}getOverlaysForCollectionGroup(e,r,o,u){let f=new kr((ne,ve)=>ne-ve);const _=this.overlays.getIterator();for(;_.hasNext();){const ne=_.getNext().value;if(ne.getKey().getCollectionGroup()===r&&ne.largestBatchId>o){let ve=f.get(ne.largestBatchId);null===ve&&(ve=Za(),f=f.insert(ne.largestBatchId,ve)),ve.set(ne.getKey(),ne)}}const D=Za(),G=f.getIterator();for(;G.hasNext()&&(G.getNext().value.forEach((ne,ve)=>D.set(ne,ve)),!(D.size()>=u)););return Zt.resolve(D)}ht(e,r,o){const u=this.overlays.get(o.key);if(null!==u){const _=this.Ir.get(u.largestBatchId).delete(o.key);this.Ir.set(u.largestBatchId,_)}this.overlays=this.overlays.insert(o.key,new oc(r,o));let f=this.Ir.get(r);void 0===f&&(f=z(),this.Ir.set(r,f)),this.Ir.set(r,f.add(o.key))}}class bl{constructor(){this.sessionToken=bi.EMPTY_BYTE_STRING}getSessionToken(e){return Zt.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,Zt.resolve()}}class Mo{constructor(){this.Tr=new Fr(Go.Er),this.dr=new Fr(Go.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const o=new Go(e,r);this.Tr=this.Tr.add(o),this.dr=this.dr.add(o)}Rr(e,r){e.forEach(o=>this.addReference(o,r))}removeReference(e,r){this.Vr(new Go(e,r))}mr(e,r){e.forEach(o=>this.removeReference(o,r))}gr(e){const r=new Vt(new et([])),o=new Go(r,e),u=new Go(r,e+1),f=[];return this.dr.forEachInRange([o,u],_=>{this.Vr(_),f.push(_.key)}),f}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new Vt(new et([])),o=new Go(r,e),u=new Go(r,e+1);let f=z();return this.dr.forEachInRange([o,u],_=>{f=f.add(_.key)}),f}containsKey(e){const r=new Go(e,0),o=this.Tr.firstAfterOrEqual(r);return null!==o&&e.isEqual(o.key)}}class Go{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return Vt.comparator(e.key,r.key)||le(e.wr,r.wr)}static Ar(e,r){return le(e.wr,r.wr)||Vt.comparator(e.key,r.key)}}class P_{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new Fr(Go.Er)}checkEmpty(e){return Zt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,r,o,u){const f=this.Sr;this.Sr++;const _=new Zo(f,r,o,u);this.mutationQueue.push(_);for(const D of u)this.br=this.br.add(new Go(D.key,f)),this.indexManager.addToCollectionParentIndex(e,D.key.path.popLast());return Zt.resolve(_)}lookupMutationBatch(e,r){return Zt.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const u=this.vr(r+1),f=u<0?0:u;return Zt.resolve(this.mutationQueue.length>f?this.mutationQueue[f]:null)}getHighestUnacknowledgedBatchId(){return Zt.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return Zt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const o=new Go(r,0),u=new Go(r,Number.POSITIVE_INFINITY),f=[];return this.br.forEachInRange([o,u],_=>{const D=this.Dr(_.wr);f.push(D)}),Zt.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(e,r){let o=new Fr(le);return r.forEach(u=>{const f=new Go(u,0),_=new Go(u,Number.POSITIVE_INFINITY);this.br.forEachInRange([f,_],D=>{o=o.add(D.wr)})}),Zt.resolve(this.Cr(o))}getAllMutationBatchesAffectingQuery(e,r){const o=r.path,u=o.length+1;let f=o;Vt.isDocumentKey(f)||(f=f.child(""));const _=new Go(new Vt(f),0);let D=new Fr(le);return this.br.forEachWhile(G=>{const ne=G.key.path;return!!o.isPrefixOf(ne)&&(ne.length===u&&(D=D.add(G.wr)),!0)},_),Zt.resolve(this.Cr(D))}Cr(e){const r=[];return e.forEach(o=>{const u=this.Dr(o);null!==u&&r.push(u)}),r}removeMutationBatch(e,r){Wn(0===this.Fr(r.batchId,"removed")),this.mutationQueue.shift();let o=this.br;return Zt.forEach(r.mutations,u=>{const f=new Go(u.key,r.batchId);return o=o.delete(f),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.br=o})}On(e){}containsKey(e,r){const o=new Go(r,0),u=this.br.firstAfterOrEqual(o);return Zt.resolve(r.isEqual(u&&u.key))}performConsistencyCheck(e){return Zt.resolve()}Fr(e,r){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class Ry{constructor(e){this.Mr=e,this.docs=new kr(Vt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const o=r.key,u=this.docs.get(o),f=u?u.size:0,_=this.Mr(r);return this.docs=this.docs.insert(o,{document:r.mutableCopy(),size:_}),this.size+=_-f,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const o=this.docs.get(r);return Zt.resolve(o?o.document.mutableCopy():ln.newInvalidDocument(r))}getEntries(e,r){let o=Es();return r.forEach(u=>{const f=this.docs.get(u);o=o.insert(u,f?f.document.mutableCopy():ln.newInvalidDocument(u))}),Zt.resolve(o)}getDocumentsMatchingQuery(e,r,o,u){let f=Es();const _=r.path,D=new Vt(_.child("")),G=this.docs.getIteratorFrom(D);for(;G.hasNext();){const{key:ne,value:{document:ve}}=G.getNext();if(!_.isPrefixOf(ne.path))break;ne.path.length>_.length+1||Qr(ni(ve),o)<=0||(u.has(ve.key)||To(r,ve))&&(f=f.insert(ve.key,ve.mutableCopy()))}return Zt.resolve(f)}getAllFromCollectionGroup(e,r,o,u){Pn()}Or(e,r){return Zt.forEach(this.docs,o=>r(o))}newChangeBuffer(e){return new cp(this)}getSize(e){return Zt.resolve(this.size)}}class cp extends fd{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((o,u)=>{u.isValidDocument()?r.push(this.cr.addEntry(e,u)):this.cr.removeEntry(o)}),Zt.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}class ia{constructor(e){this.persistence=e,this.Nr=new _s(r=>fa(r),Xi),this.lastRemoteSnapshotVersion=q.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Mo,this.targetCount=0,this.kr=eu.Bn()}forEachTarget(e,r){return this.Nr.forEach((o,u)=>r(u)),Zt.resolve()}getLastRemoteSnapshotVersion(e){return Zt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Zt.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Zt.resolve(this.highestTargetId)}setTargetsMetadata(e,r,o){return o&&(this.lastRemoteSnapshotVersion=o),r>this.Lr&&(this.Lr=r),Zt.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new eu(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,Zt.resolve()}updateTargetData(e,r){return this.Kn(r),Zt.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,Zt.resolve()}removeTargets(e,r,o){let u=0;const f=[];return this.Nr.forEach((_,D)=>{D.sequenceNumber<=r&&null===o.get(D.targetId)&&(this.Nr.delete(_),f.push(this.removeMatchingKeysForTargetId(e,D.targetId)),u++)}),Zt.waitFor(f).next(()=>u)}getTargetCount(e){return Zt.resolve(this.targetCount)}getTargetData(e,r){const o=this.Nr.get(r)||null;return Zt.resolve(o)}addMatchingKeys(e,r,o){return this.Br.Rr(r,o),Zt.resolve()}removeMatchingKeys(e,r,o){this.Br.mr(r,o);const u=this.persistence.referenceDelegate,f=[];return u&&r.forEach(_=>{f.push(u.markPotentiallyOrphaned(e,_))}),Zt.waitFor(f)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),Zt.resolve()}getMatchingKeysForTargetId(e,r){const o=this.Br.yr(r);return Zt.resolve(o)}containsKey(e,r){return Zt.resolve(this.Br.containsKey(r))}}class Nu{constructor(e,r){this.qr={},this.overlays={},this.Qr=new pi(0),this.Kr=!1,this.Kr=!0,this.$r=new bl,this.referenceDelegate=e(this),this.Ur=new ia(this),this.indexManager=new b_,this.remoteDocumentCache=new Ry(o=>this.referenceDelegate.Wr(o)),this.serializer=new ki(r),this.Gr=new M_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new Bg,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let o=this.qr[e.toKey()];return o||(o=new P_(r,this.referenceDelegate),this.qr[e.toKey()]=o),o}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,o){Un("MemoryPersistence","Starting transaction:",e);const u=new Nh(this.Qr.next());return this.referenceDelegate.zr(),o(u).next(f=>this.referenceDelegate.jr(u).next(()=>f)).toPromise().then(f=>(u.raiseOnCommittedEvent(),f))}Hr(e,r){return Zt.or(Object.values(this.qr).map(o=>()=>o.containsKey(e,r)))}}class Nh extends po{constructor(e){super(),this.currentSequenceNumber=e}}class tu{constructor(e){this.persistence=e,this.Jr=new Mo,this.Yr=null}static Zr(e){return new tu(e)}get Xr(){if(this.Yr)return this.Yr;throw Pn()}addReference(e,r,o){return this.Jr.addReference(o,r),this.Xr.delete(o.toString()),Zt.resolve()}removeReference(e,r,o){return this.Jr.removeReference(o,r),this.Xr.add(o.toString()),Zt.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),Zt.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(u=>this.Xr.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,r.targetId).next(u=>{u.forEach(f=>this.Xr.add(f.toString()))}).next(()=>o.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Zt.forEach(this.Xr,o=>{const u=Vt.fromPath(o);return this.ei(e,u).next(f=>{f||r.removeEntry(u,q.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(o=>{o?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return Zt.or([()=>Zt.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}class md{constructor(e){this.serializer=e}O(e,r,o,u){const f=new to("createOrUpgrade",r);var G;o<1&&u>=1&&(e.createObjectStore("owner"),(G=e).createObjectStore("mutationQueues",{keyPath:"userId"}),G.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Io,{unique:!0}),G.createObjectStore("documentMutations"),Nl(e),function(G){G.createObjectStore("remoteDocuments")}(e));let _=Zt.resolve();return o<3&&u>=3&&(0!==o&&(function(G){G.deleteObjectStore("targetDocuments"),G.deleteObjectStore("targets"),G.deleteObjectStore("targetGlobal")}(e),Nl(e)),_=_.next(()=>function(G){const ne=G.store("targetGlobal"),ve={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:q.min().toTimestamp(),targetCount:0};return ne.put("targetGlobalKey",ve)}(f))),o<4&&u>=4&&(0!==o&&(_=_.next(()=>function(G,ne){return ne.store("mutations").U().next(ve=>{G.deleteObjectStore("mutations"),G.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Io,{unique:!0});const Ve=ne.store("mutations"),at=ve.map(Lt=>Ve.put(Lt));return Zt.waitFor(at)})}(e,f))),_=_.next(()=>{!function(G){G.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&u>=5&&(_=_.next(()=>this.ni(f))),o<6&&u>=6&&(_=_.next(()=>(function(G){G.createObjectStore("remoteDocumentGlobal")}(e),this.ri(f)))),o<7&&u>=7&&(_=_.next(()=>this.ii(f))),o<8&&u>=8&&(_=_.next(()=>this.si(e,f))),o<9&&u>=9&&(_=_.next(()=>{!function(G){G.objectStoreNames.contains("remoteDocumentChanges")&&G.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&u>=10&&(_=_.next(()=>this.oi(f))),o<11&&u>=11&&(_=_.next(()=>{(function(G){G.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(G){G.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&u>=12&&(_=_.next(()=>{!function(G){const ne=G.createObjectStore("documentOverlays",{keyPath:ae});ne.createIndex("collectionPathOverlayIndex",W,{unique:!1}),ne.createIndex("collectionGroupOverlayIndex",Ae,{unique:!1})}(e)})),o<13&&u>=13&&(_=_.next(()=>function(G){const ne=G.createObjectStore("remoteDocumentsV14",{keyPath:_l});ne.createIndex("documentKeyIndex",xa),ne.createIndex("collectionGroupIndex",Vl)}(e)).next(()=>this._i(e,f)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&u>=14&&(_=_.next(()=>this.ai(e,f))),o<15&&u>=15&&(_=_.next(()=>function(G){G.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),G.createObjectStore("indexState",{keyPath:pu}).createIndex("sequenceNumberIndex",Wo,{unique:!1}),G.createObjectStore("indexEntries",{keyPath:Gl}).createIndex("documentKeyIndex",gu,{unique:!1})}(e))),o<16&&u>=16&&(_=_.next(()=>{r.objectStore("indexState").clear()}).next(()=>{r.objectStore("indexEntries").clear()})),o<17&&u>=17&&(_=_.next(()=>{!function(G){G.createObjectStore("globals",{keyPath:"name"})}(e)})),_}ri(e){let r=0;return e.store("remoteDocuments").J((o,u)=>{r+=dd(u)}).next(()=>{const o={byteSize:r};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}ni(e){const r=e.store("mutationQueues"),o=e.store("mutations");return r.U().next(u=>Zt.forEach(u,f=>{const _=IDBKeyRange.bound([f.userId,-1],[f.userId,f.lastAcknowledgedBatchId]);return o.U("userMutationsIndex",_).next(D=>Zt.forEach(D,G=>{Wn(G.userId===f.userId);const ne=wl(this.serializer,G);return gc(e,f.userId,ne).next(()=>{})}))}))}ii(e){const r=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(u=>{const f=[];return o.J((_,D)=>{const G=new et(_),ne=[0,Ai(G)];f.push(r.get(ne).next(ve=>ve?Zt.resolve():r.put({targetId:0,path:Ai(G),sequenceNumber:u.highestListenSequenceNumber})))}).next(()=>Zt.waitFor(f))})}si(e,r){e.createObjectStore("collectionParents",{keyPath:Bl});const o=r.store("collectionParents"),u=new va,f=_=>{if(u.add(_)){const D=_.lastSegment(),G=_.popLast();return o.put({collectionId:D,parent:Ai(G)})}};return r.store("remoteDocuments").J({H:!0},(_,D)=>{const G=new et(_);return f(G.popLast())}).next(()=>r.store("documentMutations").J({H:!0},([_,D,G],ne)=>{const ve=ri(D);return f(ve.popLast())}))}oi(e){const r=e.store("targets");return r.J((o,u)=>{const f=nl(u),_=ra(this.serializer,f);return r.put(_)})}_i(e,r){const o=r.store("remoteDocuments"),u=[];return o.J((f,_)=>{const D=r.store("remoteDocumentsV14"),G=(Ve=_,Ve.document?new Vt(et.fromString(Ve.document.name).popFirst(5)):Ve.noDocument?Vt.fromSegments(Ve.noDocument.path):Ve.unknownDocument?Vt.fromSegments(Ve.unknownDocument.path):Pn()).path.toArray(),ne={prefixPath:G.slice(0,G.length-2),collectionGroup:G[G.length-2],documentId:G[G.length-1],readTime:_.readTime||[0,0],unknownDocument:_.unknownDocument,noDocument:_.noDocument,document:_.document,hasCommittedMutations:!!_.hasCommittedMutations};var Ve;u.push(D.put(ne))}).next(()=>Zt.waitFor(u))}ai(e,r){const o=r.store("mutations"),u=pd(this.serializer),f=new Nu(tu.Zr,this.serializer.ct);return o.U().next(_=>{const D=new Map;return _.forEach(G=>{var ne;let ve=null!==(ne=D.get(G.userId))&&void 0!==ne?ne:z();wl(this.serializer,G).keys().forEach(Ve=>ve=ve.add(Ve)),D.set(G.userId,ve)}),Zt.forEach(D,(G,ne)=>{const ve=new di(ne),Ve=Ch.lt(this.serializer,ve),at=f.getIndexManager(ve),Lt=Oh.lt(ve,this.serializer,at,f.referenceDelegate);return new Vg(u,Lt,Ve,at).recalculateAndSaveOverlaysForDocumentKeys(new zo(r,pi.oe),G).next()})})}}function Nl(a){a.createObjectStore("targetDocuments",{keyPath:ii}).createIndex("documentTargetsIndex",Os,{unique:!0}),a.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",qa,{unique:!0}),a.createObjectStore("targetGlobal")}const dp="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class hp{constructor(e,r,o,u,f,_,D,G,ne,ve,Ve=17){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=o,this.ui=f,this.window=_,this.document=D,this.ci=ne,this.li=ve,this.hi=Ve,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=at=>Promise.resolve(),!hp.D())throw new Ln(pn.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new lp(this,u),this.Ai=r+"main",this.serializer=new ki(G),this.Ri=new yo(this.Ai,this.hi,new md(this.serializer)),this.$r=new ad,this.Ur=new _c(this.referenceDelegate,this.serializer),this.remoteDocumentCache=pd(this.serializer),this.Gr=new dc,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,!1===ve&&Kr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ln(pn.FAILED_PRECONDITION,dp);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new pi(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){var r=this;return this.di=function(){var o=(0,ce.A)(function*(u){if(r.started)return e(u)});return function(u){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(function(){var r=(0,ce.A)(function*(o){null===o.newVersion&&(yield e())});return function(o){return r.apply(this,arguments)}}())}setNetworkEnabled(e){var r=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget((0,ce.A)(function*(){r.started&&(yield r.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Mu(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(r=>{r||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(r=>this.isPrimary&&!r?this.bi(e).next(()=>!1):!!r&&this.Di(e).next(()=>!0))).catch(e=>{if(ko(e))return Un("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Un("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return es(e).get("owner").next(r=>Zt.resolve(this.vi(r)))}Ci(e){return Mu(e).delete(this.clientId)}Fi(){var e=this;return(0,ce.A)(function*(){if(e.isPrimary&&!e.Mi(e.Ei,18e5)){e.Ei=Date.now();const r=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const u=mi(o,"clientMetadata");return u.U().next(f=>{const _=e.xi(f,18e5),D=f.filter(G=>-1===_.indexOf(G));return Zt.forEach(D,G=>u.delete(G.clientId)).next(()=>D)})}).catch(()=>[]);if(e.Vi)for(const o of r)e.Vi.removeItem(e.Oi(o.clientId))}})()}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?Zt.resolve(!0):es(e).get("owner").next(r=>{if(null!==r&&this.Mi(r.leaseTimestampMs,5e3)&&!this.Ni(r.ownerId)){if(this.vi(r)&&this.networkEnabled)return!0;if(!this.vi(r)){if(!r.allowTabSynchronization)throw new Ln(pn.FAILED_PRECONDITION,dp);return!1}}return!(!this.networkEnabled||!this.inForeground)||Mu(e).U().next(o=>void 0===this.xi(o,5e3).find(u=>!(this.clientId===u.clientId||!(!this.networkEnabled&&u.networkEnabled||!this.inForeground&&u.inForeground&&this.networkEnabled===u.networkEnabled))))}).next(r=>(this.isPrimary!==r&&Un("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var e=this;return(0,ce.A)(function*(){e.Kr=!1,e.Li(),e.Ti&&(e.Ti.cancel(),e.Ti=null),e.Bi(),e.ki(),yield e.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],r=>{const o=new zo(r,pi.oe);return e.bi(o).next(()=>e.Ci(o))}),e.Ri.close(),e.qi()})()}xi(e,r){return e.filter(o=>this.Mi(o.updateTimeMs,r)&&!this.Ni(o.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>Mu(e).U().next(r=>this.xi(r,18e5).map(o=>o.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,r){return Oh.lt(e,this.serializer,r,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new cd(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return Ch.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,r,o){Un("IndexedDbPersistence","Starting transaction:",e);const u="readonly"===r?"readonly":"readwrite",f=17===(G=this.hi)?so:16===G?Vi:15===G?gi:14===G?Rr:13===G?Fn:12===G?He:11===G?re:void Pn();var G;let _;return this.Ri.runTransaction(e,u,f,D=>(_=new zo(D,this.Qr?this.Qr.next():pi.oe),"readwrite-primary"===r?this.wi(_).next(G=>!!G||this.Si(_)).next(G=>{if(!G)throw Kr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new Ln(pn.FAILED_PRECONDITION,hi);return o(_)}).next(G=>this.Di(_).next(()=>G)):this.Ki(_).next(()=>o(_)))).then(D=>(_.raiseOnCommittedEvent(),D))}Ki(e){return es(e).get("owner").next(r=>{if(null!==r&&this.Mi(r.leaseTimestampMs,5e3)&&!this.Ni(r.ownerId)&&!this.vi(r)&&!(this.li||this.allowTabSynchronization&&r.allowTabSynchronization))throw new Ln(pn.FAILED_PRECONDITION,dp)})}Di(e){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return es(e).put("owner",r)}static D(){return yo.D()}bi(e){const r=es(e);return r.get("owner").next(o=>this.vi(o)?(Un("IndexedDbPersistence","Releasing primary lease."),r.delete("owner")):Zt.resolve())}Mi(e,r){const o=Date.now();return!(e<o-r||e>o&&(Kr(`Detected an update time that is in the future: ${e} > ${o}`),1))}fi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground="visible"===this.document.visibilityState)}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Pi=()=>{this.Li();const r=/(?:Version|Mobile)\/1[456]/;(0,Ee.nr)()&&(navigator.appVersion.match(r)||navigator.userAgent.match(r))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var r;try{const o=null!==(null===(r=this.Vi)||void 0===r?void 0:r.getItem(this.Oi(e)));return Un("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return Kr("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){Kr("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function es(a){return mi(a,"owner")}function Mu(a){return mi(a,"clientMetadata")}function Mh(a,e){let r=a.projectId;return a.isDefaultDatabase||(r+="."+a.database),"firestore/"+e+"/"+r+"/"}class Ph{constructor(e,r,o,u){this.targetId=e,this.fromCache=r,this.$i=o,this.Ui=u}static Wi(e,r){let o=z(),u=z();for(const f of r.docChanges)switch(f.type){case 0:o=o.add(f.doc.key);break;case 1:u=u.add(f.doc.key)}return new Ph(e,r.fromCache,o,u)}}class Dy{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class T{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(0,Ee.nr)()?8:Ys((0,Ee.ZQ)())>0?6:4}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,o,u){const f={result:null};return this.Yi(e,r).next(_=>{f.result=_}).next(()=>{if(!f.result)return this.Zi(e,r,u,o).next(_=>{f.result=_})}).next(()=>{if(f.result)return;const _=new Dy;return this.Xi(e,r,_).next(D=>{if(f.result=D,this.zi)return this.es(e,r,_,D.size)})}).next(()=>f.result)}es(e,r,o,u){return o.documentReadCount<this.ji?(io()<=Ce.$b.DEBUG&&Un("QueryEngine","SDK will not create cache indexes for query:",Ka(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Zt.resolve()):(io()<=Ce.$b.DEBUG&&Un("QueryEngine","Query:",Ka(r),"scans",o.documentReadCount,"local documents and returns",u,"documents as results."),o.documentReadCount>this.Hi*u?(io()<=Ce.$b.DEBUG&&Un("QueryEngine","The SDK decides to create cache indexes for query:",Ka(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ro(r))):Zt.resolve())}Yi(e,r){if(_u(r))return Zt.resolve(null);let o=ro(r);return this.indexManager.getIndexType(e,o).next(u=>0===u?null:(null!==r.limit&&1===u&&(r=lo(r,null,"F"),o=ro(r)),this.indexManager.getDocumentsMatchingTarget(e,o).next(f=>{const _=z(...f);return this.Ji.getDocuments(e,_).next(D=>this.indexManager.getMinOffset(e,o).next(G=>{const ne=this.ts(r,D);return this.ns(r,ne,_,G.readTime)?this.Yi(e,lo(r,null,"F")):this.rs(e,ne,r,G)}))})))}Zi(e,r,o,u){return _u(r)||u.isEqual(q.min())?Zt.resolve(null):this.Ji.getDocuments(e,o).next(f=>{const _=this.ts(r,f);return this.ns(r,_,o,u)?Zt.resolve(null):(io()<=Ce.$b.DEBUG&&Un("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),Ka(r)),this.rs(e,_,r,qr(u,-1)).next(D=>D))})}ts(e,r){let o=new Fr(Eu(e));return r.forEach((u,f)=>{To(e,f)&&(o=o.add(f))}),o}ns(e,r,o,u){if(null===e.limit)return!1;if(o.size!==r.size)return!0;const f="F"===e.limitType?r.last():r.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(u)>0)}Xi(e,r,o){return io()<=Ce.$b.DEBUG&&Un("QueryEngine","Using full collection scan to execute query:",Ka(r)),this.Ji.getDocumentsMatchingQuery(e,r,Xr.min(),o)}rs(e,r,o,u){return this.Ji.getDocumentsMatchingQuery(e,o,u).next(f=>(r.forEach(_=>{f=f.insert(_.key,_)}),f))}}class p{constructor(e,r,o,u){this.persistence=e,this.ss=r,this.serializer=u,this.os=new kr(le),this._s=new _s(f=>fa(f),Xi),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(o)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Vg(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function g(a,e,r,o){return new p(a,e,r,o)}function O(a,e){return oe.apply(this,arguments)}function oe(){return(oe=(0,ce.A)(function*(a,e){const r=ir(a);return yield r.persistence.runTransaction("Handle user change","readonly",o=>{let u;return r.mutationQueue.getAllMutationBatches(o).next(f=>(u=f,r.ls(e),r.mutationQueue.getAllMutationBatches(o))).next(f=>{const _=[],D=[];let G=z();for(const ne of u){_.push(ne.batchId);for(const ve of ne.mutations)G=G.add(ve.key)}for(const ne of f){D.push(ne.batchId);for(const ve of ne.mutations)G=G.add(ve.key)}return r.localDocuments.getDocuments(o,G).next(ne=>({hs:ne,removedBatchIds:_,addedBatchIds:D}))})})})).apply(this,arguments)}function Nt(a){const e=ir(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function On(a,e,r){let o=z(),u=z();return r.forEach(f=>o=o.add(f)),e.getEntries(a,o).next(f=>{let _=Es();return r.forEach((D,G)=>{const ne=f.get(D);G.isFoundDocument()!==ne.isFoundDocument()&&(u=u.add(D)),G.isNoDocument()&&G.version.isEqual(q.min())?(e.removeEntry(D,G.readTime),_=_.insert(D,G)):!ne.isValidDocument()||G.version.compareTo(ne.version)>0||0===G.version.compareTo(ne.version)&&ne.hasPendingWrites?(e.addEntry(G),_=_.insert(D,G)):Un("LocalStore","Ignoring outdated watch update for ",D,". Current version:",ne.version," Watch version:",G.version)}),{Ps:_,Is:u}})}function cr(a,e){const r=ir(a);return r.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function _r(a,e){const r=ir(a);return r.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return r.Ur.getTargetData(o,e).next(f=>f?(u=f,Zt.resolve(u)):r.Ur.allocateTargetId(o).next(_=>(u=new ys(e,_,"TargetPurposeListen",o.currentSequenceNumber),r.Ur.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=r.os.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(r.os=r.os.insert(o.targetId,o),r._s.set(e,o.targetId)),o})}function mr(a,e,r){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,ce.A)(function*(a,e,r){const o=ir(a),u=o.os.get(e),f=r?"readwrite":"readwrite-primary";try{r||(yield o.persistence.runTransaction("Release target",f,_=>o.persistence.referenceDelegate.removeTarget(_,u)))}catch(_){if(!ko(_))throw _;Un("LocalStore",`Failed to update sequence numbers for target ${e}: ${_}`)}o.os=o.os.remove(e),o._s.delete(u.target)})).apply(this,arguments)}function ks(a,e,r){const o=ir(a);let u=q.min(),f=z();return o.persistence.runTransaction("Execute query","readwrite",_=>function(G,ne,ve){const Ve=ir(G),at=Ve._s.get(ve);return void 0!==at?Zt.resolve(Ve.os.get(at)):Ve.Ur.getTargetData(ne,ve)}(o,_,ro(e)).next(D=>{if(D)return u=D.lastLimboFreeSnapshotVersion,o.Ur.getMatchingKeysForTargetId(_,D.targetId).next(G=>{f=G})}).next(()=>o.ss.getDocumentsMatchingQuery(_,e,r?u:q.min(),r?f:z())).next(D=>(Ia(o,Cl(e),D),{documents:D,Ts:f})))}function vc(a,e){const r=ir(a),o=ir(r.Ur),u=r.os.get(e);return u?Promise.resolve(u.target):r.persistence.runTransaction("Get target data","readonly",f=>o.ot(f,e).next(_=>_?_.target:null))}function fp(a,e){const r=ir(a),o=r.us.get(e)||q.min();return r.persistence.runTransaction("Get new document changes","readonly",u=>r.cs.getAllFromCollectionGroup(u,e,qr(o,-1),Number.MAX_SAFE_INTEGER)).then(u=>(Ia(r,e,u),u))}function Ia(a,e,r){let o=a.us.get(e)||q.min();r.forEach((u,f)=>{f.readTime.compareTo(o)>0&&(o=f.readTime)}),a.us.set(e,o)}function _d(){return(_d=(0,ce.A)(function*(a,e,r,o){const u=ir(a);let f=z(),_=Es();for(const ne of r){const ve=e.Es(ne.metadata.name);ne.document&&(f=f.add(ve));const Ve=e.ds(ne);Ve.setReadTime(e.As(ne.metadata.readTime)),_=_.insert(ve,Ve)}const D=u.cs.newChangeBuffer({trackRemovals:!0}),G=yield _r(u,(ve=o,ro(ga(et.fromString(`__bundle__/docs/${ve}`)))));var ve;return u.persistence.runTransaction("Apply bundle documents","readwrite",ne=>On(ne,D,_).next(ve=>(D.apply(ne),ve)).next(ve=>u.Ur.removeMatchingKeysForTargetId(ne,G.targetId).next(()=>u.Ur.addMatchingKeys(ne,f,G.targetId)).next(()=>u.localDocuments.getLocalViewOfDocuments(ne,ve.Ps,ve.Is)).next(()=>ve.Ps)))})).apply(this,arguments)}function $g(a,e){return pp.apply(this,arguments)}function pp(){return(pp=(0,ce.A)(function*(a,e,r=z()){const o=yield _r(a,ro(tp(e.bundledQuery))),u=ir(a);return u.persistence.runTransaction("Save named query","readwrite",f=>{const _=Ji(e.readTime);if(o.snapshotVersion.compareTo(_)>=0)return u.Gr.saveNamedQuery(f,e);const D=o.withResumeToken(bi.EMPTY_BYTE_STRING,_);return u.os=u.os.insert(D.targetId,D),u.Ur.updateTargetData(f,D).next(()=>u.Ur.removeMatchingKeysForTargetId(f,o.targetId)).next(()=>u.Ur.addMatchingKeys(f,r,o.targetId)).next(()=>u.Gr.saveNamedQuery(f,e))})})).apply(this,arguments)}function Kg(a,e){return`firestore_clients_${a}_${e}`}function gp(a,e,r){let o=`firestore_mutations_${a}_${r}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function mp(a,e){return`firestore_targets_${a}_${e}`}class Lh{constructor(e,r,o,u){this.user=e,this.batchId=r,this.state=o,this.error=u}static Rs(e,r,o){const u=JSON.parse(o);let f,_="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return _&&u.error&&(_="string"==typeof u.error.message&&"string"==typeof u.error.code,_&&(f=new Ln(u.error.code,u.error.message))),_?new Lh(e,r,u.state,f):(Kr("SharedClientState",`Failed to parse mutation state for ID '${r}': ${o}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ca{constructor(e,r,o){this.targetId=e,this.state=r,this.error=o}static Rs(e,r){const o=JSON.parse(r);let u,f="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return f&&o.error&&(f="string"==typeof o.error.message&&"string"==typeof o.error.code,f&&(u=new Ln(o.error.code,o.error.message))),f?new Ca(e,o.state,u):(Kr("SharedClientState",`Failed to parse target state for ID '${e}': ${r}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class nu{constructor(e,r){this.clientId=e,this.activeTargetIds=r}static Rs(e,r){const o=JSON.parse(r);let u="object"==typeof o&&o.activeTargetIds instanceof Array,f=Ge();for(let _=0;u&&_<o.activeTargetIds.length;++_)u=Yo(o.activeTargetIds[_]),f=f.add(o.activeTargetIds[_]);return u?new nu(e,f):(Kr("SharedClientState",`Failed to parse client data for instance '${e}': ${r}`),null)}}class jg{constructor(e,r){this.clientId=e,this.onlineState=r}static Rs(e){const r=JSON.parse(e);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new jg(r.clientId,r.onlineState):(Kr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class L_{constructor(){this.activeTargetIds=Ge()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _p{constructor(e,r,o,u,f){this.window=e,this.ui=r,this.persistenceKey=o,this.ps=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new kr(le),this.started=!1,this.bs=[];const _=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=f,this.Ds=Kg(this.persistenceKey,this.ps),this.vs=`firestore_sequence_number_${this.persistenceKey}`,this.Ss=this.Ss.insert(this.ps,new L_),this.Cs=new RegExp(`^firestore_clients_${_}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${_}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${_}_(\\d+)$`),this.xs=`firestore_online_state_${this.persistenceKey}`,this.Os=function(G){return`firestore_bundle_loaded_v2_${G}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ce.A)(function*(){const r=yield e.syncEngine.Qi();for(const u of r){if(u===e.ps)continue;const f=e.getItem(Kg(e.persistenceKey,u));if(f){const _=nu.Rs(u,f);_&&(e.Ss=e.Ss.insert(_.clientId,_))}}e.Ns();const o=e.storage.getItem(e.xs);if(o){const u=e.Ls(o);u&&e.Bs(u)}for(const u of e.bs)e.ws(u);e.bs=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.vs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(e){let r=!1;return this.Ss.forEach((o,u)=>{u.activeTargetIds.has(e)&&(r=!0)}),r}addPendingMutation(e){this.qs(e,"pending")}updateMutationState(e,r,o){this.qs(e,r,o),this.Qs(e)}addLocalQueryTarget(e,r=!0){let o="not-current";if(this.isActiveQueryTarget(e)){const u=this.storage.getItem(mp(this.persistenceKey,e));if(u){const f=Ca.Rs(e,u);f&&(o=f.state)}}return r&&this.Ks.fs(e),this.Ns(),o}removeLocalQueryTarget(e){this.Ks.gs(e),this.Ns()}isLocalQueryTarget(e){return this.Ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(mp(this.persistenceKey,e))}updateQueryState(e,r,o){this.$s(e,r,o)}handleUserChange(e,r,o){r.forEach(u=>{this.Qs(u)}),this.currentUser=e,o.forEach(u=>{this.addPendingMutation(u)})}setOnlineState(e){this.Us(e)}notifyBundleLoaded(e){this.Ws(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(e){const r=this.storage.getItem(e);return Un("SharedClientState","READ",e,r),r}setItem(e,r){Un("SharedClientState","SET",e,r),this.storage.setItem(e,r)}removeItem(e){Un("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ws(e){var r=this;const o=e;if(o.storageArea===this.storage){if(Un("SharedClientState","EVENT",o.key,o.newValue),o.key===this.Ds)return void Kr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable((0,ce.A)(function*(){if(r.started){if(null!==o.key)if(r.Cs.test(o.key)){if(null==o.newValue){const u=r.Gs(o.key);return r.zs(u,null)}{const u=r.js(o.key,o.newValue);if(u)return r.zs(u.clientId,u)}}else if(r.Fs.test(o.key)){if(null!==o.newValue){const u=r.Hs(o.key,o.newValue);if(u)return r.Js(u)}}else if(r.Ms.test(o.key)){if(null!==o.newValue){const u=r.Ys(o.key,o.newValue);if(u)return r.Zs(u)}}else if(o.key===r.xs){if(null!==o.newValue){const u=r.Ls(o.newValue);if(u)return r.Bs(u)}}else if(o.key===r.vs){const u=function(_){let D=pi.oe;if(null!=_)try{const G=JSON.parse(_);Wn("number"==typeof G),D=G}catch(G){Kr("SharedClientState","Failed to read sequence number from WebStorage",G)}return D}(o.newValue);u!==pi.oe&&r.sequenceNumberHandler(u)}else if(o.key===r.Os){const u=r.Xs(o.newValue);yield Promise.all(u.map(f=>r.syncEngine.eo(f)))}}else r.bs.push(o)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(e,r,o){const u=new Lh(this.currentUser,e,r,o),f=gp(this.persistenceKey,this.currentUser,e);this.setItem(f,u.Vs())}Qs(e){const r=gp(this.persistenceKey,this.currentUser,e);this.removeItem(r)}Us(e){this.storage.setItem(this.xs,JSON.stringify({clientId:this.ps,onlineState:e}))}$s(e,r,o){const u=mp(this.persistenceKey,e),f=new Ca(e,r,o);this.setItem(u,f.Vs())}Ws(e){const r=JSON.stringify(Array.from(e));this.setItem(this.Os,r)}Gs(e){const r=this.Cs.exec(e);return r?r[1]:null}js(e,r){const o=this.Gs(e);return nu.Rs(o,r)}Hs(e,r){const o=this.Fs.exec(e),u=Number(o[1]);return Lh.Rs(new di(void 0!==o[2]?o[2]:null),u,r)}Ys(e,r){const o=this.Ms.exec(e),u=Number(o[1]);return Ca.Rs(u,r)}Ls(e){return jg.Rs(e)}Xs(e){return JSON.parse(e)}Js(e){var r=this;return(0,ce.A)(function*(){if(e.user.uid===r.currentUser.uid)return r.syncEngine.no(e.batchId,e.state,e.error);Un("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Zs(e){return this.syncEngine.ro(e.targetId,e.state,e.error)}zs(e,r){const o=r?this.Ss.insert(e,r):this.Ss.remove(e),u=this.ks(this.Ss),f=this.ks(o),_=[],D=[];return f.forEach(G=>{u.has(G)||_.push(G)}),u.forEach(G=>{f.has(G)||D.push(G)}),this.syncEngine.io(_,D).then(()=>{this.Ss=o})}Bs(e){this.Ss.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ks(e){let r=Ge();return e.forEach((o,u)=>{r=r.unionWith(u.activeTargetIds)}),r}}class xh{constructor(){this.so=new L_,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,o){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,o){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new L_,Promise.resolve()}handleUserChange(e,r,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class jS{_o(e){}shutdown(){}}class Hg{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Un("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Un("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Ep=null;function Ed(){return null===Ep?Ep=268435456+Math.round(2147483648*Math.random()):Ep++,"0x"+Ep.toString(16)}const vp={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class wy{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const ts="WebChannelConnection";class HS extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const o=r.ssl?"https":"http",u=encodeURIComponent(this.databaseId.projectId),f=encodeURIComponent(this.databaseId.database);this.Do=o+"://"+r.host,this.vo=`projects/${u}/databases/${f}`,this.Co="(default)"===this.databaseId.database?`project_id=${u}`:`project_id=${u}&database_id=${f}`}get Fo(){return!1}Mo(r,o,u,f,_){const D=Ed(),G=this.xo(r,o.toUriEncodedString());Un("RestConnection",`Sending RPC '${r}' ${D}:`,G,u);const ne={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(ne,f,_),this.No(r,G,ne,u).then(ve=>(Un("RestConnection",`Received RPC '${r}' ${D}: `,ve),ve),ve=>{throw Jr("RestConnection",`RPC '${r}' ${D} failed with error: `,ve,"url: ",G,"request:",u),ve})}Lo(r,o,u,f,_,D){return this.Mo(r,o,u,f,_)}Oo(r,o,u){r["X-Goog-Api-Client"]="gl-js/ fire/"+vo,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),o&&o.headers.forEach((f,_)=>r[_]=f),u&&u.headers.forEach((f,_)=>r[_]=f)}xo(r,o){return`${this.Do}/v1/${o}:${vp[r]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,o,u){const f=Ed();return new Promise((_,D)=>{const G=new yr;G.setWithCredentials(!0),G.listenOnce(si.COMPLETE,()=>{try{switch(G.getLastErrorCode()){case yi.NO_ERROR:const ve=G.getResponseJson();Un(ts,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(ve)),_(ve);break;case yi.TIMEOUT:Un(ts,`RPC '${e}' ${f} timed out`),D(new Ln(pn.DEADLINE_EXCEEDED,"Request time out"));break;case yi.HTTP_ERROR:const Ve=G.getStatus();if(Un(ts,`RPC '${e}' ${f} failed with status:`,Ve,"response text:",G.getResponseText()),Ve>0){let at=G.getResponseJson();Array.isArray(at)&&(at=at[0]);const Lt=null==at?void 0:at.error;if(Lt&&Lt.status&&Lt.message){const qt=function(fn){const zn=fn.toLowerCase().replace(/_/g,"-");return Object.values(pn).indexOf(zn)>=0?zn:pn.UNKNOWN}(Lt.status);D(new Ln(qt,Lt.message))}else D(new Ln(pn.UNKNOWN,"Server responded with status "+G.getStatus()))}else D(new Ln(pn.UNAVAILABLE,"Connection failed."));break;default:Pn()}}finally{Un(ts,`RPC '${e}' ${f} completed.`)}});const ne=JSON.stringify(u);Un(ts,`RPC '${e}' ${f} sending request:`,u),G.send(r,"POST",ne,o,15)})}Bo(e,r,o){const u=Ed(),f=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],_=Ui(),D=Eo(),G={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},ne=this.longPollingOptions.timeoutSeconds;void 0!==ne&&(G.longPollingTimeout=Math.round(1e3*ne)),this.useFetchStreams&&(G.useFetchStreams=!0),this.Oo(G.initMessageHeaders,r,o),G.encodeInitMessageHeaders=!0;const ve=f.join("");Un(ts,`Creating RPC '${e}' stream ${u}: ${ve}`,G);const Ve=_.createWebChannel(ve,G);let at=!1,Lt=!1;const qt=new wy({Io:fn=>{Lt?Un(ts,`Not sending because RPC '${e}' stream ${u} is closed:`,fn):(at||(Un(ts,`Opening RPC '${e}' stream ${u} transport.`),Ve.open(),at=!0),Un(ts,`RPC '${e}' stream ${u} sending:`,fn),Ve.send(fn))},To:()=>Ve.close()}),yn=(fn,zn,dr)=>{fn.listen(zn,hr=>{try{dr(hr)}catch(ur){setTimeout(()=>{throw ur},0)}})};return yn(Ve,Ar.EventType.OPEN,()=>{Lt||(Un(ts,`RPC '${e}' stream ${u} transport opened.`),qt.yo())}),yn(Ve,Ar.EventType.CLOSE,()=>{Lt||(Lt=!0,Un(ts,`RPC '${e}' stream ${u} transport closed`),qt.So())}),yn(Ve,Ar.EventType.ERROR,fn=>{Lt||(Lt=!0,Jr(ts,`RPC '${e}' stream ${u} transport errored:`,fn),qt.So(new Ln(pn.UNAVAILABLE,"The operation could not be completed")))}),yn(Ve,Ar.EventType.MESSAGE,fn=>{var zn;if(!Lt){const dr=fn.data[0];Wn(!!dr);const ur=dr.error||(null===(zn=dr[0])||void 0===zn?void 0:zn.error);if(ur){Un(ts,`RPC '${e}' stream ${u} received error:`,ur);const xr=ur.status;let wr=function($t){const tn=Ki[$t];if(void 0!==tn)return sc(tn)}(xr),Wt=ur.message;void 0===wr&&(wr=pn.INTERNAL,Wt="Unknown error status: "+xr+" with message "+ur.message),Lt=!0,qt.So(new Ln(wr,Wt)),Ve.close()}else Un(ts,`RPC '${e}' stream ${u} received:`,dr),qt.bo(dr)}}),yn(D,ai.STAT_EVENT,fn=>{fn.stat===zi.PROXY?Un(ts,`RPC '${e}' stream ${u} detected buffering proxy`):fn.stat===zi.NOPROXY&&Un(ts,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{qt.wo()},0),qt}}function Oy(){return typeof window<"u"?window:null}function Yg(){return typeof document<"u"?document:null}function kh(a){return new Wf(a,!0)}class yp{constructor(e,r,o=1e3,u=1.5,f=6e4){this.ui=e,this.timerId=r,this.ko=o,this.qo=u,this.Qo=f,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),o=Math.max(0,Date.now()-this.Uo),u=Math.max(0,r-o);u>0&&Un("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${o} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,u,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class by{constructor(e,r,o,u,f,_,D,G){this.ui=e,this.Ho=o,this.Jo=u,this.connection=f,this.authCredentialsProvider=_,this.appCheckCredentialsProvider=D,this.listener=G,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new yp(e,r)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}stop(){var e=this;return(0,ce.A)(function*(){e.n_()&&(yield e.close(0))})()}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){var e=this;return(0,ce.A)(function*(){if(e.r_())return e.close(0)})()}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,r){var o=this;return(0,ce.A)(function*(){o.u_(),o.c_(),o.t_.cancel(),o.Yo++,4!==e?o.t_.reset():r&&r.code===pn.RESOURCE_EXHAUSTED?(Kr(r.toString()),Kr("Using maximum backoff delay to prevent overloading the backend."),o.t_.Wo()):r&&r.code===pn.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.l_(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.mo(r)})()}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,u])=>{this.Yo===r&&this.P_(o,u)},o=>{e(()=>{const u=new Ln(pn.UNKNOWN,"Fetching auth token failed: "+o.message);return this.I_(u)})})}P_(e,r){const o=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{o(()=>this.listener.Eo())}),this.stream.Ro(()=>{o(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(u=>{o(()=>this.I_(u))}),this.stream.onMessage(u=>{o(()=>1==++this.e_?this.E_(u):this.onNext(u))})}i_(){var e=this;this.state=5,this.t_.Go((0,ce.A)(function*(){e.state=0,e.start()}))}I_(e){return Un("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(Un("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Sa extends by{constructor(e,r,o,u,f,_){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,o,u,_),this.serializer=f}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=function T_(a,e){let r;if("targetChange"in e){const o="NO_CHANGE"===(ne=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===ne?1:"REMOVE"===ne?2:"CURRENT"===ne?3:"RESET"===ne?4:Pn(),u=e.targetChange.targetIds||[],f=function(ne,ve){return ne.useProto3Json?(Wn(void 0===ve||"string"==typeof ve),bi.fromBase64String(ve||"")):(Wn(void 0===ve||ve instanceof Buffer||ve instanceof Uint8Array),bi.fromUint8Array(ve||new Uint8Array))}(a,e.targetChange.resumeToken),_=e.targetChange.cause,D=_&&function(ne){const ve=void 0===ne.code?pn.UNKNOWN:sc(ne.code);return new Ln(ve,ne.message||"")}(_);r=new ch(o,u,f,D||null)}else if("documentChange"in e){const o=e.documentChange,u=ja(a,o.document.name),f=Ji(o.document.updateTime),_=o.document.createTime?Ji(o.document.createTime):q.min(),D=new Oe({mapValue:{fields:o.document.fields}}),G=ln.newFoundDocument(u,f,_,D);r=new td(o.targetIds||[],o.removedTargetIds||[],G.key,G)}else if("documentDelete"in e){const o=e.documentDelete,u=ja(a,o.document),f=o.readTime?Ji(o.readTime):q.min(),_=ln.newNoDocument(u,f);r=new td([],o.removedTargetIds||[],_.key,_)}else if("documentRemove"in e){const o=e.documentRemove,u=ja(a,o.document);r=new td([],o.removedTargetIds||[],u,null)}else{if(!("filter"in e))return Pn();{const o=e.filter,{count:u=0,unchangedNames:f}=o,_=new ah(u,f);r=new ql(o.targetId,_)}}var ne;return r}(this.serializer,e),o=function(f){if(!("targetChange"in f))return q.min();const _=f.targetChange;return _.targetIds&&_.targetIds.length?q.min():_.readTime?Ji(_.readTime):q.min()}(e);return this.listener.d_(r,o)}A_(e){const r={};r.database=Vo(this.serializer),r.addTarget=function(f,_){let D;const G=_.target;if(D=pa(G)?{documents:gh(f,G)}:{query:uc(f,G)._t},D.targetId=_.targetId,_.resumeToken.approximateByteSize()>0){D.resumeToken=Tu(f,_.resumeToken);const ne=fi(f,_.expectedCount);null!==ne&&(D.expectedCount=ne)}else if(_.snapshotVersion.compareTo(q.min())>0){D.readTime=Su(f,_.snapshotVersion.toTimestamp());const ne=fi(f,_.expectedCount);null!==ne&&(D.expectedCount=ne)}return D}(this.serializer,e);const o=function Jf(a,e){const r=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pn()}}(e.purpose);return null==r?null:{"goog-listen-tags":r}}(0,e);o&&(r.labels=o),this.a_(r)}R_(e){const r={};r.database=Vo(this.serializer),r.removeTarget=e,this.a_(r)}}class x_ extends by{constructor(e,r,o,u,f,_){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,o,u,_),this.serializer=f}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return Wn(!!e.streamToken),this.lastStreamToken=e.streamToken,Wn(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){Wn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=function A_(a,e){return a&&a.length>0?(Wn(void 0!==e),a.map(r=>function(u,f){let _=Ji(u.updateTime?u.updateTime:f);return _.isEqual(q.min())&&(_=Ji(f)),new rc(_,u.transformResults||[])}(r,e))):[]}(e.writeResults,e.commitTime),o=Ji(e.commitTime);return this.listener.g_(o,r)}p_(){const e={};e.database=Vo(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map(o=>lc(this.serializer,o))};this.a_(r)}}class Ny extends class{}{constructor(e,r,o,u){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=o,this.serializer=u,this.y_=!1}w_(){if(this.y_)throw new Ln(pn.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,o,u){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,_])=>this.connection.Mo(e,rd(r,o),u,f,_)).catch(f=>{throw"FirebaseError"===f.name?(f.code===pn.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new Ln(pn.UNKNOWN,f.toString())})}Lo(e,r,o,u,f){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([_,D])=>this.connection.Lo(e,rd(r,o),u,_,D,f)).catch(_=>{throw"FirebaseError"===_.name?(_.code===pn.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),_):new Ln(pn.UNKNOWN,_.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Wg{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Kr(r),this.D_=!1):Un("OnlineStateTracker",r)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class hR{constructor(e,r,o,u,f){var _=this;this.localStore=e,this.datastore=r,this.asyncQueue=o,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=f,this.k_._o(D=>{o.enqueueAndForget((0,ce.A)(function*(){var G;Pu(_)&&(Un("RemoteStore","Restarting streams for network reachability change."),yield(G=(0,ce.A)(function*(ve){const Ve=ir(ve);Ve.L_.add(4),yield Ml(Ve),Ve.q_.set("Unknown"),Ve.L_.delete(4),yield zg(Ve)}),function ne(ve){return G.apply(this,arguments)})(_))}))}),this.q_=new Wg(o,u)}}function zg(a){return ns.apply(this,arguments)}function ns(){return(ns=(0,ce.A)(function*(a){if(Pu(a))for(const e of a.B_)yield e(!0)})).apply(this,arguments)}function Ml(a){return qg.apply(this,arguments)}function qg(){return(qg=(0,ce.A)(function*(a){for(const e of a.B_)yield e(!1)})).apply(this,arguments)}function Ip(a,e){const r=ir(a);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),k_(r)?Jg(r):xu(r).r_()&&Xg(r,e))}function Uh(a,e){const r=ir(a),o=xu(r);r.N_.delete(e),o.r_()&&My(r,e),0===r.N_.size&&(o.r_()?o.o_():Pu(r)&&r.q_.set("Unknown"))}function Xg(a,e){if(a.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(q.min())>0){const r=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}xu(a).A_(e)}function My(a,e){a.Q_.xe(e),xu(a).R_(e)}function Jg(a){a.Q_=new S_({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>a.N_.get(e)||null,tt:()=>a.datastore.serializer.databaseId}),xu(a).start(),a.q_.v_()}function k_(a){return Pu(a)&&!xu(a).n_()&&a.N_.size>0}function Pu(a){return 0===ir(a).L_.size}function Py(a){a.Q_=void 0}function YS(a){return U_.apply(this,arguments)}function U_(){return(U_=(0,ce.A)(function*(a){a.q_.set("Online")})).apply(this,arguments)}function WS(a){return Qg.apply(this,arguments)}function Qg(){return(Qg=(0,ce.A)(function*(a){a.N_.forEach((e,r)=>{Xg(a,e)})})).apply(this,arguments)}function Ly(a,e){return Zg.apply(this,arguments)}function Zg(){return(Zg=(0,ce.A)(function*(a,e){Py(a),k_(a)?(a.q_.M_(e),Jg(a)):a.q_.set("Unknown")})).apply(this,arguments)}function em(a,e,r){return tm.apply(this,arguments)}function tm(){return tm=(0,ce.A)(function*(a,e,r){if(a.q_.set("Online"),e instanceof ch&&2===e.state&&e.cause)try{yield(o=(0,ce.A)(function*(f,_){const D=_.cause;for(const G of _.targetIds)f.N_.has(G)&&(yield f.remoteSyncer.rejectListen(G,D),f.N_.delete(G),f.Q_.removeTarget(G))}),function u(f,_){return o.apply(this,arguments)})(a,e)}catch(o){Un("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield Cp(a,o)}else if(e instanceof td?a.Q_.Ke(e):e instanceof ql?a.Q_.He(e):a.Q_.We(e),!r.isEqual(q.min()))try{const o=yield Nt(a.localStore);r.compareTo(o)>=0&&(yield function(f,_){const D=f.Q_.rt(_);return D.targetChanges.forEach((G,ne)=>{if(G.resumeToken.approximateByteSize()>0){const ve=f.N_.get(ne);ve&&f.N_.set(ne,ve.withResumeToken(G.resumeToken,_))}}),D.targetMismatches.forEach((G,ne)=>{const ve=f.N_.get(G);if(!ve)return;f.N_.set(G,ve.withResumeToken(bi.EMPTY_BYTE_STRING,ve.snapshotVersion)),My(f,G);const Ve=new ys(ve.target,G,ne,ve.sequenceNumber);Xg(f,Ve)}),f.remoteSyncer.applyRemoteEvent(D)}(a,r))}catch(o){Un("RemoteStore","Failed to raise snapshot:",o),yield Cp(a,o)}var o}),tm.apply(this,arguments)}function Cp(a,e,r){return nm.apply(this,arguments)}function nm(){return(nm=(0,ce.A)(function*(a,e,r){if(!ko(e))throw e;a.L_.add(1),yield Ml(a),a.q_.set("Offline"),r||(r=()=>Nt(a.localStore)),a.asyncQueue.enqueueRetryable((0,ce.A)(function*(){Un("RemoteStore","Retrying IndexedDB access"),yield r(),a.L_.delete(1),yield zg(a)}))})).apply(this,arguments)}function F_(a,e){return e().catch(r=>Cp(a,r,e))}function Fh(a){return V_.apply(this,arguments)}function V_(){return(V_=(0,ce.A)(function*(a){const e=ir(a),r=vd(e);let o=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;zS(e);)try{const u=yield cr(e.localStore,o);if(null===u){0===e.O_.length&&r.o_();break}o=u.batchId,qS(e,u)}catch(u){yield Cp(e,u)}B_(e)&&XS(e)})).apply(this,arguments)}function zS(a){return Pu(a)&&a.O_.length<10}function qS(a,e){a.O_.push(e);const r=vd(a);r.r_()&&r.V_&&r.m_(e.mutations)}function B_(a){return Pu(a)&&!vd(a).n_()&&a.O_.length>0}function XS(a){vd(a).start()}function xy(a){return G_.apply(this,arguments)}function G_(){return(G_=(0,ce.A)(function*(a){vd(a).p_()})).apply(this,arguments)}function JS(a){return ky.apply(this,arguments)}function ky(){return(ky=(0,ce.A)(function*(a){const e=vd(a);for(const r of a.O_)e.m_(r.mutations)})).apply(this,arguments)}function QS(a,e,r){return rm.apply(this,arguments)}function rm(){return(rm=(0,ce.A)(function*(a,e,r){const o=a.O_.shift(),u=sh.from(o,e,r);yield F_(a,()=>a.remoteSyncer.applySuccessfulWrite(u)),yield Fh(a)})).apply(this,arguments)}function $_(a,e){return K_.apply(this,arguments)}function K_(){return K_=(0,ce.A)(function*(a,e){var r;e&&vd(a).V_&&(yield(r=(0,ce.A)(function*(u,f){if(Qc(D=f.code)&&D!==pn.ABORTED){const _=u.O_.shift();vd(u).s_(),yield F_(u,()=>u.remoteSyncer.rejectFailedWrite(_.batchId,f)),yield Fh(u)}var D}),function o(u,f){return r.apply(this,arguments)})(a,e)),B_(a)&&XS(a)}),K_.apply(this,arguments)}function Lu(a,e){return Vh.apply(this,arguments)}function Vh(){return(Vh=(0,ce.A)(function*(a,e){const r=ir(a);r.asyncQueue.verifyOperationInProgress(),Un("RemoteStore","RemoteStore received new credentials");const o=Pu(r);r.L_.add(3),yield Ml(r),o&&r.q_.set("Unknown"),yield r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),yield zg(r)})).apply(this,arguments)}function j_(a,e){return im.apply(this,arguments)}function im(){return(im=(0,ce.A)(function*(a,e){const r=ir(a);e?(r.L_.delete(2),yield zg(r)):e||(r.L_.add(2),yield Ml(r),r.q_.set("Unknown"))})).apply(this,arguments)}function xu(a){return a.K_||(a.K_=function(r,o,u){const f=ir(r);return f.w_(),new Sa(o,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,u)}(a.datastore,a.asyncQueue,{Eo:YS.bind(null,a),Ro:WS.bind(null,a),mo:Ly.bind(null,a),d_:em.bind(null,a)}),a.B_.push(function(){var e=(0,ce.A)(function*(r){r?(a.K_.s_(),k_(a)?Jg(a):a.q_.set("Unknown")):(yield a.K_.stop(),Py(a))});return function(r){return e.apply(this,arguments)}}())),a.K_}function vd(a){return a.U_||(a.U_=function(r,o,u){const f=ir(r);return f.w_(),new x_(o,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,u)}(a.datastore,a.asyncQueue,{Eo:()=>Promise.resolve(),Ro:xy.bind(null,a),mo:$_.bind(null,a),f_:JS.bind(null,a),g_:QS.bind(null,a)}),a.B_.push(function(){var e=(0,ce.A)(function*(r){r?(a.U_.s_(),yield Fh(a)):(yield a.U_.stop(),a.O_.length>0&&(Un("RemoteStore",`Stopping write stream with ${a.O_.length} pending writes`),a.O_=[]))});return function(r){return e.apply(this,arguments)}}())),a.U_}class Uy{constructor(e,r,o,u,f){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=o,this.op=u,this.removalCallback=f,this.deferred=new Fi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(_=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,o,u,f){const _=Date.now()+o,D=new Uy(e,r,_,u,f);return D.start(o),D}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ln(pn.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bh(a,e){if(Kr("AsyncQueue",`${e}: ${a}`),ko(a))return new Ln(pn.UNAVAILABLE,`${e}: ${a}`);throw a}class Gh{constructor(e){this.comparator=e?(r,o)=>e(r,o)||Vt.comparator(r.key,o.key):(r,o)=>Vt.comparator(r.key,o.key),this.keyedMap=oh(),this.sortedSet=new kr(this.comparator)}static emptySet(e){return new Gh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,o)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Gh)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;r.hasNext();){const u=r.getNext().key,f=o.getNext().key;if(!u.isEqual(f))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,r){const o=new Gh;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=r,o}}class Fy{constructor(){this.W_=new kr(Vt.comparator)}track(e){const r=e.doc.key,o=this.W_.get(r);o?0!==e.type&&3===o.type?this.W_=this.W_.insert(r,e):3===e.type&&1!==o.type?this.W_=this.W_.insert(r,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.W_=this.W_.remove(r):1===e.type&&2===o.type?this.W_=this.W_.insert(r,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):Pn():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,o)=>{e.push(o)}),e}}class Sp{constructor(e,r,o,u,f,_,D,G,ne){this.query=e,this.docs=r,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=f,this.fromCache=_,this.syncStateChanged=D,this.excludesMetadataChanges=G,this.hasCachedResults=ne}static fromInitialDocuments(e,r,o,u,f){const _=[];return r.forEach(D=>{_.push({type:0,doc:D})}),new Sp(e,r,Gh.emptySet(r),_,o,u,!0,!1,f)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zs(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,o=e.docChanges;if(r.length!==o.length)return!1;for(let u=0;u<r.length;u++)if(r[u].type!==o[u].type||!r[u].doc.isEqual(o[u].doc))return!1;return!0}}class fR{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class om{constructor(){this.queries=Vy(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(r,o){const u=ir(r),f=u.queries;u.queries=Vy(),f.forEach((_,D)=>{for(const G of D.j_)G.onError(o)})}(this,new Ln(pn.ABORTED,"Firestore shutting down"))}}function Vy(){return new _s(a=>ea(a),Zs)}function Tp(a,e){return Ap.apply(this,arguments)}function Ap(){return(Ap=(0,ce.A)(function*(a,e){const r=ir(a);let o=3;const u=e.query;let f=r.queries.get(u);f?!f.H_()&&e.J_()&&(o=2):(f=new fR,o=e.J_()?0:1);try{switch(o){case 0:f.z_=yield r.onListen(u,!0);break;case 1:f.z_=yield r.onListen(u,!1);break;case 2:yield r.onFirstRemoteStoreListen(u)}}catch(_){const D=Bh(_,`Initialization of query '${Ka(e.query)}' failed`);return void e.onError(D)}r.queries.set(u,f),f.j_.push(e),e.Z_(r.onlineState),f.z_&&e.X_(f.z_)&&Id(r)})).apply(this,arguments)}function yc(a,e){return yd.apply(this,arguments)}function yd(){return(yd=(0,ce.A)(function*(a,e){const r=ir(a),o=e.query;let u=3;const f=r.queries.get(o);if(f){const _=f.j_.indexOf(e);_>=0&&(f.j_.splice(_,1),0===f.j_.length?u=e.J_()?0:1:!f.H_()&&e.J_()&&(u=2))}switch(u){case 0:return r.queries.delete(o),r.onUnlisten(o,!0);case 1:return r.queries.delete(o),r.onUnlisten(o,!1);case 2:return r.onLastRemoteStoreUnlisten(o);default:return}})).apply(this,arguments)}function sm(a,e){const r=ir(a);let o=!1;for(const u of e){const _=r.queries.get(u.query);if(_){for(const D of _.j_)D.X_(u)&&(o=!0);_.z_=u}}o&&Id(r)}function $h(a,e,r){const o=ir(a),u=o.queries.get(e);if(u)for(const f of u.j_)f.onError(r);o.queries.delete(e)}function Id(a){a.Y_.forEach(e=>{e.next()})}var Ic,am;(am=Ic||(Ic={})).ea="default",am.Cache="cache";class Cd{constructor(e,r,o){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=o||{}}X_(e){if(!this.options.includeMetadataChanges){const o=[];for(const u of e.docChanges)3!==u.type&&o.push(u);e=new Sp(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){return!e.fromCache||!this.J_()||(!this.options._a||!("Offline"!==r))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===r)}ia(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}oa(e){e=Sp.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Ic.Cache}}class Kh{constructor(e,r){this.aa=e,this.byteLength=r}ua(){return"metadata"in this.aa}}class Rp{constructor(e){this.serializer=e}Es(e){return ja(this.serializer,e)}ds(e){return e.metadata.exists?_a(this.serializer,e.document,!1):ln.newNoDocument(this.Es(e.metadata.name),this.As(e.metadata.readTime))}As(e){return Ji(e)}}class pR{constructor(e,r,o){this.ca=e,this.localStore=r,this.serializer=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=lm(e)}la(e){this.progress.bytesLoaded+=e.byteLength;let r=this.progress.documentsLoaded;if(e.aa.namedQuery)this.queries.push(e.aa.namedQuery);else if(e.aa.documentMetadata){this.documents.push({metadata:e.aa.documentMetadata}),e.aa.documentMetadata.exists||++r;const o=et.fromString(e.aa.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.aa.document&&(this.documents[this.documents.length-1].document=e.aa.document,++r);return r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}ha(e){const r=new Map,o=new Rp(this.serializer);for(const u of e)if(u.metadata.queries){const f=o.Es(u.metadata.name);for(const _ of u.metadata.queries){const D=(r.get(_)||z()).add(f);r.set(_,D)}}return r}complete(){var e=this;return(0,ce.A)(function*(){const r=yield function Gg(a,e,r,o){return _d.apply(this,arguments)}(e.localStore,new Rp(e.serializer),e.documents,e.ca.id),o=e.ha(e.documents);for(const u of e.queries)yield $g(e.localStore,u,o.get(u.name));return e.progress.taskState="Success",{progress:e.progress,Pa:e.collectionGroups,Ia:r}})()}}function lm(a){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:a.totalDocuments,totalBytes:a.totalBytes}}class jh{constructor(e){this.key=e}}class By{constructor(e){this.key=e}}class H_{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=z(),this.mutatedKeys=z(),this.Aa=Eu(e),this.Ra=new Gh(this.Aa)}get Va(){return this.Ta}ma(e,r){const o=r?r.fa:new Fy,u=r?r.Ra:this.Ra;let f=r?r.mutatedKeys:this.mutatedKeys,_=u,D=!1;const G="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,ne="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((ve,Ve)=>{const at=u.get(ve),Lt=To(this.query,Ve)?Ve:null,qt=!!at&&this.mutatedKeys.has(at.key),yn=!!Lt&&(Lt.hasLocalMutations||this.mutatedKeys.has(Lt.key)&&Lt.hasCommittedMutations);let fn=!1;at&&Lt?at.data.isEqual(Lt.data)?qt!==yn&&(o.track({type:3,doc:Lt}),fn=!0):this.ga(at,Lt)||(o.track({type:2,doc:Lt}),fn=!0,(G&&this.Aa(Lt,G)>0||ne&&this.Aa(Lt,ne)<0)&&(D=!0)):!at&&Lt?(o.track({type:0,doc:Lt}),fn=!0):at&&!Lt&&(o.track({type:1,doc:at}),fn=!0,(G||ne)&&(D=!0)),fn&&(Lt?(_=_.add(Lt),f=yn?f.add(ve):f.delete(ve)):(_=_.delete(ve),f=f.delete(ve)))}),null!==this.query.limit)for(;_.size>this.query.limit;){const ve="F"===this.query.limitType?_.last():_.first();_=_.delete(ve.key),f=f.delete(ve.key),o.track({type:1,doc:ve})}return{Ra:_,fa:o,ns:D,mutatedKeys:f}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,o,u){const f=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const _=e.fa.G_();_.sort((ve,Ve)=>function(Lt,qt){const yn=fn=>{switch(fn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pn()}};return yn(Lt)-yn(qt)}(ve.type,Ve.type)||this.Aa(ve.doc,Ve.doc)),this.pa(o),u=null!=u&&u;const D=r&&!u?this.ya():[],G=0===this.da.size&&this.current&&!u?1:0,ne=G!==this.Ea;return this.Ea=G,0!==_.length||ne?{snapshot:new Sp(this.query,e.Ra,f,_,e.mutatedKeys,0===G,ne,!1,!!o&&o.resumeToken.approximateByteSize()>0),wa:D}:{wa:D}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Fy,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=z(),this.Ra.forEach(o=>{this.Sa(o.key)&&(this.da=this.da.add(o.key))});const r=[];return e.forEach(o=>{this.da.has(o)||r.push(new By(o))}),this.da.forEach(o=>{e.has(o)||r.push(new jh(o))}),r}ba(e){this.Ta=e.Ts,this.da=z();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return Sp.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class ZS{constructor(e,r,o){this.query=e,this.targetId=r,this.view=o}}class eT{constructor(e){this.key=e,this.va=!1}}class Y_{constructor(e,r,o,u,f,_){this.localStore=e,this.remoteStore=r,this.eventManager=o,this.sharedClientState=u,this.currentUser=f,this.maxConcurrentLimboResolutions=_,this.Ca={},this.Fa=new _s(D=>ea(D),Zs),this.Ma=new Map,this.xa=new Set,this.Oa=new kr(Vt.comparator),this.Na=new Map,this.La=new Mo,this.Ba={},this.ka=new Map,this.qa=eu.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function Gy(a,e){return W_.apply(this,arguments)}function W_(){return(W_=(0,ce.A)(function*(a,e,r=!0){const o=gm(a);let u;const f=o.Fa.get(e);return f?(o.sharedClientState.addLocalQueryTarget(f.targetId),u=f.view.Da()):u=yield z_(o,e,r,!0),u})).apply(this,arguments)}function tT(a,e){return Sd.apply(this,arguments)}function Sd(){return(Sd=(0,ce.A)(function*(a,e){const r=gm(a);yield z_(r,e,!0,!1)})).apply(this,arguments)}function z_(a,e,r,o){return Dp.apply(this,arguments)}function Dp(){return(Dp=(0,ce.A)(function*(a,e,r,o){const u=yield _r(a.localStore,ro(e)),f=u.targetId,_=a.sharedClientState.addLocalQueryTarget(f,r);let D;return o&&(D=yield q_(a,e,f,"current"===_,u.resumeToken)),a.isPrimaryClient&&r&&Ip(a.remoteStore,u),D})).apply(this,arguments)}function q_(a,e,r,o,u){return $y.apply(this,arguments)}function $y(){return $y=(0,ce.A)(function*(a,e,r,o,u){a.Ka=(Ve,at,Lt)=>{return(qt=(0,ce.A)(function*(fn,zn,dr,hr){let ur=zn.view.ma(dr);ur.ns&&(ur=yield ks(fn.localStore,zn.query,!1).then(({documents:Tt})=>zn.view.ma(Tt,ur)));const xr=hr&&hr.targetChanges.get(zn.targetId),wr=hr&&null!=hr.targetMismatches.get(zn.targetId),Wt=zn.view.applyChanges(ur,fn.isPrimaryClient,xr,wr);return J_(fn,zn.targetId,Wt.wa),Wt.snapshot}),function yn(fn,zn,dr,hr){return qt.apply(this,arguments)})(a,Ve,at,Lt);var qt};const f=yield ks(a.localStore,e,!0),_=new H_(e,f.Ts),D=_.ma(f.documents),G=Cu.createSynthesizedTargetChangeForCurrentChange(r,o&&"Offline"!==a.onlineState,u),ne=_.applyChanges(D,a.isPrimaryClient,G);J_(a,r,ne.wa);const ve=new ZS(e,r,_);return a.Fa.set(e,ve),a.Ma.has(r)?a.Ma.get(r).push(e):a.Ma.set(r,[e]),ne.snapshot}),$y.apply(this,arguments)}function gR(a,e,r){return Td.apply(this,arguments)}function Td(){return(Td=(0,ce.A)(function*(a,e,r){const o=ir(a),u=o.Fa.get(e),f=o.Ma.get(u.targetId);if(f.length>1)return o.Ma.set(u.targetId,f.filter(_=>!Zs(_,e))),void o.Fa.delete(e);o.isPrimaryClient?(o.sharedClientState.removeLocalQueryTarget(u.targetId),o.sharedClientState.isActiveQueryTarget(u.targetId)||(yield mr(o.localStore,u.targetId,!1).then(()=>{o.sharedClientState.clearQueryState(u.targetId),r&&Uh(o.remoteStore,u.targetId),Cc(o,u.targetId)}).catch(Li))):(Cc(o,u.targetId),yield mr(o.localStore,u.targetId,!0))})).apply(this,arguments)}function nT(a,e){return Hh.apply(this,arguments)}function Hh(){return(Hh=(0,ce.A)(function*(a,e){const r=ir(a),o=r.Fa.get(e),u=r.Ma.get(o.targetId);r.isPrimaryClient&&1===u.length&&(r.sharedClientState.removeLocalQueryTarget(o.targetId),Uh(r.remoteStore,o.targetId))})).apply(this,arguments)}function um(){return(um=(0,ce.A)(function*(a,e,r){const o=nE(a);try{const u=yield function(_,D){const G=ir(_),ne=L.now(),ve=D.reduce((Lt,qt)=>Lt.add(qt.key),z());let Ve,at;return G.persistence.runTransaction("Locally write mutations","readwrite",Lt=>{let qt=Es(),yn=z();return G.cs.getEntries(Lt,ve).next(fn=>{qt=fn,qt.forEach((zn,dr)=>{dr.isValidDocument()||(yn=yn.add(zn))})}).next(()=>G.localDocuments.getOverlayedDocuments(Lt,qt)).next(fn=>{Ve=fn;const zn=[];for(const dr of D){const hr=Xc(dr,Ve.get(dr.key).overlayedDocument);null!=hr&&zn.push(new vs(dr.key,hr,dt(hr.value.mapValue),$i.exists(!0)))}return G.mutationQueue.addMutationBatch(Lt,ne,zn,D)}).next(fn=>{at=fn;const zn=fn.applyToLocalDocumentSet(Ve,yn);return G.documentOverlayCache.saveOverlays(Lt,fn.batchId,zn)})}).then(()=>({batchId:at.batchId,changes:vu(Ve)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(u.batchId),function(_,D,G){let ne=_.Ba[_.currentUser.toKey()];ne||(ne=new kr(le)),ne=ne.insert(D,G),_.Ba[_.currentUser.toKey()]=ne}(o,u.batchId,r),yield ll(o,u.changes),yield Fh(o.remoteStore)}catch(u){const f=Bh(u,"Failed to persist write");r.reject(f)}})).apply(this,arguments)}function Ky(a,e){return cm.apply(this,arguments)}function cm(){return(cm=(0,ce.A)(function*(a,e){const r=ir(a);try{const o=yield function rn(a,e){const r=ir(a),o=e.snapshotVersion;let u=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",f=>{const _=r.cs.newChangeBuffer({trackRemovals:!0});u=r.os;const D=[];e.targetChanges.forEach((ve,Ve)=>{const at=u.get(Ve);if(!at)return;D.push(r.Ur.removeMatchingKeys(f,ve.removedDocuments,Ve).next(()=>r.Ur.addMatchingKeys(f,ve.addedDocuments,Ve)));let Lt=at.withSequenceNumber(f.currentSequenceNumber);var yn,fn,zn;null!==e.targetMismatches.get(Ve)?Lt=Lt.withResumeToken(bi.EMPTY_BYTE_STRING,q.min()).withLastLimboFreeSnapshotVersion(q.min()):ve.resumeToken.approximateByteSize()>0&&(Lt=Lt.withResumeToken(ve.resumeToken,o)),u=u.insert(Ve,Lt),fn=Lt,zn=ve,(0===(yn=at).resumeToken.approximateByteSize()||fn.snapshotVersion.toMicroseconds()-yn.snapshotVersion.toMicroseconds()>=3e8||zn.addedDocuments.size+zn.modifiedDocuments.size+zn.removedDocuments.size>0)&&D.push(r.Ur.updateTargetData(f,Lt))});let G=Es(),ne=z();if(e.documentUpdates.forEach(ve=>{e.resolvedLimboDocuments.has(ve)&&D.push(r.persistence.referenceDelegate.updateLimboDocument(f,ve))}),D.push(On(f,_,e.documentUpdates).next(ve=>{G=ve.Ps,ne=ve.Is})),!o.isEqual(q.min())){const ve=r.Ur.getLastRemoteSnapshotVersion(f).next(Ve=>r.Ur.setTargetsMetadata(f,f.currentSequenceNumber,o));D.push(ve)}return Zt.waitFor(D).next(()=>_.apply(f)).next(()=>r.localDocuments.getLocalViewOfDocuments(f,G,ne)).next(()=>G)}).then(f=>(r.os=u,f))}(r.localStore,e);e.targetChanges.forEach((u,f)=>{const _=r.Na.get(f);_&&(Wn(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?_.va=!0:u.modifiedDocuments.size>0?Wn(_.va):u.removedDocuments.size>0&&(Wn(_.va),_.va=!1))}),yield ll(r,o,e)}catch(o){yield Li(o)}})).apply(this,arguments)}function dm(a,e,r){const o=ir(a);if(o.isPrimaryClient&&0===r||!o.isPrimaryClient&&1===r){const u=[];o.Fa.forEach((f,_)=>{const D=_.view.Z_(e);D.snapshot&&u.push(D.snapshot)}),function(_,D){const G=ir(_);G.onlineState=D;let ne=!1;G.queries.forEach((ve,Ve)=>{for(const at of Ve.j_)at.Z_(D)&&(ne=!0)}),ne&&Id(G)}(o.eventManager,e),u.length&&o.Ca.d_(u),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function jy(a,e,r){return ku.apply(this,arguments)}function ku(){return(ku=(0,ce.A)(function*(a,e,r){const o=ir(a);o.sharedClientState.updateQueryState(e,"rejected",r);const u=o.Na.get(e),f=u&&u.key;if(f){let _=new kr(Vt.comparator);_=_.insert(f,ln.newNoDocument(f,q.min()));const D=z().add(f),G=new ed(q.min(),new Map,new kr(le),_,D);yield Ky(o,G),o.Oa=o.Oa.remove(f),o.Na.delete(e),zy(o)}else yield mr(o.localStore,e,!1).then(()=>Cc(o,e,r)).catch(Li)})).apply(this,arguments)}function Hy(a,e){return Yh.apply(this,arguments)}function Yh(){return(Yh=(0,ce.A)(function*(a,e){const r=ir(a),o=e.batch.batchId;try{const u=yield function be(a,e){const r=ir(a);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=e.batch.keys(),f=r.cs.newChangeBuffer({trackRemovals:!0});return function(D,G,ne,ve){const Ve=ne.batch,at=Ve.keys();let Lt=Zt.resolve();return at.forEach(qt=>{Lt=Lt.next(()=>ve.getEntry(G,qt)).next(yn=>{const fn=ne.docVersions.get(qt);Wn(null!==fn),yn.version.compareTo(fn)<0&&(Ve.applyToRemoteDocument(yn,ne),yn.isValidDocument()&&(yn.setReadTime(ne.commitVersion),ve.addEntry(yn)))})}),Lt.next(()=>D.mutationQueue.removeMutationBatch(G,Ve))}(r,o,e,f).next(()=>f.apply(o)).next(()=>r.mutationQueue.performConsistencyCheck(o)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(o,u,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(D){let G=z();for(let ne=0;ne<D.mutationResults.length;++ne)D.mutationResults[ne].transformResults.length>0&&(G=G.add(D.batch.mutations[ne].key));return G}(e))).next(()=>r.localDocuments.getDocuments(o,u))})}(r.localStore,e);Wh(r,o,null),fm(r,o),r.sharedClientState.updateMutationState(o,"acknowledged"),yield ll(r,u)}catch(u){yield Li(u)}})).apply(this,arguments)}function Yy(a,e,r){return hm.apply(this,arguments)}function hm(){return(hm=(0,ce.A)(function*(a,e,r){const o=ir(a);try{const u=yield function(_,D){const G=ir(_);return G.persistence.runTransaction("Reject batch","readwrite-primary",ne=>{let ve;return G.mutationQueue.lookupMutationBatch(ne,D).next(Ve=>(Wn(null!==Ve),ve=Ve.keys(),G.mutationQueue.removeMutationBatch(ne,Ve))).next(()=>G.mutationQueue.performConsistencyCheck(ne)).next(()=>G.documentOverlayCache.removeOverlaysForBatchId(ne,ve,D)).next(()=>G.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(ne,ve)).next(()=>G.localDocuments.getDocuments(ne,ve))})}(o.localStore,e);Wh(o,e,r),fm(o,e),o.sharedClientState.updateMutationState(e,"rejected",r),yield ll(o,u)}catch(u){yield Li(u)}})).apply(this,arguments)}function wp(){return(wp=(0,ce.A)(function*(a,e){const r=ir(a);Pu(r.remoteStore)||Un("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(_){const D=ir(_);return D.persistence.runTransaction("Get highest unacknowledged batch id","readonly",G=>D.mutationQueue.getHighestUnacknowledgedBatchId(G))}(r.localStore);if(-1===o)return void e.resolve();const u=r.ka.get(o)||[];u.push(e),r.ka.set(o,u)}catch(o){const u=Bh(o,"Initialization of waitForPendingWrites() operation failed");e.reject(u)}})).apply(this,arguments)}function fm(a,e){(a.ka.get(e)||[]).forEach(r=>{r.resolve()}),a.ka.delete(e)}function Wh(a,e,r){const o=ir(a);let u=o.Ba[o.currentUser.toKey()];if(u){const f=u.get(e);f&&(r?f.reject(r):f.resolve(),u=u.remove(e)),o.Ba[o.currentUser.toKey()]=u}}function Cc(a,e,r=null){a.sharedClientState.removeLocalQueryTarget(e);for(const o of a.Ma.get(e))a.Fa.delete(o),r&&a.Ca.$a(o,r);a.Ma.delete(e),a.isPrimaryClient&&a.La.gr(e).forEach(o=>{a.La.containsKey(o)||Ad(a,o)})}function Ad(a,e){a.xa.delete(e.path.canonicalString());const r=a.Oa.get(e);null!==r&&(Uh(a.remoteStore,r),a.Oa=a.Oa.remove(e),a.Na.delete(r),zy(a))}function J_(a,e,r){for(const o of r)o instanceof jh?(a.La.addReference(o.key,e),rT(a,o)):o instanceof By?(Un("SyncEngine","Document no longer in limbo: "+o.key),a.La.removeReference(o.key,e),a.La.containsKey(o.key)||Ad(a,o.key)):Pn()}function rT(a,e){const r=e.key,o=r.path.canonicalString();a.Oa.get(r)||a.xa.has(o)||(Un("SyncEngine","New document in limbo: "+r),a.xa.add(o),zy(a))}function zy(a){for(;a.xa.size>0&&a.Oa.size<a.maxConcurrentLimboResolutions;){const e=a.xa.values().next().value;a.xa.delete(e);const r=new Vt(et.fromString(e)),o=a.qa.next();a.Na.set(o,new eT(r)),a.Oa=a.Oa.insert(r,o),Ip(a.remoteStore,new ys(ro(ga(r.path)),o,"TargetPurposeLimboResolution",pi.oe))}}function ll(a,e,r){return Op.apply(this,arguments)}function Op(){return Op=(0,ce.A)(function*(a,e,r){const o=ir(a),u=[],f=[],_=[];var D;o.Fa.isEmpty()||(o.Fa.forEach((D,G)=>{_.push(o.Ka(G,e,r).then(ne=>{var ve;if((ne||r)&&o.isPrimaryClient){const Ve=ne?!ne.fromCache:null===(ve=null==r?void 0:r.targetChanges.get(G.targetId))||void 0===ve?void 0:ve.current;o.sharedClientState.updateQueryState(G.targetId,Ve?"current":"not-current")}if(ne){u.push(ne);const Ve=Ph.Wi(G.targetId,ne);f.push(Ve)}}))}),yield Promise.all(_),o.Ca.d_(u),yield(D=(0,ce.A)(function*(ne,ve){const Ve=ir(ne);try{yield Ve.persistence.runTransaction("notifyLocalViewChanges","readwrite",at=>Zt.forEach(ve,Lt=>Zt.forEach(Lt.$i,qt=>Ve.persistence.referenceDelegate.addReference(at,Lt.targetId,qt)).next(()=>Zt.forEach(Lt.Ui,qt=>Ve.persistence.referenceDelegate.removeReference(at,Lt.targetId,qt)))))}catch(at){if(!ko(at))throw at;Un("LocalStore","Failed to update sequence numbers: "+at)}for(const at of ve){const Lt=at.targetId;if(!at.fromCache){const qt=Ve.os.get(Lt),fn=qt.withLastLimboFreeSnapshotVersion(qt.snapshotVersion);Ve.os=Ve.os.insert(Lt,fn)}}}),function G(ne,ve){return D.apply(this,arguments)})(o.localStore,f))}),Op.apply(this,arguments)}function qy(a,e){return pm.apply(this,arguments)}function pm(){return(pm=(0,ce.A)(function*(a,e){const r=ir(a);if(!r.currentUser.isEqual(e)){Un("SyncEngine","User change. New user:",e.toKey());const o=yield O(r.localStore,e);r.currentUser=e,(f=r).ka.forEach(D=>{D.forEach(G=>{G.reject(new Ln(pn.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),f.ka.clear(),r.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield ll(r,o.hs)}var f})).apply(this,arguments)}function Xy(a,e){const r=ir(a),o=r.Na.get(e);if(o&&o.va)return z().add(o.key);{let u=z();const f=r.Ma.get(e);if(!f)return u;for(const _ of f){const D=r.Fa.get(_);u=u.unionWith(D.view.Va)}return u}}function Jy(a,e){return Q_.apply(this,arguments)}function Q_(){return(Q_=(0,ce.A)(function*(a,e){const r=ir(a),o=yield ks(r.localStore,e.query,!0),u=e.view.ba(o);return r.isPrimaryClient&&J_(r,e.targetId,u.wa),u})).apply(this,arguments)}function iT(a,e){return Z_.apply(this,arguments)}function Z_(){return(Z_=(0,ce.A)(function*(a,e){const r=ir(a);return fp(r.localStore,e).then(o=>ll(r,o))})).apply(this,arguments)}function oT(a,e,r,o){return eE.apply(this,arguments)}function eE(){return(eE=(0,ce.A)(function*(a,e,r,o){const u=ir(a),f=yield function(D,G){const ne=ir(D),ve=ir(ne.mutationQueue);return ne.persistence.runTransaction("Lookup mutation documents","readonly",Ve=>ve.Mn(Ve,G).next(at=>at?ne.localDocuments.getDocuments(Ve,at):Zt.resolve(null)))}(u.localStore,e);var G;null!==f?("pending"===r?yield Fh(u.remoteStore):"acknowledged"===r||"rejected"===r?(Wh(u,e,o||null),fm(u,e),G=e,ir(ir(u.localStore).mutationQueue).On(G)):Pn(),yield ll(u,f)):Un("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function Rd(){return(Rd=(0,ce.A)(function*(a,e){const r=ir(a);if(gm(r),nE(r),!0===e&&!0!==r.Qa){const o=r.sharedClientState.getAllActiveQueryTargets(),u=yield Qy(r,o.toArray());r.Qa=!0,yield j_(r.remoteStore,!0);for(const f of u)Ip(r.remoteStore,f)}else if(!1===e&&!1!==r.Qa){const o=[];let u=Promise.resolve();r.Ma.forEach((f,_)=>{r.sharedClientState.isLocalQueryTarget(_)?o.push(_):u=u.then(()=>(Cc(r,_),mr(r.localStore,_,!0))),Uh(r.remoteStore,_)}),yield u,yield Qy(r,o),function(_){const D=ir(_);D.Na.forEach((G,ne)=>{Uh(D.remoteStore,ne)}),D.La.pr(),D.Na=new Map,D.Oa=new kr(Vt.comparator)}(r),r.Qa=!1,yield j_(r.remoteStore,!1)}})).apply(this,arguments)}function Qy(a,e,r){return Zy.apply(this,arguments)}function Zy(){return(Zy=(0,ce.A)(function*(a,e,r){const o=ir(a),u=[],f=[];for(const _ of e){let D;const G=o.Ma.get(_);if(G&&0!==G.length){D=yield _r(o.localStore,ro(G[0]));for(const ne of G){const ve=o.Fa.get(ne),Ve=yield Jy(o,ve);Ve.snapshot&&f.push(Ve.snapshot)}}else{const ne=yield vc(o.localStore,_);D=yield _r(o.localStore,ne),yield q_(o,sT(ne),_,!1,D.resumeToken)}u.push(D)}return o.Ca.d_(f),u})).apply(this,arguments)}function sT(a){return Tr(a.path,a.collectionGroup,a.orderBy,a.filters,a.limit,"F",a.startAt,a.endAt)}function mR(a){return r=ir(a).localStore,ir(ir(r).persistence).Qi();var r}function _R(a,e,r,o){return eI.apply(this,arguments)}function eI(){return(eI=(0,ce.A)(function*(a,e,r,o){const u=ir(a);if(u.Qa)return void Un("SyncEngine","Ignoring unexpected query state notification.");const f=u.Ma.get(e);if(f&&f.length>0)switch(r){case"current":case"not-current":{const _=yield fp(u.localStore,Cl(f[0])),D=ed.createSynthesizedRemoteEventForCurrentChange(e,"current"===r,bi.EMPTY_BYTE_STRING);yield ll(u,_,D);break}case"rejected":yield mr(u.localStore,e,!0),Cc(u,e,o);break;default:Pn()}})).apply(this,arguments)}function tI(a,e,r){return tE.apply(this,arguments)}function tE(){return(tE=(0,ce.A)(function*(a,e,r){const o=gm(a);if(o.Qa){for(const u of e){if(o.Ma.has(u)&&o.sharedClientState.isActiveQueryTarget(u)){Un("SyncEngine","Adding an already active target "+u);continue}const f=yield vc(o.localStore,u),_=yield _r(o.localStore,f);yield q_(o,sT(f),_.targetId,!1,_.resumeToken),Ip(o.remoteStore,_)}for(const u of r)o.Ma.has(u)&&(yield mr(o.localStore,u,!1).then(()=>{Uh(o.remoteStore,u),Cc(o,u)}).catch(Li))}})).apply(this,arguments)}function gm(a){const e=ir(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ky.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Xy.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jy.bind(null,e),e.Ca.d_=sm.bind(null,e.eventManager),e.Ca.$a=$h.bind(null,e.eventManager),e}function nE(a){const e=ir(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Hy.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Yy.bind(null,e),e}let Tc=(()=>{class a{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(r){var o=this;return(0,ce.A)(function*(){o.serializer=kh(r.databaseInfo.databaseId),o.sharedClientState=o.Wa(r),o.persistence=o.Ga(r),yield o.persistence.start(),o.localStore=o.za(r),o.gcScheduler=o.ja(r,o.localStore),o.indexBackfillerScheduler=o.Ha(r,o.localStore)})()}ja(r,o){return null}Ha(r,o){return null}za(r){return g(this.persistence,new T,r.initialUser,this.serializer)}Ga(r){return new Nu(tu.Zr,this.serializer)}Wa(r){return new xh}terminate(){var r=this;return(0,ce.A)(function*(){var o,u;null===(o=r.gcScheduler)||void 0===o||o.stop(),null===(u=r.indexBackfillerScheduler)||void 0===u||u.stop(),r.sharedClientState.shutdown(),yield r.persistence.shutdown()})()}}return a.provider={build:()=>new a},a})();class Dd extends Tc{constructor(e,r,o){super(),this.Ja=e,this.cacheSizeBytes=r,this.forceOwnership=o,this.kind="persistent",this.synchronizeTabs=!1}initialize(e){var r=()=>super.initialize,o=this;return(0,ce.A)(function*(){yield r().call(o,e),yield o.Ja.initialize(o,e),yield nE(o.Ja.syncEngine),yield Fh(o.Ja.remoteStore),yield o.persistence.yi(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(),o.indexBackfillerScheduler&&!o.indexBackfillerScheduler.started&&o.indexBackfillerScheduler.start(),Promise.resolve()))})()}za(e){return g(this.persistence,new T,e.initialUser,this.serializer)}ja(e,r){return new kg(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,r)}Ha(e,r){const o=new Ma(r,this.persistence);return new Xu(e.asyncQueue,o)}Ga(e){const r=Mh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?Bo.withCacheSize(this.cacheSizeBytes):Bo.DEFAULT;return new hp(this.synchronizeTabs,r,e.clientId,o,e.asyncQueue,Oy(),Yg(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new xh}}class rE extends Dd{constructor(e,r){super(e,r,!1),this.Ja=e,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(e){var r=()=>super.initialize,o=this;return(0,ce.A)(function*(){yield r().call(o,e);const u=o.Ja.syncEngine;o.sharedClientState instanceof _p&&(o.sharedClientState.syncEngine={no:oT.bind(null,u),ro:_R.bind(null,u),io:tI.bind(null,u),Qi:mR.bind(null,u),eo:iT.bind(null,u)},yield o.sharedClientState.start()),yield o.persistence.yi(function(){var f=(0,ce.A)(function*(_){yield function Sc(a,e){return Rd.apply(this,arguments)}(o.Ja.syncEngine,_),o.gcScheduler&&(_&&!o.gcScheduler.started?o.gcScheduler.start():_||o.gcScheduler.stop()),o.indexBackfillerScheduler&&(_&&!o.indexBackfillerScheduler.started?o.indexBackfillerScheduler.start():_||o.indexBackfillerScheduler.stop())});return function(_){return f.apply(this,arguments)}}())})()}Wa(e){const r=Oy();if(!_p.D(r))throw new Ln(pn.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=Mh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new _p(r,e.asyncQueue,o,e.clientId,e.initialUser)}}let wd=(()=>{class a{initialize(r,o){var u=this;return(0,ce.A)(function*(){u.localStore||(u.localStore=r.localStore,u.sharedClientState=r.sharedClientState,u.datastore=u.createDatastore(o),u.remoteStore=u.createRemoteStore(o),u.eventManager=u.createEventManager(o),u.syncEngine=u.createSyncEngine(o,!r.synchronizeTabs),u.sharedClientState.onlineStateHandler=f=>dm(u.syncEngine,f,1),u.remoteStore.remoteSyncer.handleCredentialChange=qy.bind(null,u.syncEngine),yield j_(u.remoteStore,u.syncEngine.isPrimaryClient))})()}createEventManager(r){return new om}createDatastore(r){const o=kh(r.databaseInfo.databaseId),u=new HS(r.databaseInfo);return new Ny(r.authCredentials,r.appCheckCredentials,u,o)}createRemoteStore(r){return u=this.localStore,f=this.datastore,_=r.asyncQueue,D=o=>dm(this.syncEngine,o,0),G=Hg.D()?new Hg:new jS,new hR(u,f,_,D,G);var u,f,_,D,G}createSyncEngine(r,o){return function(f,_,D,G,ne,ve,Ve){const at=new Y_(f,_,D,G,ne,ve);return Ve&&(at.Qa=!0),at}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,r.initialUser,r.maxConcurrentLimboResolutions,o)}terminate(){var r=this;return(0,ce.A)(function*(){var o,u,f;yield(f=(0,ce.A)(function*(D){const G=ir(D);Un("RemoteStore","RemoteStore shutting down."),G.L_.add(5),yield Ml(G),G.k_.shutdown(),G.q_.set("Unknown")}),function _(D){return f.apply(this,arguments)})(r.remoteStore),null===(o=r.datastore)||void 0===o||o.terminate(),null===(u=r.eventManager)||void 0===u||u.terminate()})()}}return a.provider={build:()=>new a},a})();function iE(a,e=10240){let r=0;return{read:()=>(0,ce.A)(function*(){if(r<a.byteLength){const o={value:a.slice(r,r+e),done:!1};return r+=e,o}return{done:!0}})(),cancel:()=>(0,ce.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class oE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Kr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout(()=>{this.muted||e(r)},0)}}class ER{constructor(e,r){this.Xa=e,this.serializer=r,this.metadata=new Fi,this.buffer=new Uint8Array,this.eu=new TextDecoder("utf-8"),this.tu().then(o=>{o&&o.ua()?this.metadata.resolve(o.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==o?void 0:o.aa)}`))},o=>this.metadata.reject(o))}close(){return this.Xa.cancel()}getMetadata(){var e=this;return(0,ce.A)(function*(){return e.metadata.promise})()}Ua(){var e=this;return(0,ce.A)(function*(){return yield e.getMetadata(),e.tu()})()}tu(){var e=this;return(0,ce.A)(function*(){const r=yield e.nu();if(null===r)return null;const o=e.eu.decode(r),u=Number(o);isNaN(u)&&e.ru(`length string (${o}) is not valid number`);const f=yield e.iu(u);return new Kh(JSON.parse(f),r.length+u)})()}su(){return this.buffer.findIndex(e=>123===e)}nu(){var e=this;return(0,ce.A)(function*(){for(;e.su()<0&&!(yield e.ou()););if(0===e.buffer.length)return null;const r=e.su();r<0&&e.ru("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,r);return e.buffer=e.buffer.slice(r),o})()}iu(e){var r=this;return(0,ce.A)(function*(){for(;r.buffer.length<e;)(yield r.ou())&&r.ru("Reached the end of bundle when more is expected.");const o=r.eu.decode(r.buffer.slice(0,e));return r.buffer=r.buffer.slice(e),o})()}ru(e){throw this.Xa.cancel(),new Error(`Invalid bundle format: ${e}`)}ou(){var e=this;return(0,ce.A)(function*(){const r=yield e.Xa.read();if(!r.done){const o=new Uint8Array(e.buffer.length+r.value.length);o.set(e.buffer),o.set(r.value,e.buffer.length),e.buffer=o}return r.done})()}}class vR{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var r=this;return(0,ce.A)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw r.lastTransactionError=new Ln(pn.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),r.lastTransactionError;const o=yield(u=(0,ce.A)(function*(_,D){const G=ir(_),ne={documents:D.map(Lt=>fh(G.serializer,Lt))},ve=yield G.Lo("BatchGetDocuments",G.serializer.databaseId,et.emptyPath(),ne,D.length),Ve=new Map;ve.forEach(Lt=>{const qt=function Ea(a,e){return"found"in e?function(o,u){Wn(!!u.found);const f=ja(o,u.found.name),_=Ji(u.found.updateTime),D=u.found.createTime?Ji(u.found.createTime):q.min(),G=new Oe({mapValue:{fields:u.found.fields}});return ln.newFoundDocument(f,_,D,G)}(a,e):"missing"in e?function(o,u){Wn(!!u.missing),Wn(!!u.readTime);const f=ja(o,u.missing),_=Ji(u.readTime);return ln.newNoDocument(f,_)}(a,e):Pn()}(G.serializer,Lt);Ve.set(qt.key.toString(),qt)});const at=[];return D.forEach(Lt=>{const qt=Ve.get(Lt.toString());Wn(!!qt),at.push(qt)}),at}),function f(_,D){return u.apply(this,arguments)})(r.datastore,e);var u;return o.forEach(u=>r.recordVersion(u)),o})()}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastTransactionError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new el(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ce.A)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const r=e.readVersions;var o;e.mutations.forEach(o=>{r.delete(o.key.toString())}),r.forEach((o,u)=>{const f=Vt.fromPath(u);e.mutations.push(new Hf(f,e.precondition(f)))}),yield(o=(0,ce.A)(function*(f,_){const D=ir(f),G={writes:_.map(ne=>lc(D.serializer,ne))};yield D.Mo("Commit",D.serializer.databaseId,et.emptyPath(),G)}),function u(f,_){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw Pn();r=q.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!r.isEqual(o))throw new Ln(pn.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?r.isEqual(q.min())?$i.exists(!1):$i.updateTime(r):$i.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual(q.min()))throw new Ln(pn.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return $i.updateTime(r)}return $i.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class sE{constructor(e,r,o,u,f){this.asyncQueue=e,this.datastore=r,this.options=o,this.updateFunction=u,this.deferred=f,this._u=o.maxAttempts,this.t_=new yp(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){var e=this;this.t_.Go((0,ce.A)(function*(){const r=new vR(e.datastore),o=e.cu(r);o&&o.then(u=>{e.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{e.deferred.resolve(u)}).catch(f=>{e.lu(f)}))}).catch(u=>{e.lu(u)})}))}cu(e){try{const r=this.updateFunction(e);return!Ur(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(e)}hu(e){if("FirebaseError"===e.name){const r=e.code;return"aborted"===r||"failed-precondition"===r||"already-exists"===r||!Qc(r)}return!1}}class aE{constructor(e,r,o,u,f){var _=this;this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=o,this.databaseInfo=u,this.user=di.UNAUTHENTICATED,this.clientId=Y.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=f,this.authCredentials.start(o,function(){var D=(0,ce.A)(function*(G){Un("FirestoreClient","Received user=",G.uid),yield _.authCredentialListener(G),_.user=G});return function(G){return D.apply(this,arguments)}}()),this.appCheckCredentials.start(o,D=>(Un("FirestoreClient","Received new app check token=",D),this.appCheckCredentialListener(D,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const r=new Fi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ce.A)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),r.resolve()}catch(o){const u=Bh(o,"Failed to shutdown persistence");r.reject(u)}})),r.promise}}function nI(a,e){return rI.apply(this,arguments)}function rI(){return rI=(0,ce.A)(function*(a,e){a.asyncQueue.verifyOperationInProgress(),Un("FirestoreClient","Initializing OfflineComponentProvider");const r=a.configuration;yield e.initialize(r);let o=r.initialUser;a.setCredentialChangeListener(function(){var u=(0,ce.A)(function*(f){o.isEqual(f)||(yield O(e.localStore,f),o=f)});return function(f){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>a.terminate()),a._offlineComponents=e}),rI.apply(this,arguments)}function lE(a,e){return uE.apply(this,arguments)}function uE(){return(uE=(0,ce.A)(function*(a,e){a.asyncQueue.verifyOperationInProgress();const r=yield cE(a);Un("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(r,a.configuration),a.setCredentialChangeListener(o=>Lu(e.remoteStore,o)),a.setAppCheckTokenChangeListener((o,u)=>Lu(e.remoteStore,u)),a._onlineComponents=e})).apply(this,arguments)}function cE(a){return dE.apply(this,arguments)}function dE(){return(dE=(0,ce.A)(function*(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){Un("FirestoreClient","Using user provided OfflineComponentProvider");try{yield nI(a,a._uninitializedComponentsProvider._offline)}catch(e){if(!("FirebaseError"===(u=e).name?u.code===pn.FAILED_PRECONDITION||u.code===pn.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw e;Jr("Error using user provided cache. Falling back to memory cache: "+e),yield nI(a,new Tc)}}else Un("FirestoreClient","Using default OfflineComponentProvider"),yield nI(a,new Tc);var u;return a._offlineComponents})).apply(this,arguments)}function mm(a){return hE.apply(this,arguments)}function hE(){return(hE=(0,ce.A)(function*(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(Un("FirestoreClient","Using user provided OnlineComponentProvider"),yield lE(a,a._uninitializedComponentsProvider._online)):(Un("FirestoreClient","Using default OnlineComponentProvider"),yield lE(a,new wd))),a._onlineComponents})).apply(this,arguments)}function fE(a){return cE(a).then(e=>e.persistence)}function Od(a){return cE(a).then(e=>e.localStore)}function iI(a){return mm(a).then(e=>e.remoteStore)}function pE(a){return mm(a).then(e=>e.syncEngine)}function Fu(a){return mE.apply(this,arguments)}function mE(){return(mE=(0,ce.A)(function*(a){const e=yield mm(a),r=e.eventManager;return r.onListen=Gy.bind(null,e.syncEngine),r.onUnlisten=gR.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=tT.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=nT.bind(null,e.syncEngine),r})).apply(this,arguments)}function oI(a,e,r={}){const o=new Fi;return a.asyncQueue.enqueueAndForget((0,ce.A)(function*(){return function(f,_,D,G,ne){const ve=new oE({next:at=>{ve.Za(),_.enqueueAndForget(()=>yc(f,Ve));const Lt=at.docs.has(D);!Lt&&at.fromCache?ne.reject(new Ln(pn.UNAVAILABLE,"Failed to get document because the client is offline.")):Lt&&at.fromCache&&G&&"server"===G.source?ne.reject(new Ln(pn.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):ne.resolve(at)},error:at=>ne.reject(at)}),Ve=new Cd(ga(D.path),ve,{includeMetadataChanges:!0,_a:!0});return Tp(f,Ve)}(yield Fu(a),a.asyncQueue,e,r,o)})),o.promise}function _m(a,e,r={}){const o=new Fi;return a.asyncQueue.enqueueAndForget((0,ce.A)(function*(){return function(f,_,D,G,ne){const ve=new oE({next:at=>{ve.Za(),_.enqueueAndForget(()=>yc(f,Ve)),at.fromCache&&"server"===G.source?ne.reject(new Ln(pn.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):ne.resolve(at)},error:at=>ne.reject(at)}),Ve=new Cd(D,ve,{includeMetadataChanges:!0,_a:!0});return Tp(f,Ve)}(yield Fu(a),a.asyncQueue,e,r,o)})),o.promise}function pT(a){const e={};return void 0!==a.timeoutSeconds&&(e.timeoutSeconds=a.timeoutSeconds),e}const qh=new Map;function EE(a,e,r){if(!r)throw new Ln(pn.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function lI(a,e,r,o){if(!0===e&&!0===o)throw new Ln(pn.INVALID_ARGUMENT,`${a} and ${r} cannot be used together.`)}function uI(a){if(!Vt.isDocumentKey(a))throw new Ln(pn.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function vE(a){if(Vt.isDocumentKey(a))throw new Ln(pn.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function Em(a){if(void 0===a)return"undefined";if(null===a)return"null";if("string"==typeof a)return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if("number"==typeof a||"boolean"==typeof a)return""+a;if("object"==typeof a){if(a instanceof Array)return"an array";{const e=(o=a).constructor?o.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var o;return"function"==typeof a?"a function":Pn()}function li(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new Ln(pn.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Em(a);throw new Ln(pn.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return a}function cI(a,e){if(e<=0)throw new Ln(pn.INVALID_ARGUMENT,`Function ${a}() requires a positive number, but it was: ${e}.`)}class dI{constructor(e){var r,o;if(void 0===e.host){if(void 0!==e.ssl)throw new Ln(pn.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(r=e.ssl)||void 0===r||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ln(pn.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}lI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=pT(null!==(o=e.experimentalLongPollingOptions)&&void 0!==o?o:{}),function(f){if(void 0!==f.timeoutSeconds){if(isNaN(f.timeoutSeconds))throw new Ln(pn.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (must not be NaN)`);if(f.timeoutSeconds<5)throw new Ln(pn.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (minimum allowed value is 5)`);if(f.timeoutSeconds>30)throw new Ln(pn.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bp{constructor(e,r,o,u){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=o,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dI({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ln(pn.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ln(pn.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dI(e),void 0!==e.credentials&&(this._authCredentials=function(o){if(!o)return new jr;switch(o.type){case"firstParty":return new Hs(o.sessionIndex||"0",o.iamToken||null,o.authTokenFactory||null);case"provider":return o.client;default:throw new Ln(pn.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var e=this;return(0,ce.A)(function*(){"notTerminated"===e._terminateTask?yield e._terminate():e._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const o=qh.get(r);o&&(Un("ComponentProvider","Removing Datastore"),qh.delete(r),o.terminate())}(this),Promise.resolve()}}class $o{constructor(e,r,o){this.converter=r,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new $o(this.firestore,e,this._query)}}class co{constructor(e,r,o){this.converter=r,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new co(this.firestore,e,this._key)}}class Vu extends $o{constructor(e,r,o){super(e,r,ga(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new co(this.firestore,null,new Vt(e))}withConverter(e){return new Vu(this.firestore,e,this._path)}}function vm(a,e,...r){if(a=(0,Ee.Ku)(a),EE("collection","path",e),a instanceof bp){const o=et.fromString(e,...r);return vE(o),new Vu(a,null,o)}{if(!(a instanceof co||a instanceof Vu))throw new Ln(pn.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=a._path.child(et.fromString(e,...r));return vE(o),new Vu(a.firestore,null,o)}}function yE(a,e,...r){if(a=(0,Ee.Ku)(a),1===arguments.length&&(e=Y.newId()),EE("doc","path",e),a instanceof bp){const o=et.fromString(e,...r);return uI(o),new co(a,null,new Vt(o))}{if(!(a instanceof co||a instanceof Vu))throw new Ln(pn.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=a._path.child(et.fromString(e,...r));return uI(o),new co(a.firestore,a instanceof Vu?a.converter:null,new Vt(o))}}function gT(a,e){return a=(0,Ee.Ku)(a),e=(0,Ee.Ku)(e),(a instanceof co||a instanceof Vu)&&(e instanceof co||e instanceof Vu)&&a.firestore===e.firestore&&a.path===e.path&&a.converter===e.converter}function fI(a,e){return a=(0,Ee.Ku)(a),e=(0,Ee.Ku)(e),a instanceof $o&&e instanceof $o&&a.firestore===e.firestore&&Zs(a._query,e._query)&&a.converter===e.converter}class mT{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new yp(this,"async_queue_retry"),this.Vu=()=>{const o=Yg();o&&Un("AsyncQueue","Visibility state changed to "+o.visibilityState),this.t_.jo()},this.mu=e;const r=Yg();r&&"function"==typeof r.addEventListener&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=Yg();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new Fi;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){var e=this;return(0,ce.A)(function*(){if(0!==e.Pu.length){try{yield e.Pu[0](),e.Pu.shift(),e.t_.reset()}catch(r){if(!ko(r))throw r;Un("AsyncQueue","Operation failed with retryable error: "+r)}e.Pu.length>0&&e.t_.Go(()=>e.pu())}})()}gu(e){const r=this.mu.then(()=>(this.du=!0,e().catch(o=>{throw this.Eu=o,this.du=!1,Kr("INTERNAL UNHANDLED ERROR: ",function(_){let D=_.message||"";return _.stack&&(D=_.stack.includes(_.message)?_.stack:_.message+"\n"+_.stack),D}(o)),o}).then(o=>(this.du=!1,o))));return this.mu=r,r}enqueueAfterDelay(e,r,o){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const u=Uy.createAndSchedule(this,e,r,o,f=>this.yu(f));return this.Tu.push(u),u}fu(){this.Eu&&Pn()}verifyOperationInProgress(){}wu(){var e=this;return(0,ce.A)(function*(){let r;do{r=e.mu,yield r}while(r!==e.mu)})()}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((r,o)=>r.targetTimeMs-o.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),"all"!==e&&r.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}function IE(a){return function(r){if("object"!=typeof r||null===r)return!1;const u=r;for(const f of["next","error","complete"])if(f in u&&"function"==typeof u[f])return!0;return!1}(a)}class ym{constructor(){this._progressObserver={},this._taskCompletionResolver=new Fi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,r,o){this._progressObserver={next:e,error:r,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,r){return this._taskCompletionResolver.promise.then(e,r)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class ji extends bp{constructor(e,r,o,u){super(e,r,o,u),this.type="firestore",this._queue=new mT,this._persistenceKey=(null==u?void 0:u.name)||"[DEFAULT]"}_terminate(){var e=this;return(0,ce.A)(function*(){if(e._firestoreClient){const r=e._firestoreClient.terminate();e._queue=new mT(r),e._firestoreClient=void 0,yield r}})()}}function ho(a){if(a._terminated)throw new Ln(pn.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||pI(a),a._firestoreClient}function pI(a){var e,r,o;const u=a._freezeSettings(),f=(G=(null===(e=a._app)||void 0===e?void 0:e.options.appId)||"",new Kl(a._databaseId,G,a._persistenceKey,(ve=u).host,ve.ssl,ve.experimentalForceLongPolling,ve.experimentalAutoDetectLongPolling,pT(ve.experimentalLongPollingOptions),ve.useFetchStreams));var G,ve;a._componentsProvider||!(null===(r=u.localCache)||void 0===r)&&r._offlineComponentProvider&&!(null===(o=u.localCache)||void 0===o)&&o._onlineComponentProvider&&(a._componentsProvider={_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider}),a._firestoreClient=new aE(a._authCredentials,a._appCheckCredentials,a._queue,f,a._componentsProvider&&function(D){const G=null==D?void 0:D._online.build();return{_offline:null==D?void 0:D._offline.build(G),_online:G}}(a._componentsProvider))}function oa(){return(oa=(0,ce.A)(function*(a){Jr("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=a._freezeSettings();Ta(a,wd.provider,{build:r=>new rE(r,e.cacheSizeBytes)})})).apply(this,arguments)}function Ta(a,e,r){if((a=li(a,ji))._firestoreClient||a._terminated)throw new Ln(pn.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(a._componentsProvider||a._getSettings().localCache)throw new Ln(pn.FAILED_PRECONDITION,"SDK cache is already specified.");a._componentsProvider={_online:e,_offline:r},pI(a)}class ul{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ul(bi.fromBase64String(e))}catch(r){throw new Ln(pn.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new ul(bi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Pl{constructor(...e){for(let r=0;r<e.length;++r)if(0===e[r].length)throw new Ln(pn.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new St(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class cl{constructor(e){this._methodName=e}}class Jh{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Ln(pn.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Ln(pn.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return le(this._lat,e._lat)||le(this._long,e._long)}}class Np{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(o,u){if(o.length!==u.length)return!1;for(let f=0;f<o.length;++f)if(o[f]!==u[f])return!1;return!0}(this._values,e._values)}}const CE=/^__.*__$/;class Tm{constructor(e,r,o){this.data=e,this.fieldMask=r,this.fieldTransforms=o}toMutation(e,r){return null!==this.fieldMask?new vs(e,this.data,this.fieldMask,r,this.fieldTransforms):new ic(e,this.data,r,this.fieldTransforms)}}class vI{constructor(e,r,o){this.data=e,this.fieldMask=r,this.fieldTransforms=o}toMutation(e,r){return new vs(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function yI(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pn()}}class Mp{constructor(e,r,o,u,f,_){this.settings=e,this.databaseId=r,this.serializer=o,this.ignoreUndefinedProperties=u,void 0===f&&this.vu(),this.fieldTransforms=f||[],this.fieldMask=_||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Mp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const o=null===(r=this.path)||void 0===r?void 0:r.child(e),u=this.Fu({path:o,xu:!1});return u.Ou(e),u}Nu(e){var r;const o=null===(r=this.path)||void 0===r?void 0:r.child(e),u=this.Fu({path:o,xu:!1});return u.vu(),u}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return tf(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return void 0!==this.fieldMask.find(r=>e.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>e.isPrefixOf(r.field))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if(yI(this.Cu)&&CE.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class yT{constructor(e,r,o){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=o||kh(e)}Qu(e,r,o,u=!1){return new Mp({Cu:e,methodName:r,qu:o,path:St.emptyPath(),xu:!1,ku:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bd(a){const e=a._freezeSettings(),r=kh(a._databaseId);return new yT(a._databaseId,!!e.ignoreUndefinedProperties,r)}function Pp(a,e,r,o,u,f={}){const _=a.Qu(f.merge||f.mergeFields?2:0,e,r,u);RE("Data must be an object, but it was:",_,o);const D=AE(o,_);let G,ne;if(f.merge)G=new Oi(_.fieldMask),ne=_.fieldTransforms;else if(f.mergeFields){const ve=[];for(const Ve of f.mergeFields){const at=ef(e,Ve,r);if(!_.contains(at))throw new Ln(pn.INVALID_ARGUMENT,`Field '${at}' is specified in your field mask but missing from your input data.`);DE(ve,at)||ve.push(at)}G=new Oi(ve),ne=_.fieldTransforms.filter(Ve=>G.covers(Ve.field))}else G=null,ne=_.fieldTransforms;return new Tm(new Oe(D),G,ne)}class Nd extends cl{_toFieldTransform(e){if(2!==e.Cu)throw e.Bu(1===e.Cu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Nd}}function Qh(a,e,r){return new Mp({Cu:3,qu:e.settings.qu,methodName:a._methodName,xu:r},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Zh extends cl{_toFieldTransform(e){return new Wl(e.path,new Mi)}isEqual(e){return e instanceof Zh}}class Lp extends cl{constructor(e,r){super(e),this.Ku=r}_toFieldTransform(e){const r=Qh(this,e,!0),o=this.Ku.map(f=>Rc(f,r)),u=new uo(o);return new Wl(e.path,u)}isEqual(e){return e instanceof Lp&&(0,Ee.bD)(this.Ku,e.Ku)}}class SE extends cl{constructor(e,r){super(e),this.Ku=r}_toFieldTransform(e){const r=Qh(this,e,!0),o=this.Ku.map(f=>Rc(f,r)),u=new Fo(o);return new Wl(e.path,u)}isEqual(e){return e instanceof SE&&(0,Ee.bD)(this.Ku,e.Ku)}}class TE extends cl{constructor(e,r){super(e),this.$u=r}_toFieldTransform(e){const r=new ta(e.serializer,nn(e.serializer,this.$u));return new Wl(e.path,r)}isEqual(e){return e instanceof TE&&this.$u===e.$u}}function xp(a,e,r,o){const u=a.Qu(1,e,r);RE("Data must be an object, but it was:",u,o);const f=[],_=Oe.empty();qo(o,(G,ne)=>{const ve=kp(e,G,r);ne=(0,Ee.Ku)(ne);const Ve=u.Nu(ve);if(ne instanceof Nd)f.push(ve);else{const at=Rc(ne,Ve);null!=at&&(f.push(ve),_.set(ve,at))}});const D=new Oi(f);return new vI(_,D,u.fieldTransforms)}function Am(a,e,r,o,u,f){const _=a.Qu(1,e,r),D=[ef(e,o,r)],G=[u];if(f.length%2!=0)throw new Ln(pn.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let at=0;at<f.length;at+=2)D.push(ef(e,f[at])),G.push(f[at+1]);const ne=[],ve=Oe.empty();for(let at=D.length-1;at>=0;--at)if(!DE(ne,D[at])){const Lt=D[at];let qt=G[at];qt=(0,Ee.Ku)(qt);const yn=_.Nu(Lt);if(qt instanceof Nd)ne.push(Lt);else{const fn=Rc(qt,yn);null!=fn&&(ne.push(Lt),ve.set(Lt,fn))}}const Ve=new Oi(ne);return new vI(ve,Ve,_.fieldTransforms)}function Ac(a,e,r,o=!1){return Rc(r,a.Qu(o?4:3,e))}function Rc(a,e){if(Rm(a=(0,Ee.Ku)(a)))return RE("Unsupported field value:",e,a),AE(a,e);if(a instanceof cl)return function(o,u){if(!yI(u.Cu))throw u.Bu(`${o._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Bu(`${o._methodName}() is not currently supported inside arrays`);const f=o._toFieldTransform(u);f&&u.fieldTransforms.push(f)}(a,e),null;if(void 0===a&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.xu&&4!==e.Cu)throw e.Bu("Nested arrays are not supported");return function(o,u){const f=[];let _=0;for(const D of o){let G=Rc(D,u.Lu(_));null==G&&(G={nullValue:"NULL_VALUE"}),f.push(G),_++}return{arrayValue:{values:f}}}(a,e)}return function(o,u){if(null===(o=(0,Ee.Ku)(o)))return{nullValue:"NULL_VALUE"};if("number"==typeof o)return nn(u.serializer,o);if("boolean"==typeof o)return{booleanValue:o};if("string"==typeof o)return{stringValue:o};if(o instanceof Date){const f=L.fromDate(o);return{timestampValue:Su(u.serializer,f)}}if(o instanceof L){const f=new L(o.seconds,1e3*Math.floor(o.nanoseconds/1e3));return{timestampValue:Su(u.serializer,f)}}if(o instanceof Jh)return{geoPointValue:{latitude:o.latitude,longitude:o.longitude}};if(o instanceof ul)return{bytesValue:Tu(u.serializer,o._byteString)};if(o instanceof co){const f=u.databaseId,_=o.firestore._databaseId;if(!_.isEqual(f))throw u.Bu(`Document reference is for database ${_.projectId}/${_.database} but should be for database ${f.projectId}/${f.database}`);return{referenceValue:nd(o.firestore._databaseId||u.databaseId,o._key.path)}}if(o instanceof Np)return D=u,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(G=>{if("number"!=typeof G)throw D.Bu("VectorValues must only contain numeric values.");return Jt(D.serializer,G)})}}}}};var D;throw u.Bu(`Unsupported field value: ${Em(o)}`)}(a,e)}function AE(a,e){const r={};return Gr(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):qo(a,(o,u)=>{const f=Rc(u,e.Mu(o));null!=f&&(r[o]=f)}),{mapValue:{fields:r}}}function Rm(a){return!("object"!=typeof a||null===a||a instanceof Array||a instanceof Date||a instanceof L||a instanceof Jh||a instanceof ul||a instanceof co||a instanceof cl||a instanceof Np)}function RE(a,e,r){if(!Rm(r)||"object"!=typeof(u=r)||null===u||Object.getPrototypeOf(u)!==Object.prototype&&null!==Object.getPrototypeOf(u)){const o=Em(r);throw e.Bu("an object"===o?a+" a custom object":a+" "+o)}var u}function ef(a,e,r){if((e=(0,Ee.Ku)(e))instanceof Pl)return e._internalPath;if("string"==typeof e)return kp(a,e);throw tf("Field path arguments must be of type string or ",a,!1,void 0,r)}const II=new RegExp("[~\\*/\\[\\]]");function kp(a,e,r){if(e.search(II)>=0)throw tf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,r);try{return new Pl(...e.split("."))._internalPath}catch{throw tf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,r)}}function tf(a,e,r,o,u){const f=o&&!o.isEmpty(),_=void 0!==u;let D=`Function ${e}() called with invalid data`;r&&(D+=" (via `toFirestore()`)"),D+=". ";let G="";return(f||_)&&(G+=" (found",f&&(G+=` in field ${o}`),_&&(G+=` in document ${u}`),G+=")"),new Ln(pn.INVALID_ARGUMENT,D+a+G)}function DE(a,e){return a.some(r=>r.isEqual(e))}class Dc{constructor(e,r,o,u,f){this._firestore=e,this._userDataWriter=r,this._key=o,this._document=u,this._converter=f}get id(){return this._key.path.lastSegment()}get ref(){return new co(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Md(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Up("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r)}}}class Md extends Dc{data(){return super.data()}}function Up(a,e){return"string"==typeof e?kp(a,e):e instanceof Pl?e._internalPath:e._delegate._internalPath}function Dm(a){if("L"===a.limitType&&0===a.explicitOrderBy.length)throw new Ln(pn.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Pd{}class nf extends Pd{}function ru(a,e,...r){let o=[];e instanceof Pd&&o.push(e),o=o.concat(r),function(f){const _=f.filter(G=>G instanceof Ld).length,D=f.filter(G=>G instanceof wc).length;if(_>1||_>0&&D>0)throw new Ln(pn.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const u of o)a=u._apply(a);return a}class wc extends nf{constructor(e,r,o){super(),this._field=e,this._op=r,this._value=o,this.type="where"}static _create(e,r,o){return new wc(e,r,o)}_apply(e){const r=this._parse(e);return OE(e._query,r),new $o(e.firestore,e.converter,xi(e._query,r))}_parse(e){const r=bd(e.firestore);return function(f,_,D,G,ne,ve,Ve){let at;if(ne.isKeyField()){if("array-contains"===ve||"array-contains-any"===ve)throw new Ln(pn.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ve}' queries on documentId().`);if("in"===ve||"not-in"===ve){sf(Ve,ve);const Lt=[];for(const qt of Ve)Lt.push(Om(G,f,qt));at={arrayValue:{values:Lt}}}else at=Om(G,f,Ve)}else"in"!==ve&&"not-in"!==ve&&"array-contains-any"!==ve||sf(Ve,ve),at=Ac(D,"where",Ve,"in"===ve||"not-in"===ve);return Sr.create(ne,ve,at)}(e._query,0,r,e.firestore._databaseId,this._field,this._op,this._value)}}class Ld extends Pd{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new Ld(e,r)}_parse(e){const r=this._queryConstraints.map(o=>o._parse(e)).filter(o=>o.getFilters().length>0);return 1===r.length?r[0]:br.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return 0===r.getFilters().length?e:(function(u,f){let _=u;const D=f.getFlattenedFilters();for(const G of D)OE(_,G),_=xi(_,G)}(e._query,r),new $o(e.firestore,e.converter,xi(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class wE extends nf{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new wE(e,r)}_apply(e){const r=function(u,f,_){if(null!==u.startAt)throw new Ln(pn.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==u.endAt)throw new Ln(pn.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Hr(f,_)}(e._query,this._field,this._direction);return new $o(e.firestore,e.converter,function(u,f){const _=u.explicitOrderBy.concat([f]);return new ei(u.path,u.collectionGroup,_,u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(e._query,r))}}class Fp extends nf{constructor(e,r,o){super(),this.type=e,this._limit=r,this._limitType=o}static _create(e,r,o){return new Fp(e,r,o)}_apply(e){return new $o(e.firestore,e.converter,lo(e._query,this._limit,this._limitType))}}class Vp extends nf{constructor(e,r,o){super(),this.type=e,this._docOrFields=r,this._inclusive=o}static _create(e,r,o){return new Vp(e,r,o)}_apply(e){const r=Oc(e,this.type,this._docOrFields,this._inclusive);return new $o(e.firestore,e.converter,(f=r,new ei((u=e._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,f,u.endAt)));var u,f}}class Bp extends nf{constructor(e,r,o){super(),this.type=e,this._docOrFields=r,this._inclusive=o}static _create(e,r,o){return new Bp(e,r,o)}_apply(e){const r=Oc(e,this.type,this._docOrFields,this._inclusive);return new $o(e.firestore,e.converter,(f=r,new ei((u=e._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,f)));var u,f}}function Oc(a,e,r,o){if(r[0]=(0,Ee.Ku)(r[0]),r[0]instanceof Dc)return function(f,_,D,G,ne){if(!G)throw new Ln(pn.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${D}().`);const ve=[];for(const Ve of Qa(f))if(Ve.field.isKeyField())ve.push(Ns(_,G.key));else{const at=G.data.field(Ve.field);if(Zu(at))throw new Ln(pn.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Ve.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===at){const Lt=Ve.field.canonicalString();throw new Ln(pn.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Lt}' (used as the orderBy) does not exist.`)}ve.push(at)}return new Bn(ve,ne)}(a._query,a.firestore._databaseId,e,r[0]._document,o);{const u=bd(a.firestore);return function(_,D,G,ne,ve,Ve){const at=_.explicitOrderBy;if(ve.length>at.length)throw new Ln(pn.INVALID_ARGUMENT,`Too many arguments provided to ${ne}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Lt=[];for(let qt=0;qt<ve.length;qt++){const yn=ve[qt];if(at[qt].field.isKeyField()){if("string"!=typeof yn)throw new Ln(pn.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${ne}(), but got a ${typeof yn}`);if(!ms(_)&&-1!==yn.indexOf("/"))throw new Ln(pn.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${ne}() must be a plain document ID, but '${yn}' contains a slash.`);const fn=_.path.child(et.fromString(yn));if(!Vt.isDocumentKey(fn))throw new Ln(pn.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${ne}() must result in a valid document path, but '${fn}' is not because it contains an odd number of segments.`);const zn=new Vt(fn);Lt.push(Ns(D,zn))}else{const fn=Ac(G,ne,yn);Lt.push(fn)}}return new Bn(Lt,Ve)}(a._query,a.firestore._databaseId,u,e,r,o)}}function Om(a,e,r){if("string"==typeof(r=(0,Ee.Ku)(r))){if(""===r)throw new Ln(pn.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ms(e)&&-1!==r.indexOf("/"))throw new Ln(pn.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const o=e.path.child(et.fromString(r));if(!Vt.isDocumentKey(o))throw new Ln(pn.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return Ns(a,new Vt(o))}if(r instanceof co)return Ns(a,r._key);throw new Ln(pn.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Em(r)}.`)}function sf(a,e){if(!Array.isArray(a)||0===a.length)throw new Ln(pn.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function OE(a,e){const r=function(u,f){for(const _ of u)for(const D of _.getFlattenedFilters())if(f.indexOf(D.op)>=0)return D.op;return null}(a.filters,function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==r)throw new Ln(pn.INVALID_ARGUMENT,r===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class Gp{convertValue(e,r="none"){switch(qs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Si(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(ds(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Pn()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const o={};return qo(e,(u,f)=>{o[u]=this.convertValue(f,r)}),o}convertVectorValue(e){var r,o,u;const f=null===(u=null===(o=null===(r=e.fields)||void 0===r?void 0:r.value.arrayValue)||void 0===o?void 0:o.values)||void 0===u?void 0:u.map(_=>Si(_.doubleValue));return new Np(f)}convertGeoPoint(e){return new Jh(Si(e.latitude),Si(e.longitude))}convertArray(e,r){return(e.values||[]).map(o=>this.convertValue(o,r))}convertServerTimestamp(e,r){switch(r){case"previous":const o=Ws(e);return null==o?null:this.convertValue(o,r);case"estimate":return this.convertTimestamp($l(e));default:return null}}convertTimestamp(e){const r=bs(e);return new L(r.seconds,r.nanos)}convertDocumentKey(e,r){const o=et.fromString(e);Wn(No(o));const u=new hs(o.get(1),o.get(3)),f=new Vt(o.popFirst(5));return u.isEqual(r)||Kr(`Document ${f} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),f}}function af(a,e,r){let o;return o=a?r&&(r.merge||r.mergeFields)?a.toFirestore(e,r):a.toFirestore(e):e,o}class AI extends Gp{constructor(e){super(),this.firestore=e}convertBytes(e){return new ul(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new co(this.firestore,null,r)}}class xd{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Bu extends Dc{constructor(e,r,o,u,f,_){super(e,r,o,u,_),this._firestore=e,this._firestoreImpl=e,this.metadata=f}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new $p(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const o=this._document.data.field(Up("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,r.serverTimestamps)}}}class $p extends Bu{data(e={}){return super.data(e)}}class bc{constructor(e,r,o,u){this._firestore=e,this._userDataWriter=r,this._snapshot=u,this.metadata=new xd(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,r){this._snapshot.docs.forEach(o=>{e.call(r,new $p(this._firestore,this._userDataWriter,o.key,o,new xd(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Ln(pn.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(u,f){if(u._snapshot.oldDocs.isEmpty()){let _=0;return u._snapshot.docChanges.map(D=>({type:"added",doc:new $p(u._firestore,u._userDataWriter,D.doc.key,D.doc,new xd(u._snapshot.mutatedKeys.has(D.doc.key),u._snapshot.fromCache),u.query.converter),oldIndex:-1,newIndex:_++}))}{let _=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(D=>f||3!==D.type).map(D=>{const G=new $p(u._firestore,u._userDataWriter,D.doc.key,D.doc,new xd(u._snapshot.mutatedKeys.has(D.doc.key),u._snapshot.fromCache),u.query.converter);let ne=-1,ve=-1;return 0!==D.type&&(ne=_.indexOf(D.doc.key),_=_.delete(D.doc.key)),1!==D.type&&(_=_.add(D.doc),ve=_.indexOf(D.doc.key)),{type:DI(D.type),doc:G,oldIndex:ne,newIndex:ve}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function DI(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pn()}}function bE(a,e){return a instanceof Bu&&e instanceof Bu?a._firestore===e._firestore&&a._key.isEqual(e._key)&&(null===a._document?null===e._document:a._document.isEqual(e._document))&&a._converter===e._converter:a instanceof bc&&e instanceof bc&&a._firestore===e._firestore&&fI(a.query,e.query)&&a.metadata.isEqual(e.metadata)&&a._snapshot.isEqual(e._snapshot)}class Nc extends Gp{constructor(e){super(),this.firestore=e}convertBytes(e){return new ul(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new co(this.firestore,null,r)}}function ME(a,e,r){a=li(a,co);const o=li(a.firestore,ji),u=af(a.converter,e,r);return lf(o,[Pp(bd(o),"setDoc",a._key,u,null!==a.converter,r).toMutation(a._key,$i.none())])}function wI(a,e,r,...o){a=li(a,co);const u=li(a.firestore,ji),f=bd(u);let _;return _="string"==typeof(e=(0,Ee.Ku)(e))||e instanceof Pl?Am(f,"updateDoc",a._key,e,r,o):xp(f,"updateDoc",a._key,e),lf(u,[_.toMutation(a._key,$i.exists(!0))])}function PE(a,...e){var r,o,u;a=(0,Ee.Ku)(a);let f={includeMetadataChanges:!1,source:"default"},_=0;"object"!=typeof e[_]||IE(e[_])||(f=e[_],_++);const D={includeMetadataChanges:f.includeMetadataChanges,source:f.source};if(IE(e[_])){const Ve=e[_];e[_]=null===(r=Ve.next)||void 0===r?void 0:r.bind(Ve),e[_+1]=null===(o=Ve.error)||void 0===o?void 0:o.bind(Ve),e[_+2]=null===(u=Ve.complete)||void 0===u?void 0:u.bind(Ve)}let G,ne,ve;if(a instanceof co)ne=li(a.firestore,ji),ve=ga(a._key.path),G={next:Ve=>{e[_]&&e[_](Kp(ne,a,Ve))},error:e[_+1],complete:e[_+2]};else{const Ve=li(a,$o);ne=li(Ve.firestore,ji),ve=Ve._query;const at=new Nc(ne);G={next:Lt=>{e[_]&&e[_](new bc(ne,at,Ve,Lt))},error:e[_+1],complete:e[_+2]},Dm(a._query)}return function(at,Lt,qt,yn){const fn=new oE(yn),zn=new Cd(Lt,fn,qt);return at.asyncQueue.enqueueAndForget((0,ce.A)(function*(){return Tp(yield Fu(at),zn)})),()=>{fn.Za(),at.asyncQueue.enqueueAndForget((0,ce.A)(function*(){return yc(yield Fu(at),zn)}))}}(ho(ne),ve,D,G)}function lf(a,e){return function(o,u){const f=new Fi;return o.asyncQueue.enqueueAndForget((0,ce.A)(function*(){return function X_(a,e,r){return um.apply(this,arguments)}(yield pE(o),u,f)})),f.promise}(ho(a),e)}function Kp(a,e,r){const o=r.docs.get(e._key),u=new Nc(a);return new Bu(a,u,e._key,o,new xd(r.hasPendingWrites,r.fromCache),e.converter)}const NI={maxAttempts:5};class xE{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=bd(e)}set(e,r,o){this._verifyNotCommitted();const u=Gu(e,this._firestore),f=af(u.converter,r,o),_=Pp(this._dataReader,"WriteBatch.set",u._key,f,null!==u.converter,o);return this._mutations.push(_.toMutation(u._key,$i.none())),this}update(e,r,o,...u){this._verifyNotCommitted();const f=Gu(e,this._firestore);let _;return _="string"==typeof(r=(0,Ee.Ku)(r))||r instanceof Pl?Am(this._dataReader,"WriteBatch.update",f._key,r,o,u):xp(this._dataReader,"WriteBatch.update",f._key,r),this._mutations.push(_.toMutation(f._key,$i.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=Gu(e,this._firestore);return this._mutations=this._mutations.concat(new el(r._key,$i.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ln(pn.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Gu(a,e){if((a=(0,Ee.Ku)(a)).firestore!==e)throw new Ln(pn.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return a}class Mm extends class{constructor(r,o){this._firestore=r,this._transaction=o,this._dataReader=bd(r)}get(r){const o=Gu(r,this._firestore),u=new AI(this._firestore);return this._transaction.lookup([o._key]).then(f=>{if(!f||1!==f.length)return Pn();const _=f[0];if(_.isFoundDocument())return new Dc(this._firestore,u,_.key,_,o.converter);if(_.isNoDocument())return new Dc(this._firestore,u,o._key,null,o.converter);throw Pn()})}set(r,o,u){const f=Gu(r,this._firestore),_=af(f.converter,o,u),D=Pp(this._dataReader,"Transaction.set",f._key,_,null!==f.converter,u);return this._transaction.set(f._key,D),this}update(r,o,u,...f){const _=Gu(r,this._firestore);let D;return D="string"==typeof(o=(0,Ee.Ku)(o))||o instanceof Pl?Am(this._dataReader,"Transaction.update",_._key,o,u,f):xp(this._dataReader,"Transaction.update",_._key,o),this._transaction.update(_._key,D),this}delete(r){const o=Gu(r,this._firestore);return this._transaction.delete(o._key),this}}{constructor(e,r){super(e,r),this._firestore=e}get(e){const r=Gu(e,this._firestore),o=new Nc(this._firestore);return super.get(e).then(u=>new Bu(this._firestore,o,r._key,u._document,new xd(!1,!1),r.converter))}}function Um(a,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ln("invalid-argument",`Invalid options passed to function ${a}(): You cannot specify both "merge" and "mergeFields".`);return e}function LI(){if(typeof Uint8Array>"u")throw new Ln("unimplemented","Uint8Arrays are not available in this environment.")}function VE(){if(!function Ju(){return typeof atob<"u"}())throw new Ln("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,r=!0){vo=j.SDK_VERSION,(0,j._registerComponent)(new yt.uA("firestore",(o,{instanceIdentifier:u,options:f})=>{const _=o.getProvider("app").getImmediate(),D=new ji(new ba(o.getProvider("auth-internal")),new Na(o.getProvider("app-check-internal")),function(ne,ve){if(!Object.prototype.hasOwnProperty.apply(ne.options,["projectId"]))throw new Ln(pn.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hs(ne.options.projectId,ve)}(_,u),_);return f=Object.assign({useFetchStreams:r},f),D._setSettings(f),D},"PUBLIC").setMultipleInstances(!0)),(0,j.registerVersion)(eo,"4.7.3",e),(0,j.registerVersion)(eo,"4.7.3","esm2017")}();class Hp{constructor(e){this._delegate=e}static fromBase64String(e){return VE(),new Hp(ul.fromBase64String(e))}static fromUint8Array(e){return LI(),new Hp(ul.fromUint8Array(e))}toBase64(){return VE(),this._delegate.toBase64()}toUint8Array(){return LI(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function BE(a){return function xI(a,e){if("object"!=typeof a||null===a)return!1;const r=a;for(const o of e)if(o in r&&"function"==typeof r[o])return!0;return!1}(a,["next","error","complete"])}class GE{enableIndexedDbPersistence(e,r){return function gI(a,e){Jr("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=a._freezeSettings();return Ta(a,wd.provider,{build:o=>new Dd(o,r.cacheSizeBytes,null==e?void 0:e.forceOwnership)}),Promise.resolve()}(e._delegate,{forceOwnership:r})}enableMultiTabIndexedDbPersistence(e){return function Xh(a){return oa.apply(this,arguments)}(e._delegate)}clearIndexedDbPersistence(e){return function mI(a){if(a._initialized&&!a._terminated)throw new Ln(pn.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Fi;return a._queue.enqueueAndForgetEvenWhileRestricted((0,ce.A)(function*(){try{yield(r=(0,ce.A)(function*(u){if(!yo.D())return Promise.resolve();const f=u+"main";yield yo.delete(f)}),function o(u){return r.apply(this,arguments)})(Mh(a._databaseId,a._persistenceKey)),e.resolve()}catch(r){e.reject(r)}var r})),e.promise}(e._delegate)}}class $E{constructor(e,r,o){this._delegate=r,this._persistenceProvider=o,this.INTERNAL={delete:()=>this.terminate()},e instanceof hs||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const r=this._delegate._getSettings();!e.merge&&r.host!==e.host&&Jr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},r),e)).merge,this._delegate._setSettings(e)}useEmulator(e,r,o={}){!function hI(a,e,r,o={}){var u;const f=(a=li(a,bp))._getSettings(),_=`${e}:${r}`;if("firestore.googleapis.com"!==f.host&&f.host!==_&&Jr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),a._setSettings(Object.assign(Object.assign({},f),{host:_,ssl:!1})),o.mockUserToken){let D,G;if("string"==typeof o.mockUserToken)D=o.mockUserToken,G=di.MOCK_USER;else{D=(0,Ee.Fy)(o.mockUserToken,null===(u=a._app)||void 0===u?void 0:u.options.projectId);const ne=o.mockUserToken.sub||o.mockUserToken.user_id;if(!ne)throw new Ln(pn.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");G=new di(ne)}a._authCredentials=new Ds(new Rs(D,G))}}(this._delegate,e,r,o)}enableNetwork(){return function vT(a){return function _E(a){return a.asyncQueue.enqueue((0,ce.A)(function*(){const e=yield fE(a),r=yield iI(a);return e.setNetworkEnabled(!0),function(u){const f=ir(u);return f.L_.delete(0),zg(f)}(r)}))}(ho(a=li(a,ji)))}(this._delegate)}disableNetwork(){return function SR(a){return function lT(a){return a.asyncQueue.enqueue((0,ce.A)(function*(){const e=yield fE(a),r=yield iI(a);return e.setNetworkEnabled(!1),(o=(0,ce.A)(function*(f){const _=ir(f);_.L_.add(0),yield Ml(_),_.q_.set("Offline")}),function u(f){return o.apply(this,arguments)})(r);var o}))}(ho(a=li(a,ji)))}(this._delegate)}enablePersistence(e){let r=!1,o=!1;return e&&(r=!!e.synchronizeTabs,o=!!e.experimentalForceOwningTab,lI("synchronizeTabs",r,"experimentalForceOwningTab",o)),r?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,o)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function CR(a){return function(r){const o=new Fi;return r.asyncQueue.enqueueAndForget((0,ce.A)(function*(){return function Wy(a,e){return wp.apply(this,arguments)}(yield pE(r),o)})),o.promise}(ho(a=li(a,ji)))}(this._delegate)}onSnapshotsInSync(e){return function bT(a,e){return function cT(a,e){const r=new oE(e);return a.asyncQueue.enqueueAndForget((0,ce.A)(function*(){return u=yield Fu(a),f=r,ir(u).Y_.add(f),void f.next();var u,f})),()=>{r.Za(),a.asyncQueue.enqueueAndForget((0,ce.A)(function*(){return u=yield Fu(a),f=r,void ir(u).Y_.delete(f);var u,f}))}}(ho(a=li(a,ji)),IE(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ln("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new df(this,vm(this._delegate,e))}catch(r){throw rs(r,"collection()","Firestore.collection()")}}doc(e){try{return new dl(this,yE(this._delegate,e))}catch(r){throw rs(r,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new sa(this,function IR(a,e){if(a=li(a,bp),EE("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ln(pn.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new $o(a,null,(o=e,new ei(et.emptyPath(),o)));var o}(this._delegate,e))}catch(r){throw rs(r,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function kE(a,e,r){a=li(a,ji);const o=Object.assign(Object.assign({},NI),r);return function(f){if(f.maxAttempts<1)throw new Ln(pn.INVALID_ARGUMENT,"Max attempts must be at least 1")}(o),function(f,_,D){const G=new Fi;return f.asyncQueue.enqueueAndForget((0,ce.A)(function*(){const ne=yield function gE(a){return mm(a).then(e=>e.datastore)}(f);new sE(f.asyncQueue,ne,D,_,G).au()})),G.promise}(ho(a),u=>e(new Mm(a,u)),o)}(this._delegate,r=>e(new cf(this,r)))}batch(){return ho(this._delegate),new kI(new xE(this._delegate,e=>lf(this._delegate,e)))}loadBundle(e){return function _I(a,e){const r=ho(a=li(a,ji)),o=new ym;return function dT(a,e,r,o){const u=function(_,D){let G;return G="string"==typeof _?Lr().encode(_):_,ve=function(ve){if(ve instanceof Uint8Array)return iE(ve,void 0);if(ve instanceof ArrayBuffer)return iE(new Uint8Array(ve),void 0);if(ve instanceof ReadableStream)return ve.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(G),new ER(ve,D);var ve}(r,kh(e));a.asyncQueue.enqueueAndForget((0,ce.A)(function*(){!function aT(a,e,r){const o=ir(a);var u;(u=(0,ce.A)(function*(_,D,G){try{const ne=yield D.getMetadata();if(yield function(qt,yn){const fn=ir(qt),zn=Ji(yn.createTime);return fn.persistence.runTransaction("hasNewerBundle","readonly",dr=>fn.Gr.getBundleMetadata(dr,yn.id)).then(dr=>!!dr&&dr.createTime.compareTo(zn)>=0)}(_.localStore,ne))return yield D.close(),G._completeWith({taskState:"Success",documentsLoaded:(qt=ne).totalDocuments,bytesLoaded:qt.totalBytes,totalDocuments:qt.totalDocuments,totalBytes:qt.totalBytes}),Promise.resolve(new Set);G._updateProgress(lm(ne));const ve=new pR(ne,_.localStore,D.serializer);let Ve=yield D.Ua();for(;Ve;){const Lt=yield ve.la(Ve);Lt&&G._updateProgress(Lt),Ve=yield D.Ua()}const at=yield ve.complete();return yield ll(_,at.Ia,void 0),yield function(qt,yn){const fn=ir(qt);return fn.persistence.runTransaction("Save bundle","readwrite",zn=>fn.Gr.saveBundleMetadata(zn,yn))}(_.localStore,ne),G._completeWith(at.progress),Promise.resolve(at.Pa)}catch(ne){return Jr("SyncEngine",`Loading bundle failed with ${ne}`),G._failWith(ne),Promise.resolve(new Set)}var qt}),function f(_,D,G){return u.apply(this,arguments)})(o,e,r).then(u=>{o.sharedClientState.notifyBundleLoaded(u)})}(yield pE(a),u,o)}))}(r,a._databaseId,e,o),o}(this._delegate,e)}namedQuery(e){return function EI(a,e){return function hT(a,e){return a.asyncQueue.enqueue((0,ce.A)(function*(){return function(o,u){const f=ir(o);return f.persistence.runTransaction("Get named query","readonly",_=>f.Gr.getNamedQuery(_,u))}(yield Od(a),e)}))}(ho(a=li(a,ji)),e).then(r=>r?new $o(a,null,r.query):null)}(this._delegate,e).then(r=>r?new sa(this,r):null)}}class Mc extends Gp{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hp(new ul(e))}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return dl.forKey(r,this.firestore,null)}}class cf{constructor(e,r){this._firestore=e,this._delegate=r,this._userDataWriter=new Mc(e)}get(e){const r=hf(e);return this._delegate.get(r).then(o=>new Vm(this._firestore,new Bu(this._firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,r.converter)))}set(e,r,o){const u=hf(e);return o?(Um("Transaction.set",o),this._delegate.set(u,r,o)):this._delegate.set(u,r),this}update(e,r,o,...u){const f=hf(e);return 2===arguments.length?this._delegate.update(f,r):this._delegate.update(f,r,o,...u),this}delete(e){const r=hf(e);return this._delegate.delete(r),this}}class kI{constructor(e){this._delegate=e}set(e,r,o){const u=hf(e);return o?(Um("WriteBatch.set",o),this._delegate.set(u,r,o)):this._delegate.set(u,r),this}update(e,r,o,...u){const f=hf(e);return 2===arguments.length?this._delegate.update(f,r):this._delegate.update(f,r,o,...u),this}delete(e){const r=hf(e);return this._delegate.delete(r),this}commit(){return this._delegate.commit()}}class Ud{constructor(e,r,o){this._firestore=e,this._userDataWriter=r,this._delegate=o}fromFirestore(e,r){const o=new $p(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Bm(this._firestore,o),null!=r?r:{})}toFirestore(e,r){return r?this._delegate.toFirestore(e,r):this._delegate.toFirestore(e)}static getInstance(e,r){const o=Ud.INSTANCES;let u=o.get(e);u||(u=new WeakMap,o.set(e,u));let f=u.get(r);return f||(f=new Ud(e,new Mc(e),r),u.set(r,f)),f}}Ud.INSTANCES=new WeakMap;class dl{constructor(e,r){this.firestore=e,this._delegate=r,this._userDataWriter=new Mc(e)}static forPath(e,r,o){if(e.length%2!=0)throw new Ln("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new dl(r,new co(r._delegate,o,new Vt(e)))}static forKey(e,r,o){return new dl(r,new co(r._delegate,o,e))}get id(){return this._delegate.id}get parent(){return new df(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new df(this.firestore,vm(this._delegate,e))}catch(r){throw rs(r,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Ee.Ku)(e))instanceof co&&gT(this._delegate,e)}set(e,r){r=Um("DocumentReference.set",r);try{return r?ME(this._delegate,e,r):ME(this._delegate,e)}catch(o){throw rs(o,"setDoc()","DocumentReference.set()")}}update(e,r,...o){try{return 1===arguments.length?wI(this._delegate,e):wI(this._delegate,e,r,...o)}catch(u){throw rs(u,"updateDoc()","DocumentReference.update()")}}delete(){return function wT(a){return lf(li(a.firestore,ji),[new el(a._key,$i.none())])}(this._delegate)}onSnapshot(...e){const r=Fm(e),o=UI(e,u=>new Vm(this.firestore,new Bu(this.firestore._delegate,this._userDataWriter,u._key,u._document,u.metadata,this._delegate.converter)));return PE(this._delegate,r,o)}get(e){let r;return r="cache"===(null==e?void 0:e.source)?function Aa(a){a=li(a,co);const e=li(a.firestore,ji),r=ho(e),o=new Nc(e);return function zh(a,e){const r=new Fi;return a.asyncQueue.enqueueAndForget((0,ce.A)(function*(){return(o=(0,ce.A)(function*(f,_,D){try{const G=yield function(ve,Ve){const at=ir(ve);return at.persistence.runTransaction("read document","readonly",Lt=>at.localDocuments.getDocument(Lt,Ve))}(f,_);G.isFoundDocument()?D.resolve(G):G.isNoDocument()?D.resolve(null):D.reject(new Ln(pn.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(G){const ne=Bh(G,`Failed to get document '${_} from cache`);D.reject(ne)}}),function u(f,_,D){return o.apply(this,arguments)})(yield Od(a),e,r);var o})),r.promise}(r,a._key).then(u=>new Bu(e,o,a._key,u,new xd(null!==u&&u.hasLocalMutations,!0),a.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function RT(a){a=li(a,co);const e=li(a.firestore,ji);return oI(ho(e),a._key,{source:"server"}).then(r=>Kp(e,a,r))}(this._delegate):function AT(a){a=li(a,co);const e=li(a.firestore,ji);return oI(ho(e),a._key).then(r=>Kp(e,a,r))}(this._delegate),r.then(o=>new Vm(this.firestore,new Bu(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)))}withConverter(e){return new dl(this.firestore,this._delegate.withConverter(e?Ud.getInstance(this.firestore,e):null))}}function rs(a,e,r){return a.message=a.message.replace(e,r),a}function Fm(a){for(const e of a)if("object"==typeof e&&!BE(e))return e;return{}}function UI(a,e){var r,o;let u;return u=BE(a[0])?a[0]:BE(a[1])?a[1]:"function"==typeof a[0]?{next:a[0],error:a[1],complete:a[2]}:{next:a[1],error:a[2],complete:a[3]},{next:f=>{u.next&&u.next(e(f))},error:null===(r=u.error)||void 0===r?void 0:r.bind(u),complete:null===(o=u.complete)||void 0===o?void 0:o.bind(u)}}class Vm{constructor(e,r){this._firestore=e,this._delegate=r}get ref(){return new dl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,r){return this._delegate.get(e,r)}isEqual(e){return bE(this._delegate,e._delegate)}}class Bm extends Vm{data(e){const r=this._delegate.data(e);return this._delegate._converter||function Oa(a){a||Pn()}(void 0!==r),r}}class sa{constructor(e,r){this.firestore=e,this._delegate=r,this._userDataWriter=new Mc(e)}where(e,r,o){try{return new sa(this.firestore,ru(this._delegate,function IT(a,e,r){const o=e,u=Up("where",a);return wc._create(u,o,r)}(e,r,o)))}catch(u){throw rs(u,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,r){try{return new sa(this.firestore,ru(this._delegate,function CI(a,e="asc"){const r=e,o=Up("orderBy",a);return wE._create(o,r)}(e,r)))}catch(o){throw rs(o,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new sa(this.firestore,ru(this._delegate,function zr(a){return cI("limit",a),Fp._create("limit",a,"F")}(e)))}catch(r){throw rs(r,"limit()","Query.limit()")}}limitToLast(e){try{return new sa(this.firestore,ru(this._delegate,function SI(a){return cI("limitToLast",a),Fp._create("limitToLast",a,"L")}(e)))}catch(r){throw rs(r,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new sa(this.firestore,ru(this._delegate,function rf(...a){return Vp._create("startAt",a,!0)}(...e)))}catch(r){throw rs(r,"startAt()","Query.startAt()")}}startAfter(...e){try{return new sa(this.firestore,ru(this._delegate,function TI(...a){return Vp._create("startAfter",a,!1)}(...e)))}catch(r){throw rs(r,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new sa(this.firestore,ru(this._delegate,function CT(...a){return Bp._create("endBefore",a,!1)}(...e)))}catch(r){throw rs(r,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new sa(this.firestore,ru(this._delegate,function wm(...a){return Bp._create("endAt",a,!0)}(...e)))}catch(r){throw rs(r,"endAt()","Query.endAt()")}}isEqual(e){return fI(this._delegate,e._delegate)}get(e){let r;return r="cache"===(null==e?void 0:e.source)?function OR(a){a=li(a,$o);const e=li(a.firestore,ji),r=ho(e),o=new Nc(e);return function uT(a,e){const r=new Fi;return a.asyncQueue.enqueueAndForget((0,ce.A)(function*(){return(o=(0,ce.A)(function*(f,_,D){try{const G=yield ks(f,_,!0),ne=new H_(_,G.Ts),ve=ne.ma(G.documents),Ve=ne.applyChanges(ve,!1);D.resolve(Ve.snapshot)}catch(G){const ne=Bh(G,`Failed to execute query '${_} against cache`);D.reject(ne)}}),function u(f,_,D){return o.apply(this,arguments)})(yield Od(a),e,r);var o})),r.promise}(r,a._query).then(u=>new bc(e,o,a,u))}(this._delegate):"server"===(null==e?void 0:e.source)?function NE(a){a=li(a,$o);const e=li(a.firestore,ji),r=ho(e),o=new Nc(e);return _m(r,a._query,{source:"server"}).then(u=>new bc(e,o,a,u))}(this._delegate):function DT(a){a=li(a,$o);const e=li(a.firestore,ji),r=ho(e),o=new Nc(e);return Dm(a._query),_m(r,a._query).then(u=>new bc(e,o,a,u))}(this._delegate),r.then(o=>new FI(this.firestore,new bc(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)))}onSnapshot(...e){const r=Fm(e),o=UI(e,u=>new FI(this.firestore,new bc(this.firestore._delegate,this._userDataWriter,this._delegate,u._snapshot)));return PE(this._delegate,r,o)}withConverter(e){return new sa(this.firestore,this._delegate.withConverter(e?Ud.getInstance(this.firestore,e):null))}}class KT{constructor(e,r){this._firestore=e,this._delegate=r}get type(){return this._delegate.type}get doc(){return new Bm(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class FI{constructor(e,r){this._firestore=e,this._delegate=r}get query(){return new sa(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Bm(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(r=>new KT(this._firestore,r))}forEach(e,r){this._delegate.forEach(o=>{e.call(r,new Bm(this._firestore,o))})}isEqual(e){return bE(this._delegate,e._delegate)}}class df extends sa{constructor(e,r){super(e,r),this.firestore=e,this._delegate=r}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new dl(this.firestore,e):null}doc(e){try{return new dl(this.firestore,void 0===e?yE(this._delegate):yE(this._delegate,e))}catch(r){throw rs(r,"doc()","CollectionReference.doc()")}}add(e){return function OT(a,e){const r=li(a.firestore,ji),o=yE(a),u=af(a.converter,e);return lf(r,[Pp(bd(a.firestore),"addDoc",o._key,u,null!==a.converter,{}).toMutation(o._key,$i.exists(!1))]).then(()=>o)}(this._delegate,e).then(r=>new dl(this.firestore,r))}isEqual(e){return gT(this._delegate,e._delegate)}withConverter(e){return new df(this.firestore,this._delegate.withConverter(e?Ud.getInstance(this.firestore,e):null))}}function hf(a){return li(a,co)}class KE{constructor(...e){this._delegate=new Pl(...e)}static documentId(){return new KE(St.keyField().canonicalString())}isEqual(e){return(e=(0,Ee.Ku)(e))instanceof Pl&&this._delegate._internalPath.isEqual(e._internalPath)}}class Fd{constructor(e){this._delegate=e}static serverTimestamp(){const e=function kT(){return new Zh("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Fd(e)}static delete(){const e=function $u(){return new Nd("deleteField")}();return e._methodName="FieldValue.delete",new Fd(e)}static arrayUnion(...e){const r=function UT(...a){return new Lp("arrayUnion",a)}(...e);return r._methodName="FieldValue.arrayUnion",new Fd(r)}static arrayRemove(...e){const r=function UE(...a){return new SE("arrayRemove",a)}(...e);return r._methodName="FieldValue.arrayRemove",new Fd(r)}static increment(e){const r=function FT(a){return new TE("increment",a)}(e);return r._methodName="FieldValue.increment",new Fd(r)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const jT={Firestore:$E,GeoPoint:Jh,Timestamp:L,Blob:Hp,Transaction:cf,WriteBatch:kI,DocumentReference:dl,DocumentSnapshot:Vm,Query:sa,QueryDocumentSnapshot:Bm,QuerySnapshot:FI,CollectionReference:df,FieldPath:KE,FieldValue:Fd,setLogLevel:function Yp(a){!function xo(a){Di.setLogLevel(a)}(a)},CACHE_SIZE_UNLIMITED:-1};function zp(a,e){return function HE(a,e=xe){return new Xt.c(r=>{let o;return null!=e?e.schedule(()=>{o=a.onSnapshot({includeMetadataChanges:!0},r)}):o=a.onSnapshot({includeMetadataChanges:!0},r),()=>{null!=o&&o()}})}(a,e)}function Vd(a,e){return zp(a,e).pipe((0,Yt.T)(r=>({payload:r,type:"query"})))}!function Wp(a){(function jE(a,e){a.INTERNAL.registerComponent(new yt.uA("firestore-compat",r=>{const o=r.getProvider("app-compat").getImmediate(),u=r.getProvider("firestore").getImmediate();return e(o,u)},"PUBLIC").setServiceProps(Object.assign({},jT)))})(a,(e,r)=>new $E(e,r,new GE)),a.registerVersion("@firebase/firestore-compat","0.3.38")}(bn.A);class YE{constructor(e,r){(0,x.A)(this,"ref",void 0),(0,x.A)(this,"afs",void 0),this.ref=e,this.afs=r}set(e,r){return this.ref.set(e,r)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,r){const o=this.ref.collection(e),{ref:u,query:f}=jI(o,r);return new $I(u,f,this.afs)}snapshotChanges(){return function VI(a,e){return zp(a,e).pipe((0,Er.Z)(void 0),cn(),(0,Yt.T)(r=>{const[o,u]=r;return u.exists?null!=o&&o.exists?{payload:u,type:"modified"}:{payload:u,type:"added"}:{payload:u,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Vn)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Yt.T)(({payload:r})=>e.idField?{...r.data(),[e.idField]:r.id}:r.data()))}get(e){return(0,hn.H)(this.ref.get(e)).pipe(Vn)}}function Gm(a,e){return Vd(a,e).pipe((0,Er.Z)(void 0),cn(),(0,Yt.T)(r=>{const[o,u]=r,f=u.payload.docChanges(),_=f.map(D=>({type:D.type,payload:D}));return o&&JSON.stringify(o.payload.metadata)!==JSON.stringify(u.payload.metadata)&&u.payload.docs.forEach((D,G)=>{const ne=f.find(Ve=>Ve.doc.ref.isEqual(D.ref)),ve=null==o?void 0:o.payload.docs.find(Ve=>Ve.ref.isEqual(D.ref));ne&&JSON.stringify(ne.doc.metadata)===JSON.stringify(D.metadata)||!ne&&ve&&JSON.stringify(ve.metadata)===JSON.stringify(D.metadata)||_.push({type:"modified",payload:{oldIndex:G,newIndex:G,type:"modified",doc:D}})}),_}))}function ff(a,e,r){return Gm(a,r).pipe((0,mn.S)((o,u)=>function BI(a,e,r){return e.forEach(o=>{r.indexOf(o.type)>-1&&(a=function GI(a,e){switch(e.type){case"added":if(!a[e.newIndex]||!a[e.newIndex].doc.ref.isEqual(e.doc.ref))return $m(a,e.newIndex,0,e);break;case"modified":if(null==a[e.oldIndex]||a[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const r=a.slice();return r.splice(e.oldIndex,1),r.splice(e.newIndex,0,e),r}return $m(a,e.newIndex,1,e)}break;case"removed":if(a[e.oldIndex]&&a[e.oldIndex].doc.ref.isEqual(e.doc.ref))return $m(a,e.oldIndex,1)}return a}(a,o))}),a}(o,u.map(f=>f.payload),e),[]),(0,ze.F)(),(0,Yt.T)(o=>o.map(u=>({type:u.type,payload:u}))))}function $m(a,e,r,...o){const u=a.slice();return u.splice(e,r,...o),u}function WE(a){return(!a||0===a.length)&&(a=["added","removed","modified"]),a}class $I{constructor(e,r,o){(0,x.A)(this,"ref",void 0),(0,x.A)(this,"query",void 0),(0,x.A)(this,"afs",void 0),this.ref=e,this.query=r,this.afs=o}stateChanges(e){let r=Gm(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(r=r.pipe((0,Yt.T)(o=>o.filter(u=>e.indexOf(u.type)>-1)))),r.pipe((0,Er.Z)(void 0),cn(),(0,Bt.p)(([o,u])=>u.length>0||!o),(0,Yt.T)(([,o])=>o),Vn)}auditTrail(e){return this.stateChanges(e).pipe((0,mn.S)((r,o)=>[...r,...o],[]))}snapshotChanges(e){const r=WE(e);return ff(this.query,r,this.afs.schedulers.outsideAngular).pipe(Vn)}valueChanges(e={}){return Vd(this.query,this.afs.schedulers.outsideAngular).pipe((0,Yt.T)(r=>r.payload.docs.map(o=>e.idField?{...o.data(),[e.idField]:o.id}:o.data())),Vn)}get(e){return(0,hn.H)(this.query.get(e)).pipe(Vn)}add(e){return this.ref.add(e)}doc(e){return new YE(this.ref.doc(e),this.afs)}}class HT{constructor(e,r){(0,x.A)(this,"query",void 0),(0,x.A)(this,"afs",void 0),this.query=e,this.afs=r}stateChanges(e){return e&&0!==e.length?Gm(this.query,this.afs.schedulers.outsideAngular).pipe((0,Yt.T)(r=>r.filter(o=>e.indexOf(o.type)>-1)),(0,Bt.p)(r=>r.length>0),Vn):Gm(this.query,this.afs.schedulers.outsideAngular).pipe(Vn)}auditTrail(e){return this.stateChanges(e).pipe((0,mn.S)((r,o)=>[...r,...o],[]))}snapshotChanges(e){const r=WE(e);return ff(this.query,r,this.afs.schedulers.outsideAngular).pipe(Vn)}valueChanges(e={}){return Vd(this.query,this.afs.schedulers.outsideAngular).pipe((0,Yt.T)(o=>o.payload.docs.map(u=>e.idField?{[e.idField]:u.id,...u.data()}:u.data())),Vn)}get(e){return(0,hn.H)(this.query.get(e)).pipe(Vn)}}const KI=new I.nKC("angularfire2.enableFirestorePersistence"),pf=new I.nKC("angularfire2.firestore.persistenceSettings"),YT=new I.nKC("angularfire2.firestore.settings"),WT=new I.nKC("angularfire2.firestore.use-emulator");function jI(a,e=r=>r){return{query:e(a),ref:a}}let Km=(()=>{var a;class e{constructor(o,u,f,_,D,G,ne,ve,Ve,at,Lt,qt,yn,fn,zn,dr,hr){(0,x.A)(this,"schedulers",void 0),(0,x.A)(this,"firestore",void 0),(0,x.A)(this,"persistenceEnabled$",void 0),this.schedulers=ne;const ur=$e(o,G,u),xr=Ve;at&&bt(ur,G,Lt,yn,fn,zn,qt,dr),[this.firestore,this.persistenceEnabled$]=Te(`${ur.name}.firestore`,"AngularFirestore",ur.name,()=>{const wr=G.runOutsideAngular(()=>ur.firestore());if(_&&wr.settings(_),xr&&wr.useEmulator(...xr),f&&!(0,Ot.Vy)(D)){const Wt=()=>{try{return(0,hn.H)(wr.enablePersistence(ve||void 0).then(()=>!0,()=>!1))}catch(Tt){return typeof console<"u"&&console.warn(Tt),(0,an.of)(!1)}};return[wr,G.runOutsideAngular(Wt)]}return[wr,(0,an.of)(!1)]},[_,xr,f])}collection(o,u){let f;f="string"==typeof o?this.firestore.collection(o):o;const{ref:_,query:D}=jI(f,u),G=this.schedulers.ngZone.run(()=>_);return new $I(G,D,this)}collectionGroup(o,u){const f=u||(D=>D),_=this.firestore.collectionGroup(o);return new HT(f(_),this)}doc(o){let u;u="string"==typeof o?this.firestore.doc(o):o;const f=this.schedulers.ngZone.run(()=>u);return new YE(f,this)}createId(){return this.firestore.collection("_").doc().id}}return a=e,(0,x.A)(e,"\u0275fac",function(o){return new(o||a)(I.KVO(Me),I.KVO(Fe,8),I.KVO(KI,8),I.KVO(YT,8),I.KVO(I.Agw),I.KVO(I.SKi),I.KVO(kt),I.KVO(pf,8),I.KVO(WT,8),I.KVO(Gn,8),I.KVO(Kn,8),I.KVO(xn,8),I.KVO(Zn,8),I.KVO(Hn,8),I.KVO(vr,8),I.KVO(ct,8),I.KVO(fe,8))}),(0,x.A)(e,"\u0275prov",I.jDH({token:a,factory:a.\u0275fac,providedIn:"any"})),e})(),HI=(()=>{var a;class e{constructor(){bn.A.registerVersion("angularfire",on.full,"fst-compat")}static enablePersistence(o){return{ngModule:e,providers:[{provide:KI,useValue:!0},{provide:pf,useValue:o}]}}}return a=e,(0,x.A)(e,"\u0275fac",function(o){return new(o||a)}),(0,x.A)(e,"\u0275mod",I.$C({type:a})),(0,x.A)(e,"\u0275inj",I.G2t({providers:[Km]})),e})();const zE="firebasestorage.googleapis.com",WI="storageBucket";class mo extends Ee.g{constructor(e,r,o=0){super(XE(e),`Firebase Storage: ${r} (${XE(e)})`),this.status_=o,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,mo.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return XE(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var fo=function(a){return a.UNKNOWN="unknown",a.OBJECT_NOT_FOUND="object-not-found",a.BUCKET_NOT_FOUND="bucket-not-found",a.PROJECT_NOT_FOUND="project-not-found",a.QUOTA_EXCEEDED="quota-exceeded",a.UNAUTHENTICATED="unauthenticated",a.UNAUTHORIZED="unauthorized",a.UNAUTHORIZED_APP="unauthorized-app",a.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",a.INVALID_CHECKSUM="invalid-checksum",a.CANCELED="canceled",a.INVALID_EVENT_NAME="invalid-event-name",a.INVALID_URL="invalid-url",a.INVALID_DEFAULT_BUCKET="invalid-default-bucket",a.NO_DEFAULT_BUCKET="no-default-bucket",a.CANNOT_SLICE_BLOB="cannot-slice-blob",a.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",a.NO_DOWNLOAD_URL="no-download-url",a.INVALID_ARGUMENT="invalid-argument",a.INVALID_ARGUMENT_COUNT="invalid-argument-count",a.APP_DELETED="app-deleted",a.INVALID_ROOT_OPERATION="invalid-root-operation",a.INVALID_FORMAT="invalid-format",a.INTERNAL_ERROR="internal-error",a.UNSUPPORTED_ENVIRONMENT="unsupported-environment",a}(fo||{});function XE(a){return"storage/"+a}function JE(){return new mo(fo.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function ZE(){return new mo(fo.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function XI(){return new mo(fo.CANCELED,"User canceled the upload/download.")}function JI(){return new mo(fo.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Bd(a){return new mo(fo.INVALID_ARGUMENT,a)}function ZI(){return new mo(fo.APP_DELETED,"The Firebase app was deleted.")}function tv(a){return new mo(fo.INVALID_ROOT_OPERATION,"The operation '"+a+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function gf(a,e){return new mo(fo.INVALID_FORMAT,"String does not match format '"+a+"': "+e)}function mf(a){throw new mo(fo.INTERNAL_ERROR,"Internal error: "+a)}class is{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let o;try{o=is.makeFromUrl(e,r)}catch{return new is(e,"")}if(""===o.path)return o;throw function Hm(a){return new mo(fo.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+a+"'.")}(e)}static makeFromUrl(e,r){let o=null;const u="([A-Za-z0-9.\\-_]+)",D=new RegExp("^gs://"+u+"(/(.*))?$","i");function ne(ur){ur.path_=decodeURIComponent(ur.path)}const Ve=r.replace(/[.]/g,"\\."),hr=[{regex:D,indices:{bucket:1,path:3},postModify:function f(ur){"/"===ur.path.charAt(ur.path.length-1)&&(ur.path_=ur.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Ve}/v[A-Za-z0-9_]+/b/${u}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:ne},{regex:new RegExp(`^https?://${r===zE?"(?:storage.googleapis.com|storage.cloud.google.com)":r}/${u}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:ne}];for(let ur=0;ur<hr.length;ur++){const xr=hr[ur],wr=xr.regex.exec(e);if(wr){let Tt=wr[xr.indices.path];Tt||(Tt=""),o=new is(wr[xr.indices.bucket],Tt),xr.postModify(o);break}}if(null==o)throw function Xp(a){return new mo(fo.INVALID_URL,"Invalid URL '"+a+"'.")}(e);return o}}class JT{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function _f(a){return"string"==typeof a||a instanceof String}function eC(a){return nv()&&a instanceof Blob}function nv(){return typeof Blob<"u"}function rv(a,e,r,o){if(o<e)throw Bd(`Invalid value for '${a}'. Expected ${e} or greater.`);if(o>r)throw Bd(`Invalid value for '${a}'. Expected ${r} or less.`)}function aa(a,e,r){let o=e;return null==r&&(o=`https://${e}`),`${r}://${o}/v0${a}`}function Ef(a){const e=encodeURIComponent;let r="?";for(const o in a)a.hasOwnProperty(o)&&(r=r+(e(o)+"=")+e(a[o])+"&");return r=r.slice(0,-1),r}var Pc=function(a){return a[a.NO_ERROR=0]="NO_ERROR",a[a.NETWORK_ERROR=1]="NETWORK_ERROR",a[a.ABORT=2]="ABORT",a}(Pc||{});function Ym(a,e){const r=a>=500&&a<600,u=-1!==[408,429].indexOf(a),f=-1!==e.indexOf(a);return r||u||f}class rA{constructor(e,r,o,u,f,_,D,G,ne,ve,Ve,at=!0){this.url_=e,this.method_=r,this.headers_=o,this.body_=u,this.successCodes_=f,this.additionalRetryCodes_=_,this.callback_=D,this.errorCallback_=G,this.timeout_=ne,this.progressCallback_=ve,this.connectionFactory_=Ve,this.retry=at,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Lt,qt)=>{this.resolve_=Lt,this.reject_=qt,this.start_()})}start_(){const r=(o,u)=>{const f=this.resolve_,_=this.reject_,D=u.connection;if(u.wasSuccessCode)try{const G=this.callback_(D,D.getResponse());!function eA(a){return void 0!==a}(G)?f():f(G)}catch(G){_(G)}else if(null!==D){const G=JE();G.serverResponse=D.getErrorText(),_(this.errorCallback_?this.errorCallback_(D,G):G)}else _(u.canceled?this.appDelete_?ZI():XI():ZE())};this.canceled_?r(0,new Ku(!1,null,!0)):this.backoffId_=function QT(a,e,r){let o=1,u=null,f=null,_=!1,D=0;function G(){return 2===D}let ne=!1;function ve(...fn){ne||(ne=!0,e.apply(null,fn))}function Ve(fn){u=setTimeout(()=>{u=null,a(Lt,G())},fn)}function at(){f&&clearTimeout(f)}function Lt(fn,...zn){if(ne)return void at();if(fn)return at(),void ve.call(null,fn,...zn);if(G()||_)return at(),void ve.call(null,fn,...zn);let hr;o<64&&(o*=2),1===D?(D=2,hr=0):hr=1e3*(o+Math.random()),Ve(hr)}let qt=!1;function yn(fn){qt||(qt=!0,at(),!ne&&(null!==u?(fn||(D=2),clearTimeout(u),Ve(0)):fn||(D=1)))}return Ve(0),f=setTimeout(()=>{_=!0,yn(!0)},r),yn}((o,u)=>{if(u)return void o(!1,new Ku(!1,null,!0));const f=this.connectionFactory_();this.pendingConnection_=f;const _=D=>{null!==this.progressCallback_&&this.progressCallback_(D.loaded,D.lengthComputable?D.total:-1)};null!==this.progressCallback_&&f.addUploadProgressListener(_),f.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&f.removeUploadProgressListener(_),this.pendingConnection_=null;const D=f.getErrorCode()===Pc.NO_ERROR,G=f.getStatus();if(!D||Ym(G,this.additionalRetryCodes_)&&this.retry){const ve=f.getErrorCode()===Pc.ABORT;return void o(!1,new Ku(!1,null,ve))}const ne=-1!==this.successCodes_.indexOf(G);o(!0,new Ku(ne,f))})},r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function ZT(a){a(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Ku{constructor(e,r,o){this.wasSuccessCode=e,this.connection=r,this.canceled=!!o}}function nC(...a){const e=function lA(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const r=new e;for(let o=0;o<a.length;o++)r.append(a[o]);return r.getBlob()}if(nv())return new Blob(a);throw new mo(fo.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Us={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class iv{constructor(e,r){this.data=e,this.contentType=r||null}}function ov(a,e){switch(a){case Us.RAW:return new iv(sv(e));case Us.BASE64:case Us.BASE64URL:return new iv(iC(a,e));case Us.DATA_URL:return new iv(function vf(a){const e=new Lc(a);return e.base64?iC(Us.BASE64,e.rest):function cA(a){let e;try{e=decodeURIComponent(a)}catch{throw gf(Us.DATA_URL,"Malformed data URL.")}return sv(e)}(e.rest)}(e),function Jp(a){return new Lc(a).contentType}(e))}throw JE()}function sv(a){const e=[];for(let r=0;r<a.length;r++){let o=a.charCodeAt(r);o<=127?e.push(o):o<=2047?e.push(192|o>>6,128|63&o):55296==(64512&o)?r<a.length-1&&56320==(64512&a.charCodeAt(r+1))?(o=65536|(1023&o)<<10|1023&a.charCodeAt(++r),e.push(240|o>>18,128|o>>12&63,128|o>>6&63,128|63&o)):e.push(239,191,189):56320==(64512&o)?e.push(239,191,189):e.push(224|o>>12,128|o>>6&63,128|63&o)}return new Uint8Array(e)}function iC(a,e){switch(a){case Us.BASE64:{const u=-1!==e.indexOf("-"),f=-1!==e.indexOf("_");if(u||f)throw gf(a,"Invalid character '"+(u?"-":"_")+"' found: is it base64url encoded?");break}case Us.BASE64URL:{const u=-1!==e.indexOf("+"),f=-1!==e.indexOf("/");if(u||f)throw gf(a,"Invalid character '"+(u?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let r;try{r=function rC(a){if(typeof atob>"u")throw function XT(a){return new mo(fo.UNSUPPORTED_ENVIRONMENT,`${a} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(a)}(e)}catch(u){throw u.message.includes("polyfill")?u:gf(a,"Invalid character found")}const o=new Uint8Array(r.length);for(let u=0;u<r.length;u++)o[u]=r.charCodeAt(u);return o}class Lc{constructor(e){this.base64=!1,this.contentType=null;const r=e.match(/^data:([^,]+)?,/);if(null===r)throw gf(Us.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const o=r[1]||null;null!=o&&(this.base64=function FR(a,e){return a.length>=e.length&&a.substring(a.length-e.length)===e}(o,";base64"),this.contentType=this.base64?o.substring(0,o.length-7):o),this.rest=e.substring(e.indexOf(",")+1)}}class Ll{constructor(e,r){let o=0,u="";eC(e)?(this.data_=e,o=e.size,u=e.type):e instanceof ArrayBuffer?(r?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),o=this.data_.length):e instanceof Uint8Array&&(r?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),o=e.length),this.size_=o,this.type_=u}size(){return this.size_}type(){return this.type_}slice(e,r){if(eC(this.data_)){const u=function uA(a,e,r){return a.webkitSlice?a.webkitSlice(e,r):a.mozSlice?a.mozSlice(e,r):a.slice?a.slice(e,r):null}(this.data_,e,r);return null===u?null:new Ll(u)}{const o=new Uint8Array(this.data_.buffer,e,r-e);return new Ll(o,!0)}}static getBlob(...e){if(nv()){const r=e.map(o=>o instanceof Ll?o.data_:o);return new Ll(nC.apply(null,r))}{const r=e.map(_=>_f(_)?ov(Us.RAW,_).data:_.data_);let o=0;r.forEach(_=>{o+=_.byteLength});const u=new Uint8Array(o);let f=0;return r.forEach(_=>{for(let D=0;D<_.length;D++)u[f++]=_[D]}),new Ll(u,!0)}}uploadData(){return this.data_}}function Qp(a){let e;try{e=JSON.parse(a)}catch{return null}return function nA(a){return"object"==typeof a&&!Array.isArray(a)}(e)?e:null}function sC(a){const e=a.lastIndexOf("/",a.length-2);return-1===e?a:a.slice(e+1)}function aC(a,e){return e}class Ra{constructor(e,r,o,u){this.server=e,this.local=r||e,this.writable=!!o,this.xform=u||aC}}let Wm=null;function Gd(){if(Wm)return Wm;const a=[];a.push(new Ra("bucket")),a.push(new Ra("generation")),a.push(new Ra("metageneration")),a.push(new Ra("name","fullPath",!0));const r=new Ra("name");r.xform=function e(f,_){return function yf(a){return!_f(a)||a.length<2?a:sC(a)}(_)},a.push(r);const u=new Ra("size");return u.xform=function o(f,_){return void 0!==_?Number(_):_},a.push(u),a.push(new Ra("timeCreated")),a.push(new Ra("updated")),a.push(new Ra("md5Hash",null,!0)),a.push(new Ra("cacheControl",null,!0)),a.push(new Ra("contentDisposition",null,!0)),a.push(new Ra("contentEncoding",null,!0)),a.push(new Ra("contentLanguage",null,!0)),a.push(new Ra("contentType",null,!0)),a.push(new Ra("metadata","customMetadata",!0)),Wm=a,Wm}function lC(a,e,r){const o=Qp(e);return null===o?null:function fA(a,e,r){const o={type:"file"},u=r.length;for(let f=0;f<u;f++){const _=r[f];o[_.local]=_.xform(o,e[_.server])}return function hA(a,e){Object.defineProperty(a,"ref",{get:function r(){const f=new is(a.bucket,a.fullPath);return e._makeStorageReference(f)}})}(o,a),o}(a,o,r)}function ou(a,e){const r={},o=e.length;for(let u=0;u<o;u++){const f=e[u];f.writable&&(r[f.server]=a[f.local])}return JSON.stringify(r)}const Zp="prefixes",lv="items";class su{constructor(e,r,o,u){this.url=e,this.method=r,this.handler=o,this.timeout=u,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function hl(a){if(!a)throw JE()}function tg(a,e){return function r(o,u){const f=lC(a,u,e);return hl(null!==f),f}}function rg(a){return function e(r,o){let u;return u=401===r.getStatus()?r.getErrorText().includes("Firebase App Check token is invalid")?function qp(){return new mo(fo.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function QE(){return new mo(fo.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===r.getStatus()?function qT(a){return new mo(fo.QUOTA_EXCEEDED,"Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(a.bucket):403===r.getStatus()?function qI(a){return new mo(fo.UNAUTHORIZED,"User does not have permission to access '"+a+"'.")}(a.path):o,u.status=r.getStatus(),u.serverResponse=o.serverResponse,u}}function kc(a){const e=rg(a);return function r(o,u){let f=e(o,u);return 404===o.getStatus()&&(f=function zT(a){return new mo(fo.OBJECT_NOT_FOUND,"Object '"+a+"' does not exist.")}(a.path)),f.serverResponse=u.serverResponse,f}}function uv(a,e,r){const u=aa(e.fullServerUrl(),a.host,a._protocol),_=a.maxOperationRetryTime,D=new su(u,"GET",tg(a,r),_);return D.errorHandler=kc(e),D}function uC(a,e,r,o,u){const f={};f.prefix=e.isRoot?"":e.path+"/",r&&r.length>0&&(f.delimiter=r),o&&(f.pageToken=o),u&&(f.maxResults=u);const D=aa(e.bucketOnlyServerUrl(),a.host,a._protocol),ne=a.maxOperationRetryTime,ve=new su(D,"GET",function xc(a,e){return function r(o,u){const f=function pA(a,e,r){const o=Qp(r);return null===o?null:function eg(a,e,r){const o={prefixes:[],items:[],nextPageToken:r.nextPageToken};if(r[Zp])for(const u of r[Zp]){const f=u.replace(/\/$/,""),_=a._makeStorageReference(new is(e,f));o.prefixes.push(_)}if(r[lv])for(const u of r[lv]){const f=a._makeStorageReference(new is(e,u.name));o.items.push(f)}return o}(a,e,o)}(a,e,u);return hl(null!==f),f}}(a,e.bucket),ne);return ve.urlParams=f,ve.errorHandler=rg(e),ve}function dC(a,e,r){const o=Object.assign({},r);return o.fullPath=a.path,o.size=e.size(),o.contentType||(o.contentType=function _A(a,e){return a&&a.contentType||e&&e.type()||"application/octet-stream"}(null,e)),o}class zm{constructor(e,r,o,u){this.current=e,this.total=r,this.finalized=!!o,this.metadata=u||null}}function cv(a,e){let r=null;try{r=a.getResponseHeader("X-Goog-Upload-Status")}catch{hl(!1)}return hl(!!r&&-1!==(e||["active"]).indexOf(r)),r}const pC={STATE_CHANGED:"state_changed"},Fs={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function og(a){switch(a){case"running":case"pausing":case"canceling":return Fs.RUNNING;case"paused":return Fs.PAUSED;case"success":return Fs.SUCCESS;case"canceled":return Fs.CANCELED;default:return Fs.ERROR}}class gC{constructor(e,r,o){if(function tA(a){return"function"==typeof a}(e)||null!=r||null!=o)this.next=e,this.error=null!=r?r:void 0,this.complete=null!=o?o:void 0;else{const f=e;this.next=f.next,this.error=f.error,this.complete=f.complete}}}function If(a){return(...e)=>{Promise.resolve().then(()=>a(...e))}}let dv=null;class hv{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Pc.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Pc.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Pc.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,r,o,u){if(this.sent_)throw mf("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(r,e,!0),void 0!==u)for(const f in u)u.hasOwnProperty(f)&&this.xhr_.setRequestHeader(f,u[f].toString());return void 0!==o?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw mf("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw mf("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw mf("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw mf("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class mC extends hv{initXhr(){this.xhr_.responseType="text"}}function fl(){return dv?dv():new mC}class Xm{constructor(e,r,o=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=r,this._metadata=o,this._mappings=Gd(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=u=>{if(this._request=void 0,this._chunkMultiplier=1,u._codeEquals(fo.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const f=this.isExponentialBackoffExpired();if(Ym(u.status,[])){if(!f)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();u=ZE()}this._error=u,this._transition("error")}},this._metadataErrorHandler=u=>{this._request=void 0,u._codeEquals(fo.CANCELED)?this.completeTransitions_():(this._error=u,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((u,f)=>{this._resolve=u,this._reject=f,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return r=>this._updateProgress(e+r)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([r,o])=>{switch(this._state){case"running":e(r,o);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,r)=>{const o=function EA(a,e,r,o,u){const f=e.bucketOnlyServerUrl(),_=dC(e,o,u),D={name:_.fullPath},G=aa(f,a.host,a._protocol),ve={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${o.size()}`,"X-Goog-Upload-Header-Content-Type":_.contentType,"Content-Type":"application/json; charset=utf-8"},Ve=ou(_,r),qt=new su(G,"POST",function Lt(yn){let fn;cv(yn);try{fn=yn.getResponseHeader("X-Goog-Upload-URL")}catch{hl(!1)}return hl(_f(fn)),fn},a.maxUploadRetryTime);return qt.urlParams=D,qt.headers=ve,qt.body=Ve,qt.errorHandler=rg(e),qt}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),u=this._ref.storage._makeRequest(o,fl,e,r);this._request=u,u.getPromise().then(f=>{this._request=void 0,this._uploadUrl=f,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((r,o)=>{const u=function qm(a,e,r,o){const G=new su(r,"POST",function f(ne){const ve=cv(ne,["active","final"]);let Ve=null;try{Ve=ne.getResponseHeader("X-Goog-Upload-Size-Received")}catch{hl(!1)}Ve||hl(!1);const at=Number(Ve);return hl(!isNaN(at)),new zm(at,o.size(),"final"===ve)},a.maxUploadRetryTime);return G.headers={"X-Goog-Upload-Command":"query"},G.errorHandler=rg(e),G}(this._ref.storage,this._ref._location,e,this._blob),f=this._ref.storage._makeRequest(u,fl,r,o);this._request=f,f.getPromise().then(_=>{this._request=void 0,this._updateProgress(_.current),this._needToFetchStatus=!1,_.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,r=new zm(this._transferred,this._blob.size()),o=this._uploadUrl;this._resolveToken((u,f)=>{let _;try{_=function vA(a,e,r,o,u,f,_,D){const G=new zm(0,0);if(_?(G.current=_.current,G.total=_.total):(G.current=0,G.total=o.size()),o.size()!==G.total)throw function QI(){return new mo(fo.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const ne=G.total-G.current;let ve=ne;u>0&&(ve=Math.min(ve,u));const Ve=G.current;let Lt="";Lt=0===ve?"finalize":ne===ve?"upload, finalize":"upload";const qt={"X-Goog-Upload-Command":Lt,"X-Goog-Upload-Offset":`${G.current}`},yn=o.slice(Ve,Ve+ve);if(null===yn)throw JI();const hr=new su(r,"POST",function fn(ur,xr){const wr=cv(ur,["active","final"]),Wt=G.current+ve,Tt=o.size();let $t;return $t="final"===wr?tg(e,f)(ur,xr):null,new zm(Wt,Tt,"final"===wr,$t)},e.maxUploadRetryTime);return hr.headers=qt,hr.body=yn.uploadData(),hr.progressCallback=D||null,hr.errorHandler=rg(a),hr}(this._ref._location,this._ref.storage,o,this._blob,e,this._mappings,r,this._makeProgressCallback())}catch(G){return this._error=G,void this._transition("error")}const D=this._ref.storage._makeRequest(_,fl,u,f,!1);this._request=D,D.getPromise().then(G=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(G.current),G.finalized?(this._metadata=G.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,r)=>{const o=uv(this._ref.storage,this._ref._location,this._mappings),u=this._ref.storage._makeRequest(o,fl,e,r);this._request=u,u.getPromise().then(f=>{this._request=void 0,this._metadata=f,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,r)=>{const o=function hC(a,e,r,o,u){const f=e.bucketOnlyServerUrl(),_={"X-Goog-Upload-Protocol":"multipart"},G=function D(){let hr="";for(let ur=0;ur<2;ur++)hr+=Math.random().toString().slice(2);return hr}();_["Content-Type"]="multipart/related; boundary="+G;const ne=dC(e,o,u),ve=ou(ne,r),Lt=Ll.getBlob("--"+G+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+ve+"\r\n--"+G+"\r\nContent-Type: "+ne.contentType+"\r\n\r\n",o,"\r\n--"+G+"--");if(null===Lt)throw JI();const qt={name:ne.fullPath},yn=aa(f,a.host,a._protocol),zn=a.maxUploadRetryTime,dr=new su(yn,"POST",tg(a,r),zn);return dr.urlParams=qt,dr.headers=_,dr.body=Lt.uploadData(),dr.errorHandler=rg(e),dr}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),u=this._ref.storage._makeRequest(o,fl,e,r);this._request=u,u.getPromise().then(f=>{this._request=void 0,this._metadata=f,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const r=this._transferred;this._transferred=e,this._transferred!==r&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const r="paused"===this._state;this._state=e,r&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=XI(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=og(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,r,o,u){const f=new gC(r||void 0,o||void 0,u||void 0);return this._addObserver(f),()=>{this._removeObserver(f)}}then(e,r){return this._promise.then(e,r)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const r=this._observers.indexOf(e);-1!==r&&this._observers.splice(r,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(r=>{this._notifyObserver(r)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(og(this._state)){case Fs.SUCCESS:If(this._resolve.bind(null,this.snapshot))();break;case Fs.CANCELED:case Fs.ERROR:If(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(og(this._state)){case Fs.RUNNING:case Fs.PAUSED:e.next&&If(e.next.bind(e,this.snapshot))();break;case Fs.SUCCESS:e.complete&&If(e.complete.bind(e))();break;default:e.error&&If(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class Uc{constructor(e,r){this._service=e,this._location=r instanceof is?r:is.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new Uc(e,r)}get root(){const e=new is(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return sC(this._location.path)}get storage(){return this._service}get parent(){const e=function dA(a){if(0===a.length)return null;const e=a.lastIndexOf("/");return-1===e?"":a.slice(0,e)}(this._location.path);if(null===e)return null;const r=new is(this._location.bucket,e);return new Uc(this._service,r)}_throwIfRoot(e){if(""===this._location.path)throw tv(e)}}function mv(a,e,r){return sg.apply(this,arguments)}function sg(){return(sg=(0,ce.A)(function*(a,e,r){const u=yield Jm(a,{pageToken:r});e.prefixes.push(...u.prefixes),e.items.push(...u.items),null!=u.nextPageToken&&(yield mv(a,e,u.nextPageToken))})).apply(this,arguments)}function Jm(a,e){null!=e&&"number"==typeof e.maxResults&&rv("options.maxResults",1,1e3,e.maxResults);const r=e||{},o=uC(a.storage,a._location,"/",r.pageToken,r.maxResults);return a.storage.makeRequestWithTokens(o,fl)}function yC(a){a._throwIfRoot("getDownloadURL");const e=function ig(a,e,r){const u=aa(e.fullServerUrl(),a.host,a._protocol),_=a.maxOperationRetryTime,D=new su(u,"GET",function ng(a,e){return function r(o,u){const f=lC(a,u,e);return hl(null!==f),function av(a,e,r,o){const u=Qp(e);if(null===u||!_f(u.downloadTokens))return null;const f=u.downloadTokens;if(0===f.length)return null;const _=encodeURIComponent;return f.split(",").map(ne=>{const Ve=a.fullPath;return aa("/b/"+_(a.bucket)+"/o/"+_(Ve),r,o)+Ef({alt:"media",token:ne})})[0]}(f,u,a.host,a._protocol)}}(a,r),_);return D.errorHandler=kc(e),D}(a.storage,a._location,Gd());return a.storage.makeRequestWithTokens(e,fl).then(r=>{if(null===r)throw function ev(){return new mo(fo.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return r})}function _v(a,e){const r=function oC(a,e){const r=e.split("/").filter(o=>o.length>0).join("/");return 0===a.length?r:a+"/"+r}(a._location.path,e),o=new is(a._location.bucket,r);return new Uc(a.storage,o)}function vv(a,e){if(a instanceof SC){const r=a;if(null==r._bucket)throw function UR(){return new mo(fo.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+WI+"' property when initializing the app?")}();const o=new Uc(r,r._bucket);return null!=e?vv(o,e):o}return void 0!==e?_v(a,e):a}function IC(a,e){if(e&&function DA(a){return/^[A-Za-z]+:\/\//.test(a)}(e)){if(a instanceof SC)return function Ev(a,e){return new Uc(a,e)}(a,e);throw Bd("To use ref(service, url), the first argument must be a Storage instance.")}return vv(a,e)}function Vs(a,e){const r=null==e?void 0:e[WI];return null==r?null:is.makeFromBucketSpec(r,a)}class SC{constructor(e,r,o,u,f){this.app=e,this._authProvider=r,this._appCheckProvider=o,this._url=u,this._firebaseVersion=f,this._bucket=null,this._host=zE,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=u?is.makeFromBucketSpec(u,this._host):Vs(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?is.makeFromBucketSpec(this._url,e):Vs(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){rv("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){rv("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,ce.A)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const r=e._authProvider.getImmediate({optional:!0});if(r){const o=yield r.getToken();if(null!==o)return o.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,ce.A)(function*(){const r=e._appCheckProvider.getImmediate({optional:!0});return r?(yield r.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Uc(this,e)}_makeRequest(e,r,o,u,f=!0){if(this._deleted)return new JT(ZI());{const _=function aA(a,e,r,o,u,f,_=!0){const D=Ef(a.urlParams),G=a.url+D,ne=Object.assign({},a.headers);return function oA(a,e){e&&(a["X-Firebase-GMPID"]=e)}(ne,e),function tC(a,e){null!==e&&e.length>0&&(a.Authorization="Firebase "+e)}(ne,r),function iA(a,e){a["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(ne,f),function sA(a,e){null!==e&&(a["X-Firebase-AppCheck"]=e)}(ne,o),new rA(G,a.method,ne,a.body,a.successCodes,a.additionalRetryCodes,a.handler,a.errorHandler,a.timeout,a.progressCallback,u,_)}(e,this._appId,o,u,r,this._firebaseVersion,f);return this._requests.add(_),_.getPromise().then(()=>this._requests.delete(_),()=>this._requests.delete(_)),_}}makeRequestWithTokens(e,r){var o=this;return(0,ce.A)(function*(){const[u,f]=yield Promise.all([o._getAuthToken(),o._getAppCheckToken()]);return o._makeRequest(e,r,u,f).getPromise()})()}}const wA="@firebase/storage";function MA(a,e){return IC(a=(0,Ee.Ku)(a),e)}function wC(a,{instanceIdentifier:e}){const r=a.getProvider("app").getImmediate(),o=a.getProvider("auth-internal"),u=a.getProvider("app-check-internal");return new SC(r,o,u,e,j.SDK_VERSION)}!function KR(){(0,j._registerComponent)(new yt.uA("storage",wC,"PUBLIC").setMultipleInstances(!0)),(0,j.registerVersion)(wA,"0.13.2",""),(0,j.registerVersion)(wA,"0.13.2","esm2017")}();class Cv{constructor(e,r,o){this._delegate=e,this.task=r,this.ref=o}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class xA{constructor(e,r){this._delegate=e,this._ref=r,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Cv(this._delegate.snapshot,this,this._ref)}then(e,r){return this._delegate.then(o=>{if(e)return e(new Cv(o,this,this._ref))},r)}on(e,r,o,u){let f;return r&&(f="function"==typeof r?_=>r(new Cv(_,this,this._ref)):{next:r.next?_=>r.next(new Cv(_,this,this._ref)):void 0,complete:r.complete||void 0,error:r.error||void 0}),this._delegate.on(e,f,o||void 0,u||void 0)}}class kA{constructor(e,r){this._delegate=e,this._service=r}get prefixes(){return this._delegate.prefixes.map(e=>new Fc(e,this._service))}get items(){return this._delegate.items.map(e=>new Fc(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Fc{constructor(e,r){this._delegate=e,this.storage=r}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const r=function $R(a,e){return _v(a,e)}(this._delegate,e);return new Fc(r,this.storage)}get root(){return new Fc(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new Fc(e,this.storage)}put(e,r){return this._throwIfRoot("put"),new xA(function AC(a,e,r){return function SA(a,e,r){return a._throwIfRoot("uploadBytesResumable"),new Xm(a,new Ll(e),r)}(a=(0,Ee.Ku)(a),e,r)}(this._delegate,e,r),this)}putString(e,r=Us.RAW,o){this._throwIfRoot("putString");const u=ov(r,e),f=Object.assign({},o);return null==f.contentType&&null!=u.contentType&&(f.contentType=u.contentType),new xA(new Xm(this._delegate,new Ll(u.data,!0),f),this)}listAll(){return function VR(a){return function AA(a){const e={prefixes:[],items:[]};return mv(a,e).then(()=>e)}(a=(0,Ee.Ku)(a))}(this._delegate).then(e=>new kA(e,this.storage))}list(e){return function NA(a,e){return Jm(a=(0,Ee.Ku)(a),e)}(this._delegate,e||void 0).then(r=>new kA(r,this.storage))}getMetadata(){return function RC(a){return function EC(a){a._throwIfRoot("getMetadata");const e=uv(a.storage,a._location,Gd());return a.storage.makeRequestWithTokens(e,fl)}(a=(0,Ee.Ku)(a))}(this._delegate)}updateMetadata(e){return function DC(a,e){return function vC(a,e){a._throwIfRoot("updateMetadata");const r=function gA(a,e,r,o){const f=aa(e.fullServerUrl(),a.host,a._protocol),D=ou(r,o),ne=a.maxOperationRetryTime,ve=new su(f,"PATCH",tg(a,o),ne);return ve.headers={"Content-Type":"application/json; charset=utf-8"},ve.body=D,ve.errorHandler=kc(e),ve}(a.storage,a._location,e,Gd());return a.storage.makeRequestWithTokens(r,fl)}(a=(0,Ee.Ku)(a),e)}(this._delegate,e)}getDownloadURL(){return function BR(a){return yC(a=(0,Ee.Ku)(a))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function GR(a){return function RA(a){a._throwIfRoot("deleteObject");const e=function mA(a,e){const o=aa(e.fullServerUrl(),a.host,a._protocol),D=new su(o,"DELETE",function _(G,ne){},a.maxOperationRetryTime);return D.successCodes=[200,204],D.errorHandler=kc(e),D}(a.storage,a._location);return a.storage.makeRequestWithTokens(e,fl)}(a=(0,Ee.Ku)(a))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw tv(e)}}class UA{constructor(e,r){this.app=e,this._delegate=r}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(FA(e))throw Bd("ref() expected a child path but got a URL, use refFromURL instead.");return new Fc(MA(this._delegate,e),this)}refFromURL(e){if(!FA(e))throw Bd("refFromURL() expected a full URL but got a child path, use ref() instead.");try{is.makeFromUrl(e,this._delegate.host)}catch{throw Bd("refFromUrl() expected a valid full URL but got an invalid one.")}return new Fc(MA(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,r,o={}){!function PA(a,e,r,o={}){!function CC(a,e,r,o={}){a.host=`${e}:${r}`,a._protocol="http";const{mockUserToken:u}=o;u&&(a._overrideAuthToken="string"==typeof u?u:(0,Ee.Fy)(u,a.app.options.projectId))}(a,e,r,o)}(this._delegate,e,r,o)}}function FA(a){return/^[A-Za-z]+:\/\//.test(a)}function Cf(a,{instanceIdentifier:e}){const r=a.getProvider("app-compat").getImmediate(),o=a.getProvider("storage").getImmediate({identifier:e});return new UA(r,o)}function GA(a){const e=function BA(a){return new Xt.c(e=>{const r=_=>e.next(_);r(a.snapshot);const f=a.on("state_changed",r);return a.then(_=>{r(_),e.complete()},_=>{r(a.snapshot),(_=>{e.error(_)})(_)}),function(){f()}}).pipe(function YI(a,e=xe){return(0,_t.N)((r,o)=>{let u=null,f=null,_=null;const D=()=>{if(u){u.unsubscribe(),u=null;const ne=f;f=null,o.next(ne)}};function G(){const ne=_+a,ve=e.now();if(ve<ne)return u=this.schedule(void 0,ne-ve),void o.add(u);D()}r.subscribe((0,Dt._)(o,ne=>{f=ne,_=e.now(),u||(u=e.schedule(G,a),o.add(u))},()=>{D(),o.complete()},void 0,()=>{f=u=null}))})}(0))}(a);return{task:a,then:a.then.bind(a),catch:a.catch.bind(a),pause:a.pause.bind(a),cancel:a.cancel.bind(a),resume:a.resume.bind(a),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,Yt.T)(r=>r.bytesTransferred/r.totalBytes*100))}}function lg(a){return{getDownloadURL:()=>(0,an.of)(void 0).pipe(sn,(0,Et.n)(()=>a.getDownloadURL()),Vn),getMetadata:()=>(0,an.of)(void 0).pipe(sn,(0,Et.n)(()=>a.getMetadata()),Vn),delete:()=>(0,hn.H)(a.delete()),child:e=>lg(a.child(e)),updateMetadata:e=>(0,hn.H)(a.updateMetadata(e)),put:(e,r)=>GA(a.put(e,r)),putString:(e,r,o)=>GA(a.putString(e,r,o)),list:e=>(0,hn.H)(a.list(e)),listAll:()=>(0,hn.H)(a.listAll())}}!function ag(a){const e={TaskState:Fs,TaskEvent:pC,StringFormat:Us,Storage:UA,Reference:Fc};a.INTERNAL.registerComponent(new yt.uA("storage-compat",Cf,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),a.registerVersion("@firebase/storage-compat","0.3.12")}(bn.A);const $A=new I.nKC("angularfire2.storageBucket"),YR=new I.nKC("angularfire2.storage.maxUploadRetryTime"),KA=new I.nKC("angularfire2.storage.maxOperationRetryTime"),jA=new I.nKC("angularfire2.storage.use-emulator");let HA=(()=>{var a;class e{constructor(o,u,f,_,D,G,ne,ve,Ve,at){(0,x.A)(this,"storage",void 0);const Lt=$e(o,D,u);this.storage=Te(`${Lt.name}.storage.${f}`,"AngularFireStorage",Lt.name,()=>{const qt=D.runOutsideAngular(()=>Lt.storage(f||void 0)),yn=Ve;return yn&&qt.useEmulator(...yn),ne&&qt.setMaxUploadRetryTime(ne),ve&&qt.setMaxOperationRetryTime(ve),qt},[ne,ve])}ref(o){return lg(this.storage.ref(o))}refFromURL(o){return lg(this.storage.refFromURL(o))}upload(o,u,f){return lg(this.storage.ref(o)).put(u,f)}}return a=e,(0,x.A)(e,"\u0275fac",function(o){return new(o||a)(I.KVO(Me),I.KVO(Fe,8),I.KVO($A,8),I.KVO(I.Agw),I.KVO(I.SKi),I.KVO(kt),I.KVO(YR,8),I.KVO(KA,8),I.KVO(jA,8),I.KVO(fe,8))}),(0,x.A)(e,"\u0275prov",I.jDH({token:a,factory:a.\u0275fac,providedIn:"any"})),e})(),OC=(()=>{var a;class e{}return a=e,(0,x.A)(e,"\u0275fac",function(o){return new(o||a)}),(0,x.A)(e,"\u0275mod",I.$C({type:a})),(0,x.A)(e,"\u0275inj",I.G2t({})),e})(),YA=(()=>{var a;class e{constructor(){bn.A.registerVersion("angularfire",on.full,"gcs-compat")}}return a=e,(0,x.A)(e,"\u0275fac",function(o){return new(o||a)}),(0,x.A)(e,"\u0275mod",I.$C({type:a})),(0,x.A)(e,"\u0275inj",I.G2t({providers:[HA],imports:[OC]})),e})();var Tv=y(2687);var Av=y(1397);const bv="__angularfire_symbol__analyticsIsSupportedValue",bC="__angularfire_symbol__analyticsIsSupported";globalThis[bC]||(globalThis[bC]=(0,Tv.TT)().then(a=>globalThis[bv]=a).catch(()=>globalThis[bv]=!1));const Ao="firebase_event_origin",Kd="firebase_previous_class",t_="firebase_previous_id",pl="firebase_previous_screen",Tf="firebase_screen_class",LC="firebase_screen_id",ug="firebase_screen",cg="outlet",xC="page_path",dg="screen_class",UC="screen_name";let Ro=Math.floor(Math.random()*(2**32-1))-2**31;const jd={},Af=a=>{const e=[a[dg],a[cg]].join("#");if(jd.hasOwnProperty(e))return jd[e];{const r=Ro++;return jd[e]=r,r}},Df=new I.nKC("angularfire2.analytics.analyticsCollectionEnabled"),KC=new I.nKC("angularfire2.analytics.appVersion"),o_=new I.nKC("angularfire2.analytics.appName"),r0=new I.nKC("angularfire2.analytics.debugMode"),o0=new I.nKC("angularfire2.analytics.config"),jC="debug_mode",au="dataLayer";let Ss=(()=>{var a;class e{updateConfig(o){var u=this;return(0,ce.A)(function*(){yield u.analyticsInitialized,window.gtag("config",u.measurementId,{...o,update:!0})})()}constructor(o,u,f,_,D,G,ne,ve,Ve){if((0,x.A)(this,"measurementId",void 0),(0,x.A)(this,"analyticsInitialized",new Promise(()=>{})),(0,Ot.UE)(ne)){window[au]=window[au]||[];const Lt=(...fn)=>"config"===fn[0]&&"firebase"===fn[2].origin&&(this.measurementId=fn[1],!0),qt=fn=>{window.gtag=(...zn)=>{fn&&fn(...zn),"event"===zn[0]&&zn[2].send_to===this.measurementId&&(_&&(zn[2].app_name=_),f&&(zn[2].app_version=f)),D&&typeof console<"u"&&console.info(...zn),function(){window[au].push(arguments)}(...zn)}};window[au].some(Lt)?(this.analyticsInitialized=Promise.resolve(),qt()):this.analyticsInitialized=new Promise(fn=>{qt((...zn)=>{Lt(...zn)&&fn()})}),G&&this.updateConfig(G),D&&this.updateConfig({[jC]:1})}else this.analyticsInitialized=Promise.resolve();const at=(0,an.of)(void 0).pipe((0,rt.Q)(Ve.outsideAngular),(0,Et.n)(Tv.TT),(0,Et.n)(Lt=>Lt?ve.runOutsideAngular(()=>y.e(745).then(y.bind(y,745))):ar.w),(0,Yt.T)(()=>Te("analytics","AngularFireAnalytics",o.name,()=>{const Lt=o.analytics();return!1===u&&Lt.setAnalyticsCollectionEnabled(!1),Lt},[o,u,G,D])),st({bufferSize:1,refCount:!1}));return H(this,at,ve)}}return a=e,(0,x.A)(e,"\u0275fac",function(o){return new(o||a)(I.KVO(_e),I.KVO(Df,8),I.KVO(KC,8),I.KVO(o_,8),I.KVO(r0,8),I.KVO(o0,8),I.KVO(I.Agw),I.KVO(I.SKi),I.KVO(kt))}),(0,x.A)(e,"\u0275prov",I.jDH({token:a,factory:a.\u0275fac,providedIn:"any"})),e})(),YC=(()=>{var a;class e{constructor(o,u,f,_){if((0,x.A)(this,"initialized",void 0),(0,x.A)(this,"disposables",[]),bn.A.registerVersion("angularfire",on.full,"compat-user-tracking"),(0,Ot.Vy)(u))this.initialized=Promise.resolve();else{let D;this.initialized=_.runOutsideAngular(()=>new Promise(G=>D=G)),this.disposables=[f.authState.subscribe(G=>{o.setUserId(null==G?void 0:G.uid),D()}),f.credential.subscribe(G=>{if(G){const ne=G.user.isAnonymous?"anonymous":G.additionalUserInfo.providerId;G.additionalUserInfo.isNewUser&&o.logEvent("sign_up",{method:ne}),o.logEvent("login",{method:ne})}})]}}ngOnDestroy(){this.disposables.forEach(o=>o.unsubscribe())}}return a=e,(0,x.A)(e,"\u0275fac",function(o){return new(o||a)(I.KVO(Ss),I.KVO(I.Agw),I.KVO(Gn),I.KVO(I.SKi))}),(0,x.A)(e,"\u0275prov",I.jDH({token:a,factory:a.\u0275fac})),e})(),Mv=(()=>{var a;class e{constructor(o,u,f,_,D,G){if((0,x.A)(this,"disposable",void 0),bn.A.registerVersion("angularfire",on.full,"compat-screen-tracking"),!u||!o)return this;D.runOutsideAngular(()=>{this.disposable=((a,e,r)=>a.events.pipe((0,Bt.p)(u=>u instanceof d._d)).pipe((0,Et.n)(u=>{var f;const D=(null===(f=a.parseUrl(a.url.replace(/(?:\().+(?:\))/g,Lt=>Lt.replace("://",":///"))).root.children[u.snapshot.outlet])||void 0===f?void 0:f.toString())||"",G=a.routerState.root.children.map(Lt=>Lt).find(Lt=>Lt.outlet===u.snapshot.outlet);if(!G)return(0,an.of)(null);let ne=G;for(;ne.firstChild;)ne=ne.firstChild;const ve=ne.pathFromRoot.map(Lt=>{var qt;return null===(qt=Lt.routeConfig)||void 0===qt?void 0:qt.path}).filter(Lt=>Lt).join("/")||"/",Ve={[UC]:ve,[xC]:`/${D}`,[Ao]:"auto",[ug]:ve,[cg]:u.snapshot.outlet};e&&(Ve.page_title=e.getTitle());let at=G.component;if(at){if(at===d.we){let Lt=u.snapshot;for(;Lt.firstChild;)Lt=Lt.firstChild;at=Lt.component}}else at=u.snapshot.component;if("string"==typeof at)return(0,an.of)({...Ve,[dg]:at});if(at){const Lt=r.resolveComponentFactory(at);return(0,an.of)({...Ve,[dg]:Lt.selector})}return(0,an.of)(null)}),(0,Bt.p)(u=>!!u),(0,Yt.T)(u=>({[Tf]:u[dg],[LC]:Af(u),...u})),function WR(a,e,r,o){return(0,_t.N)((u,f)=>{let _;e&&"function"!=typeof e?({duration:r,element:_,connector:o}=e):_=e;const D=new Map,G=qt=>{D.forEach(qt),qt(f)},ne=qt=>G(yn=>yn.error(qt));let ve=0,Ve=!1;const at=new Dt.H(f,qt=>{try{const yn=a(qt);let fn=D.get(yn);if(!fn){D.set(yn,fn=o?o():new wt.B);const zn=function Lt(qt,yn){const fn=new Xt.c(zn=>{ve++;const dr=yn.subscribe(zn);return()=>{dr.unsubscribe(),0==--ve&&Ve&&at.unsubscribe()}});return fn.key=qt,fn}(yn,fn);if(f.next(zn),r){const dr=(0,Dt._)(fn,()=>{fn.complete(),null==dr||dr.unsubscribe()},void 0,void 0,()=>D.delete(yn));at.add((0,Nn.Tg)(r(zn)).subscribe(dr))}}fn.next(_?_(qt):qt)}catch(yn){ne(yn)}},()=>G(qt=>qt.complete()),ne,()=>D.clear(),()=>(Ve=!0,0===ve));u.subscribe(at)})}(u=>u[cg]),(0,Av.Z)(u=>u.pipe((0,ze.F)((f,_)=>JSON.stringify(f)===JSON.stringify(_)),(0,Er.Z)(void 0),cn(),(0,Yt.T)(([f,_])=>f?{[Kd]:f[dg],[pl]:f[UC],[t_]:f[LC],..._}:_)))))(u,f,_).pipe((0,Et.n)(function(){var ne=(0,ce.A)(function*(ve){return G&&(yield G.initialized),yield o.logEvent("screen_view",ve)});return function(ve){return ne.apply(this,arguments)}}())).subscribe()})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return a=e,(0,x.A)(e,"\u0275fac",function(o){return new(o||a)(I.KVO(Ss),I.KVO(d.Ix,8),I.KVO(c.hE,8),I.KVO(I.OM3),I.KVO(I.SKi),I.KVO(YC,8))}),(0,x.A)(e,"\u0275prov",I.jDH({token:a,factory:a.\u0275fac})),e})(),WC=(()=>{var a;class e{constructor(o,u,f){bn.A.registerVersion("angularfire",on.full,"analytics-compat"),o.app.then(()=>{})}}return a=e,(0,x.A)(e,"\u0275fac",function(o){return new(o||a)(I.KVO(Ss),I.KVO(Mv,8),I.KVO(YC,8))}),(0,x.A)(e,"\u0275mod",I.$C({type:a})),(0,x.A)(e,"\u0275inj",I.G2t({providers:[Ss]})),e})();var zC=y(4555),u0=y(8793),aD=y(9437),c0=y(9901);const Pv=new I.nKC("angularfire2.messaging.vapid-key"),Lv=new I.nKC("angularfire2.messaging.service-worker-registeration");let Hd=(()=>{var a;class e{constructor(o,u,f,_,D,G,ne){(0,x.A)(this,"requestPermission",void 0),(0,x.A)(this,"getToken",void 0),(0,x.A)(this,"tokenChanges",void 0),(0,x.A)(this,"messages",void 0),(0,x.A)(this,"requestToken",void 0),(0,x.A)(this,"deleteToken",void 0);const ve=ne,Ve=(0,an.of)(void 0).pipe((0,xt._)(D.outsideAngular),(0,rt.Q)(D.insideAngular),(0,Et.n)(zC.TT),(0,Et.n)(qt=>qt?y.e(3321).then(y.bind(y,3321)):ar.w),(0,Yt.T)(()=>$e(o,_,u)),(0,Et.n)(qt=>Te(`${qt.name}.messaging`,"AngularFireMessaging",qt.name,()=>(0,an.of)(qt.messaging()),[])),st({bufferSize:1,refCount:!1}));this.requestPermission=Ve.pipe((0,xt._)(D.outsideAngular),(0,rt.Q)(D.insideAngular),(0,Et.n)(()=>Notification.requestPermission())),this.getToken=Ve.pipe((0,xt._)(D.outsideAngular),(0,rt.Q)(D.insideAngular),(0,Et.n)(function(){var qt=(0,ce.A)(function*(yn){if("granted"===Notification.permission){const fn=ve?yield ve:null;return yield yn.getToken({vapidKey:G,serviceWorkerRegistration:fn})}return null});return function(yn){return qt.apply(this,arguments)}}()));const at=new Xt.c(qt=>{navigator.permissions.query({name:"notifications"}).then(yn=>{yn.onchange=()=>qt.next()})}),Lt=Ve.pipe((0,xt._)(D.outsideAngular),(0,rt.Q)(D.insideAngular),ht(at),ht(this.getToken));return this.tokenChanges=Ve.pipe((0,xt._)(D.outsideAngular),(0,rt.Q)(D.insideAngular),(0,Et.n)(()=>(0,u0.x)(this.getToken,Lt))),this.messages=Ve.pipe((0,xt._)(D.outsideAngular),(0,rt.Q)(D.insideAngular),(0,Et.n)(qt=>new Xt.c(yn=>qt.onMessage(yn)))),this.requestToken=Ve.pipe((0,xt._)(D.outsideAngular),(0,rt.Q)(D.insideAngular),(0,Et.n)(()=>this.requestPermission),(0,aD.W)(()=>(0,an.of)(null)),(0,Av.Z)(()=>this.tokenChanges)),this.deleteToken=()=>Ve.pipe((0,xt._)(D.outsideAngular),(0,rt.Q)(D.insideAngular),(0,Et.n)(qt=>qt.deleteToken()),(0,c0.U)(!1)),H(this,Ve,_)}}return a=e,(0,x.A)(e,"\u0275fac",function(o){return new(o||a)(I.KVO(Me),I.KVO(Fe,8),I.KVO(I.Agw),I.KVO(I.SKi),I.KVO(kt),I.KVO(Pv,8),I.KVO(Lv,8))}),(0,x.A)(e,"\u0275prov",I.jDH({token:a,factory:a.\u0275fac,providedIn:"any"})),e})(),qC=(()=>{var a;class e{constructor(){bn.A.registerVersion("angularfire",on.full,"fcm-compat")}}return a=e,(0,x.A)(e,"\u0275fac",function(o){return new(o||a)}),(0,x.A)(e,"\u0275mod",I.$C({type:a})),(0,x.A)(e,"\u0275inj",I.G2t({providers:[Hd]})),e})();y(5900);const xv=new I.nKC("angularfire2.functions.origin"),kv=new I.nKC("angularfire2.functions.region"),XC=new I.nKC("angularfire2.functions.use-emulator");let Uv=(()=>{var a;class e{constructor(o,u,f,_,D,G,ne,ve){(0,x.A)(this,"httpsCallable",void 0);const Ve=ne,at=(0,an.of)(void 0).pipe((0,rt.Q)(_.outsideAngular),(0,Et.n)(()=>Promise.resolve().then(y.bind(y,5900))),(0,Yt.T)(()=>$e(o,f,u)),(0,Yt.T)(Lt=>Te(`${Lt.name}.functions.${D||G}`,"AngularFireFunctions",Lt.name,()=>{let qt;if(D&&G)throw new Error("REGION and ORIGIN can't be used at the same time.");return qt=Lt.functions(D||G||void 0),Ve&&qt.useEmulator(...Ve),qt},[D,G,Ve])),st({bufferSize:1,refCount:!1}));return this.httpsCallable=(Lt,qt)=>yn=>(0,hn.H)(at).pipe((0,rt.Q)(_.insideAngular),(0,Et.n)(fn=>fn.httpsCallable(Lt,qt)(yn)),(0,Yt.T)(fn=>fn.data)),H(this,at,f)}}return a=e,(0,x.A)(e,"\u0275fac",function(o){return new(o||a)(I.KVO(Me),I.KVO(Fe,8),I.KVO(I.SKi),I.KVO(kt),I.KVO(kv,8),I.KVO(xv,8),I.KVO(XC,8),I.KVO(fe,8))}),(0,x.A)(e,"\u0275prov",I.jDH({token:a,factory:a.\u0275fac,providedIn:"any"})),e})(),JC=(()=>{var a;class e{constructor(){bn.A.registerVersion("angularfire",on.full,"fn-compat")}}return a=e,(0,x.A)(e,"\u0275fac",function(o){return new(o||a)}),(0,x.A)(e,"\u0275mod",I.$C({type:a})),(0,x.A)(e,"\u0275inj",I.G2t({providers:[Uv]})),e})(),h0=(()=>{var a;class e{}return(a=e).\u0275fac=function(o){return new(o||a)},a.\u0275mod=I.$C({type:a,bootstrap:[P]}),a.\u0275inj=I.G2t({providers:[{provide:d.b,useClass:v.jM}],imports:[c.Bb,w.bv.forRoot(),C,M.YN,ge.initializeApp(A_firebaseConfig),er,HI,YA,WC,qC,JC]}),e})();c.sG().bootstrapModule(h0).catch(a=>console.log(a)),(0,j.initializeApp)(A_firebaseConfig)},4412:(Jn,ft,y)=>{"use strict";y.d(ft,{t:()=>d});var c=y(1413);class d extends c.B{constructor(w){super(),this._value=w}get value(){return this.getValue()}_subscribe(w){const N=super._subscribe(w);return!N.closed&&w.next(this._value),N}getValue(){const{hasError:w,thrownError:N,_value:A}=this;if(w)throw N;return this._throwIfClosed(),A}next(w){super.next(this._value=w)}}},1985:(Jn,ft,y)=>{"use strict";y.d(ft,{c:()=>P});var c=y(7707),d=y(8359),v=y(3494),w=y(1203),N=y(1026),A=y(8071),I=y(9786);let P=(()=>{class x{constructor(Q){Q&&(this._subscribe=Q)}lift(Q){const $=new x;return $.source=this,$.operator=Q,$}subscribe(Q,$,S){const se=function M(x){return x&&x instanceof c.vU||function C(x){return x&&(0,A.T)(x.next)&&(0,A.T)(x.error)&&(0,A.T)(x.complete)}(x)&&(0,d.Uv)(x)}(Q)?Q:new c.Ms(Q,$,S);return(0,I.Y)(()=>{const{operator:ue,source:Be}=this;se.add(ue?ue.call(se,Be):Be?this._subscribe(se):this._trySubscribe(se))}),se}_trySubscribe(Q){try{return this._subscribe(Q)}catch($){Q.error($)}}forEach(Q,$){return new($=F($))((S,se)=>{const ue=new c.Ms({next:Be=>{try{Q(Be)}catch(me){se(me),ue.unsubscribe()}},error:se,complete:S});this.subscribe(ue)})}_subscribe(Q){var $;return null===($=this.source)||void 0===$?void 0:$.subscribe(Q)}[v.s](){return this}pipe(...Q){return(0,w.m)(Q)(this)}toPromise(Q){return new(Q=F(Q))(($,S)=>{let se;this.subscribe(ue=>se=ue,ue=>S(ue),()=>$(se))})}}return x.create=j=>new x(j),x})();function F(x){var j;return null!==(j=null!=x?x:N.$.Promise)&&void 0!==j?j:Promise}},1413:(Jn,ft,y)=>{"use strict";y.d(ft,{B:()=>I});var c=y(1985),d=y(8359);const w=(0,y(1853).L)(F=>function(){F(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var N=y(7908),A=y(9786);let I=(()=>{class F extends c.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(M){const x=new P(this,this);return x.operator=M,x}_throwIfClosed(){if(this.closed)throw new w}next(M){(0,A.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const x of this.currentObservers)x.next(M)}})}error(M){(0,A.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=M;const{observers:x}=this;for(;x.length;)x.shift().error(M)}})}complete(){(0,A.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:M}=this;for(;M.length;)M.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var M;return(null===(M=this.observers)||void 0===M?void 0:M.length)>0}_trySubscribe(M){return this._throwIfClosed(),super._trySubscribe(M)}_subscribe(M){return this._throwIfClosed(),this._checkFinalizedStatuses(M),this._innerSubscribe(M)}_innerSubscribe(M){const{hasError:x,isStopped:j,observers:Q}=this;return x||j?d.Kn:(this.currentObservers=null,Q.push(M),new d.yU(()=>{this.currentObservers=null,(0,N.o)(Q,M)}))}_checkFinalizedStatuses(M){const{hasError:x,thrownError:j,isStopped:Q}=this;x?M.error(j):Q&&M.complete()}asObservable(){const M=new c.c;return M.source=this,M}}return F.create=(C,M)=>new P(C,M),F})();class P extends I{constructor(C,M){super(),this.destination=C,this.source=M}next(C){var M,x;null===(x=null===(M=this.destination)||void 0===M?void 0:M.next)||void 0===x||x.call(M,C)}error(C){var M,x;null===(x=null===(M=this.destination)||void 0===M?void 0:M.error)||void 0===x||x.call(M,C)}complete(){var C,M;null===(M=null===(C=this.destination)||void 0===C?void 0:C.complete)||void 0===M||M.call(C)}_subscribe(C){var M,x;return null!==(x=null===(M=this.source)||void 0===M?void 0:M.subscribe(C))&&void 0!==x?x:d.Kn}}},7707:(Jn,ft,y)=>{"use strict";y.d(ft,{Ms:()=>S,vU:()=>x});var c=y(8071),d=y(8359),v=y(1026),w=y(5334),N=y(5343);const A=F("C",void 0,void 0);function F(Ne,Se,Re){return{kind:Ne,value:Se,error:Re}}var C=y(9270),M=y(9786);class x extends d.yU{constructor(Se){super(),this.isStopped=!1,Se?(this.destination=Se,(0,d.Uv)(Se)&&Se.add(this)):this.destination=me}static create(Se,Re,Xe){return new S(Se,Re,Xe)}next(Se){this.isStopped?Be(function P(Ne){return F("N",Ne,void 0)}(Se),this):this._next(Se)}error(Se){this.isStopped?Be(function I(Ne){return F("E",void 0,Ne)}(Se),this):(this.isStopped=!0,this._error(Se))}complete(){this.isStopped?Be(A,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Se){this.destination.next(Se)}_error(Se){try{this.destination.error(Se)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const j=Function.prototype.bind;function Q(Ne,Se){return j.call(Ne,Se)}class ${constructor(Se){this.partialObserver=Se}next(Se){const{partialObserver:Re}=this;if(Re.next)try{Re.next(Se)}catch(Xe){se(Xe)}}error(Se){const{partialObserver:Re}=this;if(Re.error)try{Re.error(Se)}catch(Xe){se(Xe)}else se(Se)}complete(){const{partialObserver:Se}=this;if(Se.complete)try{Se.complete()}catch(Re){se(Re)}}}class S extends x{constructor(Se,Re,Xe){let it;if(super(),(0,c.T)(Se)||!Se)it={next:null!=Se?Se:void 0,error:null!=Re?Re:void 0,complete:null!=Xe?Xe:void 0};else{let We;this&&v.$.useDeprecatedNextContext?(We=Object.create(Se),We.unsubscribe=()=>this.unsubscribe(),it={next:Se.next&&Q(Se.next,We),error:Se.error&&Q(Se.error,We),complete:Se.complete&&Q(Se.complete,We)}):it=Se}this.destination=new $(it)}}function se(Ne){v.$.useDeprecatedSynchronousErrorHandling?(0,M.l)(Ne):(0,w.m)(Ne)}function Be(Ne,Se){const{onStoppedNotification:Re}=v.$;Re&&C.f.setTimeout(()=>Re(Ne,Se))}const me={closed:!0,next:N.l,error:function ue(Ne){throw Ne},complete:N.l}},8359:(Jn,ft,y)=>{"use strict";y.d(ft,{Kn:()=>A,yU:()=>N,Uv:()=>I});var c=y(8071);const v=(0,y(1853).L)(F=>function(M){F(this),this.message=M?`${M.length} errors occurred during unsubscription:\n${M.map((x,j)=>`${j+1}) ${x.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=M});var w=y(7908);class N{constructor(C){this.initialTeardown=C,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let C;if(!this.closed){this.closed=!0;const{_parentage:M}=this;if(M)if(this._parentage=null,Array.isArray(M))for(const Q of M)Q.remove(this);else M.remove(this);const{initialTeardown:x}=this;if((0,c.T)(x))try{x()}catch(Q){C=Q instanceof v?Q.errors:[Q]}const{_finalizers:j}=this;if(j){this._finalizers=null;for(const Q of j)try{P(Q)}catch($){C=null!=C?C:[],$ instanceof v?C=[...C,...$.errors]:C.push($)}}if(C)throw new v(C)}}add(C){var M;if(C&&C!==this)if(this.closed)P(C);else{if(C instanceof N){if(C.closed||C._hasParent(this))return;C._addParent(this)}(this._finalizers=null!==(M=this._finalizers)&&void 0!==M?M:[]).push(C)}}_hasParent(C){const{_parentage:M}=this;return M===C||Array.isArray(M)&&M.includes(C)}_addParent(C){const{_parentage:M}=this;this._parentage=Array.isArray(M)?(M.push(C),M):M?[M,C]:C}_removeParent(C){const{_parentage:M}=this;M===C?this._parentage=null:Array.isArray(M)&&(0,w.o)(M,C)}remove(C){const{_finalizers:M}=this;M&&(0,w.o)(M,C),C instanceof N&&C._removeParent(this)}}N.EMPTY=(()=>{const F=new N;return F.closed=!0,F})();const A=N.EMPTY;function I(F){return F instanceof N||F&&"closed"in F&&(0,c.T)(F.remove)&&(0,c.T)(F.add)&&(0,c.T)(F.unsubscribe)}function P(F){(0,c.T)(F)?F():F.unsubscribe()}},1026:(Jn,ft,y)=>{"use strict";y.d(ft,{$:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4572:(Jn,ft,y)=>{"use strict";y.d(ft,{z:()=>C});var c=y(1985),d=y(3073),v=y(8455),w=y(3669),N=y(6450),A=y(3794),I=y(8496),P=y(4360),F=y(5225);function C(...j){const Q=(0,A.lI)(j),$=(0,A.ms)(j),{args:S,keys:se}=(0,d.D)(j);if(0===S.length)return(0,v.H)([],Q);const ue=new c.c(function M(j,Q,$=w.D){return S=>{x(Q,()=>{const{length:se}=j,ue=new Array(se);let Be=se,me=se;for(let Ne=0;Ne<se;Ne++)x(Q,()=>{const Se=(0,v.H)(j[Ne],Q);let Re=!1;Se.subscribe((0,P._)(S,Xe=>{ue[Ne]=Xe,Re||(Re=!0,me--),me||S.next($(ue.slice()))},()=>{--Be||S.complete()}))},S)},S)}}(S,Q,se?Be=>(0,I.e)(se,Be):w.D));return $?ue.pipe((0,N.I)($)):ue}function x(j,Q,$){j?(0,F.N)($,j,Q):Q()}},8793:(Jn,ft,y)=>{"use strict";y.d(ft,{x:()=>N});var c=y(6365),v=y(3794),w=y(8455);function N(...A){return function d(){return(0,c.U)(1)}()((0,w.H)(A,(0,v.lI)(A)))}},983:(Jn,ft,y)=>{"use strict";y.d(ft,{w:()=>d});const d=new(y(1985).c)(N=>N.complete())},8455:(Jn,ft,y)=>{"use strict";y.d(ft,{H:()=>Se});var c=y(8750),d=y(941),v=y(6745),A=y(1985),P=y(4761),F=y(8071),C=y(5225);function x(Re,Xe){if(!Re)throw new Error("Iterable cannot be null");return new A.c(it=>{(0,C.N)(it,Xe,()=>{const We=Re[Symbol.asyncIterator]();(0,C.N)(it,Xe,()=>{We.next().then(Je=>{Je.done?it.complete():it.next(Je.value)})},0,!0)})})}var j=y(5055),Q=y(9858),$=y(7441),S=y(5397),se=y(7953),ue=y(591),Be=y(5196);function Se(Re,Xe){return Xe?function Ne(Re,Xe){if(null!=Re){if((0,j.l)(Re))return function w(Re,Xe){return(0,c.Tg)(Re).pipe((0,v._)(Xe),(0,d.Q)(Xe))}(Re,Xe);if((0,$.X)(Re))return function I(Re,Xe){return new A.c(it=>{let We=0;return Xe.schedule(function(){We===Re.length?it.complete():(it.next(Re[We++]),it.closed||this.schedule())})})}(Re,Xe);if((0,Q.y)(Re))return function N(Re,Xe){return(0,c.Tg)(Re).pipe((0,v._)(Xe),(0,d.Q)(Xe))}(Re,Xe);if((0,se.T)(Re))return x(Re,Xe);if((0,S.x)(Re))return function M(Re,Xe){return new A.c(it=>{let We;return(0,C.N)(it,Xe,()=>{We=Re[P.l](),(0,C.N)(it,Xe,()=>{let Je,xe;try{({value:Je,done:xe}=We.next())}catch(Ke){return void it.error(Ke)}xe?it.complete():it.next(Je)},0,!0)}),()=>(0,F.T)(null==We?void 0:We.return)&&We.return()})}(Re,Xe);if((0,Be.U)(Re))return function me(Re,Xe){return x((0,Be.C)(Re),Xe)}(Re,Xe)}throw(0,ue.L)(Re)}(Re,Xe):(0,c.Tg)(Re)}},3726:(Jn,ft,y)=>{"use strict";y.d(ft,{R:()=>C});var c=y(8750),d=y(1985),v=y(1397),w=y(7441),N=y(8071),A=y(6450);const I=["addListener","removeListener"],P=["addEventListener","removeEventListener"],F=["on","off"];function C($,S,se,ue){if((0,N.T)(se)&&(ue=se,se=void 0),ue)return C($,S,se).pipe((0,A.I)(ue));const[Be,me]=function Q($){return(0,N.T)($.addEventListener)&&(0,N.T)($.removeEventListener)}($)?P.map(Ne=>Se=>$[Ne](S,Se,se)):function x($){return(0,N.T)($.addListener)&&(0,N.T)($.removeListener)}($)?I.map(M($,S)):function j($){return(0,N.T)($.on)&&(0,N.T)($.off)}($)?F.map(M($,S)):[];if(!Be&&(0,w.X)($))return(0,v.Z)(Ne=>C(Ne,S,se))((0,c.Tg)($));if(!Be)throw new TypeError("Invalid event target");return new d.c(Ne=>{const Se=(...Re)=>Ne.next(1<Re.length?Re:Re[0]);return Be(Se),()=>me(Se)})}function M($,S){return se=>ue=>$[se](S,ue)}},8750:(Jn,ft,y)=>{"use strict";y.d(ft,{Tg:()=>j});var c=y(1635),d=y(7441),v=y(9858),w=y(1985),N=y(5055),A=y(7953),I=y(591),P=y(5397),F=y(5196),C=y(8071),M=y(5334),x=y(3494);function j(Ne){if(Ne instanceof w.c)return Ne;if(null!=Ne){if((0,N.l)(Ne))return function Q(Ne){return new w.c(Se=>{const Re=Ne[x.s]();if((0,C.T)(Re.subscribe))return Re.subscribe(Se);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ne);if((0,d.X)(Ne))return function $(Ne){return new w.c(Se=>{for(let Re=0;Re<Ne.length&&!Se.closed;Re++)Se.next(Ne[Re]);Se.complete()})}(Ne);if((0,v.y)(Ne))return function S(Ne){return new w.c(Se=>{Ne.then(Re=>{Se.closed||(Se.next(Re),Se.complete())},Re=>Se.error(Re)).then(null,M.m)})}(Ne);if((0,A.T)(Ne))return ue(Ne);if((0,P.x)(Ne))return function se(Ne){return new w.c(Se=>{for(const Re of Ne)if(Se.next(Re),Se.closed)return;Se.complete()})}(Ne);if((0,F.U)(Ne))return function Be(Ne){return ue((0,F.C)(Ne))}(Ne)}throw(0,I.L)(Ne)}function ue(Ne){return new w.c(Se=>{(function me(Ne,Se){var Re,Xe,it,We;return(0,c.sH)(this,void 0,void 0,function*(){try{for(Re=(0,c.xN)(Ne);!(Xe=yield Re.next()).done;)if(Se.next(Xe.value),Se.closed)return}catch(Je){it={error:Je}}finally{try{Xe&&!Xe.done&&(We=Re.return)&&(yield We.call(Re))}finally{if(it)throw it.error}}Se.complete()})})(Ne,Se).catch(Re=>Se.error(Re))})}},7673:(Jn,ft,y)=>{"use strict";y.d(ft,{of:()=>v});var c=y(3794),d=y(8455);function v(...w){const N=(0,c.lI)(w);return(0,d.H)(w,N)}},4360:(Jn,ft,y)=>{"use strict";y.d(ft,{H:()=>v,_:()=>d});var c=y(7707);function d(w,N,A,I,P){return new v(w,N,A,I,P)}class v extends c.vU{constructor(N,A,I,P,F,C){super(N),this.onFinalize=F,this.shouldUnsubscribe=C,this._next=A?function(M){try{A(M)}catch(x){N.error(x)}}:super._next,this._error=P?function(M){try{P(M)}catch(x){N.error(x)}finally{this.unsubscribe()}}:super._error,this._complete=I?function(){try{I()}catch(M){N.error(M)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var N;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:A}=this;super.unsubscribe(),!A&&(null===(N=this.onFinalize)||void 0===N||N.call(this))}}}},9437:(Jn,ft,y)=>{"use strict";y.d(ft,{W:()=>w});var c=y(8750),d=y(4360),v=y(9974);function w(N){return(0,v.N)((A,I)=>{let C,P=null,F=!1;P=A.subscribe((0,d._)(I,void 0,void 0,M=>{C=(0,c.Tg)(N(M,w(N)(A))),P?(P.unsubscribe(),P=null,C.subscribe(I)):F=!0})),F&&(P.unsubscribe(),P=null,C.subscribe(I))})}},9901:(Jn,ft,y)=>{"use strict";y.d(ft,{U:()=>v});var c=y(9974),d=y(4360);function v(w){return(0,c.N)((N,A)=>{let I=!1;N.subscribe((0,d._)(A,P=>{I=!0,A.next(P)},()=>{I||A.next(w),A.complete()}))})}},3294:(Jn,ft,y)=>{"use strict";y.d(ft,{F:()=>w});var c=y(3669),d=y(9974),v=y(4360);function w(A,I=c.D){return A=null!=A?A:N,(0,d.N)((P,F)=>{let C,M=!0;P.subscribe((0,v._)(F,x=>{const j=I(x);(M||!A(C,j))&&(M=!1,C=j,F.next(x))}))})}function N(A,I){return A===I}},5964:(Jn,ft,y)=>{"use strict";y.d(ft,{p:()=>v});var c=y(9974),d=y(4360);function v(w,N){return(0,c.N)((A,I)=>{let P=0;A.subscribe((0,d._)(I,F=>w.call(N,F,P++)&&I.next(F)))})}},1594:(Jn,ft,y)=>{"use strict";y.d(ft,{$:()=>I});var c=y(9350),d=y(5964),v=y(6697),w=y(9901),N=y(3774),A=y(3669);function I(P,F){const C=arguments.length>=2;return M=>M.pipe(P?(0,d.p)((x,j)=>P(x,j,M)):A.D,(0,v.s)(1),C?(0,w.U)(F):(0,N.v)(()=>new c.G))}},6354:(Jn,ft,y)=>{"use strict";y.d(ft,{T:()=>v});var c=y(9974),d=y(4360);function v(w,N){return(0,c.N)((A,I)=>{let P=0;A.subscribe((0,d._)(I,F=>{I.next(w.call(N,F,P++))}))})}},6365:(Jn,ft,y)=>{"use strict";y.d(ft,{U:()=>v});var c=y(1397),d=y(3669);function v(w=1/0){return(0,c.Z)(d.D,w)}},1397:(Jn,ft,y)=>{"use strict";y.d(ft,{Z:()=>P});var c=y(6354),d=y(8750),v=y(9974),w=y(5225),N=y(4360),I=y(8071);function P(F,C,M=1/0){return(0,I.T)(C)?P((x,j)=>(0,c.T)((Q,$)=>C(x,Q,j,$))((0,d.Tg)(F(x,j))),M):("number"==typeof C&&(M=C),(0,v.N)((x,j)=>function A(F,C,M,x,j,Q,$,S){const se=[];let ue=0,Be=0,me=!1;const Ne=()=>{me&&!se.length&&!ue&&C.complete()},Se=Xe=>ue<x?Re(Xe):se.push(Xe),Re=Xe=>{Q&&C.next(Xe),ue++;let it=!1;(0,d.Tg)(M(Xe,Be++)).subscribe((0,N._)(C,We=>{null==j||j(We),Q?Se(We):C.next(We)},()=>{it=!0},void 0,()=>{if(it)try{for(ue--;se.length&&ue<x;){const We=se.shift();$?(0,w.N)(C,$,()=>Re(We)):Re(We)}Ne()}catch(We){C.error(We)}}))};return F.subscribe((0,N._)(C,Se,()=>{me=!0,Ne()})),()=>{null==S||S()}}(x,j,F,M)))}},941:(Jn,ft,y)=>{"use strict";y.d(ft,{Q:()=>w});var c=y(5225),d=y(9974),v=y(4360);function w(N,A=0){return(0,d.N)((I,P)=>{I.subscribe((0,v._)(P,F=>(0,c.N)(P,N,()=>P.next(F),A),()=>(0,c.N)(P,N,()=>P.complete(),A),F=>(0,c.N)(P,N,()=>P.error(F),A)))})}},2816:(Jn,ft,y)=>{"use strict";y.d(ft,{S:()=>w});var c=y(9974),d=y(4360);function w(N,A){return(0,c.N)(function v(N,A,I,P,F){return(C,M)=>{let x=I,j=A,Q=0;C.subscribe((0,d._)(M,$=>{const S=Q++;j=x?N(j,$,S):(x=!0,$),P&&M.next(j)},F&&(()=>{x&&M.next(j),M.complete()})))}}(N,A,arguments.length>=2,!0))}},9172:(Jn,ft,y)=>{"use strict";y.d(ft,{Z:()=>w});var c=y(8793),d=y(3794),v=y(9974);function w(...N){const A=(0,d.lI)(N);return(0,v.N)((I,P)=>{(A?(0,c.x)(N,I,A):(0,c.x)(N,I)).subscribe(P)})}},6745:(Jn,ft,y)=>{"use strict";y.d(ft,{_:()=>d});var c=y(9974);function d(v,w=0){return(0,c.N)((N,A)=>{A.add(v.schedule(()=>N.subscribe(A),w))})}},5558:(Jn,ft,y)=>{"use strict";y.d(ft,{n:()=>w});var c=y(8750),d=y(9974),v=y(4360);function w(N,A){return(0,d.N)((I,P)=>{let F=null,C=0,M=!1;const x=()=>M&&!F&&P.complete();I.subscribe((0,v._)(P,j=>{null==F||F.unsubscribe();let Q=0;const $=C++;(0,c.Tg)(N(j,$)).subscribe(F=(0,v._)(P,S=>P.next(A?A(j,S,$,Q++):S),()=>{F=null,x()}))},()=>{M=!0,x()}))})}},6697:(Jn,ft,y)=>{"use strict";y.d(ft,{s:()=>w});var c=y(983),d=y(9974),v=y(4360);function w(N){return N<=0?()=>c.w:(0,d.N)((A,I)=>{let P=0;A.subscribe((0,v._)(I,F=>{++P<=N&&(I.next(F),N<=P&&I.complete())}))})}},8141:(Jn,ft,y)=>{"use strict";y.d(ft,{M:()=>N});var c=y(8071),d=y(9974),v=y(4360),w=y(3669);function N(A,I,P){const F=(0,c.T)(A)||I||P?{next:A,error:I,complete:P}:A;return F?(0,d.N)((C,M)=>{var x;null===(x=F.subscribe)||void 0===x||x.call(F);let j=!0;C.subscribe((0,v._)(M,Q=>{var $;null===($=F.next)||void 0===$||$.call(F,Q),M.next(Q)},()=>{var Q;j=!1,null===(Q=F.complete)||void 0===Q||Q.call(F),M.complete()},Q=>{var $;j=!1,null===($=F.error)||void 0===$||$.call(F,Q),M.error(Q)},()=>{var Q,$;j&&(null===(Q=F.unsubscribe)||void 0===Q||Q.call(F)),null===($=F.finalize)||void 0===$||$.call(F)}))}):w.D}},3774:(Jn,ft,y)=>{"use strict";y.d(ft,{v:()=>w});var c=y(9350),d=y(9974),v=y(4360);function w(A=N){return(0,d.N)((I,P)=>{let F=!1;I.subscribe((0,v._)(P,C=>{F=!0,P.next(C)},()=>F?P.complete():P.error(A())))})}function N(){return new c.G}},9270:(Jn,ft,y)=>{"use strict";y.d(ft,{f:()=>c});const c={setTimeout(d,v,...w){const{delegate:N}=c;return null!=N&&N.setTimeout?N.setTimeout(d,v,...w):setTimeout(d,v,...w)},clearTimeout(d){const{delegate:v}=c;return((null==v?void 0:v.clearTimeout)||clearTimeout)(d)},delegate:void 0}},4761:(Jn,ft,y)=>{"use strict";y.d(ft,{l:()=>d});const d=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(Jn,ft,y)=>{"use strict";y.d(ft,{s:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(Jn,ft,y)=>{"use strict";y.d(ft,{G:()=>d});const d=(0,y(1853).L)(v=>function(){v(this),this.name="EmptyError",this.message="no elements in sequence"})},3794:(Jn,ft,y)=>{"use strict";y.d(ft,{R0:()=>A,ms:()=>w,lI:()=>N});var c=y(8071);function v(I){return I[I.length-1]}function w(I){return(0,c.T)(v(I))?I.pop():void 0}function N(I){return function d(I){return I&&(0,c.T)(I.schedule)}(v(I))?I.pop():void 0}function A(I,P){return"number"==typeof v(I)?I.pop():P}},3073:(Jn,ft,y)=>{"use strict";y.d(ft,{D:()=>N});const{isArray:c}=Array,{getPrototypeOf:d,prototype:v,keys:w}=Object;function N(I){if(1===I.length){const P=I[0];if(c(P))return{args:P,keys:null};if(function A(I){return I&&"object"==typeof I&&d(I)===v}(P)){const F=w(P);return{args:F.map(C=>P[C]),keys:F}}}return{args:I,keys:null}}},7908:(Jn,ft,y)=>{"use strict";function c(d,v){if(d){const w=d.indexOf(v);0<=w&&d.splice(w,1)}}y.d(ft,{o:()=>c})},1853:(Jn,ft,y)=>{"use strict";function c(d){const w=d(N=>{Error.call(N),N.stack=(new Error).stack});return w.prototype=Object.create(Error.prototype),w.prototype.constructor=w,w}y.d(ft,{L:()=>c})},8496:(Jn,ft,y)=>{"use strict";function c(d,v){return d.reduce((w,N,A)=>(w[N]=v[A],w),{})}y.d(ft,{e:()=>c})},9786:(Jn,ft,y)=>{"use strict";y.d(ft,{Y:()=>v,l:()=>w});var c=y(1026);let d=null;function v(N){if(c.$.useDeprecatedSynchronousErrorHandling){const A=!d;if(A&&(d={errorThrown:!1,error:null}),N(),A){const{errorThrown:I,error:P}=d;if(d=null,I)throw P}}else N()}function w(N){c.$.useDeprecatedSynchronousErrorHandling&&d&&(d.errorThrown=!0,d.error=N)}},5225:(Jn,ft,y)=>{"use strict";function c(d,v,w,N=0,A=!1){const I=v.schedule(function(){w(),A?d.add(this.schedule(null,N)):this.unsubscribe()},N);if(d.add(I),!A)return I}y.d(ft,{N:()=>c})},3669:(Jn,ft,y)=>{"use strict";function c(d){return d}y.d(ft,{D:()=>c})},7441:(Jn,ft,y)=>{"use strict";y.d(ft,{X:()=>c});const c=d=>d&&"number"==typeof d.length&&"function"!=typeof d},7953:(Jn,ft,y)=>{"use strict";y.d(ft,{T:()=>d});var c=y(8071);function d(v){return Symbol.asyncIterator&&(0,c.T)(null==v?void 0:v[Symbol.asyncIterator])}},8071:(Jn,ft,y)=>{"use strict";function c(d){return"function"==typeof d}y.d(ft,{T:()=>c})},5055:(Jn,ft,y)=>{"use strict";y.d(ft,{l:()=>v});var c=y(3494),d=y(8071);function v(w){return(0,d.T)(w[c.s])}},5397:(Jn,ft,y)=>{"use strict";y.d(ft,{x:()=>v});var c=y(4761),d=y(8071);function v(w){return(0,d.T)(null==w?void 0:w[c.l])}},9858:(Jn,ft,y)=>{"use strict";y.d(ft,{y:()=>d});var c=y(8071);function d(v){return(0,c.T)(null==v?void 0:v.then)}},5196:(Jn,ft,y)=>{"use strict";y.d(ft,{C:()=>v,U:()=>w});var c=y(1635),d=y(8071);function v(N){return(0,c.AQ)(this,arguments,function*(){const I=N.getReader();try{for(;;){const{value:P,done:F}=yield(0,c.N3)(I.read());if(F)return yield(0,c.N3)(void 0);yield yield(0,c.N3)(P)}}finally{I.releaseLock()}})}function w(N){return(0,d.T)(null==N?void 0:N.getReader)}},9974:(Jn,ft,y)=>{"use strict";y.d(ft,{N:()=>v,S:()=>d});var c=y(8071);function d(w){return(0,c.T)(null==w?void 0:w.lift)}function v(w){return N=>{if(d(N))return N.lift(function(A){try{return w(A,this)}catch(I){this.error(I)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(Jn,ft,y)=>{"use strict";y.d(ft,{I:()=>w});var c=y(6354);const{isArray:d}=Array;function w(N){return(0,c.T)(A=>function v(N,A){return d(A)?N(...A):N(A)}(N,A))}},5343:(Jn,ft,y)=>{"use strict";function c(){}y.d(ft,{l:()=>c})},1203:(Jn,ft,y)=>{"use strict";y.d(ft,{F:()=>d,m:()=>v});var c=y(3669);function d(...w){return v(w)}function v(w){return 0===w.length?c.D:1===w.length?w[0]:function(A){return w.reduce((I,P)=>P(I),A)}}},5334:(Jn,ft,y)=>{"use strict";y.d(ft,{m:()=>v});var c=y(1026),d=y(9270);function v(w){d.f.setTimeout(()=>{const{onUnhandledError:N}=c.$;if(!N)throw w;N(w)})}},591:(Jn,ft,y)=>{"use strict";function c(d){return new TypeError(`You provided ${null!==d&&"object"==typeof d?"an invalid object":`'${d}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}y.d(ft,{L:()=>c})},8996:(Jn,ft,y)=>{var c={"./ion-accordion_2.entry.js":[2375,2076,2375],"./ion-action-sheet.entry.js":[8814,2076,8814],"./ion-alert.entry.js":[5222,2076,5222],"./ion-app_8.entry.js":[7720,2076,7720],"./ion-avatar_3.entry.js":[1049,1049],"./ion-back-button.entry.js":[3162,2076,3162],"./ion-backdrop.entry.js":[7240,7240],"./ion-breadcrumb_2.entry.js":[8314,2076,8314],"./ion-button_2.entry.js":[4591,4591],"./ion-card_5.entry.js":[8584,8584],"./ion-checkbox.entry.js":[3511,3511],"./ion-chip.entry.js":[6024,6024],"./ion-col_3.entry.js":[5100,5100],"./ion-datetime-button.entry.js":[7428,1293,7428],"./ion-datetime_3.entry.js":[2885,1293,2076,2885],"./ion-fab_3.entry.js":[4463,2076,4463],"./ion-img.entry.js":[4183,4183],"./ion-infinite-scroll_2.entry.js":[4171,2076,4171],"./ion-input-password-toggle.entry.js":[6521,2076,6521],"./ion-input.entry.js":[9344,2076,9344],"./ion-item-option_3.entry.js":[5949,2076,5949],"./ion-item_8.entry.js":[3506,2076,3506],"./ion-loading.entry.js":[7372,2076,7372],"./ion-menu_3.entry.js":[2075,2076,2075],"./ion-modal.entry.js":[441,2076,441],"./ion-nav_2.entry.js":[5712,2076,5712],"./ion-picker-column-option.entry.js":[9013,9013],"./ion-picker-column.entry.js":[1459,2076,1459],"./ion-picker.entry.js":[6840,6840],"./ion-popover.entry.js":[6433,2076,6433],"./ion-progress-bar.entry.js":[9977,9977],"./ion-radio_2.entry.js":[8066,2076,8066],"./ion-range.entry.js":[8477,2076,8477],"./ion-refresher_2.entry.js":[5197,2076,5197],"./ion-reorder_2.entry.js":[7030,2076,7030],"./ion-ripple-effect.entry.js":[964,964],"./ion-route_4.entry.js":[8970,8970],"./ion-searchbar.entry.js":[8193,2076,8193],"./ion-segment_2.entry.js":[2560,2076,2560],"./ion-select_3.entry.js":[7076,2076,7076],"./ion-spinner.entry.js":[8805,2076,8805],"./ion-split-pane.entry.js":[5887,5887],"./ion-tab-bar_2.entry.js":[4406,2076,4406],"./ion-tab_2.entry.js":[1102,1102],"./ion-text.entry.js":[1577,1577],"./ion-textarea.entry.js":[2348,2076,2348],"./ion-toast.entry.js":[2415,2076,2415],"./ion-toggle.entry.js":[3814,2076,3814]};function d(v){if(!y.o(c,v))return Promise.resolve().then(()=>{var A=new Error("Cannot find module '"+v+"'");throw A.code="MODULE_NOT_FOUND",A});var w=c[v],N=w[0];return Promise.all(w.slice(1).map(y.e)).then(()=>y(N))}d.keys=()=>Object.keys(c),d.id=8996,Jn.exports=d},177:(Jn,ft,y)=>{"use strict";y.d(ft,{AJ:()=>Vt,MD:()=>St,N0:()=>ni,QT:()=>v,Sm:()=>S,Sq:()=>yr,T3:()=>Un,UE:()=>In,VF:()=>N,Vy:()=>An,Xr:()=>or,ZD:()=>w,_b:()=>Ee,aZ:()=>ue,bT:()=>si,fw:()=>se,hb:()=>Q,hj:()=>F,qQ:()=>I});var c=y(4438);let d=null;function v(){return d}function w(U){var ie;null!==(ie=d)&&void 0!==ie||(d=U)}class N{}const I=new c.nKC("");let P=(()=>{var U;class ie{historyGo(te){throw new Error("")}}return(U=ie).\u0275fac=function(te){return new(te||U)},U.\u0275prov=c.jDH({token:U,factory:()=>(0,c.WQX)(C),providedIn:"platform"}),ie})();const F=new c.nKC("");let C=(()=>{var U;class ie extends P{constructor(){super(),this._doc=(0,c.WQX)(I),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return v().getBaseHref(this._doc)}onPopState(te){const Oe=v().getGlobalEventTarget(this._doc,"window");return Oe.addEventListener("popstate",te,!1),()=>Oe.removeEventListener("popstate",te)}onHashChange(te){const Oe=v().getGlobalEventTarget(this._doc,"window");return Oe.addEventListener("hashchange",te,!1),()=>Oe.removeEventListener("hashchange",te)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(te){this._location.pathname=te}pushState(te,Oe,dt){this._history.pushState(te,Oe,dt)}replaceState(te,Oe,dt){this._history.replaceState(te,Oe,dt)}forward(){this._history.forward()}back(){this._history.back()}historyGo(te=0){this._history.go(te)}getState(){return this._history.state}}return(U=ie).\u0275fac=function(te){return new(te||U)},U.\u0275prov=c.jDH({token:U,factory:()=>new U,providedIn:"platform"}),ie})();function M(U,ie){if(0==U.length)return ie;if(0==ie.length)return U;let nt=0;return U.endsWith("/")&&nt++,ie.startsWith("/")&&nt++,2==nt?U+ie.substring(1):1==nt?U+ie:U+"/"+ie}function x(U){const ie=U.match(/#|\?|$/),nt=ie&&ie.index||U.length;return U.slice(0,nt-("/"===U[nt-1]?1:0))+U.slice(nt)}function j(U){return U&&"?"!==U[0]?"?"+U:U}let Q=(()=>{var U;class ie{historyGo(te){throw new Error("")}}return(U=ie).\u0275fac=function(te){return new(te||U)},U.\u0275prov=c.jDH({token:U,factory:()=>(0,c.WQX)(S),providedIn:"root"}),ie})();const $=new c.nKC("");let S=(()=>{var U;class ie extends Q{constructor(te,Oe){var dt,ln,Bn;super(),this._platformLocation=te,this._removeListenerFns=[],this._baseHref=null!==(dt=null!==(ln=null!=Oe?Oe:this._platformLocation.getBaseHrefFromDOM())&&void 0!==ln?ln:null===(Bn=(0,c.WQX)(I).location)||void 0===Bn?void 0:Bn.origin)&&void 0!==dt?dt:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(te){this._removeListenerFns.push(this._platformLocation.onPopState(te),this._platformLocation.onHashChange(te))}getBaseHref(){return this._baseHref}prepareExternalUrl(te){return M(this._baseHref,te)}path(te=!1){const Oe=this._platformLocation.pathname+j(this._platformLocation.search),dt=this._platformLocation.hash;return dt&&te?`${Oe}${dt}`:Oe}pushState(te,Oe,dt,ln){const Bn=this.prepareExternalUrl(dt+j(ln));this._platformLocation.pushState(te,Oe,Bn)}replaceState(te,Oe,dt,ln){const Bn=this.prepareExternalUrl(dt+j(ln));this._platformLocation.replaceState(te,Oe,Bn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(te=0){var Oe,dt;null===(Oe=(dt=this._platformLocation).historyGo)||void 0===Oe||Oe.call(dt,te)}}return(U=ie).\u0275fac=function(te){return new(te||U)(c.KVO(P),c.KVO($,8))},U.\u0275prov=c.jDH({token:U,factory:U.\u0275fac,providedIn:"root"}),ie})(),se=(()=>{var U;class ie extends Q{constructor(te,Oe){super(),this._platformLocation=te,this._baseHref="",this._removeListenerFns=[],null!=Oe&&(this._baseHref=Oe)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(te){this._removeListenerFns.push(this._platformLocation.onPopState(te),this._platformLocation.onHashChange(te))}getBaseHref(){return this._baseHref}path(te=!1){var Oe;const dt=null!==(Oe=this._platformLocation.hash)&&void 0!==Oe?Oe:"#";return dt.length>0?dt.substring(1):dt}prepareExternalUrl(te){const Oe=M(this._baseHref,te);return Oe.length>0?"#"+Oe:Oe}pushState(te,Oe,dt,ln){let Bn=this.prepareExternalUrl(dt+j(ln));0==Bn.length&&(Bn=this._platformLocation.pathname),this._platformLocation.pushState(te,Oe,Bn)}replaceState(te,Oe,dt,ln){let Bn=this.prepareExternalUrl(dt+j(ln));0==Bn.length&&(Bn=this._platformLocation.pathname),this._platformLocation.replaceState(te,Oe,Bn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(te=0){var Oe,dt;null===(Oe=(dt=this._platformLocation).historyGo)||void 0===Oe||Oe.call(dt,te)}}return(U=ie).\u0275fac=function(te){return new(te||U)(c.KVO(P),c.KVO($,8))},U.\u0275prov=c.jDH({token:U,factory:U.\u0275fac}),ie})(),ue=(()=>{var U;class ie{constructor(te){this._subject=new c.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=te;const Oe=this._locationStrategy.getBaseHref();this._basePath=function Se(U){if(new RegExp("^(https?:)?//").test(U)){const[,nt]=U.split(/\/\/[^\/]+/);return nt}return U}(x(Ne(Oe))),this._locationStrategy.onPopState(dt=>{this._subject.emit({url:this.path(!0),pop:!0,state:dt.state,type:dt.type})})}ngOnDestroy(){var te;null===(te=this._urlChangeSubscription)||void 0===te||te.unsubscribe(),this._urlChangeListeners=[]}path(te=!1){return this.normalize(this._locationStrategy.path(te))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(te,Oe=""){return this.path()==this.normalize(te+j(Oe))}normalize(te){return ie.stripTrailingSlash(function me(U,ie){if(!U||!ie.startsWith(U))return ie;const nt=ie.substring(U.length);return""===nt||["/",";","?","#"].includes(nt[0])?nt:ie}(this._basePath,Ne(te)))}prepareExternalUrl(te){return te&&"/"!==te[0]&&(te="/"+te),this._locationStrategy.prepareExternalUrl(te)}go(te,Oe="",dt=null){this._locationStrategy.pushState(dt,"",te,Oe),this._notifyUrlChangeListeners(this.prepareExternalUrl(te+j(Oe)),dt)}replaceState(te,Oe="",dt=null){this._locationStrategy.replaceState(dt,"",te,Oe),this._notifyUrlChangeListeners(this.prepareExternalUrl(te+j(Oe)),dt)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(te=0){var Oe,dt;null===(Oe=(dt=this._locationStrategy).historyGo)||void 0===Oe||Oe.call(dt,te)}onUrlChange(te){var Oe;return this._urlChangeListeners.push(te),null!==(Oe=this._urlChangeSubscription)&&void 0!==Oe||(this._urlChangeSubscription=this.subscribe(dt=>{this._notifyUrlChangeListeners(dt.url,dt.state)})),()=>{const dt=this._urlChangeListeners.indexOf(te);var ln;this._urlChangeListeners.splice(dt,1),0===this._urlChangeListeners.length&&(null===(ln=this._urlChangeSubscription)||void 0===ln||ln.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(te="",Oe){this._urlChangeListeners.forEach(dt=>dt(te,Oe))}subscribe(te,Oe,dt){return this._subject.subscribe({next:te,error:Oe,complete:dt})}}return(U=ie).normalizeQueryParams=j,U.joinWithSlash=M,U.stripTrailingSlash=x,U.\u0275fac=function(te){return new(te||U)(c.KVO(Q))},U.\u0275prov=c.jDH({token:U,factory:()=>function Be(){return new ue((0,c.KVO)(Q))}(),providedIn:"root"}),ie})();function Ne(U){return U.replace(/\/index.html$/,"")}function Ee(U,ie){ie=encodeURIComponent(ie);for(const nt of U.split(";")){const te=nt.indexOf("="),[Oe,dt]=-1==te?[nt,""]:[nt.slice(0,te),nt.slice(te+1)];if(Oe.trim()===ie)return decodeURIComponent(dt)}return null}class fr{constructor(ie,nt,te,Oe){this.$implicit=ie,this.ngForOf=nt,this.index=te,this.count=Oe}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let yr=(()=>{var U;class ie{set ngForOf(te){this._ngForOf=te,this._ngForOfDirty=!0}set ngForTrackBy(te){this._trackByFn=te}get ngForTrackBy(){return this._trackByFn}constructor(te,Oe,dt){this._viewContainer=te,this._template=Oe,this._differs=dt,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(te){te&&(this._template=te)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const te=this._ngForOf;!this._differ&&te&&(this._differ=this._differs.find(te).create(this.ngForTrackBy))}if(this._differ){const te=this._differ.diff(this._ngForOf);te&&this._applyChanges(te)}}_applyChanges(te){const Oe=this._viewContainer;te.forEachOperation((dt,ln,Bn)=>{if(null==dt.previousIndex)Oe.createEmbeddedView(this._template,new fr(dt.item,this._ngForOf,-1,-1),null===Bn?void 0:Bn);else if(null==Bn)Oe.remove(null===ln?void 0:ln);else if(null!==ln){const Or=Oe.get(ln);Oe.move(Or,Bn),ui(Or,dt)}});for(let dt=0,ln=Oe.length;dt<ln;dt++){const Or=Oe.get(dt).context;Or.index=dt,Or.count=ln,Or.ngForOf=this._ngForOf}te.forEachIdentityChange(dt=>{ui(Oe.get(dt.currentIndex),dt)})}static ngTemplateContextGuard(te,Oe){return!0}}return(U=ie).\u0275fac=function(te){return new(te||U)(c.rXU(c.c1b),c.rXU(c.C4Q),c.rXU(c._q3))},U.\u0275dir=c.FsC({type:U,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),ie})();function ui(U,ie){U.context.$implicit=ie.item}let si=(()=>{var U;class ie{constructor(te,Oe){this._viewContainer=te,this._context=new yi,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Oe}set ngIf(te){this._context.$implicit=this._context.ngIf=te,this._updateView()}set ngIfThen(te){zi("ngIfThen",te),this._thenTemplateRef=te,this._thenViewRef=null,this._updateView()}set ngIfElse(te){zi("ngIfElse",te),this._elseTemplateRef=te,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(te,Oe){return!0}}return(U=ie).\u0275fac=function(te){return new(te||U)(c.rXU(c.c1b),c.rXU(c.C4Q))},U.\u0275dir=c.FsC({type:U,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),ie})();class yi{constructor(){this.$implicit=null,this.ngIf=null}}function zi(U,ie){if(ie&&!ie.createEmbeddedView)throw new Error(`${U} must be a TemplateRef, but received '${(0,c.Tbb)(ie)}'.`)}let Un=(()=>{var U;class ie{constructor(te){this._viewContainerRef=te,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(te){if(this._shouldRecreateView(te)){var Oe;const dt=this._viewContainerRef;if(this._viewRef&&dt.remove(dt.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const ln=this._createContextForwardProxy();this._viewRef=dt.createEmbeddedView(this.ngTemplateOutlet,ln,{injector:null!==(Oe=this.ngTemplateOutletInjector)&&void 0!==Oe?Oe:void 0})}}_shouldRecreateView(te){return!!te.ngTemplateOutlet||!!te.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(te,Oe,dt)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,Oe,dt),get:(te,Oe,dt)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,Oe,dt)}})}}return(U=ie).\u0275fac=function(te){return new(te||U)(c.rXU(c.c1b))},U.\u0275dir=c.FsC({type:U,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[c.OA$]}),ie})(),St=(()=>{var U;class ie{}return(U=ie).\u0275fac=function(te){return new(te||U)},U.\u0275mod=c.$C({type:U}),U.\u0275inj=c.G2t({}),ie})();const Vt="browser",Qt="server";function In(U){return U===Vt}function An(U){return U===Qt}let or=(()=>{var U;class ie{}return(U=ie).\u0275prov=(0,c.jDH)({token:U,providedIn:"root",factory:()=>In((0,c.WQX)(c.Agw))?new Cr((0,c.WQX)(I),window):new qr}),ie})();class Cr{constructor(ie,nt){this.document=ie,this.window=nt,this.offset=()=>[0,0]}setOffset(ie){this.offset=Array.isArray(ie)?()=>ie:ie}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(ie){this.window.scrollTo(ie[0],ie[1])}scrollToAnchor(ie){const nt=function gr(U,ie){const nt=U.getElementById(ie)||U.getElementsByName(ie)[0];if(nt)return nt;if("function"==typeof U.createTreeWalker&&U.body&&"function"==typeof U.body.attachShadow){const te=U.createTreeWalker(U.body,NodeFilter.SHOW_ELEMENT);let Oe=te.currentNode;for(;Oe;){const dt=Oe.shadowRoot;if(dt){const ln=dt.getElementById(ie)||dt.querySelector(`[name="${ie}"]`);if(ln)return ln}Oe=te.nextNode()}}return null}(this.document,ie);nt&&(this.scrollToElement(nt),nt.focus())}setHistoryScrollRestoration(ie){this.window.history.scrollRestoration=ie}scrollToElement(ie){const nt=ie.getBoundingClientRect(),te=nt.left+this.window.pageXOffset,Oe=nt.top+this.window.pageYOffset,dt=this.offset();this.window.scrollTo(te-dt[0],Oe-dt[1])}}class qr{setOffset(ie){}getScrollPosition(){return[0,0]}scrollToPosition(ie){}scrollToAnchor(ie){}setHistoryScrollRestoration(ie){}}class ni{}},4438:(Jn,ft,y)=>{"use strict";function c(t,n){return Object.is(t,n)}y.d(ft,{iLQ:()=>MS,sZ2:()=>Vh,hnV:()=>Yw,Hbi:()=>$M,o8S:()=>zc,BIS:()=>Bh,gRc:()=>lO,Ql9:()=>cM,OM3:()=>yf,Ocv:()=>_M,Z63:()=>go,aKT:()=>nu,uvJ:()=>Co,zcH:()=>Ia,bkB:()=>es,$GK:()=>jr,nKC:()=>yr,zZn:()=>Mo,_q3:()=>aR,MKu:()=>lR,xe9:()=>tR,Co$:()=>ZA,Vns:()=>$d,SKi:()=>O,Xx1:()=>ni,Agw:()=>xu,PLl:()=>im,sFG:()=>hA,_9s:()=>Gd,czy:()=>Sm,kdw:()=>Qr,C4Q:()=>cf,NYb:()=>rM,giA:()=>jw,xvI:()=>NN,RxE:()=>Uw,c1b:()=>qm,gXe:()=>ri,mal:()=>s_,L39:()=>vP,EWP:()=>IP,a0P:()=>wP,Ol2:()=>MC,w6W:()=>bv,oH4:()=>iO,SmG:()=>DM,Rfq:()=>Mt,WQX:()=>Qt,naY:()=>RM,QuC:()=>_i,fpN:()=>GM,HJs:()=>OP,N4e:()=>ec,vPA:()=>yv,O8t:()=>CP,H3F:()=>Fw,H8p:()=>Oo,KH2:()=>qu,TgB:()=>Nl,wOt:()=>_e,WHO:()=>$w,e01:()=>Kw,H5H:()=>th,mq5:()=>y_,JZv:()=>Xt,LfX:()=>Ce,plB:()=>ou,jNT:()=>J0,zjR:()=>Hw,TL$:()=>K_,Tbb:()=>rr,Vt3:()=>Dv,GFd:()=>Ov,OA$:()=>Fo,Jv_:()=>hw,aNF:()=>fw,R7$:()=>SI,BMQ:()=>Vv,AVh:()=>Qv,wni:()=>UD,VBU:()=>Vi,FsC:()=>qo,jDH:()=>mn,G2t:()=>ce,$C:()=>mi,EJ8:()=>ka,rXU:()=>rf,nrm:()=>uy,eu8:()=>Tg,bVm:()=>Sg,qex:()=>Hc,k0s:()=>E_,j41:()=>xl,RV6:()=>cy,xGo:()=>sp,KVO:()=>St,kS0:()=>Ec,QTQ:()=>TI,bIt:()=>x0,lsd:()=>BD,XpG:()=>AD,SdG:()=>DD,NAR:()=>RD,Y8G:()=>Xv,lJ4:()=>mw,mGM:()=>VD,Njj:()=>Wf,eBV:()=>hh,B4B:()=>_m,n$t:()=>aI,DNE:()=>cg,EFF:()=>XD,GBs:()=>FD});let d=null,v=!1,w=1;const N=Symbol("SIGNAL");function A(t){const n=d;return d=t,n}const C={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function M(t){if(v)throw new Error("");if(null===d)return;d.consumerOnSignalRead(t);const n=d.nextProducerIndex++;Xe(d),n<d.producerNode.length&&d.producerNode[n]!==t&&Re(d)&&Se(d.producerNode[n],d.producerIndexOfThis[n]),d.producerNode[n]!==t&&(d.producerNode[n]=t,d.producerIndexOfThis[n]=Re(d)?Ne(t,d,n):0),d.producerLastReadVersion[n]=t.version}function j(t){if((!Re(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==w)){if(!t.producerMustRecompute(t)&&!Be(t))return t.dirty=!1,void(t.lastCleanEpoch=w);t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=w}}function Q(t){if(void 0===t.liveConsumerNode)return;const n=v;v=!0;try{for(const i of t.liveConsumerNode)i.dirty||S(i)}finally{v=n}}function $(){var t;return!1!==(null===(t=d)||void 0===t?void 0:t.consumerAllowSignalWrites)}function S(t){var n;t.dirty=!0,Q(t),null===(n=t.consumerMarkedDirty)||void 0===n||n.call(t,t)}function se(t){return t&&(t.nextProducerIndex=0),A(t)}function ue(t,n){if(A(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Re(t))for(let i=t.nextProducerIndex;i<t.producerNode.length;i++)Se(t.producerNode[i],t.producerIndexOfThis[i]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Be(t){Xe(t);for(let n=0;n<t.producerNode.length;n++){const i=t.producerNode[n],s=t.producerLastReadVersion[n];if(s!==i.version||(j(i),s!==i.version))return!0}return!1}function me(t){if(Xe(t),Re(t))for(let n=0;n<t.producerNode.length;n++)Se(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Ne(t,n,i){if(it(t),0===t.liveConsumerNode.length&&We(t))for(let s=0;s<t.producerNode.length;s++)t.producerIndexOfThis[s]=Ne(t.producerNode[s],t,s);return t.liveConsumerIndexOfThis.push(i),t.liveConsumerNode.push(n)-1}function Se(t,n){if(it(t),1===t.liveConsumerNode.length&&We(t))for(let s=0;s<t.producerNode.length;s++)Se(t.producerNode[s],t.producerIndexOfThis[s]);const i=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[i],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[i],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const s=t.liveConsumerIndexOfThis[n],l=t.liveConsumerNode[n];Xe(l),l.producerIndexOfThis[s]=n}}function Re(t){var n,i;return t.consumerIsAlwaysLive||(null!==(n=null==t||null===(i=t.liveConsumerNode)||void 0===i?void 0:i.length)&&void 0!==n?n:0)>0}function Xe(t){var n,i,s;null!==(n=t.producerNode)&&void 0!==n||(t.producerNode=[]),null!==(i=t.producerIndexOfThis)&&void 0!==i||(t.producerIndexOfThis=[]),null!==(s=t.producerLastReadVersion)&&void 0!==s||(t.producerLastReadVersion=[])}function it(t){var n,i;null!==(n=t.liveConsumerNode)&&void 0!==n||(t.liveConsumerNode=[]),null!==(i=t.liveConsumerIndexOfThis)&&void 0!==i||(t.liveConsumerIndexOfThis=[])}function We(t){return void 0!==t.producerNode}const xe=Symbol("UNSET"),Ke=Symbol("COMPUTING"),Ye=Symbol("ERRORED"),rt={...C,value:xe,dirty:!0,error:null,equal:c,producerMustRecompute:t=>t.value===xe||t.value===Ke,producerRecomputeValue(t){if(t.value===Ke)throw new Error("Detected cycle in computations.");const n=t.value;t.value=Ke;const i=se(t);let s;try{s=t.computation()}catch(l){s=Ye,t.error=l}finally{ue(t,i)}n!==xe&&n!==Ye&&s!==Ye&&t.equal(n,s)?t.value=n:(t.value=s,t.version++)}};let on=function xt(){throw new Error};function At(){on()}let pe=null;function Kt(t,n){$()||At(),t.equal(t.value,n)||(t.value=n,function vt(t){var n;t.version++,function x(){w++}(),Q(t),null===(n=pe)||void 0===n||n()}(t))}const _n={...C,equal:c,value:void 0};var jn,K,nr=y(4412),sr=y(1413),Qn=y(8359),bn=y(6354);const ye="https://g.co/ng/security#xss";class _e extends Error{constructor(n,i){super(function Me(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,i)),this.code=n}}function Te(t){return{toString:t}.toString()}const Rt="__parameters__";function wt(t,n,i){return Te(()=>{const s=function Ot(t){return function(...i){if(t){const s=t(...i);for(const l in s)this[l]=s[l]}}}(n);function l(...h){if(this instanceof l)return s.apply(this,h),this;const m=new l(...h);return R.annotation=m,R;function R(k,ee,de){const De=k.hasOwnProperty(Rt)?k[Rt]:Object.defineProperty(k,Rt,{value:[]})[Rt];for(;De.length<=de;)De.push(null);return(De[de]=De[de]||[]).push(m),k}}return i&&(l.prototype=Object.create(i.prototype)),l.prototype.ngMetadataName=t,l.annotationCls=l,l})}const Xt=globalThis;function Nn(t){for(let n in t)if(t[n]===Nn)return n;throw Error("Could not find renamed property on target object.")}function ar(t,n){for(const i in n)n.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(t[i]=n[i])}function rr(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(rr).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const i=n.indexOf("\n");return-1===i?n:n.substring(0,i)}function Ht(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const Yt=Nn({__forward_ref__:Nn});function Mt(t){return t.__forward_ref__=Mt,t.toString=function(){return rr(this())},t}function ot(t){return _t(t)?t():t}function _t(t){return"function"==typeof t&&t.hasOwnProperty(Yt)&&t.__forward_ref__===Mt}function mn(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ce(t){return{providers:t.providers||[],imports:t.imports||[]}}function yt(t){return Ee(t,wn)||Ee(t,Dr)}function Ce(t){return null!==yt(t)}function Ee(t,n){return t.hasOwnProperty(n)?t[n]:null}function en(t){return t&&(t.hasOwnProperty(tr)||t.hasOwnProperty(fr))?t[tr]:null}const wn=Nn({\u0275prov:Nn}),tr=Nn({\u0275inj:Nn}),Dr=Nn({ngInjectableDef:Nn}),fr=Nn({ngInjectorDef:Nn});class yr{constructor(n,i){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=mn({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function vo(t){return t&&!!t.\u0275providers}const Di=Nn({\u0275cmp:Nn}),io=Nn({\u0275dir:Nn}),xo=Nn({\u0275pipe:Nn}),Un=Nn({\u0275mod:Nn}),Kr=Nn({\u0275fac:Nn}),Jr=Nn({__NG_ELEMENT_ID__:Nn}),ss=Nn({__NG_ENV_ID__:Nn});function Pn(t){return"string"==typeof t?t:null==t?"":String(t)}function Rs(t,n){throw new _e(-201,!1)}var jr=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(jr||{});let Ds;function ba(){return Ds}function Pi(t){const n=Ds;return Ds=t,n}function Hs(t,n,i){const s=yt(t);return s&&"root"==s.providedIn?void 0===s.value?s.value=s.factory():s.value:i&jr.Optional?null:void 0!==n?n:void Rs()}const as={},wi="__NG_DI_FLAG__",Y="ngTempTokenPath",Ue=/\n/gm,L="__source";let q;function et(t){const n=q;return q=t,n}function Ft(t,n=jr.Default){if(void 0===q)throw new _e(-203,!1);return null===q?Hs(t,void 0,n):q.get(t,n&jr.Optional?null:void 0,n)}function St(t,n=jr.Default){return(ba()||Ft)(ot(t),n)}function Qt(t,n=jr.Default){return St(t,In(n))}function In(t){return typeof t>"u"||"number"==typeof t?t:(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function An(t){const n=[];for(let i=0;i<t.length;i++){const s=ot(t[i]);if(Array.isArray(s)){if(0===s.length)throw new _e(900,!1);let l,h=jr.Default;for(let m=0;m<s.length;m++){const R=s[m],k=or(R);"number"==typeof k?-1===k?l=R.token:h|=k:l=R}n.push(St(l,h))}else n.push(St(s))}return n}function qn(t,n){return t[wi]=n,t.prototype[wi]=n,t}function or(t){return t[wi]}const ni=qn(wt("Optional"),8),Qr=qn(wt("SkipSelf"),4);function po(t,n){return t.hasOwnProperty(Kr)?t[Kr]:null}function Zt(t,n){t.forEach(i=>Array.isArray(i)?Zt(i,n):n(i))}function to(t,n,i){n>=t.length?t.push(i):t.splice(n,0,i)}function yo(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function Ii(t,n,i){let s=cs(t,n);return s>=0?t[1|s]=i:(s=~s,function ko(t,n,i,s){let l=t.length;if(l==n)t.push(i,s);else if(1===l)t.push(s,t[0]),t[0]=i;else{for(l--,t.push(t[l-1],t[l]);l>n;)t[l]=t[l-2],l--;t[n]=i,t[n+1]=s}}(t,s,n,i)),s}function Ho(t,n){const i=cs(t,n);if(i>=0)return t[1|i]}function cs(t,n){return function Ma(t,n,i){let s=0,l=t.length>>i;for(;l!==s;){const h=s+(l-s>>1),m=t[h<<i];if(n===m)return h<<i;m>n?l=h:s=h+1}return~(l<<i)}(t,n,1)}const pi={},Ur=[],go=new yr(""),Yo=new yr("",-1),Ai=new yr("");class Pa{get(n,i=as){if(i===as){const s=new Error(`NullInjectorError: No provider for ${rr(n)}!`);throw s.name="NullInjectorError",s}return i}}var ws=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(ws||{}),ri=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(ri||{}),Io=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Io||{});function Fl(t,n,i){let s=t.length;for(;;){const l=t.indexOf(n,i);if(-1===l)return l;if(0===l||t.charCodeAt(l-1)<=32){const h=n.length;if(l+h===s||t.charCodeAt(l+h)<=32)return l}i=l+1}}function La(t,n,i){let s=0;for(;s<i.length;){const l=i[s];if("number"==typeof l){if(0!==l)break;s++;const h=i[s++],m=i[s++],R=i[s++];t.setAttribute(n,m,R,h)}else{const h=l,m=i[++s];_l(h)?t.setProperty(n,h,m):t.setAttribute(n,h,m),s++}}return s}function za(t){return 3===t||4===t||6===t}function _l(t){return 64===t.charCodeAt(0)}function xa(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let i=-1;for(let s=0;s<n.length;s++){const l=n[s];"number"==typeof l?i=l:0===i||Vl(t,i,l,null,-1===i||2===i?n[++s]:null)}}return t}function Vl(t,n,i,s,l){let h=0,m=t.length;if(-1===n)m=-1;else for(;h<t.length;){const R=t[h++];if("number"==typeof R){if(R===n){m=-1;break}if(R>n){m=h-1;break}}}for(;h<t.length;){const R=t[h];if("number"==typeof R)break;if(R===i){if(null===s)return void(null!==l&&(t[h+1]=l));if(s===t[h+1])return void(t[h+2]=l)}h++,null!==s&&h++,null!==l&&h++}-1!==m&&(t.splice(m,0,n),h=m+1),t.splice(h++,0,i),null!==s&&t.splice(h++,0,s),null!==l&&t.splice(h++,0,l)}const qa="ng-template";function ii(t,n,i,s){let l=0;if(s){for(;l<n.length&&"string"==typeof n[l];l+=2)if("class"===n[l]&&-1!==Fl(n[l+1].toLowerCase(),i,0))return!0}else if(Os(t))return!1;if(l=n.indexOf(1,l),l>-1){let h;for(;++l<n.length&&"string"==typeof(h=n[l]);)if(h.toLowerCase()===i)return!0}return!1}function Os(t){return 4===t.type&&t.value!==qa}function Bl(t,n,i){return n===(4!==t.type||i?t.value:qa)}function pu(t,n,i){let s=4;const l=t.attrs,h=null!==l?function W(t){for(let n=0;n<t.length;n++)if(za(t[n]))return n;return t.length}(l):0;let m=!1;for(let R=0;R<n.length;R++){const k=n[R];if("number"!=typeof k){if(!m)if(4&s){if(s=2|1&s,""!==k&&!Bl(t,k,i)||""===k&&1===n.length){if(Wo(s))return!1;m=!0}}else if(8&s){if(null===l||!ii(t,l,k,i)){if(Wo(s))return!1;m=!0}}else{const ee=n[++R],de=Gl(k,l,Os(t),i);if(-1===de){if(Wo(s))return!1;m=!0;continue}if(""!==ee){let De;if(De=de>h?"":l[de+1].toLowerCase(),2&s&&ee!==De){if(Wo(s))return!1;m=!0}}}}else{if(!m&&!Wo(s)&&!Wo(k))return!1;if(m&&Wo(k))continue;m=!1,s=k|1&s}}return Wo(s)||m}function Wo(t){return!(1&t)}function Gl(t,n,i,s){if(null===n)return-1;let l=0;if(s||!i){let h=!1;for(;l<n.length;){const m=n[l];if(m===t)return l;if(3===m||6===m)h=!0;else{if(1===m||2===m){let R=n[++l];for(;"string"==typeof R;)R=n[++l];continue}if(4===m)break;if(0===m){l+=4;continue}}l+=h?1:2}return-1}return function Ae(t,n){let i=t.indexOf(4);if(i>-1)for(i++;i<t.length;){const s=t[i];if("number"==typeof s)return-1;if(s===n)return i;i++}return-1}(n,t)}function gu(t,n,i=!1){for(let s=0;s<n.length;s++)if(pu(t,n[s],i))return!0;return!1}function re(t,n){e:for(let i=0;i<n.length;i++){const s=n[i];if(t.length===s.length){for(let l=0;l<t.length;l++)if(t[l]!==s[l])continue e;return!0}}return!1}function He(t,n){return t?":not("+n.trim()+")":n}function Fn(t){let n=t[0],i=1,s=2,l="",h=!1;for(;i<t.length;){let m=t[i];if("string"==typeof m)if(2&s){const R=t[++i];l+="["+m+(R.length>0?'="'+R+'"':"")+"]"}else 8&s?l+="."+m:4&s&&(l+=" "+m);else""!==l&&!Wo(m)&&(n+=He(h,l),l=""),s=m,h=h||!Wo(s);i++}return""!==l&&(n+=He(h,l)),n}function Vi(t){return Te(()=>{var n;const i=El(t),s={...i,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===ws.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:null!==(n=t.signals)&&void 0!==n&&n,data:t.data||{},encapsulation:t.encapsulation||ri.Emulated,styles:t.styles||Ur,_:null,schemas:t.schemas||null,tView:null,id:""};da(s);const l=t.dependencies;return s.directiveDefs=Oi(l,!1),s.pipeDefs=Oi(l,!0),s.id=function Ju(t){let n=0;const i=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const l of i)n=Math.imul(31,n)+l.charCodeAt(0)|0;return n+=2147483648,"c"+n}(s),s})}function so(t){return Gr(t)||kr(t)}function zo(t){return null!==t}function mi(t){return Te(()=>({type:t.type,bootstrap:t.bootstrap||Ur,declarations:t.declarations||Ur,imports:t.imports||Ur,exports:t.exports||Ur,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function ca(t,n){if(null==t)return pi;const i={};for(const l in t)if(t.hasOwnProperty(l)){const h=t[l];let m,R,k=Io.None;var s;Array.isArray(h)?(k=h[0],m=h[1],R=null!==(s=h[2])&&void 0!==s?s:m):(m=h,R=h),n?(i[m]=k!==Io.None?[l,k]:l,n[m]=R):i[m]=l}return i}function qo(t){return Te(()=>{const n=El(t);return da(n),n})}function ka(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Gr(t){return t[Di]||null}function kr(t){return t[io]||null}function Bi(t){return t[xo]||null}function _i(t){const n=Gr(t)||kr(t)||Bi(t);return null!==n&&n.standalone}function Fr(t,n){const i=t[Un]||null;if(!i&&!0===n)throw new Error(`Type ${rr(t)} does not have '\u0275mod' property.`);return i}function El(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||pi,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Ur,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ca(t.inputs,n),outputs:ca(t.outputs),debugInfo:null}}function da(t){var n;null===(n=t.features)||void 0===n||n.forEach(i=>i(t))}function Oi(t,n){if(!t)return null;const i=n?Bi:so;return()=>("function"==typeof t?t():t).map(s=>i(s)).filter(zo)}function Qu(...t){return{\u0275providers:bs(0,t),\u0275fromNgModule:!0}}function bs(t,...n){const i=[],s=new Set;let l;const h=m=>{i.push(m)};return Zt(n,m=>{const R=m;ds(R,h,[],s)&&(l||(l=[]),l.push(R))}),void 0!==l&&Si(l,h),i}function Si(t,n){for(let i=0;i<t.length;i++){const{ngModule:s,providers:l}=t[i];Ws(l,h=>{n(h,s)})}}function ds(t,n,i,s){if(!(t=ot(t)))return!1;let l=null,h=en(t);const m=!h&&Gr(t);if(h||m){if(m&&!m.standalone)return!1;l=t}else{const k=t.ngModule;if(h=en(k),!h)return!1;l=k}const R=s.has(l);if(m){if(R)return!1;if(s.add(l),m.dependencies){const k="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const ee of k)ds(ee,n,i,s)}}else{if(!h)return!1;{if(null!=h.imports&&!R){let ee;s.add(l);try{Zt(h.imports,de=>{ds(de,n,i,s)&&(ee||(ee=[]),ee.push(de))})}finally{}void 0!==ee&&Si(ee,n)}if(!R){const ee=po(l)||(()=>new l);n({provide:l,useFactory:ee,deps:Ur},l),n({provide:Ai,useValue:l,multi:!0},l),n({provide:go,useValue:()=>St(l),multi:!0},l)}const k=h.providers;if(null!=k&&!R){const ee=t;Ws(k,de=>{n(de,ee)})}}}return l!==t&&void 0!==t.providers}function Ws(t,n){for(let i of t)vo(i)&&(i=i.\u0275providers),Array.isArray(i)?Ws(i,n):n(i)}const $l=Nn({provide:String,useValue:Nn});function Kl(t){return null!==t&&"object"==typeof t&&$l in t}function fs(t){return"function"==typeof t}const Oo=new yr(""),Ua={},Xs={};let yl;function Fa(){return void 0===yl&&(yl=new Pa),yl}class Co{}class bo extends Co{get destroyed(){return this._destroyed}constructor(n,i,s,l){super(),this.parent=i,this.source=s,this.scopes=l,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ps(n,m=>this.processProvider(m)),this.records.set(Yo,$a(void 0,this)),l.has("environment")&&this.records.set(Co,$a(void 0,this));const h=this.records.get(Oo);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(Ai,Ur,jr.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const n=A(null);try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();const i=this._onDestroyHooks;this._onDestroyHooks=[];for(const s of i)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),A(n)}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const i=et(this),s=Pi(void 0);try{return n()}finally{et(i),Pi(s)}}get(n,i=as,s=jr.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(ss))return n[ss](this);s=In(s);const h=et(this),m=Pi(void 0);try{if(!(s&jr.SkipSelf)){let k=this.records.get(n);if(void 0===k){const ee=function Xo(t){return"function"==typeof t||"object"==typeof t&&t instanceof yr}(n)&&yt(n);k=ee&&this.injectableDefInScope(ee)?$a(Va(n),Ua):null,this.records.set(n,k)}if(null!=k)return this.hydrate(n,k)}return(s&jr.Self?Fa():this.parent).get(n,i=s&jr.Optional&&i===as?null:i)}catch(R){if("NullInjectorError"===R.name){if((R[Y]=R[Y]||[]).unshift(rr(n)),h)throw R;return function Cr(t,n,i,s){const l=t[Y];throw n[L]&&l.unshift(n[L]),t.message=function gr(t,n,i,s=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let l=rr(n);if(Array.isArray(n))l=n.map(rr).join(" -> ");else if("object"==typeof n){let h=[];for(let m in n)if(n.hasOwnProperty(m)){let R=n[m];h.push(m+":"+("string"==typeof R?JSON.stringify(R):rr(R)))}l=`{${h.join(", ")}}`}return`${i}${s?"("+s+")":""}[${l}]: ${t.replace(Ue,"\n  ")}`}("\n"+t.message,l,i,s),t.ngTokenPath=l,t[Y]=null,t}(R,n,"R3InjectorError",this.source)}throw R}finally{Pi(m),et(h)}}resolveInjectorInitializers(){const n=A(null),i=et(this),s=Pi(void 0);try{const h=this.get(go,Ur,jr.Self);for(const m of h)m()}finally{et(i),Pi(s),A(n)}}toString(){const n=[],i=this.records;for(const s of i.keys())n.push(rr(s));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new _e(205,!1)}processProvider(n){let i=fs(n=ot(n))?n:ot(n&&n.provide);const s=function Ba(t){return Kl(t)?$a(void 0,t.useValue):$a(Ga(t),Ua)}(n);if(!fs(n)&&!0===n.multi){let l=this.records.get(i);l||(l=$a(void 0,Ua,!0),l.factory=()=>An(l.multi),this.records.set(i,l)),i=n,l.multi.push(n)}this.records.set(i,s)}hydrate(n,i){const s=A(null);try{return i.value===Ua&&(i.value=Xs,i.value=i.factory()),"object"==typeof i.value&&i.value&&function jl(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}finally{A(s)}}injectableDefInScope(n){if(!n.providedIn)return!1;const i=ot(n.providedIn);return"string"==typeof i?"any"===i||this.scopes.has(i):this.injectorDefTypes.has(i)}removeOnDestroy(n){const i=this._onDestroyHooks.indexOf(n);-1!==i&&this._onDestroyHooks.splice(i,1)}}function Va(t){const n=yt(t),i=null!==n?n.factory:po(t);if(null!==i)return i;if(t instanceof yr)throw new _e(204,!1);if(t instanceof Function)return function Ns(t){if(t.length>0)throw new _e(204,!1);const i=function ut(t){return t&&(t[wn]||t[Dr])||null}(t);return null!==i?()=>i.factory(t):()=>new t}(t);throw new _e(204,!1)}function Ga(t,n,i){let s;if(fs(t)){const l=ot(t);return po(l)||Va(l)}if(Kl(t))s=()=>ot(t.useValue);else if(function zs(t){return!(!t||!t.useFactory)}(t))s=()=>t.useFactory(...An(t.deps||[]));else if(function hs(t){return!(!t||!t.useExisting)}(t))s=()=>St(ot(t.useExisting));else{const l=ot(t&&(t.useClass||t.provide));if(!function Xa(t){return!!t.deps}(t))return po(l)||Va(l);s=()=>new l(...An(t.deps))}return s}function $a(t,n,i=!1){return{factory:t,value:n,multi:i?[]:void 0}}function ps(t,n){for(const i of t)Array.isArray(i)?ps(i,n):i&&vo(i)?ps(i.\u0275providers,n):n(i)}function ec(t,n){t instanceof bo&&t.assertNotDestroyed();const s=et(t),l=Pi(void 0);try{return n()}finally{et(s),Pi(l)}}function mu(){return void 0!==ba()||null!=function tt(){return q}()}const $r=0,Yn=1,Ir=2,Ri=3,no=4,Ni=5,ao=6,ha=7,Ti=8,Gi=9,Ms=10,Nr=11,Ja=12,Js=13,Hl=14,qi=15,Qs=16,fa=17,Xi=18,pa=19,Il=20,gs=21,Yl=22,ei=23,Tr=25,ga=1,ms=7,ro=9,Hi=10;var tc=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(tc||{});function xi(t){return Array.isArray(t)&&"object"==typeof t[ga]}function lo(t){return Array.isArray(t)&&!0===t[ga]}function Zs(t){return!!(4&t.flags)}function ea(t){return t.componentOffset>-1}function Ka(t){return!(1&~t.flags)}function To(t){return!!t.template}function Cl(t){return!!(512&t[Ir])}class uo{constructor(n,i,s){this.previousValue=n,this.currentValue=i,this.firstChange=s}isFirstChange(){return this.firstChange}}function Uo(t,n,i,s){null!==n?n.applyValueToInputSignal(n,s):t[i]=s}function Fo(){return Jo}function Jo(t){return t.type.prototype.ngOnChanges&&(t.setInput=nc),ta}function ta(){const t=Wl(this),n=null==t?void 0:t.current;if(n){const i=t.previous;if(i===pi)t.previous=n;else for(let s in n)i[s]=n[s];t.current=null,this.ngOnChanges(n)}}function nc(t,n,i,s,l){const h=this.declaredInputs[s],m=Wl(t)||function zl(t,n){return t[Sl]=n}(t,{previous:pi,current:null}),R=m.current||(m.current={}),k=m.previous,ee=k[h];R[h]=new uo(ee&&ee.currentValue,i,k===pi),Uo(t,n,l,i)}Fo.ngInherit=!0;const Sl="__ngSimpleChanges__";function Wl(t){return t[Sl]||null}const na=function(t,n,i){};function ti(t){for(;Array.isArray(t);)t=t[$r];return t}function Qo(t,n){return ti(n[t.index])}function vs(t,n){return t.data[n]}function Ps(t,n){const i=n[t];return xi(i)?i:i[$r]}function el(t){return!(128&~t[Ir])}function Zo(t,n){return null==n?null:t[n]}function sh(t){t[fa]=0}function oc(t){1024&t[Ir]||(t[Ir]|=1024,el(t)&&oi(t))}function ah(t){var n;return!!(9216&t[Ir]||null!==(n=t[ei])&&void 0!==n&&n.dirty)}function Ki(t){var n;null===(n=t[Ms].changeDetectionScheduler)||void 0===n||n.notify(8),64&t[Ir]&&(t[Ir]|=1024),ah(t)&&oi(t)}function oi(t){var n;null===(n=t[Ms].changeDetectionScheduler)||void 0===n||n.notify(0);let i=Ls(t);for(;null!==i&&!(8192&i[Ir])&&(i[Ir]|=8192,el(i));)i=Ls(i)}function Qc(t,n){if(!(256&~t[Ir]))throw new _e(911,!1);null===t[gs]&&(t[gs]=[]),t[gs].push(n)}function Ls(t){const n=t[Ri];return lo(n)?n[Ri]:n}const Lr={lFrame:xg(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let uh=!1;function td(){return Lr.bindingsEnabled}function ql(){return null!==Lr.skipHydrationRootTNode}function Rn(){return Lr.lFrame.lView}function Wr(){return Lr.lFrame.tView}function hh(t){return Lr.lFrame.contextLView=t,t[Ti]}function Wf(t){return Lr.lFrame.contextLView=null,t}function fi(){let t=Su();for(;null!==t&&64===t.type;)t=t.parent;return t}function Su(){return Lr.lFrame.currentTNode}function ma(t,n){const i=Lr.lFrame;i.currentTNode=t,i.isParent=n}function Ji(){return Lr.lFrame.isParent}function nd(){Lr.lFrame.isParent=!1}function qf(){return uh}function id(t){uh=t}function _a(){return Lr.lFrame.bindingIndex++}function Xf(t,n){const i=Lr.lFrame;i.bindingIndex=i.bindingRootIndex=t,gh(n)}function gh(t){Lr.lFrame.currentDirectiveIndex=t}function mh(){return Lr.lFrame.currentQueryIndex}function od(t){Lr.lFrame.currentQueryIndex=t}function Jf(t){const n=t[Yn];return 2===n.type?n.declTNode:1===n.type?t[Ni]:null}function Qf(t,n,i){if(i&jr.SkipSelf){let l=n,h=t;for(;!(l=l.parent,null!==l||i&jr.Host||(l=Jf(h),null===l||(h=h[Hl],10&l.type))););if(null===l)return!1;n=l,t=h}const s=Lr.lFrame=Lg();return s.currentTNode=n,s.lView=t,!0}function Zf(t){const n=Lg(),i=t[Yn];Lr.lFrame=n,n.currentTNode=i.firstChild,n.lView=t,n.tView=i,n.contextLView=t,n.bindingIndex=i.bindingStartIndex,n.inI18n=!1}function Lg(){const t=Lr.lFrame,n=null===t?null:t.child;return null===n?xg(t):n}function xg(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function Rl(){const t=Lr.lFrame;return Lr.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Xl=Rl;function _h(){const t=Rl();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function No(){return Lr.lFrame.selectedIndex}function ys(t){Lr.lFrame.selectedIndex=t}function ki(){const t=Lr.lFrame;return vs(t.tView,t.selectedIndex)}let wl=!0;function nl(){return wl}function ra(t){wl=t}function sd(t,n){for(let ee=n.directiveStart,de=n.directiveEnd;ee<de;ee++){const lt=t.data[ee].type.prototype,{ngAfterContentInit:Ct,ngAfterContentChecked:gt,ngAfterViewInit:En,ngAfterViewChecked:kn,ngOnDestroy:Xn}=lt;var i,s,l,h,m,R,k;Ct&&(null!==(i=t.contentHooks)&&void 0!==i?i:t.contentHooks=[]).push(-ee,Ct),gt&&((null!==(s=t.contentHooks)&&void 0!==s?s:t.contentHooks=[]).push(ee,gt),(null!==(l=t.contentCheckHooks)&&void 0!==l?l:t.contentCheckHooks=[]).push(ee,gt)),En&&(null!==(h=t.viewHooks)&&void 0!==h?h:t.viewHooks=[]).push(-ee,En),kn&&((null!==(m=t.viewHooks)&&void 0!==m?m:t.viewHooks=[]).push(ee,kn),(null!==(R=t.viewCheckHooks)&&void 0!==R?R:t.viewCheckHooks=[]).push(ee,kn)),null!=Xn&&(null!==(k=t.destroyHooks)&&void 0!==k?k:t.destroyHooks=[]).push(ee,Xn)}}function Au(t,n,i){yh(t,n,3,i)}function cc(t,n,i,s){(3&t[Ir])===i&&yh(t,n,i,s)}function dc(t,n){let i=t[Ir];(3&i)===n&&(i&=16383,i+=1,t[Ir]=i)}function yh(t,n,i,s){const h=null!=s?s:-1,m=n.length-1;let R=0;for(let k=void 0!==s?65535&t[fa]:0;k<m;k++)if("number"==typeof n[k+1]){if(R=n[k],null!=s&&R>=s)break}else n[k]<0&&(t[fa]+=65536),(R<h||-1==h)&&(Ch(t,i,n,k),t[fa]=(4294901760&t[fa])+k+2),k++}function Ih(t,n){na(4,t,n);const i=A(null);try{n.call(t)}finally{A(i),na(5,t,n)}}function Ch(t,n,i,s){const l=i[s]<0,h=i[s+1],R=t[l?-i[s]:i[s]];l?t[Ir]>>14<t[fa]>>16&&(3&t[Ir])===n&&(t[Ir]+=16384,Ih(R,h)):Ih(R,h)}const rl=-1;class ad{constructor(n,i,s){this.factory=n,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=s}}const ol={};class sl{constructor(n,i){this.injector=n,this.parentInjector=i}get(n,i,s){s=In(s);const l=this.injector.get(n,ol,s);return l!==ol||i===ol?l:this.parentInjector.get(n,i,s)}}function Th(t){return t!==rl}function Ql(t){return 32767&t}function Du(t,n){let i=function O_(t){return t>>16}(t),s=n;for(;i>0;)s=s[Hl],i--;return s}let Ah=!0;function fc(t){const n=Ah;return Ah=t,n}const rp=255,ud=5;let b_=0;const va={};function cd(t,n){const i=wu(t,n);if(-1!==i)return i;const s=n[Yn];s.firstCreatePass&&(t.injectorIndex=n.length,pc(s.data,t),pc(n,null),pc(s.blueprint,null));const l=Zl(t,n),h=t.injectorIndex;if(Th(l)){const m=Ql(l),R=Du(l,n),k=R[Yn].data;for(let ee=0;ee<8;ee++)n[h+ee]=R[m+ee]|k[m+ee]}return n[h+8]=l,h}function pc(t,n){t.push(0,0,0,0,0,0,0,0,n)}function wu(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function Zl(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let i=0,s=null,l=n;for(;null!==l;){if(s=Ug(l),null===s)return rl;if(i++,l=l[Hl],-1!==s.injectorIndex)return s.injectorIndex|i<<16}return rl}function al(t,n,i){!function Dh(t,n,i){let s;"string"==typeof i?s=i.charCodeAt(0)||0:i.hasOwnProperty(Jr)&&(s=i[Jr]),null==s&&(s=i[Jr]=b_++);const l=s&rp;n.data[t+(l>>ud)]|=1<<l}(t,n,i)}function ip(t,n,i){if(i&jr.Optional||void 0!==t)return t;Rs()}function Bo(t,n,i,s){if(i&jr.Optional&&void 0===s&&(s=null),!(i&(jr.Self|jr.Host))){const l=t[Gi],h=Pi(void 0);try{return l?l.get(n,s,i&jr.Optional):Hs(n,s,i&jr.Optional)}finally{Pi(h)}}return ip(s,0,i)}function gc(t,n,i,s=jr.Default,l){if(null!==t){if(2048&n[Ir]&&!(s&jr.Self)){const m=function kg(t,n,i,s,l){let h=t,m=n;for(;null!==h&&null!==m&&2048&m[Ir]&&!(512&m[Ir]);){const R=dd(h,m,i,s|jr.Self,va);if(R!==va)return R;let k=h.parent;if(!k){const ee=m[Il];if(ee){const de=ee.get(i,va,s);if(de!==va)return de}k=Ug(m),m=m[Hl]}h=k}return l}(t,n,i,s,va);if(m!==va)return m}const h=dd(t,n,i,s,va);if(h!==va)return h}return Bo(n,i,s,l)}function dd(t,n,i,s,l){const h=function mc(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(Jr)?t[Jr]:void 0;return"number"==typeof n?n>=0?n&rp:Ol:n}(i);if("function"==typeof h){if(!Qf(n,t,s))return s&jr.Host?ip(l,0,s):Bo(n,i,s,l);try{let m;if(m=h(s),null!=m||s&jr.Optional)return m;Rs()}finally{Xl()}}else if("number"==typeof h){let m=null,R=wu(t,n),k=rl,ee=s&jr.Host?n[qi][Ni]:null;for((-1===R||s&jr.SkipSelf)&&(k=-1===R?Zl(t,n):n[R+8],k!==rl&&eu(s,!1)?(m=n[Yn],R=Ql(k),n=Du(k,n)):R=-1);-1!==R;){const de=n[Yn];if(op(h,R,de.data)){const De=Oh(R,n,i,m,s,ee);if(De!==va)return De}k=n[R+8],k!==rl&&eu(s,n[Yn].data[R+8]===ee)&&op(h,R,n)?(m=de,R=Ql(k),n=Du(k,n)):R=-1}}return l}function Oh(t,n,i,s,l,h){const m=n[Yn],R=m.data[t+8],de=hd(R,m,i,null==s?ea(R)&&Ah:s!=m&&!!(3&R.type),l&jr.Host&&h===R);return null!==de?Is(n,m,de,R):va}function hd(t,n,i,s,l){const h=t.providerIndexes,m=n.data,R=1048575&h,k=t.directiveStart,de=h>>20,lt=l?R+de:t.directiveEnd;for(let Ct=s?R:R+de;Ct<lt;Ct++){const gt=m[Ct];if(Ct<k&&i===gt||Ct>=k&&gt.type===i)return Ct}if(l){const Ct=m[k];if(Ct&&To(Ct)&&Ct.type===i)return k}return null}function Is(t,n,i,s){let l=t[i];const h=n.data;if(function Ru(t){return t instanceof ad}(l)){const m=l;m.resolving&&function pn(t,n){throw n&&n.join(" > "),new _e(-200,t)}(function Wn(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Pn(t)}(h[i]));const R=fc(m.canSeeViewProviders);m.resolving=!0;const ee=m.injectImpl?Pi(m.injectImpl):null;Qf(t,s,jr.Default);try{l=t[i]=m.factory(void 0,h,t,s),n.firstCreatePass&&i>=s.directiveStart&&function tp(t,n,i){const{ngOnChanges:s,ngOnInit:l,ngDoCheck:h}=n.type.prototype;if(s){var m,R;const De=Jo(n);(null!==(m=i.preOrderHooks)&&void 0!==m?m:i.preOrderHooks=[]).push(t,De),(null!==(R=i.preOrderCheckHooks)&&void 0!==R?R:i.preOrderCheckHooks=[]).push(t,De)}var k,ee,de;l&&(null!==(k=i.preOrderHooks)&&void 0!==k?k:i.preOrderHooks=[]).push(0-t,l),h&&((null!==(ee=i.preOrderHooks)&&void 0!==ee?ee:i.preOrderHooks=[]).push(t,h),(null!==(de=i.preOrderCheckHooks)&&void 0!==de?de:i.preOrderCheckHooks=[]).push(t,h))}(i,h[i],n)}finally{null!==ee&&Pi(ee),fc(R),m.resolving=!1,Xl()}}return l}function op(t,n,i){return!!(i[n+(t>>ud)]&1<<t)}function eu(t,n){return!(t&jr.Self||t&jr.Host&&n)}class So{constructor(n,i){this._tNode=n,this._lView=i}get(n,i,s){return gc(this._tNode,this._lView,n,In(s),i)}}function Ol(){return new So(fi(),Rn())}function sp(t){return Te(()=>{const n=t.prototype.constructor,i=n[Kr]||ap(n),s=Object.prototype;let l=Object.getPrototypeOf(t.prototype).constructor;for(;l&&l!==s;){const h=l[Kr]||ap(l);if(h&&h!==i)return h;l=Object.getPrototypeOf(l)}return h=>new h})}function ap(t){return _t(t)?()=>{const n=ap(ot(t));return n&&n()}:po(t)}function Ug(t){const n=t[Yn],i=n.type;return 2===i?n.declTNode:1===i?t[Ni]:null}function Ec(t){return function wh(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const i=t.attrs;if(i){const s=i.length;let l=0;for(;l<s;){const h=i[l];if(za(h))break;if(0===h)l+=2;else if("number"==typeof h)for(l++;l<s&&"string"==typeof i[l];)l++;else{if(h===n)return i[l+1];l+=2}}}return null}(fi(),t)}function Bg(t,n=null,i=null,s){const l=bl(t,n,i,s);return l.resolveInjectorInitializers(),l}function bl(t,n=null,i=null,s,l=new Set){const h=[i||Ur,Qu(t)];return s=s||("object"==typeof t?void 0:rr(t)),new bo(h,n||Fa(),s||null,l)}class Mo{static create(n,i){if(Array.isArray(n))return Bg({name:""},i,n,"");{var s;const l=null!==(s=n.name)&&void 0!==s?s:"";return Bg({name:l},n.parent,n.providers,l)}}}(jn=Mo).THROW_IF_NOT_FOUND=as,jn.NULL=new Pa,jn.\u0275prov=mn({token:jn,providedIn:"any",factory:()=>St(Yo)}),jn.__NG_ELEMENT_ID__=-1,new yr("").__NG_ELEMENT_ID__=t=>{const n=fi();if(null===n)throw new _e(204,!1);if(2&n.type)return n.value;if(t&jr.Optional)return null;throw new _e(204,!1)};function Nu(t){return t.ngOriginalError}const Nh=!0;let tu=(()=>{var t;class n{}return(t=n).__NG_ELEMENT_ID__=md,t.__NG_ENV_ID__=i=>i,n})();class ya extends tu{constructor(n){super(),this._lView=n}onDestroy(n){return Qc(this._lView,n),()=>function sc(t,n){if(null===t[gs])return;const i=t[gs].indexOf(n);-1!==i&&t[gs].splice(i,1)}(this._lView,n)}}function md(){return new ya(Rn())}let Nl=(()=>{var t;class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new nr.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const s=this.taskId++;return this.pendingTasks.add(s),s}remove(s){this.pendingTasks.delete(s),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}}return(t=n).\u0275prov=mn({token:t,providedIn:"root",factory:()=>new t}),n})();const es=class hp extends sr.B{constructor(n=!1){var i,s;super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=n,mu()&&(this.destroyRef=null!==(i=Qt(tu,{optional:!0}))&&void 0!==i?i:void 0,this.pendingTasks=null!==(s=Qt(Nl,{optional:!0}))&&void 0!==s?s:void 0)}emit(n){const i=A(null);try{super.next(n)}finally{A(i)}}subscribe(n,i,s){let l=n,h=i||(()=>null),m=s;if(n&&"object"==typeof n){var R,k,ee;const De=n;l=null===(R=De.next)||void 0===R?void 0:R.bind(De),h=null===(k=De.error)||void 0===k?void 0:k.bind(De),m=null===(ee=De.complete)||void 0===ee?void 0:ee.bind(De)}this.__isAsync&&(h=this.wrapInTimeout(h),l&&(l=this.wrapInTimeout(l)),m&&(m=this.wrapInTimeout(m)));const de=super.subscribe({next:l,error:h,complete:m});return n instanceof Qn.yU&&n.add(de),de}wrapInTimeout(n){return i=>{var s;const l=null===(s=this.pendingTasks)||void 0===s?void 0:s.add();setTimeout(()=>{var h;n(i),void 0!==l&&(null===(h=this.pendingTasks)||void 0===h||h.remove(l))})}}};function Mu(...t){}function Mh(t){let n,i;function s(){t=Mu;try{void 0!==i&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(i),void 0!==n&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{t(),s()}),"function"==typeof requestAnimationFrame&&(i=requestAnimationFrame(()=>{t(),s()})),()=>s()}function Ph(t){return queueMicrotask(()=>t()),()=>{t=Mu}}const T="isAngularZone",p=T+"_ID";let g=0;class O{constructor(n){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new es(!1),this.onMicrotaskEmpty=new es(!1),this.onStable=new es(!1),this.onError=new es(!1);const{enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:l=!1,scheduleInRootZone:h=Nh}=n;if(typeof Zone>"u")throw new _e(908,!1);Zone.assertZonePatched();const m=this;m._nesting=0,m._outer=m._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(m._inner=m._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(m._inner=m._inner.fork(Zone.longStackTraceZoneSpec)),m.shouldCoalesceEventChangeDetection=!l&&s,m.shouldCoalesceRunChangeDetection=l,m.callbackScheduled=!1,m.scheduleInRootZone=h,function rn(t){const n=()=>{!function Nt(t){function n(){Mh(()=>{t.callbackScheduled=!1,On(t),t.isCheckStableRunning=!0,be(t),t.isCheckStableRunning=!1})}t.isCheckStableRunning||t.callbackScheduled||(t.callbackScheduled=!0,t.scheduleInRootZone?Zone.root.run(()=>{n()}):t._outer.run(()=>{n()}),On(t))}(t)},i=g++;t._inner=t._inner.fork({name:"angular",properties:{[T]:!0,[p]:i,[p+i]:!0},onInvokeTask:(s,l,h,m,R,k)=>{if(function Yi(t){return vc(t,"__ignore_ng_zone__")}(k))return s.invokeTask(h,m,R,k);try{return cr(t),s.invokeTask(h,m,R,k)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||t.shouldCoalesceRunChangeDetection)&&n(),_r(t)}},onInvoke:(s,l,h,m,R,k,ee)=>{try{return cr(t),s.invoke(h,m,R,k,ee)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!function ks(t){return vc(t,"__scheduler_tick__")}(k)&&n(),_r(t)}},onHasTask:(s,l,h,m)=>{s.hasTask(h,m),l===h&&("microTask"==m.change?(t._hasPendingMicrotasks=m.microTask,On(t),be(t)):"macroTask"==m.change&&(t.hasPendingMacrotasks=m.macroTask))},onHandleError:(s,l,h,m)=>(s.handleError(h,m),t.runOutsideAngular(()=>t.onError.emit(m)),!1)})}(m)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(T)}static assertInAngularZone(){if(!O.isInAngularZone())throw new _e(909,!1)}static assertNotInAngularZone(){if(O.isInAngularZone())throw new _e(909,!1)}run(n,i,s){return this._inner.run(n,i,s)}runTask(n,i,s,l){const h=this._inner,m=h.scheduleEventTask("NgZoneEvent: "+l,n,oe,Mu,Mu);try{return h.runTask(m,i,s)}finally{h.cancelTask(m)}}runGuarded(n,i,s){return this._inner.runGuarded(n,i,s)}runOutsideAngular(n){return this._outer.run(n)}}const oe={};function be(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function On(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&!0===t.callbackScheduled)}function cr(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function _r(t){t._nesting--,be(t)}class mr{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new es,this.onMicrotaskEmpty=new es,this.onStable=new es,this.onError=new es}run(n,i,s){return n.apply(i,s)}runGuarded(n,i,s){return n.apply(i,s)}runOutsideAngular(n){return n()}runTask(n,i,s,l){return n.apply(i,s)}}function vc(t,n){var i;return!(!Array.isArray(t)||1!==t.length)&&!0===(null===(i=t[0])||void 0===i||null===(i=i.data)||void 0===i?void 0:i[n])}class Ia{constructor(){this._console=console}handleError(n){const i=this._findOriginalError(n);this._console.error("ERROR",n),i&&this._console.error("ORIGINAL ERROR",i)}_findOriginalError(n){let i=n&&Nu(n);for(;i&&Nu(i);)i=Nu(i);return i||null}}const Gg=new yr("",{providedIn:"root",factory:()=>{const t=Qt(O),n=Qt(Ia);return i=>t.runOutsideAngular(()=>n.handleError(i))}});function Lh(){return Ca(fi(),Rn())}function Ca(t,n){return new nu(Qo(t,n))}let nu=(()=>{class n{constructor(s){this.nativeElement=s}}return n.__NG_ELEMENT_ID__=Lh,n})();function jg(t){return t instanceof nu?t.nativeElement:t}function L_(){return this._results[Symbol.iterator]()}class _p{get changes(){var n;return null!==(n=this._changes)&&void 0!==n?n:this._changes=new es}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const i=_p.prototype;i[Symbol.iterator]||(i[Symbol.iterator]=L_)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,i){return this._results.reduce(n,i)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,i){this.dirty=!1;const s=function oo(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function Li(t,n,i){if(t.length!==n.length)return!1;for(let s=0;s<t.length;s++){let l=t[s],h=n[s];if(i&&(l=i(l),h=i(h)),h!==l)return!1}return!0}(this._results,s,i))&&(this._results=s,this.length=s.length,this.last=s[this.length-1],this.first=s[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(n){this._onDirty=n}setDirty(){var n;this.dirty=!0,null===(n=this._onDirty)||void 0===n||n.call(this)}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function Ed(t){return!(128&~t.flags)}const ts=new Map;let HS=0;function yp(t){ts.delete(t[pa])}const Wg="__ngContext__";function ns(t,n){xi(n)?(t[Wg]=n[pa],function Yg(t){ts.set(t[pa],t)}(n)):t[Wg]=n}function Qg(t){return Zg(t[Ja])}function Ly(t){return Zg(t[no])}function Zg(t){for(;null!==t&&!lo(t);)t=t[no];return t}let $_;function K_(t){$_=t}const Vh=new yr("",{providedIn:"root",factory:()=>j_}),j_="ng",im=new yr(""),xu=new yr("",{providedIn:"platform",factory:()=>"unknown"}),Bh=new yr("",{providedIn:"root",factory:()=>{var t;return(null===(t=function Lu(){if(void 0!==$_)return $_;if(typeof document<"u")return document;throw new _e(210,!1)}().body)||void 0===t||null===(t=t.querySelector("[ngCspNonce]"))||void 0===t?void 0:t.getAttribute("ngCspNonce"))||null}});let H_=()=>null;function Y_(t,n,i=!1){return H_(t,n,i)}const hm=new yr("",{providedIn:"root",factory:()=>!1});let ll;function Xy(t){var n;return(null===(n=function Op(){if(void 0===ll&&(ll=null,Xt.trustedTypes))try{ll=Xt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return ll}())||void 0===n?void 0:n.createScriptURL(t))||t}class Jy{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ye})`}}function Sc(t){return t instanceof Jy?t.changingThisBreaksApplicationSecurity:t}function Rd(t,n){const i=function Qy(t){return t instanceof Jy&&t.getTypeName()||null}(t);if(null!=i&&i!==n){if("ResourceURL"===i&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${i} (see ${ye})`)}return i===n}const aT=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var zh=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(zh||{});function _m(t){const n=qh();return n?n.sanitize(zh.URL,t)||"":Rd(t,"URL")?Sc(t):function Tc(t){return(t=String(t)).match(aT)?t:"unsafe:"+t}(Pn(t))}function sI(t){const n=qh();if(n)return Xy(n.sanitize(zh.RESOURCE_URL,t)||"");if(Rd(t,"ResourceURL"))return Xy(Sc(t));throw new _e(904,!1)}function aI(t,n,i){return function fT(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?sI:_m}(n,i)(t)}function qh(){const t=Rn();return t&&t[Ms].sanitizer}const EE=/^>|^->|<!--|-->|--!>|<!-$/g,lI=/(<|>)/g,uI="\u200b$1\u200b";function oa(t){return t instanceof Function?t():t}var Sm=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Sm||{});let ul;function Pl(t,n){return ul(t,n)}function cl(t,n,i,s,l){if(null!=s){let h,m=!1;lo(s)?h=s:xi(s)&&(m=!0,s=s[$r]);const R=ti(s);0===t&&null!==i?null==l?Rc(n,i,R):Ac(n,i,R,l||null,!0):1===t&&null!==i?Ac(n,i,R,l||null,!0):2===t?function Pd(t,n,i){t.removeChild(null,n,i)}(n,R,m):3===t&&n.destroyNode(R),null!=h&&function AR(t,n,i,s,l){const h=i[ms];h!==ti(i)&&cl(n,t,s,h,l);for(let R=Hi;R<i.length;R++){const k=i[R];wc(k[Yn],k,t,n,s,h)}}(n,t,h,i,l)}}function CE(t,n){return t.createComment(function vE(t){return t.replace(EE,n=>n.replace(lI,uI))}(n))}function Tm(t,n,i){return t.createElement(n,i)}function Mp(t,n){var i;null===(i=n[Ms].changeDetectionScheduler)||void 0===i||i.notify(9),wc(t,n,n[Nr],2,null,null)}function Pp(t,n){const i=t[ro],s=n[Ri];(xi(s)||n[qi]!==s[Ri][qi])&&(t[Ir]|=tc.HasTransplantedViews),null===i?t[ro]=[n]:i.push(n)}function Nd(t,n){const i=t[ro],s=i.indexOf(n);i.splice(s,1)}function Qh(t,n){if(t.length<=Hi)return;const i=Hi+n,s=t[i];if(s){const l=s[Qs];null!==l&&l!==t&&Nd(l,s),n>0&&(t[i-1][no]=s[no]);const h=yo(t,Hi+n);!function vI(t,n){Mp(t,n),n[$r]=null,n[Ni]=null}(s[Yn],s);const m=h[Xi];null!==m&&m.detachView(h[Yn]),s[Ri]=null,s[no]=null,s[Ir]&=-129}return s}function Zh(t,n){if(!(256&n[Ir])){const i=n[Nr];i.destroyNode&&wc(t,n,i,3,null,null),function yT(t){let n=t[Ja];if(!n)return Lp(t[Yn],t);for(;n;){let i=null;if(xi(n))i=n[Ja];else{const s=n[Hi];s&&(i=s)}if(!i){for(;n&&!n[no]&&n!==t;)xi(n)&&Lp(n[Yn],n),n=n[Ri];null===n&&(n=t),xi(n)&&Lp(n[Yn],n),i=n&&n[no]}n=i}}(n)}}function Lp(t,n){if(256&n[Ir])return;const i=A(null);try{n[Ir]&=-129,n[Ir]|=256,n[ei]&&me(n[ei]),function TE(t,n){let i;if(null!=t&&null!=(i=t.destroyHooks))for(let s=0;s<i.length;s+=2){const l=n[i[s]];if(!(l instanceof ad)){const h=i[s+1];if(Array.isArray(h))for(let m=0;m<h.length;m+=2){const R=l[h[m]],k=h[m+1];na(4,R,k);try{k.call(R)}finally{na(5,R,k)}}else{na(4,l,h);try{h.call(l)}finally{na(5,l,h)}}}}}(t,n),function SE(t,n){const i=t.cleanup,s=n[ha];if(null!==i)for(let h=0;h<i.length-1;h+=2)if("string"==typeof i[h]){const m=i[h+3];m>=0?s[m]():s[-m].unsubscribe(),h+=2}else i[h].call(s[i[h+1]]);null!==s&&(n[ha]=null);const l=n[gs];if(null!==l){n[gs]=null;for(let h=0;h<l.length;h++)(0,l[h])()}}(t,n),1===n[Yn].type&&n[Nr].destroy();const s=n[Qs];if(null!==s&&lo(n[Ri])){s!==n[Ri]&&Nd(s,n);const l=n[Xi];null!==l&&l.detachView(t)}yp(n)}finally{A(i)}}function xp(t,n,i){return function Am(t,n,i){let s=n;for(;null!==s&&168&s.type;)s=(n=s).parent;if(null===s)return i[$r];{const{componentOffset:l}=s;if(l>-1){const{encapsulation:h}=t.data[s.directiveStart+l];if(h===ri.None||h===ri.Emulated)return null}return Qo(s,i)}}(t,n.parent,i)}function Ac(t,n,i,s,l){t.insertBefore(n,i,s,l)}function Rc(t,n,i){t.appendChild(n,i)}function AE(t,n,i,s,l){null!==s?Ac(t,n,i,s,l):Rc(t,n,i)}function Rm(t,n){return t.parentNode(n)}function ef(t,n,i){return kp(t,n,i)}let tf,kp=function II(t,n,i){return 40&t.type?Qo(t,i):null};function Dc(t,n,i,s){const l=xp(t,s,n),h=n[Nr],R=ef(s.parent||n[Ni],s,n);if(null!=l)if(Array.isArray(i))for(let k=0;k<i.length;k++)AE(h,l,i[k],R,!1);else AE(h,l,i,R,!1);void 0!==tf&&tf(h,s,n,i,l)}function Md(t,n){if(null!==n){const i=n.type;if(3&i)return Qo(n,t);if(4&i)return Dm(-1,t[n.index]);if(8&i){const s=n.child;if(null!==s)return Md(t,s);{const l=t[n.index];return lo(l)?Dm(-1,l):ti(l)}}if(128&i)return Md(t,n.next);if(32&i)return Pl(n,t)()||ti(t[n.index]);{const s=Up(t,n);return null!==s?Array.isArray(s)?s[0]:Md(Ls(t[qi]),s):Md(t,n.next)}}return null}function Up(t,n){return null!==n?t[qi][Ni].projection[n.projection]:null}function Dm(t,n){const i=Hi+t+1;if(i<n.length){const s=n[i],l=s[Yn].firstChild;if(null!==l)return Md(s,l)}return n[ms]}function ru(t,n,i,s,l,h,m){for(;null!=i;){if(128===i.type){i=i.next;continue}const R=s[i.index],k=i.type;if(m&&0===n&&(R&&ns(ti(R),s),i.flags|=2),32&~i.flags)if(8&k)ru(t,n,i.child,s,l,h,!1),cl(n,t,l,R,h);else if(32&k){const ee=Pl(i,s);let de;for(;de=ee();)cl(n,t,l,de,h);cl(n,t,l,R,h)}else 16&k?Ld(t,n,s,i,l,h):cl(n,t,l,R,h);i=m?i.projectionNext:i.next}}function wc(t,n,i,s,l,h){ru(i,s,t.firstChild,n,l,h,!1)}function Ld(t,n,i,s,l,h){const m=i[qi],k=m[Ni].projection[s.projection];if(Array.isArray(k))for(let ee=0;ee<k.length;ee++)cl(n,t,l,k[ee],h);else{let ee=k;const de=m[Ri];Ed(s)&&(ee.flags|=128),ru(t,n,ee,de,l,h,!0)}}function CI(t,n,i){""===i?t.removeAttribute(n,"class"):t.setAttribute(n,"class",i)}function Fp(t,n,i){const{mergedAttrs:s,classes:l,styles:h}=i;null!==s&&La(t,n,s),null!==l&&CI(t,n,l),null!==h&&function wE(t,n,i){t.setAttribute(n,"style",i)}(t,n,h)}const zr={};function SI(t=1){Vp(Wr(),Rn(),No()+t,!1)}function Vp(t,n,i,s){if(!s)if(3&~n[Ir]){const h=t.preOrderHooks;null!==h&&cc(n,h,0,i)}else{const h=t.preOrderCheckHooks;null!==h&&Au(n,h,i)}ys(i)}function rf(t,n=jr.Default){const i=Rn();return null===i?St(t,n):gc(fi(),i,ot(t),n)}function TI(){throw new Error("invalid")}function Bp(t,n,i,s,l,h){const m=A(null);try{let R=null;l&Io.SignalBased&&(R=n[s][N]),null!==R&&void 0!==R.transformFn&&(h=R.transformFn(h)),l&Io.HasDecoratorInputTransform&&(h=t.inputTransforms[s].call(n,h)),null!==t.setInput?t.setInput(n,R,h,i,s):Uo(n,R,s,h)}finally{A(m)}}function wm(t,n,i,s,l,h,m,R,k,ee,de){const De=n.blueprint.slice();return De[$r]=l,De[Ir]=204|s,(null!==ee||t&&2048&t[Ir])&&(De[Ir]|=2048),sh(De),De[Ri]=De[Hl]=t,De[Ti]=i,De[Ms]=m||t&&t[Ms],De[Nr]=R||t&&t[Nr],De[Gi]=k||t&&t[Gi]||null,De[Ni]=h,De[pa]=function Oy(){return HS++}(),De[ao]=de,De[Il]=ee,De[qi]=2==n.type?t[qi]:De,De}function Oc(t,n,i,s,l){let h=t.data[n];if(null===h)h=function Om(t,n,i,s,l){const h=Su(),m=Ji(),k=t.data[n]=function bc(t,n,i,s,l,h){let m=n?n.injectorIndex:-1,R=0;return ql()&&(R|=128),{type:i,index:s,insertBeforeIndex:null,injectorIndex:m,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:R,providerIndexes:0,value:l,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?h:h&&h.parent,i,n,s,l);return null===t.firstChild&&(t.firstChild=k),null!==h&&(m?null==h.child&&null!==k.parent&&(h.child=k):null===h.next&&(h.next=k,k.prev=h)),k}(t,n,i,s,l),function T_(){return Lr.lFrame.inI18n}()&&(h.flags|=32);else if(64&h.type){h.type=i,h.value=s,h.attrs=l;const m=function Tu(){const t=Lr.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();h.injectorIndex=null===m?-1:m.injectorIndex}return ma(h,!0),h}function sf(t,n,i,s){if(0===i)return-1;const l=n.length;for(let h=0;h<i;h++)n.push(s),t.blueprint.push(s),t.data.push(null);return l}function OE(t,n,i,s,l){const h=No(),m=2&s;try{ys(-1),m&&n.length>Tr&&Vp(t,n,Tr,!1),na(m?2:0,l),i(s,l)}finally{ys(h),na(m?3:1,l)}}function bm(t,n,i){if(Zs(n)){const s=A(null);try{const h=n.directiveEnd;for(let m=n.directiveStart;m<h;m++){const R=t.data[m];R.contentQueries&&R.contentQueries(1,i[m],m)}}finally{A(s)}}}function Gp(t,n,i){td()&&(function OT(t,n,i,s){const l=i.directiveStart,h=i.directiveEnd;ea(i)&&function LT(t,n,i){const s=Qo(n,t),l=AI(i);let m=16;i.signals?m=4096:i.onPush&&(m=64);const R=Nm(t,wm(t,l,null,m,s,n,null,t[Ms].rendererFactory.createRenderer(s,i),null,null,null));t[n.index]=R}(n,i,t.data[l+i.componentOffset]),t.firstCreatePass||cd(i,n),ns(s,n);const m=i.initialInputs;for(let R=l;R<h;R++){const k=t.data[R],ee=Is(n,t,R,i);ns(ee,n),null!==m&&NR(0,R-l,ee,k,0,m),To(k)&&(Ps(i.index,n)[Ti]=Is(n,t,R,i))}}(t,n,i,Qo(i,n)),!(64&~i.flags)&&PE(t,n,i))}function af(t,n,i=Qo){const s=n.localNames;if(null!==s){let l=n.index+1;for(let h=0;h<s.length;h+=2){const m=s[h+1],R=-1===m?i(n,t):t[m];t[l++]=R}}}function AI(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=RI(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function RI(t,n,i,s,l,h,m,R,k,ee,de){const De=Tr+s,lt=De+l,Ct=function DR(t,n){const i=[];for(let s=0;s<n;s++)i.push(s<t?null:zr);return i}(De,lt),gt="function"==typeof ee?ee():ee;return Ct[Yn]={type:t,blueprint:Ct,template:i,queries:null,viewQuery:R,declTNode:n,data:Ct.slice().fill(null,De),bindingStartIndex:De,expandoStartIndex:lt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:k,consts:gt,incompleteFirstPass:!1,ssrId:de}}let TT=()=>null;function DI(t,n,i,s,l){for(let m in n){var h;if(!n.hasOwnProperty(m))continue;const R=n[m];if(void 0===R)continue;null!==(h=s)&&void 0!==h||(s={});let k,ee=Io.None;Array.isArray(R)?(k=R[0],ee=R[1]):k=R;let de=m;if(null!==l){if(!l.hasOwnProperty(m))continue;de=l[m]}0===t?bE(s,i,de,k,ee):bE(s,i,de,k)}return s}function bE(t,n,i,s,l){let h;t.hasOwnProperty(i)?(h=t[i]).push(n,s):h=t[i]=[n,s],void 0!==l&&h.push(l)}function NE(t,n,i,s){if(td()){const l=null===s?null:{"":-1},h=function lf(t,n){const i=t.directiveRegistry;let s=null,l=null;if(i)for(let m=0;m<i.length;m++){const R=i[m];if(gu(n,R.selectors,!1))if(s||(s=[]),To(R))if(null!==R.findHostDirectiveDefs){const k=[];l=l||new Map,R.findHostDirectiveDefs(R,k,l),s.unshift(...k,R),Kp(t,n,k.length)}else s.unshift(R),Kp(t,n,0);else{var h;l=l||new Map,null===(h=R.findHostDirectiveDefs)||void 0===h||h.call(R,R,s,l),s.push(R)}}return null===s?null:[s,l]}(t,i);let m,R;null===h?m=R=null:[m,R]=h,null!==m&&ME(t,n,i,m,l,R),l&&function bR(t,n,i){if(n){const s=t.localNames=[];for(let l=0;l<n.length;l+=2){const h=i[n[l+1]];if(null==h)throw new _e(-301,!1);s.push(n[l],h)}}}(i,s,l)}i.mergedAttrs=xa(i.mergedAttrs,i.attrs)}function ME(t,n,i,s,l,h){for(let De=0;De<s.length;De++)al(cd(i,n),t,s[De].type);!function MT(t,n,i){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+i,t.providerIndexes=n}(i,t.data.length,s.length);for(let De=0;De<s.length;De++){const lt=s[De];lt.providersResolver&&lt.providersResolver(lt)}let m=!1,R=!1,k=sf(t,n,s.length,null);for(let De=0;De<s.length;De++){const lt=s[De];i.mergedAttrs=xa(i.mergedAttrs,lt.hostAttrs),PT(t,i,n,k,lt),NT(k,lt,l),null!==lt.contentQueries&&(i.flags|=4),(null!==lt.hostBindings||null!==lt.hostAttrs||0!==lt.hostVars)&&(i.flags|=64);const Ct=lt.type.prototype;var ee,de;!m&&(Ct.ngOnChanges||Ct.ngOnInit||Ct.ngDoCheck)&&((null!==(ee=t.preOrderHooks)&&void 0!==ee?ee:t.preOrderHooks=[]).push(i.index),m=!0),R||!Ct.ngOnChanges&&!Ct.ngDoCheck||((null!==(de=t.preOrderCheckHooks)&&void 0!==de?de:t.preOrderCheckHooks=[]).push(i.index),R=!0),k++}!function AT(t,n,i){const l=n.directiveEnd,h=t.data,m=n.attrs,R=[];let k=null,ee=null;for(let de=n.directiveStart;de<l;de++){const De=h[de],lt=i?i.get(De):null,gt=lt?lt.outputs:null;k=DI(0,De.inputs,de,k,lt?lt.inputs:null),ee=DI(1,De.outputs,de,ee,gt);const En=null===k||null===m||Os(n)?null:MR(k,de,m);R.push(En)}null!==k&&(k.hasOwnProperty("class")&&(n.flags|=8),k.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=R,n.inputs=k,n.outputs=ee}(t,i,h)}function PE(t,n,i){const s=i.directiveStart,l=i.directiveEnd,h=i.index,m=function A_(){return Lr.lFrame.currentDirectiveIndex}();try{ys(h);for(let R=s;R<l;R++){const k=t.data[R],ee=n[R];gh(R),(null!==k.hostBindings||0!==k.hostVars||null!==k.hostAttrs)&&bT(k,ee)}}finally{ys(-1),gh(m)}}function bT(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Kp(t,n,i){var s;n.componentOffset=i,(null!==(s=t.components)&&void 0!==s?s:t.components=[]).push(n.index)}function NT(t,n,i){if(i){if(n.exportAs)for(let s=0;s<n.exportAs.length;s++)i[n.exportAs[s]]=t;To(n)&&(i[""]=t)}}function PT(t,n,i,s,l){t.data[s]=l;const h=l.factory||(l.factory=po(l.type)),m=new ad(h,To(l),rf);t.blueprint[s]=m,i[s]=m,function wI(t,n,i,s,l){const h=l.hostBindings;if(h){let m=t.hostBindingOpCodes;null===m&&(m=t.hostBindingOpCodes=[]);const R=~n.index;(function wT(t){let n=t.length;for(;n>0;){const i=t[--n];if("number"==typeof i&&i<0)return i}return 0})(m)!=R&&m.push(R),m.push(i,s,h)}}(t,n,s,sf(t,i,l.hostVars,zr),l)}function iu(t,n,i,s,l,h){const m=Qo(t,n);!function OI(t,n,i,s,l,h,m){if(null==h)t.removeAttribute(n,l,i);else{const R=null==m?Pn(h):m(h,s||"",l);t.setAttribute(n,l,R,i)}}(n[Nr],m,h,t.value,i,s,l)}function NR(t,n,i,s,l,h){const m=h[n];if(null!==m)for(let R=0;R<m.length;)Bp(s,i,m[R++],m[R++],m[R++],m[R++])}function MR(t,n,i){let s=null,l=0;for(;l<i.length;){const h=i[l];if(0!==h)if(5!==h){if("number"==typeof h)break;if(t.hasOwnProperty(h)){null===s&&(s=[]);const m=t[h];for(let R=0;R<m.length;R+=3)if(m[R]===n){s.push(h,m[R+1],m[R+2],i[l+1]);break}}l+=2}else l+=2;else l+=4}return s}function xT(t,n,i,s){return[t,!0,0,n,null,s,null,i,null,null]}function bI(t,n){const i=t.contentQueries;if(null!==i){const s=A(null);try{for(let l=0;l<i.length;l+=2){const m=i[l+1];if(-1!==m){const R=t.data[m];od(i[l]),R.contentQueries(2,n[m],m)}}}finally{A(s)}}}function Nm(t,n){return t[Ja]?t[Js][no]=n:t[Ja]=n,t[Js]=n,n}function LE(t,n,i){od(0);const s=A(null);try{n(t,i)}finally{A(s)}}function NI(t){var n;return null!==(n=t[ha])&&void 0!==n?n:t[ha]=[]}function xE(t){var n;return null!==(n=t.cleanup)&&void 0!==n?n:t.cleanup=[]}function Mm(t,n){const i=t[Gi],s=i?i.get(Ia,null):null;s&&s.handleError(n)}function kE(t,n,i,s,l){for(let h=0;h<i.length;){const m=i[h++],R=i[h++],k=i[h++];Bp(t.data[m],n[m],s,R,k,l)}}function kT(t,n){const i=Ps(n,t),s=i[Yn];!function UT(t,n){for(let i=n.length;i<t.blueprint.length;i++)n.push(t.blueprint[i])}(s,i);const l=i[$r];null!==l&&null===i[ao]&&(i[ao]=Y_(l,i[Gi])),UE(s,i,i[Ti])}function UE(t,n,i){Zf(n);try{var s;const l=t.viewQuery;null!==l&&LE(1,l,i);const h=t.template;null!==h&&OE(t,n,h,1,i),t.firstCreatePass&&(t.firstCreatePass=!1),null===(s=n[Xi])||void 0===s||s.finishViewCreation(t),t.staticContentQueries&&bI(t,n),t.staticViewQueries&&LE(2,t.viewQuery,i);const m=t.components;null!==m&&function FT(t,n){for(let i=0;i<n.length;i++)kT(t,n[i])}(n,m)}catch(l){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),l}finally{n[Ir]&=-5,_h()}}function jp(t,n,i,s){const l=A(null);try{var h,m,R;const k=n.tView,De=wm(t,k,i,4096&t[Ir]?4096:16,null,n,null,null,null!==(h=null==s?void 0:s.injector)&&void 0!==h?h:null,null!==(m=null==s?void 0:s.embeddedViewInjector)&&void 0!==m?m:null,null!==(R=null==s?void 0:s.dehydratedView)&&void 0!==R?R:null);De[Qs]=t[n.index];const Ct=t[Xi];return null!==Ct&&(De[Xi]=Ct.createEmbeddedView(k)),UE(k,De,i),De}finally{A(l)}}function uf(t,n){return!n||null===n.firstChild||Ed(t)}function kd(t,n,i,s=!0){const l=n[Yn];if(function bd(t,n,i,s){const l=Hi+s,h=i.length;s>0&&(i[l-1][no]=n),s<h-Hi?(n[no]=i[l],to(i,Hi+s,n)):(i.push(n),n[no]=null),n[Ri]=i;const m=n[Qs];null!==m&&i!==m&&Pp(m,n);const R=n[Xi];null!==R&&R.insertView(t),Ki(n),n[Ir]|=128}(l,n,t,i),s){const m=Dm(i,t),R=n[Nr],k=Rm(R,t[ms]);null!==k&&function yI(t,n,i,s,l,h){s[$r]=l,s[Ni]=n,wc(t,s,i,1,l,h)}(l,t[Ni],R,n,k,m)}const h=n[ao];null!==h&&null!==h.firstChild&&(h.firstChild=null)}function Pm(t,n,i,s,l=!1){for(;null!==i;){if(128===i.type){i=l?i.projectionNext:i.next;continue}const h=n[i.index];null!==h&&s.push(ti(h)),lo(h)&&BT(h,s);const m=i.type;if(8&m)Pm(t,n,i.child,s);else if(32&m){const R=Pl(i,n);let k;for(;k=R();)s.push(k)}else if(16&m){const R=Up(n,i);if(Array.isArray(R))s.push(...R);else{const k=Ls(n[qi]);Pm(k[Yn],k,R,s,!0)}}i=l?i.projectionNext:i.next}return s}function BT(t,n){for(let i=Hi;i<t.length;i++){const s=t[i],l=s[Yn].firstChild;null!==l&&Pm(s[Yn],s,l,n)}t[ms]!==t[$r]&&n.push(t[ms])}let GT=[];const LR={...C,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{oi(t.lView)},consumerOnSignalRead(){this.lView[ei]=this}},kR={...C,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let n=Ls(t.lView);for(;n&&!Lm(n[Yn]);)n=Ls(n);n&&oc(n)},consumerOnSignalRead(){this.lView[ei]=this}};function Lm(t){return 2!==t.type}const xm=100;function km(t,n=!0,i=0){const s=t[Ms],l=s.rendererFactory;var m;null===(m=l.begin)||void 0===m||m.call(l);try{!function $T(t,n){const i=qf();try{id(!0),GE(t,n);let s=0;for(;ah(t);){if(s===xm)throw new _e(103,!1);s++,GE(t,1)}}finally{id(i)}}(t,i)}catch(ee){throw n&&Mm(t,ee),ee}finally{var R,k;null===(R=l.end)||void 0===R||R.call(l),null===(k=s.inlineEffectRunner)||void 0===k||k.flush()}}function LI(t,n,i,s){var l;const h=n[Ir];if(!(256&~h))return;null===(l=n[Ms].inlineEffectRunner)||void 0===l||l.flush(),Zf(n);let k=!0,ee=null,de=null;Lm(t)?(de=function PR(t){var n;return null!==(n=t[ei])&&void 0!==n?n:function MI(t){var n;const i=null!==(n=GT.pop())&&void 0!==n?n:Object.create(LR);return i.lView=t,i}(t)}(n),ee=se(de)):null===function I(){return d}()?(k=!1,de=function xR(t){var n;const i=null!==(n=t[ei])&&void 0!==n?n:Object.create(kR);return i.lView=t,i}(n),ee=se(de)):n[ei]&&(me(n[ei]),n[ei]=null);try{sh(n),function ph(t){return Lr.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==i&&OE(t,n,i,2,s);const De=!(3&~h);if(De){const gt=t.preOrderCheckHooks;null!==gt&&Au(n,gt,null)}else{const gt=t.preOrderHooks;null!==gt&&cc(n,gt,0,null),dc(n,0)}if(function Hp(t){for(let n=Qg(t);null!==n;n=Ly(n)){if(!(n[Ir]&tc.HasTransplantedViews))continue;const i=n[ro];for(let s=0;s<i.length;s++)oc(i[s])}}(n),VE(n,0),null!==t.contentQueries&&bI(t,n),De){const gt=t.contentCheckHooks;null!==gt&&Au(n,gt)}else{const gt=t.contentHooks;null!==gt&&cc(n,gt,1),dc(n,1)}!function CT(t,n){const i=t.hostBindingOpCodes;if(null!==i)try{for(let s=0;s<i.length;s++){const l=i[s];if(l<0)ys(~l);else{const h=l,m=i[++s],R=i[++s];Xf(m,h),R(2,n[h])}}}finally{ys(-1)}}(t,n);const lt=t.components;null!==lt&&$E(n,lt,0);const Ct=t.viewQuery;if(null!==Ct&&LE(2,Ct,s),De){const gt=t.viewCheckHooks;null!==gt&&Au(n,gt)}else{const gt=t.viewHooks;null!==gt&&cc(n,gt,2),dc(n,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[Yl]){for(const gt of n[Yl])gt();n[Yl]=null}n[Ir]&=-73}catch(De){throw oi(n),De}finally{null!==de&&(ue(de,ee),k&&function PI(t){t.lView[ei]!==t&&(t.lView=null,GT.push(t))}(de)),_h()}}function VE(t,n){for(let i=Qg(t);null!==i;i=Ly(i))for(let s=Hi;s<i.length;s++)xI(i[s],n)}function BE(t,n,i){xI(Ps(n,t),i)}function xI(t,n){el(t)&&GE(t,n)}function GE(t,n){const s=t[Yn],l=t[Ir],h=t[ei];let m=!!(0===n&&16&l);if(m||(m=!!(64&l&&0===n)),m||(m=!!(1024&l)),m||(m=!(null==h||!h.dirty||!Be(h))),m||(m=!1),h&&(h.dirty=!1),t[Ir]&=-9217,m)LI(s,t,s.template,t[Ti]);else if(8192&l){VE(t,1);const R=s.components;null!==R&&$E(t,R,1)}}function $E(t,n,i){for(let s=0;s<n.length;s++)BE(t,n[s],i)}function Mc(t,n){var i;const s=qf()?64:1088;for(null===(i=t[Ms].changeDetectionScheduler)||void 0===i||i.notify(n);t;){t[Ir]|=s;const l=Ls(t);if(Cl(t)&&!l)return t;t=l}return null}class Yp{get rootNodes(){const n=this._lView,i=n[Yn];return Pm(i,n,i.firstChild,[])}constructor(n,i,s=!0){this._lView=n,this._cdRefInjectingView=i,this.notifyErrorHandler=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ti]}set context(n){this._lView[Ti]=n}get destroyed(){return!(256&~this._lView[Ir])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[Ri];if(lo(n)){const i=n[8],s=i?i.indexOf(this):-1;s>-1&&(Qh(n,s),yo(i,s))}this._attachedToViewContainer=!1}Zh(this._lView[Yn],this._lView)}onDestroy(n){Qc(this._lView,n)}markForCheck(){Mc(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Ir]&=-129}reattach(){Ki(this._lView),this._lView[Ir]|=128}detectChanges(){this._lView[Ir]|=1024,km(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new _e(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const n=Cl(this._lView),i=this._lView[Qs];null!==i&&!n&&Nd(i,this._lView),Mp(this._lView[Yn],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new _e(902,!1);this._appRef=n;const i=Cl(this._lView),s=this._lView[Qs];null!==s&&!i&&Pp(s,this._lView),Ki(this._lView)}}let cf=(()=>{class n{}return n.__NG_ELEMENT_ID__=dl,n})();const kI=cf,Ud=class extends kI{constructor(n,i,s){super(),this._declarationLView=n,this._declarationTContainer=i,this.elementRef=s}get ssrId(){var n;return(null===(n=this._declarationTContainer.tView)||void 0===n?void 0:n.ssrId)||null}createEmbeddedView(n,i){return this.createEmbeddedViewImpl(n,i)}createEmbeddedViewImpl(n,i,s){const l=jp(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:i,dehydratedView:s});return new Yp(l)}};function dl(){return rs(fi(),Rn())}function rs(t,n){return 4&t.type?new Ud(n,t,Ca(t,n)):null}let sv=()=>null;function Lc(t,n){return sv(t,n)}class vf{}const Jp=new yr("",{providedIn:"root",factory:()=>!1}),Ll=new yr(""),Qp=new yr("");class dA{}class oC{}class Wm{resolveComponentFactory(n){throw function sC(t){const n=Error(`No component factory found for ${rr(t)}.`);return n.ngComponent=t,n}(n)}}class yf{}yf.NULL=new Wm;class Gd{}let hA=(()=>{class n{constructor(){this.destroyNode=null}}return n.__NG_ELEMENT_ID__=()=>function fA(){const t=Rn(),i=Ps(fi().index,t);return(xi(i)?i:t)[Nr]}(),n})(),lC=(()=>{var t;class n{}return(t=n).\u0275prov=mn({token:t,providedIn:"root",factory:()=>null}),n})();function ou(t){return!!Fr(t)}function kc(t,n,i){let s=i?t.styles:null,l=i?t.classes:null,h=0;if(null!==n)for(let m=0;m<n.length;m++){const R=n[m];"number"==typeof R?h=R:1==h?l=Ht(l,R):2==h&&(s=Ht(s,R+": "+n[++m]+";"))}i?t.styles=s:t.stylesWithoutHost=s,i?t.classes=l:t.classesWithoutHost=l}class uv extends yf{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const i=Gr(n);return new ig(i,this.ngModule)}}function uC(t,n){const i=[];for(const s in t){if(!t.hasOwnProperty(s))continue;const l=t[s];if(void 0===l)continue;const h=Array.isArray(l),m=h?l[0]:l;i.push(n?{propName:m,templateName:s,isSignal:!!((h?l[1]:Io.None)&Io.SignalBased)}:{propName:m,templateName:s})}return i}class ig extends oC{get inputs(){const n=this.componentDef,i=n.inputTransforms,s=uC(n.inputs,!0);if(null!==i)for(const l of s)i.hasOwnProperty(l.propName)&&(l.transform=i[l.propName]);return s}get outputs(){return uC(this.componentDef.outputs,!1)}constructor(n,i){super(),this.componentDef=n,this.ngModule=i,this.componentType=n.type,this.selector=function Rr(t){return t.map(Fn).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!i}create(n,i,s,l){const h=A(null);try{var R;let k=(l=l||this.ngModule)instanceof Co?l:null===(R=l)||void 0===R?void 0:R.injector;k&&null!==this.componentDef.getStandaloneInjector&&(k=this.componentDef.getStandaloneInjector(k)||k);const ee=k?new sl(n,k):n,de=ee.get(Gd,null);if(null===de)throw new _e(407,!1);const Ct={rendererFactory:de,sanitizer:ee.get(lC,null),inlineEffectRunner:null,changeDetectionScheduler:ee.get(vf,null)},gt=de.createRenderer(null,this.componentDef),En=this.componentDef.selectors[0][0]||"div",kn=s?function ST(t,n,i,s){const h=s.get(hm,!1)||i===ri.ShadowDom,m=t.selectRootElement(n,h);return function wR(t){TT(t)}(m),m}(gt,s,this.componentDef.encapsulation,ee):Tm(gt,En,function cC(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(En));let Xn=512;this.componentDef.signals?Xn|=4096:this.componentDef.onPush||(Xn|=16);let Tn=null;null!==kn&&(Tn=Y_(kn,ee,!0));const Mr=RI(0,null,null,1,0,null,null,null,null,null,null),Br=wm(null,Mr,null,Xn,null,null,Ct,gt,ee,null,Tn);Zf(Br);let Zi,As,wa=null;try{const Ul=this.componentDef;let bg,dR=null;Ul.findHostDirectiveDefs?(bg=[],dR=new Map,Ul.findHostDirectiveDefs(Ul,bg,dR),bg.push(Ul)):bg=[Ul];const bP=function mA(t,n){const i=t[Yn],s=Tr;return t[s]=n,Oc(i,s,2,"#host",null)}(Br,kn);wa=function _A(t,n,i,s,l,h,m){const R=l[Yn];!function dC(t,n,i,s){for(const l of t)n.mergedAttrs=xa(n.mergedAttrs,l.hostAttrs);null!==n.mergedAttrs&&(kc(n,n.mergedAttrs,!0),null!==i&&Fp(s,i,n))}(s,t,n,m);let k=null;null!==n&&(k=Y_(n,l[Gi]));const ee=h.rendererFactory.createRenderer(n,i);let de=16;i.signals?de=4096:i.onPush&&(de=64);const De=wm(l,AI(i),null,de,l[t.index],t,h,ee,null,null,k);return R.firstCreatePass&&Kp(R,t,s.length-1),Nm(l,De),l[t.index]=De}(bP,kn,Ul,bg,Br,Ct,gt),As=vs(Mr,Tr),kn&&function zm(t,n,i,s){if(s)La(t,i,["ng-version","18.2.8"]);else{const{attrs:l,classes:h}=function gi(t){const n=[],i=[];let s=1,l=2;for(;s<t.length;){let h=t[s];if("string"==typeof h)2===l?""!==h&&n.push(h,t[++s]):8===l&&i.push(h);else{if(!Wo(l))break;l=h}s++}return{attrs:n,classes:i}}(n.selectors[0]);l&&La(t,i,l),h&&h.length>0&&CI(t,i,h.join(" "))}}(gt,Ul,kn,s),void 0!==i&&function cv(t,n,i){const s=t.projection=[];for(let l=0;l<n.length;l++){const h=i[l];s.push(null!=h?Array.from(h):null)}}(As,this.ngContentSelectors,i),Zi=function hC(t,n,i,s,l,h){const m=fi(),R=l[Yn],k=Qo(m,l);ME(R,l,m,i,null,s);for(let de=0;de<i.length;de++)ns(Is(l,R,m.directiveStart+de,m),l);PE(R,l,m),k&&ns(k,l);const ee=Is(l,R,m.directiveStart+m.componentOffset,m);if(t[Ti]=l[Ti]=ee,null!==h)for(const de of h)de(ee,n);return bm(R,m,l),ee}(wa,Ul,bg,dR,Br,[EA]),UE(Mr,Br,null)}catch(Ul){throw null!==wa&&yp(wa),yp(Br),Ul}finally{_h()}return new gA(this.componentType,Zi,Ca(As,Br),Br,As)}finally{A(h)}}}class gA extends dA{constructor(n,i,s,l,h){super(),this.location=s,this._rootLView=l,this._tNode=h,this.previousInputValues=null,this.instance=i,this.hostView=this.changeDetectorRef=new Yp(l,void 0,!1),this.componentType=n}setInput(n,i){const s=this._tNode.inputs;let l;if(null!==s&&(l=s[n])){var h;if(null!==(h=this.previousInputValues)&&void 0!==h||(this.previousInputValues=new Map),this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),i))return;const m=this._rootLView;kE(m[Yn],m,l,n,i),this.previousInputValues.set(n,i),Mc(Ps(this._tNode.index,m),1)}}get injector(){return new So(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function EA(){const t=fi();sd(Rn()[Yn],t)}let qm=(()=>{class n{}return n.__NG_ELEMENT_ID__=fC,n})();function fC(){return gC(fi(),Rn())}const vA=qm,pC=class extends vA{constructor(n,i,s){super(),this._lContainer=n,this._hostTNode=i,this._hostLView=s}get element(){return Ca(this._hostTNode,this._hostLView)}get injector(){return new So(this._hostTNode,this._hostLView)}get parentInjector(){const n=Zl(this._hostTNode,this._hostLView);if(Th(n)){const i=Du(n,this._hostLView),s=Ql(n);return new So(i[Yn].data[s+8],i)}return new So(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const i=Fs(this._lContainer);return null!==i&&i[n]||null}get length(){return this._lContainer.length-Hi}createEmbeddedView(n,i,s){let l,h;"number"==typeof s?l=s:null!=s&&(l=s.index,h=s.injector);const m=Lc(this._lContainer,n.ssrId),R=n.createEmbeddedViewImpl(i||{},h,m);return this.insertImpl(R,l,uf(this._hostTNode,m)),R}createComponent(n,i,s,l,h){var m,R,k;const ee=n&&!function Bn(t){return"function"==typeof t}(n);let de;if(ee)de=i;else{const Xn=i||{};de=Xn.index,s=Xn.injector,l=Xn.projectableNodes,h=Xn.environmentInjector||Xn.ngModuleRef}const De=ee?n:new ig(Gr(n)),lt=s||this.parentInjector;if(!h&&null==De.ngModule){const Tn=(ee?lt:this.parentInjector).get(Co,null);Tn&&(h=Tn)}const Ct=Gr(null!==(m=De.componentType)&&void 0!==m?m:{}),gt=Lc(this._lContainer,null!==(R=null==Ct?void 0:Ct.id)&&void 0!==R?R:null),En=null!==(k=null==gt?void 0:gt.firstChild)&&void 0!==k?k:null,kn=De.create(lt,l,En,h);return this.insertImpl(kn.hostView,de,uf(this._hostTNode,gt)),kn}insert(n,i){return this.insertImpl(n,i,!0)}insertImpl(n,i,s){const l=n._lView;if(function Hf(t){return lo(t[Ri])}(l)){const R=this.indexOf(n);if(-1!==R)this.detach(R);else{const k=l[Ri],ee=new pC(k,k[Ni],k[Ri]);ee.detach(ee.indexOf(n))}}const h=this._adjustIndex(i),m=this._lContainer;return kd(m,l,h,s),n.attachToViewContainerRef(),to(og(m),h,n),n}move(n,i){return this.insert(n,i)}indexOf(n){const i=Fs(this._lContainer);return null!==i?i.indexOf(n):-1}remove(n){const i=this._adjustIndex(n,-1),s=Qh(this._lContainer,i);s&&(yo(og(this._lContainer),i),Zh(s[Yn],s))}detach(n){const i=this._adjustIndex(n,-1),s=Qh(this._lContainer,i);return s&&null!=yo(og(this._lContainer),i)?new Yp(s):null}_adjustIndex(n,i=0){return null==n?this.length+i:n}};function Fs(t){return t[8]}function og(t){return t[8]||(t[8]=[])}function gC(t,n){let i;const s=n[t.index];return lo(s)?i=s:(i=xT(s,n,null,t),n[t.index]=i,Nm(n,i)),dv(i,n,t,s),new pC(i,t,n)}let dv=function fl(t,n,i,s){if(t[ms])return;let l;l=8&i.type?ti(s):function If(t,n){const i=t[Nr],s=i.createComment(""),l=Qo(n,t);return Ac(i,Rm(i,l),s,function RE(t,n){return t.nextSibling(n)}(i,l),!1),s}(n,i),t[ms]=l},hv=()=>!1;class fv{constructor(n){this.queryList=n,this.matches=null}clone(){return new fv(this.queryList)}setDirty(){this.queryList.setDirty()}}class Xm{constructor(n=[]){this.queries=n}createEmbeddedView(n){const i=n.queries;if(null!==i){const s=null!==n.contentQueries?n.contentQueries[0]:i.length,l=[];for(let h=0;h<s;h++){const m=i.getByIndex(h);l.push(this.queries[m.indexInDeclarationView].clone())}return new Xm(l)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let i=0;i<this.queries.length;i++)null!==Ev(n,i).matches&&this.queries[i].setDirty()}}class Uc{constructor(n,i,s=null){this.flags=i,this.read=s,this.predicate="string"==typeof n?function RA(t){return t.split(",").map(n=>n.trim())}(n):n}}class pv{constructor(n=[]){this.queries=n}elementStart(n,i){for(let s=0;s<this.queries.length;s++)this.queries[s].elementStart(n,i)}elementEnd(n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(n)}embeddedTView(n){let i=null;for(let s=0;s<this.length;s++){const l=null!==i?i.length:0,h=this.getByIndex(s).embeddedTView(n,l);h&&(h.indexInDeclarationView=s,null!==i?i.push(h):i=[h])}return null!==i?new pv(i):null}template(n,i){for(let s=0;s<this.queries.length;s++)this.queries[s].template(n,i)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class gv{constructor(n,i=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(n,i){this.isApplyingToNode(i)&&this.matchTNode(n,i)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,i){this.elementStart(n,i)}embeddedTView(n,i){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,i),new gv(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1&~this.metadata.flags){const i=this._declarationNodeIndex;let s=n.parent;for(;null!==s&&8&s.type&&s.index!==i;)s=s.parent;return i===(null!==s?s.index:-1)}return this._appliesToNextNode}matchTNode(n,i){const s=this.metadata.predicate;if(Array.isArray(s))for(let l=0;l<s.length;l++){const h=s[l];this.matchTNodeWithReadOption(n,i,_C(i,h)),this.matchTNodeWithReadOption(n,i,hd(i,n,h,!1,!1))}else s===cf?4&i.type&&this.matchTNodeWithReadOption(n,i,-1):this.matchTNodeWithReadOption(n,i,hd(i,n,s,!1,!1))}matchTNodeWithReadOption(n,i,s){if(null!==s){const l=this.metadata.read;if(null!==l)if(l===nu||l===qm||l===cf&&4&i.type)this.addMatch(i.index,-2);else{const h=hd(i,n,l,!1,!1);null!==h&&this.addMatch(i.index,h)}else this.addMatch(i.index,s)}}addMatch(n,i){null===this.matches?this.matches=[n,i]:this.matches.push(n,i)}}function _C(t,n){const i=t.localNames;if(null!==i)for(let s=0;s<i.length;s+=2)if(i[s]===n)return i[s+1];return null}function TA(t,n,i,s){return-1===i?function SA(t,n){return 11&t.type?Ca(t,n):4&t.type?rs(t,n):null}(n,t):-2===i?function AA(t,n,i){return i===nu?Ca(n,t):i===cf?rs(n,t):i===qm?gC(n,t):void 0}(t,n,s):Is(t,t[Yn],i,n)}function mv(t,n,i,s){const l=n[Xi].queries[s];if(null===l.matches){const h=t.data,m=i.matches,R=[];for(let k=0;null!==m&&k<m.length;k+=2){const ee=m[k];R.push(ee<0?null:TA(n,h[ee],m[k+1],i.metadata.read))}l.matches=R}return l.matches}function sg(t,n,i,s){const l=t.queries.getByIndex(i),h=l.matches;if(null!==h){const m=mv(t,n,l,i);for(let R=0;R<h.length;R+=2){const k=h[R];if(k>0)s.push(m[R/2]);else{const ee=h[R+1],de=n[-k];for(let De=Hi;De<de.length;De++){const lt=de[De];lt[Qs]===lt[Ri]&&sg(lt[Yn],lt,ee,s)}if(null!==de[ro]){const De=de[ro];for(let lt=0;lt<De.length;lt++){const Ct=De[lt];sg(Ct[Yn],Ct,ee,s)}}}}}return s}function EC(t,n,i){var s;const l=new _p(!(4&~i));return function $p(t,n,i,s){const l=NI(n);l.push(i),t.firstCreatePass&&xE(t).push(s,l.length-1)}(t,n,l,l.destroy),(null!==(s=n[Xi])&&void 0!==s?s:n[Xi]=new Xm).queries.push(new fv(l))-1}function _v(t,n,i){null===t.queries&&(t.queries=new pv),t.queries.track(new gv(n,i))}function Ev(t,n){return t.queries.getByIndex(n)}function vv(t,n){const i=t[Yn],s=Ev(i,n);return s.crossesNgTemplate?sg(i,t,n,[]):mv(i,t,s,n)}const IC=new Set;function Vs(t){var n,i;IC.has(t)||(IC.add(t),null===(n=performance)||void 0===n||null===(i=n.mark)||void 0===i||i.call(n,"mark_feature_usage",{detail:{feature:t}}))}function yv(t,n){Vs("NgSignals");const i=function fe(t){const n=Object.create(_n);n.value=t;const i=()=>(M(n),n.value);return i[N]=n,i}(t),s=i[N];return null!=n&&n.equal&&(s.equal=n.equal),i.set=l=>Kt(s,l),i.update=l=>function Ut(t,n){$()||At(),Kt(t,n(t.value))}(s,l),i.asReadonly=Iv.bind(i),i}function Iv(){const t=this[N];if(void 0===t.readonlyFn){const n=()=>this();n[N]=t,t.readonlyFn=n}return t.readonlyFn}function Dv(t){let n=function zA(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),i=!0;const s=[t];for(;n;){let l;if(To(t))l=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new _e(903,!1);l=n.\u0275dir}if(l){if(i){s.push(l);const m=t;m.inputs=Qm(t.inputs),m.inputTransforms=Qm(t.inputTransforms),m.declaredInputs=Qm(t.declaredInputs),m.outputs=Qm(t.outputs);const R=l.hostBindings;R&&qR(t,R);const k=l.viewQuery,ee=l.contentQueries;if(k&&XA(t,k),ee&&zR(t,ee),wv(t,l),ar(t.outputs,l.outputs),To(l)&&l.data.animation){const de=t.data;de.animation=(de.animation||[]).concat(l.data.animation)}}const h=l.features;if(h)for(let m=0;m<h.length;m++){const R=h[m];R&&R.ngInherit&&R(t),R===Dv&&(i=!1)}}n=Object.getPrototypeOf(n)}!function qA(t){let n=0,i=null;for(let s=t.length-1;s>=0;s--){const l=t[s];l.hostVars=n+=l.hostVars,l.hostAttrs=xa(l.hostAttrs,i=xa(i,l.hostAttrs))}}(s)}function wv(t,n){for(const s in n.inputs){if(!n.inputs.hasOwnProperty(s)||t.inputs.hasOwnProperty(s))continue;const l=n.inputs[s];if(void 0!==l&&(t.inputs[s]=l,t.declaredInputs[s]=n.declaredInputs[s],null!==n.inputTransforms)){var i;const h=Array.isArray(l)?l[0]:l;if(!n.inputTransforms.hasOwnProperty(h))continue;null!==(i=t.inputTransforms)&&void 0!==i||(t.inputTransforms={}),t.inputTransforms[h]=n.inputTransforms[h]}}}function Qm(t){return t===pi?{}:t===Ur?[]:t}function XA(t,n){const i=t.viewQuery;t.viewQuery=i?(s,l)=>{n(s,l),i(s,l)}:n}function zR(t,n){const i=t.contentQueries;t.contentQueries=i?(s,l,h)=>{n(s,l,h),i(s,l,h)}:n}function qR(t,n){const i=t.hostBindings;t.hostBindings=i?(s,l)=>{n(s,l),i(s,l)}:n}function Ov(t){const n=t.inputConfig,i={};for(const s in n)if(n.hasOwnProperty(s)){const l=n[s];Array.isArray(l)&&l[3]&&(i[s]=l[3])}t.inputTransforms=i}class $d{}class ZA{}function bv(t,n){return new Sf(t,null!=n?n:null,[])}class Sf extends $d{constructor(n,i,s,l=!0){super(),this.ngModuleType=n,this._parent=i,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new uv(this);const h=Fr(n);this._bootstrapComponents=oa(h.bootstrap),this._r3Injector=bl(n,i,[{provide:$d,useValue:this},{provide:yf,useValue:this.componentFactoryResolver},...s],rr(n),new Set(["environment"])),l&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class NC extends ZA{constructor(n){super(),this.moduleType=n}create(n){return new Sf(this.moduleType,n,[])}}class e0 extends $d{constructor(n){super(),this.componentFactoryResolver=new uv(this),this.instance=null;const i=new bo([...n.providers,{provide:$d,useValue:this},{provide:yf,useValue:this.componentFactoryResolver}],n.parent||Fa(),n.debugName,new Set(["environment"]));this.injector=i,n.runEnvironmentInitializers&&i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function MC(t,n,i=null){return new e0({providers:t,parent:n,debugName:i,runEnvironmentInitializers:!0}).injector}function Nv(t){return!!PC(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function PC(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Ao(t,n,i){return!Object.is(t[n],i)&&(t[n]=i,!0)}function ug(t,n,i,s,l,h,m,R,k,ee){const de=i+Tr,De=n.firstCreatePass?function LC(t,n,i,s,l,h,m,R,k){const ee=n.consts,de=Oc(n,t,4,m||null,R||null);NE(n,i,de,Zo(ee,k)),sd(n,de);const De=de.tView=RI(2,de,s,l,h,n.directiveRegistry,n.pipeRegistry,null,n.schemas,ee,null);return null!==n.queries&&(n.queries.template(n,de),De.queries=n.queries.embeddedTView(de)),de}(de,n,t,s,l,h,m,R,k):n.data[de];ma(De,!1);const lt=xC(n,t,De,i);nl()&&Dc(n,t,lt,De),ns(lt,t);const Ct=xT(lt,t,lt,De);return t[de]=Ct,Nm(t,Ct),function mC(t,n,i){return hv(t,n,i)}(Ct,De,t),Ka(De)&&Gp(n,t,De),null!=k&&af(t,De,ee),De}function cg(t,n,i,s,l,h,m,R){const k=Rn(),ee=Wr();return ug(k,ee,t,n,i,s,l,Zo(ee.consts,h),m,R),cg}let xC=function kC(t,n,i,s){return ra(!0),n[Nr].createComment("")};var Df=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Df||{});let KC=(()=>{var t;class n{constructor(){this.impl=null}execute(){var s;null===(s=this.impl)||void 0===s||s.execute()}}return(t=n).\u0275prov=mn({token:t,providedIn:"root",factory:()=>new t}),n})();class o_{constructor(){this.ngZone=Qt(O),this.scheduler=Qt(vf),this.errorHandler=Qt(Ia,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}execute(){this.executing=!0;for(const i of o_.PHASES)for(const s of this.sequences)if(!s.erroredOrDestroyed&&s.hooks[i])try{s.pipelinedValue=this.ngZone.runOutsideAngular(()=>s.hooks[i](s.pipelinedValue))}catch(l){var n;s.erroredOrDestroyed=!0,null===(n=this.errorHandler)||void 0===n||n.handleError(l)}this.executing=!1;for(const i of this.sequences)i.afterRun(),i.once&&(this.sequences.delete(i),i.destroy());for(const i of this.deferredRegistrations)this.sequences.add(i);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(n){this.executing?this.deferredRegistrations.add(n):(this.sequences.add(n),this.scheduler.notify(6))}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}}(K=o_).PHASES=[Df.EarlyRead,Df.Write,Df.MixedReadWrite,Df.Read],K.\u0275prov=mn({token:K,providedIn:"root",factory:()=>new K});class r0{constructor(n,i,s,l){this.impl=n,this.hooks=i,this.once=s,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=null==l?void 0:l.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){var n;this.impl.unregister(this),null===(n=this.unregisterOnDestroy)||void 0===n||n.call(this)}}function s_(t,n){var i;(null==n||!n.injector)&&function U(t){if(!mu())throw new _e(-203,!1)}();const s=null!==(i=null==n?void 0:n.injector)&&void 0!==i?i:Qt(Mo);return function Ta(t){return"browser"===(null!=t?t:Qt(Mo)).get(xu)}(s)?(Vs("NgAfterNextRender"),function jC(t,n,i,s){var l,h;const m=n.get(KC);null!==(l=m.impl)&&void 0!==l||(m.impl=n.get(o_));const R=null!==(h=null==i?void 0:i.phase)&&void 0!==h?h:Df.MixedReadWrite,k=!0!==(null==i?void 0:i.manualCleanup)?n.get(tu):null,ee=new r0(m.impl,function s0(t,n){if(t instanceof Function){const i=[void 0,void 0,void 0,void 0];return i[n]=t,i}return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}(t,R),s,k);return m.impl.register(ee),ee}(t,s,n,!0)):HC}const HC={destroy(){}};function Vv(t,n,i,s){const l=Rn();return Ao(l,_a(),n)&&(Wr(),iu(ki(),l,t,n,i,s)),Vv}function Mf(t,n){return t<<17|n<<2}function du(t){return t>>17&32767}function Pf(t){return 2|t}function Kc(t){return(131068&t)>>2}function d_(t,n){return-131069&t|n<<2}function Wd(t){return 1|t}function tS(t,n,i,s){const l=t[i+1],h=null===n;let m=s?du(l):Kc(l),R=!1;for(;0!==m&&(!1===R||h);){const ee=t[m+1];Yv(t[m],n)&&(R=!0,t[m+1]=s?Wd(ee):Pf(ee)),m=s?du(ee):Kc(ee)}R&&(t[i+1]=s?Pf(l):Wd(l))}function Yv(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&cs(t,n)>=0}function Xv(t,n,i){const s=Rn();return Ao(s,_a(),n)&&function Aa(t,n,i,s,l,h,m,R){const k=Qo(n,i);let de,ee=n.inputs;!R&&null!=ee&&(de=ee[s])?(kE(t,i,de,s,l),ea(n)&&function RT(t,n){const i=Ps(n,t);16&i[Ir]||(i[Ir]|=64)}(i,n.index)):3&n.type&&(s=function Nc(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(s),l=null!=m?m(l,n.value||"",s):l,h.setProperty(k,s,l))}(Wr(),ki(),s,t,n,s[Nr],i,!1),Xv}function Jv(t,n,i,s,l){const m=l?"class":"style";kE(t,i,n.inputs[m],m,s)}function Qv(t,n){return function Da(t,n,i,s){const l=Rn(),h=Wr(),m=function Ea(t){const n=Lr.lFrame,i=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,i}(2);h.firstUpdatePass&&function ey(t,n,i,s){const l=t.data;if(null===l[i+1]){const h=l[No()],m=function Zv(t,n){return n>=t.expandoStartIndex}(t,i);(function iy(t,n){return!!(t.flags&(n?8:16))})(h,s)&&null===n&&!m&&(n=!1),n=function ty(t,n,i,s){const l=function uc(t){const n=Lr.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let h=s?n.residualClasses:n.residualStyles;if(null===l)0===(s?n.classBindings:n.styleBindings)&&(i=jc(i=ry(null,t,n,i,s),n.attrs,s),h=null);else{const m=n.directiveStylingLast;if(-1===m||t[m]!==l)if(i=ry(l,t,n,i,s),null===h){let k=function ny(t,n,i){const s=i?n.classBindings:n.styleBindings;if(0!==Kc(s))return t[du(s)]}(t,n,s);void 0!==k&&Array.isArray(k)&&(k=ry(null,t,n,k[1],s),k=jc(k,n.attrs,s),function oS(t,n,i,s){t[du(i?n.classBindings:n.styleBindings)]=s}(t,n,s,k))}else h=function sS(t,n,i){let s;const l=n.directiveEnd;for(let h=1+n.directiveStylingLast;h<l;h++)s=jc(s,t[h].hostAttrs,i);return jc(s,n.attrs,i)}(t,n,s)}return void 0!==h&&(s?n.residualClasses=h:n.residualStyles=h),i}(l,h,n,s),function Hv(t,n,i,s,l,h){let m=h?n.classBindings:n.styleBindings,R=du(m),k=Kc(m);t[s]=i;let de,ee=!1;if(Array.isArray(i)?(de=i[1],(null===de||cs(i,de)>0)&&(ee=!0)):de=i,l)if(0!==k){const lt=du(t[R+1]);t[s+1]=Mf(lt,R),0!==lt&&(t[lt+1]=d_(t[lt+1],s)),t[R+1]=function la(t,n){return 131071&t|n<<17}(t[R+1],s)}else t[s+1]=Mf(R,0),0!==R&&(t[R+1]=d_(t[R+1],s)),R=s;else t[s+1]=Mf(k,0),0===R?R=s:t[k+1]=d_(t[k+1],s),k=s;ee&&(t[s+1]=Pf(t[s+1])),tS(t,de,s,!0),tS(t,de,s,!1),function _0(t,n,i,s,l){const h=l?t.residualClasses:t.residualStyles;null!=h&&"string"==typeof n&&cs(h,n)>=0&&(i[s+1]=Wd(i[s+1]))}(n,de,t,s,h),m=Mf(R,k),h?n.classBindings=m:n.styleBindings=m}(l,h,n,i,m,s)}}(h,t,m,s),n!==zr&&Ao(l,m,n)&&function m_(t,n,i,s,l,h,m,R){if(!(3&n.type))return;const k=t.data,ee=k[R+1],de=function p0(t){return!(1&~t)}(ee)?lS(k,n,i,l,Kc(ee),m):void 0;vg(de)||(vg(h)||function Gs(t){return!(2&~t)}(ee)&&(h=lS(k,null,i,l,R,m)),function RR(t,n,i,s,l){if(n)l?t.addClass(i,s):t.removeClass(i,s);else{let h=-1===s.indexOf("-")?void 0:Sm.DashCase;null==l?t.removeStyle(i,s,h):("string"==typeof l&&l.endsWith("!important")&&(l=l.slice(0,-10),h|=Sm.Important),t.setStyle(i,s,l,h))}}(s,m,function Xc(t,n){return ti(n[t])}(No(),i),l,h))}(h,h.data[No()],l,l[Nr],t,l[m+1]=function uS(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=rr(Sc(t)))),t}(n,i),s,m)}(t,n,null,!0),Qv}function ry(t,n,i,s,l){let h=null;const m=i.directiveEnd;let R=i.directiveStylingLast;for(-1===R?R=i.directiveStart:R++;R<m&&(h=n[R],s=jc(s,h.hostAttrs,l),h!==t);)R++;return null!==t&&(i.directiveStylingLast=R),s}function jc(t,n,i){const s=i?1:2;let l=-1;if(null!==n)for(let h=0;h<n.length;h++){const m=n[h];"number"==typeof m?l=m:l===s&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Ii(t,m,!!i||n[++h]))}return void 0===t?null:t}function lS(t,n,i,s,l,h){const m=null===n;let R;for(;l>0;){const k=t[l],ee=Array.isArray(k),de=ee?k[1]:k,De=null===de;let lt=i[l+1];lt===zr&&(lt=De?Ur:void 0);let Ct=De?Ho(lt,s):de===s?lt:void 0;if(ee&&!vg(Ct)&&(Ct=Ho(k,s)),vg(Ct)&&(R=Ct,m))return R;const gt=t[l+1];l=m?du(gt):Kc(gt)}if(null!==n){let k=h?n.residualClasses:n.residualStyles;null!=k&&(R=Ho(k,s))}return R}function vg(t){return void 0!==t}function xl(t,n,i,s){const l=Rn(),h=Wr(),m=Tr+t,R=l[Nr],k=h.firstCreatePass?function D0(t,n,i,s,l,h){const m=n.consts,k=Oc(n,t,2,s,Zo(m,l));return NE(n,i,k,Zo(m,h)),null!==k.attrs&&kc(k,k.attrs,!1),null!==k.mergedAttrs&&kc(k,k.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,k),k}(m,h,l,n,i,s):h.data[m],ee=Vf(h,l,k,R,n,t);l[m]=ee;const de=Ka(k);return ma(k,!0),Fp(R,ee,k),!function Tf(t){return!(32&~t.flags)}(k)&&nl()&&Dc(h,l,ee,k),0===function Zc(){return Lr.lFrame.elementDepthCount}()&&ns(ee,l),function ed(){Lr.lFrame.elementDepthCount++}(),de&&(Gp(h,l,k),bm(h,k,l)),null!==s&&af(l,k),xl}function E_(){let t=fi();Ji()?nd():(t=t.parent,ma(t,!1));const n=t;(function ch(t){return Lr.skipHydrationRootTNode===t})(n)&&function Pg(){Lr.skipHydrationRootTNode=null}(),function Cu(){Lr.lFrame.elementDepthCount--}();const i=Wr();return i.firstCreatePass&&(sd(i,t),Zs(t)&&i.queries.elementEnd(t)),null!=n.classesWithoutHost&&function Ay(t){return!!(8&t.flags)}(n)&&Jv(i,n,Rn(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function w_(t){return!!(16&t.flags)}(n)&&Jv(i,n,Rn(),n.stylesWithoutHost,!1),E_}function uy(t,n,i,s){return xl(t,n,i,s),E_(),uy}let Vf=(t,n,i,s,l,h)=>(ra(!0),Tm(s,l,function Jl(){return Lr.lFrame.currentNamespace}()));function Hc(t,n,i){const s=Rn(),l=Wr(),h=t+Tr,m=l.firstCreatePass?function Cg(t,n,i,s,l){const h=n.consts,m=Zo(h,s),R=Oc(n,t,8,"ng-container",m);return null!==m&&kc(R,m,!0),NE(n,i,R,Zo(h,l)),null!==n.queries&&n.queries.elementStart(n,R),R}(h,l,s,n,i):l.data[h];ma(m,!0);const R=_o(l,s,m,t);return s[h]=R,nl()&&Dc(l,s,R,m),ns(R,s),Ka(m)&&(Gp(l,s,m),bm(l,m,s)),null!=i&&af(s,m),Hc}function Sg(){let t=fi();const n=Wr();return Ji()?nd():(t=t.parent,ma(t,!1)),n.firstCreatePass&&(sd(n,t),Zs(t)&&n.queries.elementEnd(t)),Sg}function Tg(t,n,i){return Hc(t,n,i),Sg(),Tg}let _o=(t,n,i,s)=>(ra(!0),CE(n[Nr],""));function cy(){return Rn()}const fu=void 0;var zu=["en",[["a","p"],["AM","PM"],fu],[["AM","PM"],fu,fu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],fu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],fu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",fu,"{1} 'at' {0}",fu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function vS(t){const i=Math.floor(Math.abs(t)),s=t.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===s?1:5}];let eh={};function th(t){const n=function M0(t){return t.toLowerCase().replace(/_/g,"-")}(t);let i=Ag(n);if(i)return i;const s=n.split("-")[0];if(i=Ag(s),i)return i;if("en"===s)return zu;throw new _e(701,!1)}function y_(t){return th(t)[qu.PluralCase]}function Ag(t){return t in eh||(eh[t]=Xt.ng&&Xt.ng.common&&Xt.ng.common.locales&&Xt.ng.common.locales[t]),eh[t]}var qu=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(qu||{});const Dg="en-US";let wg=Dg,yD=(t,n,i)=>{};function x0(t,n,i,s){const l=Rn(),h=Wr(),m=fi();return function k0(t,n,i,s,l,h,m){const R=Ka(s),ee=t.firstCreatePass&&xE(t),de=n[Ti],De=NI(n);let lt=!0;if(3&s.type||m){const En=Qo(s,n),kn=m?m(En):En,Xn=De.length,Tn=m?Br=>m(ti(Br[s.index])):s.index;let Mr=null;if(!m&&R&&(Mr=function Eb(t,n,i,s){const l=t.cleanup;if(null!=l)for(let h=0;h<l.length-1;h+=2){const m=l[h];if(m===i&&l[h+1]===s){const R=n[ha],k=l[h+2];return R.length>k?R[k]:null}"string"==typeof m&&(h+=2)}return null}(t,n,l,s.index)),null!==Mr)(Mr.__ngLastListenerFn__||Mr).__ngNextListenerFn__=h,Mr.__ngLastListenerFn__=h,lt=!1;else{h=TD(s,n,de,h),yD(En,l,h);const Br=i.listen(kn,l,h);De.push(h,Br),ee&&ee.push(l,Tn,Xn,Xn+1)}}else h=TD(s,n,de,h);const Ct=s.outputs;let gt;if(lt&&null!==Ct&&(gt=Ct[l])){const En=gt.length;if(En)for(let kn=0;kn<En;kn+=2){const Zi=n[gt[kn]][gt[kn+1]].subscribe(h),As=De.length;De.push(h,Zi),ee&&ee.push(l,s.index,As,-(As+1))}}}(h,l,l[Nr],m,t,n,s),x0}function SD(t,n,i,s){const l=A(null);try{return na(6,n,i),!1!==i(s)}catch(h){return Mm(t,h),!1}finally{na(7,n,i),A(l)}}function TD(t,n,i,s){return function l(h){if(h===Function)return s;Mc(t.componentOffset>-1?Ps(t.index,n):n,5);let R=SD(n,i,s,h),k=l.__ngNextListenerFn__;for(;k;)R=SD(n,i,k,h)&&R,k=k.__ngNextListenerFn__;return R}}function AD(t=1){return function R_(t){return(Lr.lFrame.contextLView=function Jc(t,n){for(;t>0;)n=n[Hl],t--;return n}(t,Lr.lFrame.contextLView))[Ti]}(t)}function vb(t,n){let i=null;const s=function ae(t){const n=t.attrs;if(null!=n){const i=n.indexOf(5);if(!(1&i))return n[i+1]}return null}(t);for(let l=0;l<n.length;l++){const h=n[l];if("*"!==h){if(null===s?gu(t,h,!0):re(s,h))return l}else i=l}return i}function RD(t){const n=Rn()[qi][Ni];if(!n.projection){const s=n.projection=function Ys(t,n){const i=[];for(let s=0;s<t;s++)i.push(n);return i}(t?t.length:1,null),l=s.slice();let h=n.child;for(;null!==h;){if(128!==h.type){const m=t?vb(h,t):0;null!==m&&(l[m]?l[m].projectionNext=h:s[m]=h,l[m]=h)}h=h.next}}}function DD(t,n=0,i,s,l,h){const m=Rn(),R=Wr(),k=s?t+1:null;null!==k&&ug(m,R,k,s,l,h,null,i);const ee=Oc(R,Tr+t,16,null,i||null);null===ee.projection&&(ee.projection=n),nd();const De=!m[ao]||ql();null===m[qi][Ni].projection[ee.projection]&&null!==k?function yb(t,n,i){const s=Tr+i,l=n.data[s],h=t[s],m=Lc(h,l.tView.ssrId);kd(h,jp(t,l,void 0,{dehydratedView:m}),0,uf(l,m))}(m,R,k):De&&32&~ee.flags&&function IT(t,n,i){Ld(n[Nr],0,n,i,xp(t,i,n),ef(i.parent||n[Ni],i,n))}(R,m,ee)}function UD(t,n,i,s){!function yC(t,n,i,s){const l=Wr();if(l.firstCreatePass){const h=fi();_v(l,new Uc(n,i,s),h.index),function DA(t,n){const i=t.contentQueries||(t.contentQueries=[]);n!==(i.length?i[i.length-1]:-1)&&i.push(t.queries.length-1,n)}(l,t),!(2&~i)&&(l.staticContentQueries=!0)}return EC(l,Rn(),i)}(t,n,i,s)}function FD(t,n,i){!function vC(t,n,i){const s=Wr();return s.firstCreatePass&&(_v(s,new Uc(t,n,i),-1),!(2&~n)&&(s.staticViewQueries=!0)),EC(s,Rn(),n)}(t,n,i)}function VD(t){const n=Rn(),i=Wr(),s=mh();od(s+1);const l=Ev(i,s);if(t.dirty&&function Ng(t){return!(4&~t[Ir])}(n)===!(2&~l.metadata.flags)){if(null===l.matches)t.reset([]);else{const h=vv(n,s);t.reset(h,jg),t.notifyOnChanges()}return!0}return!1}function BD(){return function Jm(t,n){return t[Xi].queries[n].queryList}(Rn(),mh())}function XD(t,n=""){const i=Rn(),s=Wr(),l=t+Tr,h=s.firstCreatePass?Oc(s,l,1,n,null):s.data[l],m=JD(s,i,h,n,t);i[l]=m,nl()&&Dc(s,i,m,h),ma(h,!1)}let JD=(t,n,i,s,l)=>(ra(!0),function Jh(t,n){return t.createText(n)}(n[Nr],s));function B0(t,n,i,s,l){if(t=ot(t),Array.isArray(t))for(let h=0;h<t.length;h++)B0(t[h],n,i,s,l);else{const h=Wr(),m=Rn(),R=fi();let k=fs(t)?t:ot(t.provide);const ee=Ga(t),de=1048575&R.providerIndexes,De=R.directiveStart,lt=R.providerIndexes>>20;if(fs(t)||!t.multi){const Ct=new ad(ee,l,rf),gt=$0(k,n,l?de:de+lt,De);-1===gt?(al(cd(R,m),h,k),G0(h,t,n.length),n.push(k),R.directiveStart++,R.directiveEnd++,l&&(R.providerIndexes+=1048576),i.push(Ct),m.push(Ct)):(i[gt]=Ct,m[gt]=Ct)}else{const Ct=$0(k,n,de+lt,De),gt=$0(k,n,de,de+lt),kn=gt>=0&&i[gt];if(l&&!kn||!l&&!(Ct>=0&&i[Ct])){al(cd(R,m),h,k);const Xn=function $b(t,n,i,s,l){const h=new ad(t,i,rf);return h.multi=[],h.index=n,h.componentProviders=0,dw(h,l,s&&!i),h}(l?Gb:Bb,i.length,l,s,ee);!l&&kn&&(i[gt].providerFactory=Xn),G0(h,t,n.length,0),n.push(k),R.directiveStart++,R.directiveEnd++,l&&(R.providerIndexes+=1048576),i.push(Xn),m.push(Xn)}else G0(h,t,Ct>-1?Ct:gt,dw(i[l?gt:Ct],ee,!l&&s));!l&&s&&kn&&i[gt].componentProviders++}}}function G0(t,n,i,s){const l=fs(n),h=function qs(t){return!!t.useClass}(n);if(l||h){const k=(h?ot(n.useClass):n).prototype.ngOnDestroy;if(k){const ee=t.destroyHooks||(t.destroyHooks=[]);if(!l&&n.multi){const de=ee.indexOf(i);-1===de?ee.push(i,[s,k]):ee[de+1].push(s,k)}else ee.push(i,k)}}}function dw(t,n,i){return i&&t.componentProviders++,t.multi.push(n)-1}function $0(t,n,i,s){for(let l=i;l<s;l++)if(n[l]===t)return l;return-1}function Bb(t,n,i,s){return K0(this.multi,[])}function Gb(t,n,i,s){const l=this.multi;let h;if(this.providerFactory){const m=this.providerFactory.componentProviders,R=Is(i,i[Yn],this.providerFactory.index,s);h=R.slice(0,m),K0(l,h);for(let k=m;k<R.length;k++)h.push(R[k])}else h=[],K0(l,h);return h}function K0(t,n){for(let i=0;i<t.length;i++)n.push((0,t[i])());return n}function hw(t,n=[]){return i=>{i.providersResolver=(s,l)=>function Vb(t,n,i){const s=Wr();if(s.firstCreatePass){const l=To(t);B0(i,s.data,s.blueprint,l,!0),B0(n,s.data,s.blueprint,l,!1)}}(s,l?l(t):t,n)}}let Kb=(()=>{var t;class n{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s)){const l=bs(0,s.type),h=l.length>0?MC([l],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s,h)}return this.cachedInjectors.get(s)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}}return(t=n).\u0275prov=mn({token:t,providedIn:"environment",factory:()=>new t(St(Co))}),n})();function fw(t){Vs("NgStandalone"),t.getStandaloneInjector=n=>n.get(Kb).getOrCreateStandaloneInjector(t)}function mw(t,n,i){const s=function Vo(){const t=Lr.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}()+t,l=Rn();return l[s]===zr?function ju(t,n,i){return t[n]=i}(l,s,i?n.call(i):n()):function e_(t,n){return t[n]}(l,s)}class Uw{constructor(n){this.full=n;const i=n.split(".");this.major=i[0],this.minor=i[1],this.patch=i.slice(2).join(".")}}const NN=new Uw("18.2.8");let Fw=(()=>{var t;class n{log(s){console.log(s)}warn(s){console.warn(s)}}return(t=n).\u0275fac=function(s){return new(s||t)},t.\u0275prov=mn({token:t,factory:t.\u0275fac,providedIn:"platform"}),n})();const $w=new yr(""),Kw=new yr("");let X0,rM=(()=>{var t;class n{constructor(s,l,h){this._ngZone=s,this.registry=l,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,X0||(function iM(t){X0=t}(h),h.addToWindow(l)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{O.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb()}});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(s)||(clearTimeout(l.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,l,h){let m=-1;l&&l>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(R=>R.timeoutId!==m),s()},l)),this._callbacks.push({doneCb:s,timeoutId:m,updateCb:h})}whenStable(s,l,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,l,h),this._runCallbacksIfReady()}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,l,h){return[]}}return(t=n).\u0275fac=function(s){return new(s||t)(St(O),St(jw),St(Kw))},t.\u0275prov=mn({token:t,factory:t.\u0275fac}),n})(),jw=(()=>{var t;class n{constructor(){this._applications=new Map}registerApplication(s,l){this._applications.set(s,l)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,l=!0){var h,m;return null!==(h=null===(m=X0)||void 0===m?void 0:m.findTestabilityInTree(this,s,l))&&void 0!==h?h:null}}return(t=n).\u0275fac=function(s){return new(s||t)},t.\u0275prov=mn({token:t,factory:t.\u0275fac,providedIn:"platform"}),n})();function J0(t){return!!t&&"function"==typeof t.then}function Hw(t){return!!t&&"function"==typeof t.subscribe}const Yw=new yr("");let Ww=(()=>{var t;class n{constructor(){var s;this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,h)=>{this.resolve=l,this.reject=h}),this.appInits=null!==(s=Qt(Yw,{optional:!0}))&&void 0!==s?s:[]}runInitializers(){if(this.initialized)return;const s=[];for(const h of this.appInits){const m=h();if(J0(m))s.push(m);else if(Hw(m)){const R=new Promise((k,ee)=>{m.subscribe({complete:k,error:ee})});s.push(R)}}const l=()=>{this.done=!0,this.resolve()};Promise.all(s).then(()=>{l()}).catch(h=>{this.reject(h)}),0===s.length&&l(),this.initialized=!0}}return(t=n).\u0275fac=function(s){return new(s||t)},t.\u0275prov=mn({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();const MS=new yr("");function qw(t,n){return Array.isArray(n)?n.reduce(qw,t):{...t,...n}}let zc=(()=>{var t;class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Qt(Gg),this.afterRenderManager=Qt(KC),this.zonelessEnabled=Qt(Jp),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new sr.B,this.afterTick=new sr.B,this.componentTypes=[],this.components=[],this.isStable=Qt(Nl).hasPendingTasks.pipe((0,bn.T)(s=>!s)),this._injector=Qt(Co)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let s;return new Promise(l=>{s=this.isStable.subscribe({next:h=>{h&&l()}})}).finally(()=>{s.unsubscribe()})}get injector(){return this._injector}bootstrap(s,l){const h=s instanceof oC;if(!this._injector.get(Ww).done)throw!h&&_i(s),new _e(405,!1);let R;R=h?s:this._injector.get(yf).resolveComponentFactory(s),this.componentTypes.push(R.componentType);const k=function oM(t){return t.isBoundToModule}(R)?void 0:this._injector.get($d),de=R.create(Mo.NULL,[],l||R.selector,k),De=de.location.nativeElement,lt=de.injector.get($w,null);return null==lt||lt.registerApplication(De),de.onDestroy(()=>{this.detachView(de.hostView),PS(this.components,de),null==lt||lt.unregisterApplication(De)}),this._loadComponent(de),de}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new _e(101,!1);const s=A(null);try{this._runningTick=!0,this.synchronize()}catch(l){this.internalErrorHandler(l)}finally{this._runningTick=!1,A(s),this.afterTick.next()}}synchronize(){let s=null;this._injector.destroyed||(s=this._injector.get(Gd,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let l=0;for(;0!==this.dirtyFlags&&l++<10;)this.synchronizeOnce(s)}synchronizeOnce(s){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,7&this.dirtyFlags){const m=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(m);for(let{_lView:R,notifyErrorHandler:k}of this._views)lM(R,k,m,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),7&this.dirtyFlags)return}else{var l,h;null==s||null===(l=s.begin)||void 0===l||l.call(s),null==s||null===(h=s.end)||void 0===h||h.call(s)}8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:s})=>ah(s))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(s){const l=s;this._views.push(l),l.attachToAppRef(this)}detachView(s){const l=s;PS(this._views,l),l.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const l=this._injector.get(MS,[]);[...this._bootstrapListeners,...l].forEach(h=>h(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>PS(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new _e(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=n).\u0275fac=function(s){return new(s||t)},t.\u0275prov=mn({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();function PS(t,n){const i=t.indexOf(n);i>-1&&t.splice(i,1)}function lM(t,n,i,s){(i||ah(t))&&km(t,n,i&&!s?0:1)}class uM{constructor(n,i){this.ngModuleFactory=n,this.componentFactories=i}}let cM=(()=>{var t;class n{compileModuleSync(s){return new NC(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const l=this.compileModuleSync(s),m=oa(Fr(s).declarations).reduce((R,k)=>{const ee=Gr(k);return ee&&R.push(new ig(ee)),R},[]);return new uM(l,m)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return(t=n).\u0275fac=function(s){return new(s||t)},t.\u0275prov=mn({token:t,factory:t.\u0275fac,providedIn:"root"}),n})(),fM=(()=>{var t;class n{constructor(){this.zone=Qt(O),this.changeDetectionScheduler=Qt(vf),this.applicationRef=Qt(zc)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){var s;null===(s=this._onMicrotaskEmptySubscription)||void 0===s||s.unsubscribe()}}return(t=n).\u0275fac=function(s){return new(s||t)},t.\u0275prov=mn({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();function Q0({ngZoneFactory:t,ignoreChangesOutsideZone:n,scheduleInRootZone:i}){var s;return null!==(s=t)&&void 0!==s||(t=()=>new O({...Z0(),scheduleInRootZone:i})),[{provide:O,useFactory:t},{provide:go,multi:!0,useFactory:()=>{const l=Qt(fM,{optional:!0});return()=>l.initialize()}},{provide:go,multi:!0,useFactory:()=>{const l=Qt(gM);return()=>{l.initialize()}}},!0===n?{provide:Ll,useValue:!0}:[],{provide:Qp,useValue:null!=i?i:Nh}]}function Z0(t){var n,i;return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:null!==(n=null==t?void 0:t.eventCoalescing)&&void 0!==n&&n,shouldCoalesceRunChangeDetection:null!==(i=null==t?void 0:t.runCoalescing)&&void 0!==i&&i}}let gM=(()=>{var t;class n{constructor(){this.subscription=new Qn.yU,this.initialized=!1,this.zone=Qt(O),this.pendingTasks=Qt(Nl)}initialize(){if(this.initialized)return;this.initialized=!0;let s=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(s=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{O.assertNotInAngularZone(),queueMicrotask(()=>{null!==s&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(s),s=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{var l;O.assertInAngularZone(),null!==(l=s)&&void 0!==l||(s=this.pendingTasks.add())}))}ngOnDestroy(){this.subscription.unsubscribe()}}return(t=n).\u0275fac=function(s){return new(s||t)},t.\u0275prov=mn({token:t,factory:t.\u0275fac,providedIn:"root"}),n})(),Iy=(()=>{var t;class n{constructor(){var s,l,h;this.appRef=Qt(zc),this.taskService=Qt(Nl),this.ngZone=Qt(O),this.zonelessEnabled=Qt(Jp),this.disableScheduling=null!==(s=Qt(Ll,{optional:!0}))&&void 0!==s&&s,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Qn.yU,this.angularZoneId=this.zoneIsDefined?null===(l=this.ngZone._inner)||void 0===l?void 0:l.get(p):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&null!==(h=Qt(Qp,{optional:!0}))&&void 0!==h&&h,this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||(this.disableScheduling=!this.zonelessEnabled&&(this.ngZone instanceof mr||!this.zoneIsDefined))}notify(s){if(!this.zonelessEnabled&&5===s)return;switch(s){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 7:this.appRef.deferredDirtyFlags|=8;break;default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;const l=this.useMicrotaskScheduler?Ph:Mh;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>l(()=>this.tick())):this.ngZone.runOutsideAngular(()=>l(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(p+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const s=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(l){throw this.taskService.remove(s),l}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Ph(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(s)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){var s;if(this.runningTick=!1,null===(s=this.cancelScheduledCallback)||void 0===s||s.call(this),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const l=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(l)}}}return(t=n).\u0275fac=function(s){return new(s||t)},t.\u0275prov=mn({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();const tR=new yr("",{providedIn:"root",factory:()=>Qt(tR,jr.Optional|jr.SkipSelf)||function mM(){return typeof $localize<"u"&&$localize.locale||Dg}()}),_M=new yr("",{providedIn:"root",factory:()=>"USD"}),LS=new yr("");function xS(t){return!t.moduleRef}let nO=(()=>{var t;class n{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,l){const h=null==l?void 0:l.scheduleInRootZone,k=[Q0({ngZoneFactory:()=>function fp(t="zone.js",n){return"noop"===t?new mr:"zone.js"===t?new O(n):t}(null==l?void 0:l.ngZone,{...Z0({eventCoalescing:null==l?void 0:l.ngZoneEventCoalescing,runCoalescing:null==l?void 0:l.ngZoneRunCoalescing}),scheduleInRootZone:h}),ignoreChangesOutsideZone:null==l?void 0:l.ignoreChangesOutsideZone}),{provide:vf,useExisting:Iy}],ee=function tD(t,n,i){return new Sf(t,n,i,!1)}(s.moduleType,this.injector,k);return function tO(t){const n=xS(t)?t.r3Injector:t.moduleRef.injector,i=n.get(O);return i.run(()=>{xS(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();const s=n.get(Ia,null);let l;if(i.runOutsideAngular(()=>{l=i.onError.subscribe({next:h=>{s.handleError(h)}})}),xS(t)){const h=()=>n.destroy(),m=t.platformInjector.get(LS);m.add(h),n.onDestroy(()=>{l.unsubscribe(),m.delete(h)})}else{const h=()=>t.moduleRef.destroy(),m=t.platformInjector.get(LS);m.add(h),t.moduleRef.onDestroy(()=>{PS(t.allPlatformModules,t.moduleRef),l.unsubscribe(),m.delete(h)})}return function aM(t,n,i){try{const s=i();return J0(s)?s.catch(l=>{throw n.runOutsideAngular(()=>t.handleError(l)),l}):s}catch(s){throw n.runOutsideAngular(()=>t.handleError(s)),s}}(s,i,()=>{const h=n.get(Ww);return h.runInitializers(),h.donePromise.then(()=>{if(function CS(t){"string"==typeof t&&(wg=t.toLowerCase().replace(/_/g,"-"))}(n.get(tR,Dg)||Dg),xS(t)){const R=n.get(zc);return void 0!==t.rootComponent&&R.bootstrap(t.rootComponent),R}return function CM(t,n){const i=t.injector.get(zc);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(s=>i.bootstrap(s));else{if(!t.instance.ngDoBootstrap)throw new _e(-403,!1);t.instance.ngDoBootstrap(i)}n.push(t)}(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}({moduleRef:ee,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(s,l=[]){const h=qw({},l);return function hM(t,n,i){const s=new NC(i);return Promise.resolve(s)}(0,0,s).then(m=>this.bootstrapModuleFactory(m,h))}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new _e(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const s=this._injector.get(LS,null);s&&(s.forEach(l=>l()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=n).\u0275fac=function(s){return new(s||t)(St(Mo))},t.\u0275prov=mn({token:t,factory:t.\u0275fac,providedIn:"platform"}),n})(),jf=null;const rO=new yr("");function iO(t,n,i=[]){const s=`Platform: ${n}`,l=new yr(s);return(h=[])=>{let m=nR();if(!m||m.injector.get(rO,!1)){const R=[...i,...h,{provide:l,useValue:!0}];t?t(R):function SM(t){if(jf&&!jf.get(rO,!1))throw new _e(400,!1);(function zw(){!function je(t){on=t}(()=>{throw new _e(600,!1)})})(),jf=t;const n=t.get(nO);(function sO(t){const n=t.get(im,null);null==n||n.forEach(i=>i())})(t)}(function oO(t=[],n){return Mo.create({name:n,providers:[{provide:Oo,useValue:"platform"},{provide:LS,useValue:new Set([()=>jf=null])},...t]})}(R,s))}return function TM(){const n=nR();if(!n)throw new _e(401,!1);return n}()}}function nR(){var t,n;return null!==(t=null===(n=jf)||void 0===n?void 0:n.get(nO))&&void 0!==t?t:null}function RM(){return!1}function DM(){}let lO=(()=>{class n{}return n.__NG_ELEMENT_ID__=wM,n})();function wM(t){return function OM(t,n,i){if(ea(t)&&!i){const s=Ps(t.index,n);return new Yp(s,s)}return 175&t.type?new Yp(n[qi],n):null}(fi(),Rn(),!(16&~t))}class hO{constructor(){}supports(n){return Nv(n)}create(n){return new LM(n)}}const PM=(t,n)=>n;class LM{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||PM}forEachItem(n){let i;for(i=this._itHead;null!==i;i=i._next)n(i)}forEachOperation(n){let i=this._itHead,s=this._removalsHead,l=0,h=null;for(;i||s;){const m=!s||i&&i.currentIndex<pO(s,l,h)?i:s,R=pO(m,l,h),k=m.currentIndex;if(m===s)l--,s=s._nextRemoved;else if(i=i._next,null==m.previousIndex)l++;else{h||(h=[]);const ee=R-l,de=k-l;if(ee!=de){for(let lt=0;lt<ee;lt++){const Ct=lt<h.length?h[lt]:h[lt]=0,gt=Ct+lt;de<=gt&&gt<ee&&(h[lt]=Ct+1)}h[m.previousIndex]=de-ee}}R!==k&&n(m,R,k)}}forEachPreviousItem(n){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachMovedItem(n){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}forEachIdentityChange(n){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)n(i)}diff(n){if(null==n&&(n=[]),!Nv(n))throw new _e(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let l,h,m,i=this._itHead,s=!1;if(Array.isArray(n)){this.length=n.length;for(let R=0;R<this.length;R++)h=n[R],m=this._trackByFn(R,h),null!==i&&Object.is(i.trackById,m)?(s&&(i=this._verifyReinsertion(i,h,m,R)),Object.is(i.item,h)||this._addIdentityChange(i,h)):(i=this._mismatch(i,h,m,R),s=!0),i=i._next}else l=0,function iD(t,n){if(Array.isArray(t))for(let i=0;i<t.length;i++)n(t[i]);else{const i=t[Symbol.iterator]();let s;for(;!(s=i.next()).done;)n(s.value)}}(n,R=>{m=this._trackByFn(l,R),null!==i&&Object.is(i.trackById,m)?(s&&(i=this._verifyReinsertion(i,R,m,l)),Object.is(i.item,R)||this._addIdentityChange(i,R)):(i=this._mismatch(i,R,m,l),s=!0),i=i._next,l++}),this.length=l;return this._truncate(i),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,i,s,l){let h;return null===n?h=this._itTail:(h=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._reinsertAfter(n,h,l)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(s,l))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._moveAfter(n,h,l)):n=this._addAfter(new xM(i,s),h,l),n}_verifyReinsertion(n,i,s,l){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null);return null!==h?n=this._reinsertAfter(h,n._prev,l):n.currentIndex!=l&&(n.currentIndex=l,this._addToMoves(n,l)),n}_truncate(n){for(;null!==n;){const i=n._next;this._addToRemovals(this._unlink(n)),n=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,i,s){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const l=n._prevRemoved,h=n._nextRemoved;return null===l?this._removalsHead=h:l._nextRemoved=h,null===h?this._removalsTail=l:h._prevRemoved=l,this._insertAfter(n,i,s),this._addToMoves(n,s),n}_moveAfter(n,i,s){return this._unlink(n),this._insertAfter(n,i,s),this._addToMoves(n,s),n}_addAfter(n,i,s){return this._insertAfter(n,i,s),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,i,s){const l=null===i?this._itHead:i._next;return n._next=l,n._prev=i,null===l?this._itTail=n:l._prev=n,null===i?this._itHead=n:i._next=n,null===this._linkedRecords&&(this._linkedRecords=new fO),this._linkedRecords.put(n),n.currentIndex=s,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const i=n._prev,s=n._next;return null===i?this._itHead=s:i._next=s,null===s?this._itTail=i:s._prev=i,n}_addToMoves(n,i){return n.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new fO),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,i){return n.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class xM{constructor(n,i){this.item=n,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class kM{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,i){let s;for(s=this._head;null!==s;s=s._nextDup)if((null===i||i<=s.currentIndex)&&Object.is(s.trackById,n))return s;return null}remove(n){const i=n._prevDup,s=n._nextDup;return null===i?this._head=s:i._nextDup=s,null===s?this._tail=i:s._prevDup=i,null===this._head}}class fO{constructor(){this.map=new Map}put(n){const i=n.trackById;let s=this.map.get(i);s||(s=new kM,this.map.set(i,s)),s.add(n)}get(n,i){const l=this.map.get(n);return l?l.get(n,i):null}remove(n){const i=n.trackById;return this.map.get(i).remove(n)&&this.map.delete(i),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function pO(t,n,i){const s=t.previousIndex;if(null===s)return s;let l=0;return i&&s<i.length&&(l=i[s]),s+n+l}class gO{constructor(){}supports(n){return n instanceof Map||PC(n)}create(){return new UM}}class UM{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let i;for(i=this._mapHead;null!==i;i=i._next)n(i)}forEachPreviousItem(n){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)n(i)}forEachChangedItem(n){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}diff(n){if(n){if(!(n instanceof Map||PC(n)))throw new _e(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(n,(s,l)=>{if(i&&i.key===l)this._maybeAddToChanges(i,s),this._appendAfter=i,i=i._next;else{const h=this._getOrCreateRecordForKey(l,s);i=this._insertBeforeOrAppend(i,h)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let s=i;null!==s;s=s._nextRemoved)s===this._mapHead&&(this._mapHead=null),this._records.delete(s.key),s._nextRemoved=s._next,s.previousValue=s.currentValue,s.currentValue=null,s._prev=null,s._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,i){if(n){const s=n._prev;return i._next=n,i._prev=s,n._prev=i,s&&(s._next=i),n===this._mapHead&&(this._mapHead=i),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(n,i){if(this._records.has(n)){const l=this._records.get(n);this._maybeAddToChanges(l,i);const h=l._prev,m=l._next;return h&&(h._next=m),m&&(m._prev=h),l._next=null,l._prev=null,l}const s=new FM(n);return this._records.set(n,s),s.currentValue=i,this._addToAdditions(s),s}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,i){Object.is(i,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=i,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,i){n instanceof Map?n.forEach(i):Object.keys(n).forEach(s=>i(n[s],s))}}class FM{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function mO(){return new aR([new hO])}let aR=(()=>{var t;class n{constructor(s){this.factories=s}static create(s,l){if(null!=l){const h=l.factories.slice();s=s.concat(h)}return new n(s)}static extend(s){return{provide:n,useFactory:l=>n.create(s,l||mO()),deps:[[n,new Qr,new ni]]}}find(s){const l=this.factories.find(h=>h.supports(s));if(null!=l)return l;throw new _e(901,!1)}}return(t=n).\u0275prov=mn({token:t,providedIn:"root",factory:mO}),n})();function _O(){return new lR([new gO])}let lR=(()=>{var t;class n{constructor(s){this.factories=s}static create(s,l){if(l){const h=l.factories.slice();s=s.concat(h)}return new n(s)}static extend(s){return{provide:n,useFactory:l=>n.create(s,l||_O()),deps:[[n,new Qr,new ni]]}}find(s){const l=this.factories.find(h=>h.supports(s));if(l)return l;throw new _e(901,!1)}}return(t=n).\u0275prov=mn({token:t,providedIn:"root",factory:_O}),n})();const GM=iO(null,"core",[]);let $M=(()=>{var t;class n{constructor(s){}}return(t=n).\u0275fac=function(s){return new(s||t)(St(zc))},t.\u0275mod=mi({type:t}),t.\u0275inj=ce({}),n})();function vP(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function IP(t,n){Vs("NgSignals");const i=function Je(t){const n=Object.create(rt);n.computation=t;const i=()=>{if(j(n),M(n),n.value===Ye)throw n.error;return n.value};return i[N]=n,i}(t);return null!=n&&n.equal&&(i[N].equal=n.equal),i}function CP(t){const n=A(null);try{return t()}finally{A(n)}}function wP(t,n){const i=Gr(t),s=n.elementInjector||Fa();return new ig(i).create(s,n.projectableNodes,n.hostElement,n.environmentInjector)}function OP(t){const n=Gr(t);if(!n)return null;const i=new ig(n);return{get selector(){return i.selector},get type(){return i.componentType},get inputs(){return i.inputs},get outputs(){return i.outputs},get ngContentSelectors(){return i.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},4341:(Jn,ft,y)=>{"use strict";y.d(ft,{YN:()=>Gl,zX:()=>us,VZ:()=>Ho,cz:()=>it,kq:()=>S,vO:()=>ye});var c=y(4438),v=(y(177),y(8455)),w=y(1985),N=y(3073),A=y(8750),I=y(3794),P=y(4360),F=y(6450),C=y(8496);y(1413);var j=y(6354);const S=new c.nKC("");function Re(ae){return null==ae||("string"==typeof ae||Array.isArray(ae))&&0===ae.length}const it=new c.nKC("");function fe(ae){return null}function Ie(ae){return null!=ae}function Qe(ae){return(0,c.jNT)(ae)?(0,v.H)(ae):ae}function Kt(ae){let W={};return ae.forEach(Ae=>{W=null!=Ae?{...W,...Ae}:W}),0===Object.keys(W).length?null:W}function Ut(ae,W){return W.map(Ae=>Ae(ae))}function _n(ae){return ae.map(W=>function kt(ae){return!ae.validate}(W)?W:Ae=>W.validate(Ae))}function It(ae){return null!=ae?function vt(ae){if(!ae)return null;const W=ae.filter(Ie);return 0==W.length?null:function(Ae){return Kt(Ut(Ae,W))}}(_n(ae)):null}function Mn(ae){return null!=ae?function sn(ae){if(!ae)return null;const W=ae.filter(Ie);return 0==W.length?null:function(Ae){return function M(...ae){const W=(0,I.ms)(ae),{args:Ae,keys:re}=(0,N.D)(ae),He=new w.c(Fn=>{const{length:Rr}=Ae;if(!Rr)return void Fn.complete();const gi=new Array(Rr);let Vi=Rr,so=Rr;for(let zo=0;zo<Rr;zo++){let mi=!1;(0,A.Tg)(Ae[zo]).subscribe((0,P._)(Fn,ca=>{mi||(mi=!0,so--),gi[zo]=ca},()=>Vi--,void 0,()=>{(!Vi||!mi)&&(so||Fn.next(re?(0,C.e)(re,gi):gi),Fn.complete())}))}});return W?He.pipe((0,F.I)(W)):He}(Ut(Ae,W).map(Qe)).pipe((0,j.T)(Kt))}}(_n(ae)):null}class K{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(W){this._rawValidators=W||[],this._composedValidatorFn=It(this._rawValidators)}_setAsyncValidators(W){this._rawAsyncValidators=W||[],this._composedAsyncValidatorFn=Mn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(W){this._onDestroyCallbacks.push(W)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(W=>W()),this._onDestroyCallbacks=[]}reset(W=void 0){this.control&&this.control.reset(W)}hasError(W,Ae){return!!this.control&&this.control.hasError(W,Ae)}getError(W,Ae){return this.control?this.control.getError(W,Ae):null}}class ye extends K{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}const ze=new c.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>ce}),ce="always";function ls(ae){return"number"==typeof ae?ae:parseFloat(ae)}Promise.resolve(),Promise.resolve();let wo=(()=>{var ae;class W{constructor(){this._validator=fe}ngOnChanges(re){if(this.inputName in re){const He=this.normalizeInput(re[this.inputName].currentValue);this._enabled=this.enabled(He),this._validator=this._enabled?this.createValidator(He):fe,this._onChange&&this._onChange()}}validate(re){return this._validator(re)}registerOnValidatorChange(re){this._onChange=re}enabled(re){return null!=re}}return(ae=W).\u0275fac=function(re){return new(re||ae)},ae.\u0275dir=c.FsC({type:ae,features:[c.OA$]}),W})();const ko={provide:it,useExisting:(0,c.Rfq)(()=>us),multi:!0};let us=(()=>{var ae;class W extends wo{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=re=>ls(re),this.createValidator=re=>function Ye(ae){return W=>{if(Re(W.value)||Re(ae))return null;const Ae=parseFloat(W.value);return!isNaN(Ae)&&Ae>ae?{max:{max:ae,actual:W.value}}:null}}(re)}}return(ae=W).\u0275fac=(()=>{let Ae;return function(He){return(Ae||(Ae=c.xGo(ae)))(He||ae)}})(),ae.\u0275dir=c.FsC({type:ae,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(re,He){2&re&&c.BMQ("max",He._enabled?He.max:null)},inputs:{max:"max"},features:[c.Jv_([ko]),c.Vt3]}),W})();const Ii={provide:it,useExisting:(0,c.Rfq)(()=>Ho),multi:!0};let Ho=(()=>{var ae;class W extends wo{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=re=>ls(re),this.createValidator=re=>function Ke(ae){return W=>{if(Re(W.value)||Re(ae))return null;const Ae=parseFloat(W.value);return!isNaN(Ae)&&Ae<ae?{min:{min:ae,actual:W.value}}:null}}(re)}}return(ae=W).\u0275fac=(()=>{let Ae;return function(He){return(Ae||(Ae=c.xGo(ae)))(He||ae)}})(),ae.\u0275dir=c.FsC({type:ae,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(re,He){2&re&&c.BMQ("min",He._enabled?He.min:null)},inputs:{min:"min"},features:[c.Jv_([Ii]),c.Vt3]}),W})(),_l=(()=>{var ae;class W{}return(ae=W).\u0275fac=function(re){return new(re||ae)},ae.\u0275mod=c.$C({type:ae}),ae.\u0275inj=c.G2t({}),W})(),Gl=(()=>{var ae;class W{static withConfig(re){var He;return{ngModule:W,providers:[{provide:ze,useValue:null!==(He=re.callSetDisabledState)&&void 0!==He?He:ce}]}}}return(ae=W).\u0275fac=function(re){return new(re||ae)},ae.\u0275mod=c.$C({type:ae}),ae.\u0275inj=c.G2t({imports:[_l]}),W})()},345:(Jn,ft,y)=>{"use strict";y.d(ft,{Bb:()=>sr,hE:()=>jn,sG:()=>sn});var c=y(177),d=y(4438);class v extends c.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class w extends v{static makeCurrent(){(0,c.ZD)(new w)}onAndCancel(Et,Yt,Mt){return Et.addEventListener(Yt,Mt),()=>{Et.removeEventListener(Yt,Mt)}}dispatchEvent(Et,Yt){Et.dispatchEvent(Yt)}remove(Et){Et.remove()}createElement(Et,Yt){return(Yt=Yt||this.getDefaultDocument()).createElement(Et)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Et){return Et.nodeType===Node.ELEMENT_NODE}isShadowRoot(Et){return Et instanceof DocumentFragment}getGlobalEventTarget(Et,Yt){return"window"===Yt?window:"document"===Yt?Et:"body"===Yt?Et.body:null}getBaseHref(Et){const Yt=function A(){return N=N||document.querySelector("base"),N?N.getAttribute("href"):null}();return null==Yt?null:function I(Ht){return new URL(Ht,document.baseURI).pathname}(Yt)}resetBaseElement(){N=null}getUserAgent(){return window.navigator.userAgent}getCookie(Et){return(0,c._b)(document.cookie,Et)}}let N=null,F=(()=>{var Ht;class Et{build(){return new XMLHttpRequest}}return(Ht=Et).\u0275fac=function(Mt){return new(Mt||Ht)},Ht.\u0275prov=d.jDH({token:Ht,factory:Ht.\u0275fac}),Et})();const C=new d.nKC("");let M=(()=>{var Ht;class Et{constructor(Mt,ot){this._zone=ot,this._eventNameToPlugin=new Map,Mt.forEach(_t=>{_t.manager=this}),this._plugins=Mt.slice().reverse()}addEventListener(Mt,ot,_t){return this._findPluginFor(ot).addEventListener(Mt,ot,_t)}getZone(){return this._zone}_findPluginFor(Mt){let ot=this._eventNameToPlugin.get(Mt);if(ot)return ot;if(ot=this._plugins.find(we=>we.supports(Mt)),!ot)throw new d.wOt(5101,!1);return this._eventNameToPlugin.set(Mt,ot),ot}}return(Ht=Et).\u0275fac=function(Mt){return new(Mt||Ht)(d.KVO(C),d.KVO(d.SKi))},Ht.\u0275prov=d.jDH({token:Ht,factory:Ht.\u0275fac}),Et})();class x{constructor(Et){this._doc=Et}}const j="ng-app-id";let Q=(()=>{var Ht;class Et{constructor(Mt,ot,_t,we={}){this.doc=Mt,this.appId=ot,this.nonce=_t,this.platformId=we,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,c.Vy)(we),this.resetHostNodes()}addStyles(Mt){for(const ot of Mt)1===this.changeUsageCount(ot,1)&&this.onStyleAdded(ot)}removeStyles(Mt){for(const ot of Mt)this.changeUsageCount(ot,-1)<=0&&this.onStyleRemoved(ot)}ngOnDestroy(){const Mt=this.styleNodesInDOM;Mt&&(Mt.forEach(ot=>ot.remove()),Mt.clear());for(const ot of this.getAllStyles())this.onStyleRemoved(ot);this.resetHostNodes()}addHost(Mt){this.hostNodes.add(Mt);for(const ot of this.getAllStyles())this.addStyleToHost(Mt,ot)}removeHost(Mt){this.hostNodes.delete(Mt)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(Mt){for(const ot of this.hostNodes)this.addStyleToHost(ot,Mt)}onStyleRemoved(Mt){var ot;const _t=this.styleRef;null===(ot=_t.get(Mt))||void 0===ot||null===(ot=ot.elements)||void 0===ot||ot.forEach(we=>we.remove()),_t.delete(Mt)}collectServerRenderedStyles(){var Mt;const ot=null===(Mt=this.doc.head)||void 0===Mt?void 0:Mt.querySelectorAll(`style[${j}="${this.appId}"]`);if(null!=ot&&ot.length){const _t=new Map;return ot.forEach(we=>{null!=we.textContent&&_t.set(we.textContent,we)}),_t}return null}changeUsageCount(Mt,ot){const _t=this.styleRef;if(_t.has(Mt)){const we=_t.get(Mt);return we.usage+=ot,we.usage}return _t.set(Mt,{usage:ot,elements:[]}),ot}getStyleElement(Mt,ot){const _t=this.styleNodesInDOM,we=null==_t?void 0:_t.get(ot);if((null==we?void 0:we.parentNode)===Mt)return _t.delete(ot),we.removeAttribute(j),we;{const ke=this.doc.createElement("style");return this.nonce&&ke.setAttribute("nonce",this.nonce),ke.textContent=ot,this.platformIsServer&&ke.setAttribute(j,this.appId),Mt.appendChild(ke),ke}}addStyleToHost(Mt,ot){var _t;const we=this.getStyleElement(Mt,ot),ke=this.styleRef,st=null===(_t=ke.get(ot))||void 0===_t?void 0:_t.elements;st?st.push(we):ke.set(ot,{elements:[we],usage:1})}resetHostNodes(){const Mt=this.hostNodes;Mt.clear(),Mt.add(this.doc.head)}}return(Ht=Et).\u0275fac=function(Mt){return new(Mt||Ht)(d.KVO(c.qQ),d.KVO(d.sZ2),d.KVO(d.BIS,8),d.KVO(d.Agw))},Ht.\u0275prov=d.jDH({token:Ht,factory:Ht.\u0275fac}),Et})();const $={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},S=/%COMP%/g,Ne=new d.nKC("",{providedIn:"root",factory:()=>!0});function Xe(Ht,Et){return Et.map(Yt=>Yt.replace(S,Ht))}let it=(()=>{var Ht;class Et{constructor(Mt,ot,_t,we,ke,st,jt,Pt=null){this.eventManager=Mt,this.sharedStylesHost=ot,this.appId=_t,this.removeStylesOnCompDestroy=we,this.doc=ke,this.platformId=st,this.ngZone=jt,this.nonce=Pt,this.rendererByCompId=new Map,this.platformIsServer=(0,c.Vy)(st),this.defaultRenderer=new We(Mt,ke,jt,this.platformIsServer)}createRenderer(Mt,ot){if(!Mt||!ot)return this.defaultRenderer;this.platformIsServer&&ot.encapsulation===d.gXe.ShadowDom&&(ot={...ot,encapsulation:d.gXe.Emulated});const _t=this.getOrCreateRenderer(Mt,ot);return _t instanceof xt?_t.applyToHost(Mt):_t instanceof rt&&_t.applyStyles(),_t}getOrCreateRenderer(Mt,ot){const _t=this.rendererByCompId;let we=_t.get(ot.id);if(!we){const ke=this.doc,st=this.ngZone,jt=this.eventManager,Pt=this.sharedStylesHost,ht=this.removeStylesOnCompDestroy,Bt=this.platformIsServer;switch(ot.encapsulation){case d.gXe.Emulated:we=new xt(jt,Pt,ot,this.appId,ht,ke,st,Bt);break;case d.gXe.ShadowDom:return new Ye(jt,Pt,Mt,ot,ke,st,this.nonce,Bt);default:we=new rt(jt,Pt,ot,ht,ke,st,Bt)}_t.set(ot.id,we)}return we}ngOnDestroy(){this.rendererByCompId.clear()}}return(Ht=Et).\u0275fac=function(Mt){return new(Mt||Ht)(d.KVO(M),d.KVO(Q),d.KVO(d.sZ2),d.KVO(Ne),d.KVO(c.qQ),d.KVO(d.Agw),d.KVO(d.SKi),d.KVO(d.BIS))},Ht.\u0275prov=d.jDH({token:Ht,factory:Ht.\u0275fac}),Et})();class We{constructor(Et,Yt,Mt,ot){this.eventManager=Et,this.doc=Yt,this.ngZone=Mt,this.platformIsServer=ot,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(Et,Yt){return Yt?this.doc.createElementNS($[Yt]||Yt,Et):this.doc.createElement(Et)}createComment(Et){return this.doc.createComment(Et)}createText(Et){return this.doc.createTextNode(Et)}appendChild(Et,Yt){(Ke(Et)?Et.content:Et).appendChild(Yt)}insertBefore(Et,Yt,Mt){Et&&(Ke(Et)?Et.content:Et).insertBefore(Yt,Mt)}removeChild(Et,Yt){Yt.remove()}selectRootElement(Et,Yt){let Mt="string"==typeof Et?this.doc.querySelector(Et):Et;if(!Mt)throw new d.wOt(-5104,!1);return Yt||(Mt.textContent=""),Mt}parentNode(Et){return Et.parentNode}nextSibling(Et){return Et.nextSibling}setAttribute(Et,Yt,Mt,ot){if(ot){Yt=ot+":"+Yt;const _t=$[ot];_t?Et.setAttributeNS(_t,Yt,Mt):Et.setAttribute(Yt,Mt)}else Et.setAttribute(Yt,Mt)}removeAttribute(Et,Yt,Mt){if(Mt){const ot=$[Mt];ot?Et.removeAttributeNS(ot,Yt):Et.removeAttribute(`${Mt}:${Yt}`)}else Et.removeAttribute(Yt)}addClass(Et,Yt){Et.classList.add(Yt)}removeClass(Et,Yt){Et.classList.remove(Yt)}setStyle(Et,Yt,Mt,ot){ot&(d.czy.DashCase|d.czy.Important)?Et.style.setProperty(Yt,Mt,ot&d.czy.Important?"important":""):Et.style[Yt]=Mt}removeStyle(Et,Yt,Mt){Mt&d.czy.DashCase?Et.style.removeProperty(Yt):Et.style[Yt]=""}setProperty(Et,Yt,Mt){null!=Et&&(Et[Yt]=Mt)}setValue(Et,Yt){Et.nodeValue=Yt}listen(Et,Yt,Mt){if("string"==typeof Et&&!(Et=(0,c.QT)().getGlobalEventTarget(this.doc,Et)))throw new Error(`Unsupported event target ${Et} for event ${Yt}`);return this.eventManager.addEventListener(Et,Yt,this.decoratePreventDefault(Mt))}decoratePreventDefault(Et){return Yt=>{if("__ngUnwrap__"===Yt)return Et;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>Et(Yt)):Et(Yt))&&Yt.preventDefault()}}}function Ke(Ht){return"TEMPLATE"===Ht.tagName&&void 0!==Ht.content}class Ye extends We{constructor(Et,Yt,Mt,ot,_t,we,ke,st){super(Et,_t,we,st),this.sharedStylesHost=Yt,this.hostEl=Mt,this.shadowRoot=Mt.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const jt=Xe(ot.id,ot.styles);for(const Pt of jt){const ht=document.createElement("style");ke&&ht.setAttribute("nonce",ke),ht.textContent=Pt,this.shadowRoot.appendChild(ht)}}nodeOrShadowRoot(Et){return Et===this.hostEl?this.shadowRoot:Et}appendChild(Et,Yt){return super.appendChild(this.nodeOrShadowRoot(Et),Yt)}insertBefore(Et,Yt,Mt){return super.insertBefore(this.nodeOrShadowRoot(Et),Yt,Mt)}removeChild(Et,Yt){return super.removeChild(null,Yt)}parentNode(Et){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Et)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class rt extends We{constructor(Et,Yt,Mt,ot,_t,we,ke,st){super(Et,_t,we,ke),this.sharedStylesHost=Yt,this.removeStylesOnCompDestroy=ot,this.styles=st?Xe(st,Mt.styles):Mt.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class xt extends rt{constructor(Et,Yt,Mt,ot,_t,we,ke,st){const jt=ot+"-"+Mt.id;super(Et,Yt,Mt,_t,we,ke,st,jt),this.contentAttr=function Se(Ht){return"_ngcontent-%COMP%".replace(S,Ht)}(jt),this.hostAttr=function Re(Ht){return"_nghost-%COMP%".replace(S,Ht)}(jt)}applyToHost(Et){this.applyStyles(),this.setAttribute(Et,this.hostAttr,"")}createElement(Et,Yt){const Mt=super.createElement(Et,Yt);return super.setAttribute(Mt,this.contentAttr,""),Mt}}let on=(()=>{var Ht;class Et extends x{constructor(Mt){super(Mt)}supports(Mt){return!0}addEventListener(Mt,ot,_t){return Mt.addEventListener(ot,_t,!1),()=>this.removeEventListener(Mt,ot,_t)}removeEventListener(Mt,ot,_t){return Mt.removeEventListener(ot,_t)}}return(Ht=Et).\u0275fac=function(Mt){return new(Mt||Ht)(d.KVO(c.qQ))},Ht.\u0275prov=d.jDH({token:Ht,factory:Ht.\u0275fac}),Et})();const At=["alt","control","meta","shift"],je={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},pe={alt:Ht=>Ht.altKey,control:Ht=>Ht.ctrlKey,meta:Ht=>Ht.metaKey,shift:Ht=>Ht.shiftKey};let fe=(()=>{var Ht;class Et extends x{constructor(Mt){super(Mt)}supports(Mt){return null!=Et.parseEventName(Mt)}addEventListener(Mt,ot,_t){const we=Et.parseEventName(ot),ke=Et.eventCallback(we.fullKey,_t,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,c.QT)().onAndCancel(Mt,we.domEventName,ke))}static parseEventName(Mt){const ot=Mt.toLowerCase().split("."),_t=ot.shift();if(0===ot.length||"keydown"!==_t&&"keyup"!==_t)return null;const we=Et._normalizeKey(ot.pop());let ke="",st=ot.indexOf("code");if(st>-1&&(ot.splice(st,1),ke="code."),At.forEach(Pt=>{const ht=ot.indexOf(Pt);ht>-1&&(ot.splice(ht,1),ke+=Pt+".")}),ke+=we,0!=ot.length||0===we.length)return null;const jt={};return jt.domEventName=_t,jt.fullKey=ke,jt}static matchEventFullKeyCode(Mt,ot){let _t=je[Mt.key]||Mt.key,we="";return ot.indexOf("code.")>-1&&(_t=Mt.code,we="code."),!(null==_t||!_t)&&(_t=_t.toLowerCase()," "===_t?_t="space":"."===_t&&(_t="dot"),At.forEach(ke=>{ke!==_t&&(0,pe[ke])(Mt)&&(we+=ke+".")}),we+=_t,we===ot)}static eventCallback(Mt,ot,_t){return we=>{Et.matchEventFullKeyCode(we,Mt)&&_t.runGuarded(()=>ot(we))}}static _normalizeKey(Mt){return"esc"===Mt?"escape":Mt}}return(Ht=Et).\u0275fac=function(Mt){return new(Mt||Ht)(d.KVO(c.qQ))},Ht.\u0275prov=d.jDH({token:Ht,factory:Ht.\u0275fac}),Et})();const sn=(0,d.oH4)(d.fpN,"browser",[{provide:d.Agw,useValue:c.AJ},{provide:d.PLl,useValue:function kt(){w.makeCurrent()},multi:!0},{provide:c.qQ,useFactory:function vt(){return(0,d.TL$)(document),document},deps:[]}]),Mn=new d.nKC(""),Vn=[{provide:d.e01,useClass:class P{addToWindow(Et){d.JZv.getAngularTestability=(Mt,ot=!0)=>{const _t=Et.findTestabilityInTree(Mt,ot);if(null==_t)throw new d.wOt(5103,!1);return _t},d.JZv.getAllAngularTestabilities=()=>Et.getAllTestabilities(),d.JZv.getAllAngularRootElements=()=>Et.getAllRootElements(),d.JZv.frameworkStabilizers||(d.JZv.frameworkStabilizers=[]),d.JZv.frameworkStabilizers.push(Mt=>{const ot=d.JZv.getAllAngularTestabilities();let _t=ot.length;const we=function(){_t--,0==_t&&Mt()};ot.forEach(ke=>{ke.whenStable(we)})})}findTestabilityInTree(Et,Yt,Mt){if(null==Yt)return null;const ot=Et.getTestability(Yt);return null!=ot?ot:Mt?(0,c.QT)().isShadowRoot(Yt)?this.findTestabilityInTree(Et,Yt.host,!0):this.findTestabilityInTree(Et,Yt.parentElement,!0):null}},deps:[]},{provide:d.WHO,useClass:d.NYb,deps:[d.SKi,d.giA,d.e01]},{provide:d.NYb,useClass:d.NYb,deps:[d.SKi,d.giA,d.e01]}],nr=[{provide:d.H8p,useValue:"root"},{provide:d.zcH,useFactory:function _n(){return new d.zcH},deps:[]},{provide:C,useClass:on,multi:!0,deps:[c.qQ,d.SKi,d.Agw]},{provide:C,useClass:fe,multi:!0,deps:[c.qQ]},it,Q,M,{provide:d._9s,useExisting:it},{provide:c.N0,useClass:F,deps:[]},[]];let sr=(()=>{var Ht;class Et{constructor(Mt){}static withServerTransition(Mt){return{ngModule:Et,providers:[{provide:d.sZ2,useValue:Mt.appId}]}}}return(Ht=Et).\u0275fac=function(Mt){return new(Mt||Ht)(d.KVO(Mn,12))},Ht.\u0275mod=d.$C({type:Ht}),Ht.\u0275inj=d.G2t({providers:[...nr,...Vn],imports:[c.MD,d.Hbi]}),Et})(),jn=(()=>{var Ht;class Et{constructor(Mt){this._doc=Mt}getTitle(){return this._doc.title}setTitle(Mt){this._doc.title=Mt||""}}return(Ht=Et).\u0275fac=function(Mt){return new(Mt||Ht)(d.KVO(c.qQ))},Ht.\u0275prov=d.jDH({token:Ht,factory:Ht.\u0275fac,providedIn:"root"}),Et})()},6432:(Jn,ft,y)=>{"use strict";y.d(ft,{nX:()=>In,_d:()=>Oa,Zp:()=>X,Z:()=>yi,Xk:()=>It,Kp:()=>ao,b:()=>dt,Ix:()=>vi,Wk:()=>Ir,iI:()=>Zs,Sd:()=>wt,we:()=>Va});var c=y(4438),d=y(1985),v=y(8071),N=y(8455),A=y(7673),I=y(4412),P=y(4572),F=y(9350),C=y(8793),M=y(8750);function x(b){return new d.c(V=>{(0,M.Tg)(b()).subscribe(V)})}var j=y(1203);function Q(b,V){const J=(0,v.T)(b)?b:()=>b,B=z=>z.error(J());return new d.c(V?z=>V.schedule(B,0,z):B)}var $=y(983),S=y(8359),se=y(9974),ue=y(4360);function Be(){return(0,se.N)((b,V)=>{let J=null;b._refCount++;const B=(0,ue._)(V,void 0,void 0,void 0,()=>{if(!b||b._refCount<=0||0<--b._refCount)return void(J=null);const z=b._connection,Le=J;J=null,z&&(!Le||z===Le)&&z.unsubscribe(),V.unsubscribe()});b.subscribe(B),B.closed||(J=b.connect())})}class me extends d.c{constructor(V,J){super(),this.source=V,this.subjectFactory=J,this._subject=null,this._refCount=0,this._connection=null,(0,se.S)(V)&&(this.lift=V.lift)}_subscribe(V){return this.getSubject().subscribe(V)}getSubject(){const V=this._subject;return(!V||V.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:V}=this;this._subject=this._connection=null,null==V||V.unsubscribe()}connect(){let V=this._connection;if(!V){V=this._connection=new S.yU;const J=this.getSubject();V.add(this.source.subscribe((0,ue._)(J,void 0,()=>{this._teardown(),J.complete()},B=>{this._teardown(),J.error(B)},()=>this._teardown()))),V.closed&&(this._connection=null,V=S.yU.EMPTY)}return V}refCount(){return Be()(this)}}var Ne=y(1413),Se=y(177),Re=y(6354),Xe=y(5558),it=y(6697),We=y(9172),Je=y(5964),xe=y(1397),Ke=y(1594);function Ye(b,V){return(0,v.T)(V)?(0,xe.Z)(b,V,1):(0,xe.Z)(b,1)}var rt=y(8141),xt=y(9437),on=y(2816),At=y(9901);function je(b){return b<=0?()=>$.w:(0,se.N)((V,J)=>{let B=[];V.subscribe((0,ue._)(J,z=>{B.push(z),b<B.length&&B.shift()},()=>{for(const z of B)J.next(z);J.complete()},void 0,()=>{B=null}))})}var pe=y(3774),fe=y(3669);function Kt(b){return(0,se.N)((V,J)=>{try{V.subscribe(J)}finally{J.add(b)}})}var Ut=y(5343),_n=y(6365),vt=y(345);const It="primary",sn=Symbol("RouteTitle");class Mn{constructor(V){this.params=V||{}}has(V){return Object.prototype.hasOwnProperty.call(this.params,V)}get(V){if(this.has(V)){const J=this.params[V];return Array.isArray(J)?J[0]:J}return null}getAll(V){if(this.has(V)){const J=this.params[V];return Array.isArray(J)?J:[J]}return[]}get keys(){return Object.keys(this.params)}}function Vn(b){return new Mn(b)}function nr(b,V,J){const B=J.path.split("/");if(B.length>b.length||"full"===J.pathMatch&&(V.hasChildren()||B.length<b.length))return null;const z={};for(let Le=0;Le<B.length;Le++){const Ge=B[Le],Jt=b[Le];if(":"===Ge[0])z[Ge.substring(1)]=Jt;else if(Ge!==Jt.path)return null}return{consumed:b.slice(0,B.length),posParams:z}}function Qn(b,V){const J=b?bn(b):void 0,B=V?bn(V):void 0;if(!J||!B||J.length!=B.length)return!1;let z;for(let Le=0;Le<J.length;Le++)if(z=J[Le],!jn(b[z],V[z]))return!1;return!0}function bn(b){return[...Object.keys(b),...Object.getOwnPropertySymbols(b)]}function jn(b,V){if(Array.isArray(b)&&Array.isArray(V)){if(b.length!==V.length)return!1;const J=[...b].sort(),B=[...V].sort();return J.every((z,Le)=>B[Le]===z)}return b===V}function vn(b){return b.length>0?b[b.length-1]:null}function K(b){return function w(b){return!!b&&(b instanceof d.c||(0,v.T)(b.lift)&&(0,v.T)(b.subscribe))}(b)?b:(0,c.jNT)(b)?(0,N.H)(Promise.resolve(b)):(0,A.of)(b)}const H={exact:function Fe(b,V,J){if(!Ze(b.segments,V.segments)||!ge(b.segments,V.segments,J)||b.numberOfChildren!==V.numberOfChildren)return!1;for(const B in V.children)if(!b.children[B]||!Fe(b.children[B],V.children[B],J))return!1;return!0},subset:pt},ye={exact:function Me(b,V){return Qn(b,V)},subset:function $e(b,V){return Object.keys(V).length<=Object.keys(b).length&&Object.keys(V).every(J=>jn(b[J],V[J]))},ignored:()=>!0};function _e(b,V,J){return H[J.paths](b.root,V.root,J.matrixParams)&&ye[J.queryParams](b.queryParams,V.queryParams)&&!("exact"===J.fragment&&b.fragment!==V.fragment)}function pt(b,V,J){return zt(b,V,V.segments,J)}function zt(b,V,J,B){if(b.segments.length>J.length){const z=b.segments.slice(0,J.length);return!(!Ze(z,J)||V.hasChildren()||!ge(z,J,B))}if(b.segments.length===J.length){if(!Ze(b.segments,J)||!ge(b.segments,J,B))return!1;for(const z in V.children)if(!b.children[z]||!pt(b.children[z],V.children[z],B))return!1;return!0}{const z=J.slice(0,b.segments.length),Le=J.slice(b.segments.length);return!!(Ze(b.segments,z)&&ge(b.segments,z,B)&&b.children[It])&&zt(b.children[It],V,Le,B)}}function ge(b,V,J){return V.every((B,z)=>ye[J](b[z].parameters,B.parameters))}class Te{constructor(V=new Pe([],{}),J={},B=null){this.root=V,this.queryParams=J,this.fragment=B}get queryParamMap(){var V;return null!==(V=this._queryParamMap)&&void 0!==V||(this._queryParamMap=Vn(this.queryParams)),this._queryParamMap}toString(){return Xt.serialize(this)}}class Pe{constructor(V,J){this.segments=V,this.children=J,this.parent=null,Object.values(J).forEach(B=>B.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return hn(this)}}class Rt{constructor(V,J){this.path=V,this.parameters=J}get parameterMap(){var V;return null!==(V=this._parameterMap)&&void 0!==V||(this._parameterMap=Vn(this.parameters)),this._parameterMap}toString(){return Mt(this)}}function Ze(b,V){return b.length===V.length&&b.every((J,B)=>J.path===V[B].path)}let wt=(()=>{var b;class V{}return(b=V).\u0275fac=function(B){return new(B||b)},b.\u0275prov=c.jDH({token:b,factory:()=>new an,providedIn:"root"}),V})();class an{parse(V){const J=new Kn(V);return new Te(J.parseRootSegment(),J.parseQueryParams(),J.parseFragment())}serialize(V){const J=`/${$n(V.root,!0)}`,B=function _t(b){const V=Object.entries(b).map(([J,B])=>Array.isArray(B)?B.map(z=>`${ar(J)}=${ar(z)}`).join("&"):`${ar(J)}=${ar(B)}`).filter(J=>J);return V.length?`?${V.join("&")}`:""}(V.queryParams);return`${J}${B}${"string"==typeof V.fragment?`#${function rr(b){return encodeURI(b)}(V.fragment)}`:""}`}}const Xt=new an;function hn(b){return b.segments.map(V=>Mt(V)).join("/")}function $n(b,V){if(!b.hasChildren())return hn(b);if(V){const J=b.children[It]?$n(b.children[It],!1):"",B=[];return Object.entries(b.children).forEach(([z,Le])=>{z!==It&&B.push(`${z}:${$n(Le,!1)}`)}),B.length>0?`${J}(${B.join("//")})`:J}{const J=function Ot(b,V){let J=[];return Object.entries(b.children).forEach(([B,z])=>{B===It&&(J=J.concat(V(z,B)))}),Object.entries(b.children).forEach(([B,z])=>{B!==It&&(J=J.concat(V(z,B)))}),J}(b,(B,z)=>z===It?[$n(b.children[It],!1)]:[`${z}:${$n(B,!1)}`]);return 1===Object.keys(b.children).length&&null!=b.children[It]?`${hn(b)}/${J[0]}`:`${hn(b)}/(${J.join("//")})`}}function Nn(b){return encodeURIComponent(b).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ar(b){return Nn(b).replace(/%3B/gi,";")}function Ht(b){return Nn(b).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Et(b){return decodeURIComponent(b)}function Yt(b){return Et(b.replace(/\+/g,"%20"))}function Mt(b){return`${Ht(b.path)}${function ot(b){return Object.entries(b).map(([V,J])=>`;${Ht(V)}=${Ht(J)}`).join("")}(b.parameters)}`}const we=/^[^\/()?;#]+/;function ke(b){const V=b.match(we);return V?V[0]:""}const st=/^[^\/()?;=#]+/,Pt=/^[^=?&#]+/,Bt=/^[^&#]+/;class Kn{constructor(V){this.url=V,this.remaining=V}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Pe([],{}):new Pe([],this.parseChildren())}parseQueryParams(){const V={};if(this.consumeOptional("?"))do{this.parseQueryParam(V)}while(this.consumeOptional("&"));return V}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const V=[];for(this.peekStartsWith("(")||V.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),V.push(this.parseSegment());let J={};this.peekStartsWith("/(")&&(this.capture("/"),J=this.parseParens(!0));let B={};return this.peekStartsWith("(")&&(B=this.parseParens(!1)),(V.length>0||Object.keys(J).length>0)&&(B[It]=new Pe(V,J)),B}parseSegment(){const V=ke(this.remaining);if(""===V&&this.peekStartsWith(";"))throw new c.wOt(4009,!1);return this.capture(V),new Rt(Et(V),this.parseMatrixParams())}parseMatrixParams(){const V={};for(;this.consumeOptional(";");)this.parseParam(V);return V}parseParam(V){const J=function jt(b){const V=b.match(st);return V?V[0]:""}(this.remaining);if(!J)return;this.capture(J);let B="";if(this.consumeOptional("=")){const z=ke(this.remaining);z&&(B=z,this.capture(B))}V[Et(J)]=Et(B)}parseQueryParam(V){const J=function ht(b){const V=b.match(Pt);return V?V[0]:""}(this.remaining);if(!J)return;this.capture(J);let B="";if(this.consumeOptional("=")){const Ge=function Cn(b){const V=b.match(Bt);return V?V[0]:""}(this.remaining);Ge&&(B=Ge,this.capture(B))}const z=Yt(J),Le=Yt(B);if(V.hasOwnProperty(z)){let Ge=V[z];Array.isArray(Ge)||(Ge=[Ge],V[z]=Ge),Ge.push(Le)}else V[z]=Le}parseParens(V){const J={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const B=ke(this.remaining),z=this.remaining[B.length];if("/"!==z&&")"!==z&&";"!==z)throw new c.wOt(4010,!1);let Le;B.indexOf(":")>-1?(Le=B.slice(0,B.indexOf(":")),this.capture(Le),this.capture(":")):V&&(Le=It);const Ge=this.parseChildren();J[Le]=1===Object.keys(Ge).length?Ge[It]:new Pe([],Ge),this.consumeOptional("//")}return J}peekStartsWith(V){return this.remaining.startsWith(V)}consumeOptional(V){return!!this.peekStartsWith(V)&&(this.remaining=this.remaining.substring(V.length),!0)}capture(V){if(!this.consumeOptional(V))throw new c.wOt(4011,!1)}}function xn(b){return b.segments.length>0?new Pe([],{[It]:b}):b}function Zn(b){const V={};for(const[B,z]of Object.entries(b.children)){const Le=Zn(z);if(B===It&&0===Le.segments.length&&Le.hasChildren())for(const[Ge,Jt]of Object.entries(Le.children))V[Ge]=Jt;else(Le.segments.length>0||Le.hasChildren())&&(V[B]=Le)}return function Hn(b){if(1===b.numberOfChildren&&b.children[It]){const V=b.children[It];return new Pe(b.segments.concat(V.segments),V.children)}return b}(new Pe(b.segments,V))}function vr(b){return b instanceof Te}function bt(b){var V;let J;const Le=xn(function B(Ge){const Jt={};for(const nn of Ge.children){const lr=B(nn);Jt[nn.outlet]=lr}const Dn=new Pe(Ge.url,Jt);return Ge===b&&(J=Dn),Dn}(b.root));return null!==(V=J)&&void 0!==V?V:Le}function Gn(b,V,J,B){let z=b;for(;z.parent;)z=z.parent;if(0===V.length)return Dt(z,z,z,J,B);const Le=function ze(b){if("string"==typeof b[0]&&1===b.length&&"/"===b[0])return new mn(!0,0,b);let V=0,J=!1;const B=b.reduce((z,Le,Ge)=>{if("object"==typeof Le&&null!=Le){if(Le.outlets){const Jt={};return Object.entries(Le.outlets).forEach(([Dn,nn])=>{Jt[Dn]="string"==typeof nn?nn.split("/"):nn}),[...z,{outlets:Jt}]}if(Le.segmentPath)return[...z,Le.segmentPath]}return"string"!=typeof Le?[...z,Le]:0===Ge?(Le.split("/").forEach((Jt,Dn)=>{0==Dn&&"."===Jt||(0==Dn&&""===Jt?J=!0:".."===Jt?V++:""!=Jt&&z.push(Jt))}),z):[...z,Le]},[]);return new mn(J,V,B)}(V);if(Le.toRoot())return Dt(z,z,new Pe([],{}),J,B);const Ge=function yt(b,V,J){if(b.isAbsolute)return new ce(V,!0,0);if(!J)return new ce(V,!1,NaN);if(null===J.parent)return new ce(J,!0,0);const B=er(b.commands[0])?0:1;return function Ce(b,V,J){let B=b,z=V,Le=J;for(;Le>z;){if(Le-=z,B=B.parent,!B)throw new c.wOt(4005,!1);z=B.segments.length}return new ce(B,!1,z-Le)}(J,J.segments.length-1+B,b.numberOfDoubleDots)}(Le,z,b),Jt=Ge.processChildren?en(Ge.segmentGroup,Ge.index,Le.commands):ut(Ge.segmentGroup,Ge.index,Le.commands);return Dt(z,Ge.segmentGroup,Jt,J,B)}function er(b){return"object"==typeof b&&null!=b&&!b.outlets&&!b.segmentPath}function Er(b){return"object"==typeof b&&null!=b&&b.outlets}function Dt(b,V,J,B,z){let Ge,Le={};B&&Object.entries(B).forEach(([Dn,nn])=>{Le[Dn]=Array.isArray(nn)?nn.map(lr=>`${lr}`):`${nn}`}),Ge=b===V?J:cn(b,V,J);const Jt=xn(Zn(Ge));return new Te(Jt,Le,z)}function cn(b,V,J){const B={};return Object.entries(b.children).forEach(([z,Le])=>{B[z]=Le===V?J:cn(Le,V,J)}),new Pe(b.segments,B)}class mn{constructor(V,J,B){if(this.isAbsolute=V,this.numberOfDoubleDots=J,this.commands=B,V&&B.length>0&&er(B[0]))throw new c.wOt(4003,!1);const z=B.find(Er);if(z&&z!==vn(B))throw new c.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ce{constructor(V,J,B){this.segmentGroup=V,this.processChildren=J,this.index=B}}function ut(b,V,J){var B;if(null!==(B=b)&&void 0!==B||(b=new Pe([],{})),0===b.segments.length&&b.hasChildren())return en(b,V,J);const z=function wn(b,V,J){let B=0,z=V;const Le={match:!1,pathIndex:0,commandIndex:0};for(;z<b.segments.length;){if(B>=J.length)return Le;const Ge=b.segments[z],Jt=J[B];if(Er(Jt))break;const Dn=`${Jt}`,nn=B<J.length-1?J[B+1]:null;if(z>0&&void 0===Dn)break;if(Dn&&nn&&"object"==typeof nn&&void 0===nn.outlets){if(!yr(Dn,nn,Ge))return Le;B+=2}else{if(!yr(Dn,{},Ge))return Le;B++}z++}return{match:!0,pathIndex:z,commandIndex:B}}(b,V,J),Le=J.slice(z.commandIndex);if(z.match&&z.pathIndex<b.segments.length){const Ge=new Pe(b.segments.slice(0,z.pathIndex),{});return Ge.children[It]=new Pe(b.segments.slice(z.pathIndex),b.children),en(Ge,0,Le)}return z.match&&0===Le.length?new Pe(b.segments,{}):z.match&&!b.hasChildren()?tr(b,V,J):z.match?en(b,0,Le):tr(b,V,J)}function en(b,V,J){if(0===J.length)return new Pe(b.segments,{});{const B=function Ee(b){return Er(b[0])?b[0].outlets:{[It]:b}}(J),z={};if(Object.keys(B).some(Le=>Le!==It)&&b.children[It]&&1===b.numberOfChildren&&0===b.children[It].segments.length){const Le=en(b.children[It],V,J);return new Pe(b.segments,Le.children)}return Object.entries(B).forEach(([Le,Ge])=>{"string"==typeof Ge&&(Ge=[Ge]),null!==Ge&&(z[Le]=ut(b.children[Le],V,Ge))}),Object.entries(b.children).forEach(([Le,Ge])=>{void 0===B[Le]&&(z[Le]=Ge)}),new Pe(b.segments,z)}}function tr(b,V,J){const B=b.segments.slice(0,V);let z=0;for(;z<J.length;){const Le=J[z];if(Er(Le)){const Dn=Dr(Le.outlets);return new Pe(B,Dn)}if(0===z&&er(J[0])){B.push(new Rt(b.segments[V].path,fr(J[0]))),z++;continue}const Ge=Er(Le)?Le.outlets[It]:`${Le}`,Jt=z<J.length-1?J[z+1]:null;Ge&&Jt&&er(Jt)?(B.push(new Rt(Ge,fr(Jt))),z+=2):(B.push(new Rt(Ge,{})),z++)}return new Pe(B,{})}function Dr(b){const V={};return Object.entries(b).forEach(([J,B])=>{"string"==typeof B&&(B=[B]),null!==B&&(V[J]=tr(new Pe([],{}),0,B))}),V}function fr(b){const V={};return Object.entries(b).forEach(([J,B])=>V[J]=`${B}`),V}function yr(b,V,J){return b==J.path&&Qn(V,J.parameters)}const ui="imperative";var Ar=function(b){return b[b.NavigationStart=0]="NavigationStart",b[b.NavigationEnd=1]="NavigationEnd",b[b.NavigationCancel=2]="NavigationCancel",b[b.NavigationError=3]="NavigationError",b[b.RoutesRecognized=4]="RoutesRecognized",b[b.ResolveStart=5]="ResolveStart",b[b.ResolveEnd=6]="ResolveEnd",b[b.GuardsCheckStart=7]="GuardsCheckStart",b[b.GuardsCheckEnd=8]="GuardsCheckEnd",b[b.RouteConfigLoadStart=9]="RouteConfigLoadStart",b[b.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",b[b.ChildActivationStart=11]="ChildActivationStart",b[b.ChildActivationEnd=12]="ChildActivationEnd",b[b.ActivationStart=13]="ActivationStart",b[b.ActivationEnd=14]="ActivationEnd",b[b.Scroll=15]="Scroll",b[b.NavigationSkipped=16]="NavigationSkipped",b}(Ar||{});class si{constructor(V,J){this.id=V,this.url=J}}class yi extends si{constructor(V,J,B="imperative",z=null){super(V,J),this.type=Ar.NavigationStart,this.navigationTrigger=B,this.restoredState=z}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class zi extends si{constructor(V,J,B){super(V,J),this.urlAfterRedirects=B,this.type=Ar.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var ai=function(b){return b[b.Redirect=0]="Redirect",b[b.SupersededByNewNavigation=1]="SupersededByNewNavigation",b[b.NoDataFromResolver=2]="NoDataFromResolver",b[b.GuardRejected=3]="GuardRejected",b}(ai||{}),Eo=function(b){return b[b.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",b[b.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",b}(Eo||{});class Ui extends si{constructor(V,J,B,z){super(V,J),this.reason=B,this.code=z,this.type=Ar.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class eo extends si{constructor(V,J,B,z){super(V,J),this.reason=B,this.code=z,this.type=Ar.NavigationSkipped}}class di extends si{constructor(V,J,B,z){super(V,J),this.error=B,this.target=z,this.type=Ar.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class vo extends si{constructor(V,J,B,z){super(V,J),this.urlAfterRedirects=B,this.state=z,this.type=Ar.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Di extends si{constructor(V,J,B,z){super(V,J),this.urlAfterRedirects=B,this.state=z,this.type=Ar.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class io extends si{constructor(V,J,B,z,Le){super(V,J),this.urlAfterRedirects=B,this.state=z,this.shouldActivate=Le,this.type=Ar.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class xo extends si{constructor(V,J,B,z){super(V,J),this.urlAfterRedirects=B,this.state=z,this.type=Ar.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Un extends si{constructor(V,J,B,z){super(V,J),this.urlAfterRedirects=B,this.state=z,this.type=Ar.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Kr{constructor(V){this.route=V,this.type=Ar.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Jr{constructor(V){this.route=V,this.type=Ar.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ss{constructor(V){this.snapshot=V,this.type=Ar.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pn{constructor(V){this.snapshot=V,this.type=Ar.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wn{constructor(V){this.snapshot=V,this.type=Ar.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Oa{constructor(V){this.snapshot=V,this.type=Ar.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ir{constructor(V,J,B){this.routerEvent=V,this.position=J,this.anchor=B,this.type=Ar.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class pn{}class Ln{constructor(V,J){this.url=V,this.navigationBehaviorOptions=J}}function wi(b){return b.outlet||It}function le(b){var V;if(!b)return null;if(null!==(V=b.routeConfig)&&void 0!==V&&V._injector)return b.routeConfig._injector;for(let J=b.parent;J;J=J.parent){const B=J.routeConfig;if(null!=B&&B._loadedInjector)return B._loadedInjector;if(null!=B&&B._injector)return B._injector}return null}class Ue{get injector(){var V,J;return null!==(V=le(null===(J=this.route)||void 0===J?void 0:J.snapshot))&&void 0!==V?V:this.rootInjector}set injector(V){}constructor(V){this.rootInjector=V,this.outlet=null,this.route=null,this.children=new X(this.rootInjector),this.attachRef=null}}let X=(()=>{var b;class V{constructor(B){this.rootInjector=B,this.contexts=new Map}onChildOutletCreated(B,z){const Le=this.getOrCreateContext(B);Le.outlet=z,this.contexts.set(B,Le)}onChildOutletDestroyed(B){const z=this.getContext(B);z&&(z.outlet=null,z.attachRef=null)}onOutletDeactivated(){const B=this.contexts;return this.contexts=new Map,B}onOutletReAttached(B){this.contexts=B}getOrCreateContext(B){let z=this.getContext(B);return z||(z=new Ue(this.rootInjector),this.contexts.set(B,z)),z}getContext(B){return this.contexts.get(B)||null}}return(b=V).\u0275fac=function(B){return new(B||b)(c.KVO(c.uvJ))},b.\u0275prov=c.jDH({token:b,factory:b.\u0275fac,providedIn:"root"}),V})();class L{constructor(V){this._root=V}get root(){return this._root.value}parent(V){const J=this.pathFromRoot(V);return J.length>1?J[J.length-2]:null}children(V){const J=q(V,this._root);return J?J.children.map(B=>B.value):[]}firstChild(V){const J=q(V,this._root);return J&&J.children.length>0?J.children[0].value:null}siblings(V){const J=tt(V,this._root);return J.length<2?[]:J[J.length-2].children.map(z=>z.value).filter(z=>z!==V)}pathFromRoot(V){return tt(V,this._root).map(J=>J.value)}}function q(b,V){if(b===V.value)return V;for(const J of V.children){const B=q(b,J);if(B)return B}return null}function tt(b,V){if(b===V.value)return[V];for(const J of V.children){const B=tt(b,J);if(B.length)return B.unshift(V),B}return[]}class et{constructor(V,J){this.value=V,this.children=J}toString(){return`TreeNode(${this.value})`}}function Ft(b){const V={};return b&&b.children.forEach(J=>V[J.value.outlet]=J),V}class St extends L{constructor(V,J){super(V),this.snapshot=J,Cr(this,V)}toString(){return this.snapshot.toString()}}function Vt(b){const V=function Qt(b){const Le=new qn([],{},{},"",{},It,b,null,{});return new or("",new et(Le,[]))}(b),J=new I.t([new Rt("",{})]),B=new I.t({}),z=new I.t({}),Le=new I.t({}),Ge=new I.t(""),Jt=new In(J,B,Le,Ge,z,It,b,V.root);return Jt.snapshot=V.root,new St(new et(Jt,[]),V)}class In{constructor(V,J,B,z,Le,Ge,Jt,Dn){var nn,lr;this.urlSubject=V,this.paramsSubject=J,this.queryParamsSubject=B,this.fragmentSubject=z,this.dataSubject=Le,this.outlet=Ge,this.component=Jt,this._futureSnapshot=Dn,this.title=null!==(nn=null===(lr=this.dataSubject)||void 0===lr?void 0:lr.pipe((0,Re.T)(Pr=>Pr[sn])))&&void 0!==nn?nn:(0,A.of)(void 0),this.url=V,this.params=J,this.queryParams=B,this.fragment=z,this.data=Le}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var V;return null!==(V=this._paramMap)&&void 0!==V||(this._paramMap=this.params.pipe((0,Re.T)(J=>Vn(J)))),this._paramMap}get queryParamMap(){var V;return null!==(V=this._queryParamMap)&&void 0!==V||(this._queryParamMap=this.queryParams.pipe((0,Re.T)(J=>Vn(J)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function An(b,V,J="emptyOnly"){var B;let z;const{routeConfig:Le}=b;var Ge;return z=null===V||"always"!==J&&""!==(null==Le?void 0:Le.path)&&(V.component||null!==(B=V.routeConfig)&&void 0!==B&&B.loadComponent)?{params:{...b.params},data:{...b.data},resolve:{...b.data,...null!==(Ge=b._resolvedData)&&void 0!==Ge?Ge:{}}}:{params:{...V.params,...b.params},data:{...V.data,...b.data},resolve:{...b.data,...V.data,...null==Le?void 0:Le.data,...b._resolvedData}},Le&&Xr(Le)&&(z.resolve[sn]=Le.title),z}class qn{get title(){var V;return null===(V=this.data)||void 0===V?void 0:V[sn]}constructor(V,J,B,z,Le,Ge,Jt,Dn,nn){this.url=V,this.params=J,this.queryParams=B,this.fragment=z,this.data=Le,this.outlet=Ge,this.component=Jt,this.routeConfig=Dn,this._resolve=nn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var V;return null!==(V=this._paramMap)&&void 0!==V||(this._paramMap=Vn(this.params)),this._paramMap}get queryParamMap(){var V;return null!==(V=this._queryParamMap)&&void 0!==V||(this._queryParamMap=Vn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(B=>B.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class or extends L{constructor(V,J){super(J),this.url=V,Cr(this,J)}toString(){return gr(this._root)}}function Cr(b,V){V.value._routerState=b,V.children.forEach(J=>Cr(b,J))}function gr(b){const V=b.children.length>0?` { ${b.children.map(gr).join(", ")} } `:"";return`${b.value}${V}`}function qr(b){if(b.snapshot){const V=b.snapshot,J=b._futureSnapshot;b.snapshot=J,Qn(V.queryParams,J.queryParams)||b.queryParamsSubject.next(J.queryParams),V.fragment!==J.fragment&&b.fragmentSubject.next(J.fragment),Qn(V.params,J.params)||b.paramsSubject.next(J.params),function sr(b,V){if(b.length!==V.length)return!1;for(let J=0;J<b.length;++J)if(!Qn(b[J],V[J]))return!1;return!0}(V.url,J.url)||b.urlSubject.next(J.url),Qn(V.data,J.data)||b.dataSubject.next(J.data)}else b.snapshot=b._futureSnapshot,b.dataSubject.next(b._futureSnapshot.data)}function ni(b,V){const J=Qn(b.params,V.params)&&function mt(b,V){return Ze(b,V)&&b.every((J,B)=>Qn(J.parameters,V[B].parameters))}(b.url,V.url);return J&&!(!b.parent!=!V.parent)&&(!b.parent||ni(b.parent,V.parent))}function Xr(b){return"string"==typeof b.title||null===b.title}let Qr=(()=>{var b;class V{constructor(){this.activated=null,this._activatedRoute=null,this.name=It,this.activateEvents=new c.bkB,this.deactivateEvents=new c.bkB,this.attachEvents=new c.bkB,this.detachEvents=new c.bkB,this.parentContexts=(0,c.WQX)(X),this.location=(0,c.WQX)(c.c1b),this.changeDetector=(0,c.WQX)(c.gRc),this.inputBinder=(0,c.WQX)(po,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(B){if(B.name){const{firstChange:z,previousValue:Le}=B.name;if(z)return;this.isTrackedInParentContexts(Le)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(Le)),this.initializeOutletWithName()}}ngOnDestroy(){var B;this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),null===(B=this.inputBinder)||void 0===B||B.unsubscribeFromRouteData(this)}isTrackedInParentContexts(B){var z;return(null===(z=this.parentContexts.getContext(B))||void 0===z?void 0:z.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const B=this.parentContexts.getContext(this.name);null!=B&&B.route&&(B.attachRef?this.attach(B.attachRef,B.route):this.activateWith(B.route,B.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.wOt(4012,!1);this.location.detach();const B=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(B.instance),B}attach(B,z){var Le;this.activated=B,this._activatedRoute=z,this.location.insert(B.hostView),null===(Le=this.inputBinder)||void 0===Le||Le.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(B.instance)}deactivate(){if(this.activated){const B=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(B)}}activateWith(B,z){var Le;if(this.isActivated)throw new c.wOt(4013,!1);this._activatedRoute=B;const Ge=this.location,Dn=B.snapshot.component,nn=this.parentContexts.getOrCreateContext(this.name).children,lr=new hi(B,nn,Ge.injector);this.activated=Ge.createComponent(Dn,{index:Ge.length,injector:lr,environmentInjector:z}),this.changeDetector.markForCheck(),null===(Le=this.inputBinder)||void 0===Le||Le.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(b=V).\u0275fac=function(B){return new(B||b)},b.\u0275dir=c.FsC({type:b,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[c.OA$]}),V})();class hi{__ngOutletInjector(V){return new hi(this.route,this.childContexts,V)}constructor(V,J,B){this.route=V,this.childContexts=J,this.parent=B}get(V,J){return V===In?this.route:V===X?this.childContexts:this.parent.get(V,J)}}const po=new c.nKC("");let Li=(()=>{var b;class V{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(B){this.unsubscribeFromRouteData(B),this.subscribeToRouteData(B)}unsubscribeFromRouteData(B){var z;null===(z=this.outletDataSubscriptions.get(B))||void 0===z||z.unsubscribe(),this.outletDataSubscriptions.delete(B)}subscribeToRouteData(B){const{activatedRoute:z}=B,Le=(0,P.z)([z.queryParams,z.params,z.data]).pipe((0,Xe.n)(([Ge,Jt,Dn],nn)=>(Dn={...Ge,...Jt,...Dn},0===nn?(0,A.of)(Dn):Promise.resolve(Dn)))).subscribe(Ge=>{if(!B.isActivated||!B.activatedComponentRef||B.activatedRoute!==z||null===z.component)return void this.unsubscribeFromRouteData(B);const Jt=(0,c.HJs)(z.component);if(Jt)for(const{templateName:Dn}of Jt.inputs)B.activatedComponentRef.setInput(Dn,Ge[Dn]);else this.unsubscribeFromRouteData(B)});this.outletDataSubscriptions.set(B,Le)}}return(b=V).\u0275fac=function(B){return new(B||b)},b.\u0275prov=c.jDH({token:b,factory:b.\u0275fac}),V})();function Zt(b,V,J){if(J&&b.shouldReuseRoute(V.value,J.value.snapshot)){const B=J.value;B._futureSnapshot=V.value;const z=function to(b,V,J){return V.children.map(B=>{for(const z of J.children)if(b.shouldReuseRoute(B.value,z.value.snapshot))return Zt(b,B,z);return Zt(b,B)})}(b,V,J);return new et(B,z)}{if(b.shouldAttach(V.value)){const Le=b.retrieve(V.value);if(null!==Le){const Ge=Le.route;return Ge.value._futureSnapshot=V.value,Ge.children=V.children.map(Jt=>Zt(b,Jt)),Ge}}const B=function yo(b){return new In(new I.t(b.url),new I.t(b.params),new I.t(b.queryParams),new I.t(b.fragment),new I.t(b.data),b.outlet,b.component,b)}(V.value),z=V.children.map(Le=>Zt(b,Le));return new et(B,z)}}class Ys{constructor(V,J){this.redirectTo=V,this.navigationBehaviorOptions=J}}const ls="ngNavigationCancelingError";function wo(b,V){const{redirectTo:J,navigationBehaviorOptions:B}=vr(V)?{redirectTo:V,navigationBehaviorOptions:void 0}:V,z=ko(!1,ai.Redirect);return z.url=J,z.navigationBehaviorOptions=B,z}function ko(b,V){const J=new Error(`NavigationCancelingError: ${b||""}`);return J[ls]=!0,J.cancellationCode=V,J}function Ii(b){return!!b&&b[ls]}class Xu{constructor(V,J,B,z,Le){this.routeReuseStrategy=V,this.futureState=J,this.currState=B,this.forwardEvent=z,this.inputBindingEnabled=Le}activate(V){const J=this.futureState._root,B=this.currState?this.currState._root:null;this.deactivateChildRoutes(J,B,V),qr(this.futureState.root),this.activateChildRoutes(J,B,V)}deactivateChildRoutes(V,J,B){const z=Ft(J);V.children.forEach(Le=>{const Ge=Le.value.outlet;this.deactivateRoutes(Le,z[Ge],B),delete z[Ge]}),Object.values(z).forEach(Le=>{this.deactivateRouteAndItsChildren(Le,B)})}deactivateRoutes(V,J,B){const z=V.value,Le=J?J.value:null;if(z===Le)if(z.component){const Ge=B.getContext(z.outlet);Ge&&this.deactivateChildRoutes(V,J,Ge.children)}else this.deactivateChildRoutes(V,J,B);else Le&&this.deactivateRouteAndItsChildren(J,B)}deactivateRouteAndItsChildren(V,J){V.value.component&&this.routeReuseStrategy.shouldDetach(V.value.snapshot)?this.detachAndStoreRouteSubtree(V,J):this.deactivateRouteAndOutlet(V,J)}detachAndStoreRouteSubtree(V,J){const B=J.getContext(V.value.outlet),z=B&&V.value.component?B.children:J,Le=Ft(V);for(const Ge of Object.values(Le))this.deactivateRouteAndItsChildren(Ge,z);if(B&&B.outlet){const Ge=B.outlet.detach(),Jt=B.children.onOutletDeactivated();this.routeReuseStrategy.store(V.value.snapshot,{componentRef:Ge,route:V,contexts:Jt})}}deactivateRouteAndOutlet(V,J){const B=J.getContext(V.value.outlet),z=B&&V.value.component?B.children:J,Le=Ft(V);for(const Ge of Object.values(Le))this.deactivateRouteAndItsChildren(Ge,z);B&&(B.outlet&&(B.outlet.deactivate(),B.children.onOutletDeactivated()),B.attachRef=null,B.route=null)}activateChildRoutes(V,J,B){const z=Ft(J);V.children.forEach(Le=>{this.activateRoutes(Le,z[Le.value.outlet],B),this.forwardEvent(new Oa(Le.value.snapshot))}),V.children.length&&this.forwardEvent(new Pn(V.value.snapshot))}activateRoutes(V,J,B){const z=V.value,Le=J?J.value:null;if(qr(z),z===Le)if(z.component){const Ge=B.getOrCreateContext(z.outlet);this.activateChildRoutes(V,J,Ge.children)}else this.activateChildRoutes(V,J,B);else if(z.component){const Ge=B.getOrCreateContext(z.outlet);if(this.routeReuseStrategy.shouldAttach(z.snapshot)){const Jt=this.routeReuseStrategy.retrieve(z.snapshot);this.routeReuseStrategy.store(z.snapshot,null),Ge.children.onOutletReAttached(Jt.contexts),Ge.attachRef=Jt.componentRef,Ge.route=Jt.route.value,Ge.outlet&&Ge.outlet.attach(Jt.componentRef,Jt.route.value),qr(Jt.route.value),this.activateChildRoutes(V,null,Ge.children)}else Ge.attachRef=null,Ge.route=z,Ge.outlet&&Ge.outlet.activateWith(z,Ge.injector),this.activateChildRoutes(V,null,Ge.children)}else this.activateChildRoutes(V,null,B)}}class Ma{constructor(V){this.path=V,this.route=this.path[this.path.length-1]}}class pi{constructor(V,J){this.component=V,this.route=J}}function Ur(b,V,J){const B=b._root;return Ai(B,V?V._root:null,J,[B.value])}function Yo(b,V){const J=Symbol(),B=V.get(b,J);return B===J?"function"!=typeof b||(0,c.LfX)(b)?V.get(b):b:B}function Ai(b,V,J,B,z={canDeactivateChecks:[],canActivateChecks:[]}){const Le=Ft(V);return b.children.forEach(Ge=>{(function Pa(b,V,J,B,z={canDeactivateChecks:[],canActivateChecks:[]}){const Le=b.value,Ge=V?V.value:null,Jt=J?J.getContext(b.value.outlet):null;if(Ge&&Le.routeConfig===Ge.routeConfig){const Dn=function ws(b,V,J){if("function"==typeof J)return J(b,V);switch(J){case"pathParamsChange":return!Ze(b.url,V.url);case"pathParamsOrQueryParamsChange":return!Ze(b.url,V.url)||!Qn(b.queryParams,V.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ni(b,V)||!Qn(b.queryParams,V.queryParams);default:return!ni(b,V)}}(Ge,Le,Le.routeConfig.runGuardsAndResolvers);Dn?z.canActivateChecks.push(new Ma(B)):(Le.data=Ge.data,Le._resolvedData=Ge._resolvedData),Ai(b,V,Le.component?Jt?Jt.children:null:J,B,z),Dn&&Jt&&Jt.outlet&&Jt.outlet.isActivated&&z.canDeactivateChecks.push(new pi(Jt.outlet.component,Ge))}else Ge&&ri(V,Jt,z),z.canActivateChecks.push(new Ma(B)),Ai(b,null,Le.component?Jt?Jt.children:null:J,B,z)})(Ge,Le[Ge.value.outlet],J,B.concat([Ge.value]),z),delete Le[Ge.value.outlet]}),Object.entries(Le).forEach(([Ge,Jt])=>ri(Jt,J.getContext(Ge),z)),z}function ri(b,V,J){const B=Ft(b),z=b.value;Object.entries(B).forEach(([Le,Ge])=>{ri(Ge,z.component?V?V.children.getContext(Le):null:V,J)}),J.canDeactivateChecks.push(new pi(z.component&&V&&V.outlet&&V.outlet.isActivated?V.outlet.component:null,z))}function Io(b){return"function"==typeof b}function qa(b){return b instanceof F.G||"EmptyError"===(null==b?void 0:b.name)}const ii=Symbol("INITIAL_VALUE");function Os(){return(0,Xe.n)(b=>(0,P.z)(b.map(V=>V.pipe((0,it.s)(1),(0,We.Z)(ii)))).pipe((0,Re.T)(V=>{for(const J of V)if(!0!==J){if(J===ii)return ii;if(!1===J||Bl(J))return J}return!0}),(0,Je.p)(V=>V!==ii),(0,it.s)(1)))}function Bl(b){return vr(b)||b instanceof Ys}function Fn(b){return(0,j.F)((0,rt.M)(V=>{if("boolean"!=typeof V)throw wo(0,V)}),(0,Re.T)(V=>!0===V))}class gi{constructor(V){this.segmentGroup=V||null}}class Vi extends Error{constructor(V){super(),this.urlTree=V}}function so(b){return Q(new gi(b))}class qo{constructor(V,J){this.urlSerializer=V,this.urlTree=J}lineralizeSegments(V,J){let B=[],z=J.root;for(;;){if(B=B.concat(z.segments),0===z.numberOfChildren)return(0,A.of)(B);if(z.numberOfChildren>1||!z.children[It])return Q(new c.wOt(4e3,!1));z=z.children[It]}}applyRedirectCommands(V,J,B,z,Le){if("string"!=typeof J){const Jt=J,{queryParams:Dn,fragment:nn,routeConfig:lr,url:Pr,outlet:ci,params:Vr,data:Mi,title:uo}=z,Uo=(0,c.N4e)(Le,()=>Jt({params:Vr,data:Mi,queryParams:Dn,fragment:nn,routeConfig:lr,url:Pr,outlet:ci,title:uo}));if(Uo instanceof Te)throw new Vi(Uo);J=Uo}const Ge=this.applyRedirectCreateUrlTree(J,this.urlSerializer.parse(J),V,B);if("/"===J[0])throw new Vi(Ge);return Ge}applyRedirectCreateUrlTree(V,J,B,z){const Le=this.createSegmentGroup(V,J.root,B,z);return new Te(Le,this.createQueryParams(J.queryParams,this.urlTree.queryParams),J.fragment)}createQueryParams(V,J){const B={};return Object.entries(V).forEach(([z,Le])=>{if("string"==typeof Le&&":"===Le[0]){const Jt=Le.substring(1);B[z]=J[Jt]}else B[z]=Le}),B}createSegmentGroup(V,J,B,z){const Le=this.createSegments(V,J.segments,B,z);let Ge={};return Object.entries(J.children).forEach(([Jt,Dn])=>{Ge[Jt]=this.createSegmentGroup(V,Dn,B,z)}),new Pe(Le,Ge)}createSegments(V,J,B,z){return J.map(Le=>":"===Le.path[0]?this.findPosParam(V,Le,z):this.findOrReturn(Le,B))}findPosParam(V,J,B){const z=B[J.path.substring(1)];if(!z)throw new c.wOt(4001,!1);return z}findOrReturn(V,J){let B=0;for(const z of J){if(z.path===V.path)return J.splice(B),z;B++}return V}}const ka={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Gr(b,V,J,B,z){const Le=kr(b,V,J);return Le.matched?(B=function Rs(b,V){var J;return b.providers&&!b._injector&&(b._injector=(0,c.Ol2)(b.providers,V,`Route: ${b.path}`)),null!==(J=b._injector)&&void 0!==J?J:V}(V,B),function Rr(b,V,J,B){const z=V.canMatch;if(!z||0===z.length)return(0,A.of)(!0);const Le=z.map(Ge=>{const Jt=Yo(Ge,b);return K(function Vl(b){return b&&Io(b.canMatch)}(Jt)?Jt.canMatch(V,J):(0,c.N4e)(b,()=>Jt(V,J)))});return(0,A.of)(Le).pipe(Os(),Fn())}(B,V,J).pipe((0,Re.T)(Ge=>!0===Ge?Le:{...ka}))):(0,A.of)(Le)}function kr(b,V,J){var B,z;if("**"===V.path)return function Bi(b){return{matched:!0,parameters:b.length>0?vn(b).parameters:{},consumedSegments:b,remainingSegments:[],positionalParamSegments:{}}}(J);if(""===V.path)return"full"===V.pathMatch&&(b.hasChildren()||J.length>0)?{...ka}:{matched:!0,consumedSegments:[],remainingSegments:J,parameters:{},positionalParamSegments:{}};const Ge=(V.matcher||nr)(J,b,V);if(!Ge)return{...ka};const Jt={};Object.entries(null!==(B=Ge.posParams)&&void 0!==B?B:{}).forEach(([nn,lr])=>{Jt[nn]=lr.path});const Dn=Ge.consumed.length>0?{...Jt,...Ge.consumed[Ge.consumed.length-1].parameters}:Jt;return{matched:!0,consumedSegments:Ge.consumed,remainingSegments:J.slice(Ge.consumed.length),parameters:Dn,positionalParamSegments:null!==(z=Ge.posParams)&&void 0!==z?z:{}}}function _i(b,V,J,B){return J.length>0&&function da(b,V,J){return J.some(B=>vl(b,V,B)&&wi(B)!==It)}(b,J,B)?{segmentGroup:new Pe(V,El(B,new Pe(J,b.children))),slicedSegments:[]}:0===J.length&&function Oi(b,V,J){return J.some(B=>vl(b,V,B))}(b,J,B)?{segmentGroup:new Pe(b.segments,Fr(b,J,B,b.children)),slicedSegments:J}:{segmentGroup:new Pe(b.segments,b.children),slicedSegments:J}}function Fr(b,V,J,B){const z={};for(const Le of J)if(vl(b,V,Le)&&!B[wi(Le)]){const Ge=new Pe([],{});z[wi(Le)]=Ge}return{...B,...z}}function El(b,V){const J={};J[It]=V;for(const B of b)if(""===B.path&&wi(B)!==It){const z=new Pe([],{});J[wi(B)]=z}return J}function vl(b,V,J){return(!(b.hasChildren()||V.length>0)||"full"!==J.pathMatch)&&""===J.path}class bi{}class Si{constructor(V,J,B,z,Le,Ge,Jt){this.injector=V,this.configLoader=J,this.rootComponentType=B,this.config=z,this.urlTree=Le,this.paramsInheritanceStrategy=Ge,this.urlSerializer=Jt,this.applyRedirects=new qo(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(V){return new c.wOt(4002,`'${V.segmentGroup}'`)}recognize(){const V=_i(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(V).pipe((0,Re.T)(({children:J,rootSnapshot:B})=>{const z=new et(B,J),Le=new or("",z),Ge=function ct(b,V,J=null,B=null){return Gn(bt(b),V,J,B)}(B,[],this.urlTree.queryParams,this.urlTree.fragment);return Ge.queryParams=this.urlTree.queryParams,Le.url=this.urlSerializer.serialize(Ge),{state:Le,tree:Ge}}))}match(V){const J=new qn([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),It,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,V,It,J).pipe((0,Re.T)(B=>({children:B,rootSnapshot:J})),(0,xt.W)(B=>{if(B instanceof Vi)return this.urlTree=B.urlTree,this.match(B.urlTree.root);throw B instanceof gi?this.noMatchError(B):B}))}processSegmentGroup(V,J,B,z,Le){return 0===B.segments.length&&B.hasChildren()?this.processChildren(V,J,B,Le):this.processSegment(V,J,B,B.segments,z,!0,Le).pipe((0,Re.T)(Ge=>Ge instanceof et?[Ge]:[]))}processChildren(V,J,B,z){const Le=[];for(const Ge of Object.keys(B.children))"primary"===Ge?Le.unshift(Ge):Le.push(Ge);return(0,N.H)(Le).pipe(Ye(Ge=>{const Jt=B.children[Ge],Dn=function Y(b,V){const J=b.filter(B=>wi(B)===V);return J.push(...b.filter(B=>wi(B)!==V)),J}(J,Ge);return this.processSegmentGroup(V,Dn,Jt,Ge,z)}),(0,on.S)((Ge,Jt)=>(Ge.push(...Jt),Ge)),(0,At.U)(null),function Ie(b,V){const J=arguments.length>=2;return B=>B.pipe(b?(0,Je.p)((z,Le)=>b(z,Le,B)):fe.D,je(1),J?(0,At.U)(V):(0,pe.v)(()=>new F.G))}(),(0,xe.Z)(Ge=>{if(null===Ge)return so(B);const Jt=Ws(Ge);return function ds(b){b.sort((V,J)=>V.value.outlet===It?-1:J.value.outlet===It?1:V.value.outlet.localeCompare(J.value.outlet))}(Jt),(0,A.of)(Jt)}))}processSegment(V,J,B,z,Le,Ge,Jt){return(0,N.H)(J).pipe(Ye(Dn=>{var nn;return this.processSegmentAgainstRoute(null!==(nn=Dn._injector)&&void 0!==nn?nn:V,J,Dn,B,z,Le,Ge,Jt).pipe((0,xt.W)(lr=>{if(lr instanceof gi)return(0,A.of)(null);throw lr}))}),(0,Ke.$)(Dn=>!!Dn),(0,xt.W)(Dn=>{if(qa(Dn))return function Ju(b,V,J){return 0===V.length&&!b.children[J]}(B,z,Le)?(0,A.of)(new bi):so(B);throw Dn}))}processSegmentAgainstRoute(V,J,B,z,Le,Ge,Jt,Dn){return wi(B)===Ge||Ge!==It&&vl(z,Le,B)?void 0===B.redirectTo?this.matchSegmentAgainstRoute(V,z,B,Le,Ge,Dn):this.allowRedirects&&Jt?this.expandSegmentAgainstRouteUsingRedirect(V,z,J,B,Le,Ge,Dn):so(z):so(z)}expandSegmentAgainstRouteUsingRedirect(V,J,B,z,Le,Ge,Jt){var Dn,nn;const{matched:lr,parameters:Pr,consumedSegments:ci,positionalParamSegments:Vr,remainingSegments:Mi}=kr(J,z,Le);if(!lr)return so(J);"string"==typeof z.redirectTo&&"/"===z.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const uo=new qn(Le,Pr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Kl(z),wi(z),null!==(Dn=null!==(nn=z.component)&&void 0!==nn?nn:z._loadedComponent)&&void 0!==Dn?Dn:null,z,hs(z)),Uo=An(uo,Jt,this.paramsInheritanceStrategy);uo.params=Object.freeze(Uo.params),uo.data=Object.freeze(Uo.data);const Fo=this.applyRedirects.applyRedirectCommands(ci,z.redirectTo,Vr,uo,V);return this.applyRedirects.lineralizeSegments(z,Fo).pipe((0,xe.Z)(Jo=>this.processSegment(V,B,J,Jo.concat(Mi),Ge,!1,Jt)))}matchSegmentAgainstRoute(V,J,B,z,Le,Ge){const Jt=Gr(J,B,z,V);return"**"===B.path&&(J.children={}),Jt.pipe((0,Xe.n)(Dn=>{var nn;return Dn.matched?(V=null!==(nn=B._injector)&&void 0!==nn?nn:V,this.getChildConfig(V,B,z).pipe((0,Xe.n)(({routes:lr})=>{var Pr,ci,Vr;const Mi=null!==(Pr=B._loadedInjector)&&void 0!==Pr?Pr:V,{parameters:uo,consumedSegments:Uo,remainingSegments:Fo}=Dn,Jo=new qn(Uo,uo,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Kl(B),wi(B),null!==(ci=null!==(Vr=B.component)&&void 0!==Vr?Vr:B._loadedComponent)&&void 0!==ci?ci:null,B,hs(B)),ta=An(Jo,Ge,this.paramsInheritanceStrategy);Jo.params=Object.freeze(ta.params),Jo.data=Object.freeze(ta.data);const{segmentGroup:nc,slicedSegments:Sl}=_i(J,Uo,Fo,lr);if(0===Sl.length&&nc.hasChildren())return this.processChildren(Mi,lr,nc,Jo).pipe((0,Re.T)(zl=>new et(Jo,zl)));if(0===lr.length&&0===Sl.length)return(0,A.of)(new et(Jo,[]));const Wl=wi(B)===Le;return this.processSegment(Mi,lr,nc,Sl,Wl?It:Le,!0,Jo).pipe((0,Re.T)(zl=>new et(Jo,zl instanceof et?[zl]:[])))}))):so(J)}))}getChildConfig(V,J,B){return J.children?(0,A.of)({routes:J.children,injector:V}):J.loadChildren?void 0!==J._loadedRoutes?(0,A.of)({routes:J._loadedRoutes,injector:J._loadedInjector}):function He(b,V,J,B){const z=V.canLoad;if(void 0===z||0===z.length)return(0,A.of)(!0);const Le=z.map(Ge=>{const Jt=Yo(Ge,b);return K(function La(b){return b&&Io(b.canLoad)}(Jt)?Jt.canLoad(V,J):(0,c.N4e)(b,()=>Jt(V,J)))});return(0,A.of)(Le).pipe(Os(),Fn())}(V,J,B).pipe((0,xe.Z)(z=>z?this.configLoader.loadChildren(V,J).pipe((0,rt.M)(Le=>{J._loadedRoutes=Le.routes,J._loadedInjector=Le.injector})):function ca(){return Q(ko(!1,ai.GuardRejected))}())):(0,A.of)({routes:[],injector:V})}}function Zu(b){const V=b.value.routeConfig;return V&&""===V.path}function Ws(b){const V=[],J=new Set;for(const B of b){if(!Zu(B)){V.push(B);continue}const z=V.find(Le=>B.value.routeConfig===Le.value.routeConfig);void 0!==z?(z.children.push(...B.children),J.add(z)):V.push(B)}for(const B of J){const z=Ws(B.children);V.push(new et(B.value,z))}return V.filter(B=>!J.has(B))}function Kl(b){return b.data||{}}function hs(b){return b.resolve||{}}function qs(b){const V=b.children.map(J=>qs(J)).flat();return[b,...V]}function yl(b){return(0,Xe.n)(V=>{const J=b(V);return J?(0,N.H)(J).pipe((0,Re.T)(()=>V)):(0,A.of)(V)})}let Fa=(()=>{var b;class V{buildTitle(B){let z,Le=B.root;for(;void 0!==Le;){var Ge;z=null!==(Ge=this.getResolvedTitleForRoute(Le))&&void 0!==Ge?Ge:z,Le=Le.children.find(Jt=>Jt.outlet===It)}return z}getResolvedTitleForRoute(B){return B.data[sn]}}return(b=V).\u0275fac=function(B){return new(B||b)},b.\u0275prov=c.jDH({token:b,factory:()=>(0,c.WQX)(Co),providedIn:"root"}),V})(),Co=(()=>{var b;class V extends Fa{constructor(B){super(),this.title=B}updateTitle(B){const z=this.buildTitle(B);void 0!==z&&this.title.setTitle(z)}}return(b=V).\u0275fac=function(B){return new(B||b)(c.KVO(vt.hE))},b.\u0275prov=c.jDH({token:b,factory:b.\u0275fac,providedIn:"root"}),V})();const bo=new c.nKC("",{providedIn:"root",factory:()=>({})});let Va=(()=>{var b;class V{}return(b=V).\u0275fac=function(B){return new(B||b)},b.\u0275cmp=c.VBU({type:b,selectors:[["ng-component"]],standalone:!0,features:[c.aNF],decls:1,vars:0,template:function(B,z){1&B&&c.nrm(0,"router-outlet")},dependencies:[Qr],encapsulation:2}),V})();function Ns(b){const V=b.children&&b.children.map(Ns),J=V?{...b,children:V}:{...b};return!J.component&&!J.loadComponent&&(V||J.loadChildren)&&J.outlet&&J.outlet!==It&&(J.component=Va),J}const Ba=new c.nKC("");let Ga=(()=>{var b;class V{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,c.WQX)(c.Ql9)}loadComponent(B){if(this.componentLoaders.get(B))return this.componentLoaders.get(B);if(B._loadedComponent)return(0,A.of)(B._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(B);const z=K(B.loadComponent()).pipe((0,Re.T)(jl),(0,rt.M)(Ge=>{this.onLoadEndListener&&this.onLoadEndListener(B),B._loadedComponent=Ge}),Kt(()=>{this.componentLoaders.delete(B)})),Le=new me(z,()=>new Ne.B).pipe(Be());return this.componentLoaders.set(B,Le),Le}loadChildren(B,z){if(this.childrenLoaders.get(z))return this.childrenLoaders.get(z);if(z._loadedRoutes)return(0,A.of)({routes:z._loadedRoutes,injector:z._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(z);const Ge=function $a(b,V,J,B){return K(b.loadChildren()).pipe((0,Re.T)(jl),(0,xe.Z)(z=>z instanceof c.Co$||Array.isArray(z)?(0,A.of)(z):(0,N.H)(V.compileModuleAsync(z))),(0,Re.T)(z=>{B&&B(b);let Le,Ge,Jt=!1;return Array.isArray(z)?(Ge=z,!0):(Le=z.create(J).injector,Ge=Le.get(Ba,[],{optional:!0,self:!0}).flat()),{routes:Ge.map(Ns),injector:Le}}))}(z,this.compiler,B,this.onLoadEndListener).pipe(Kt(()=>{this.childrenLoaders.delete(z)})),Jt=new me(Ge,()=>new Ne.B).pipe(Be());return this.childrenLoaders.set(z,Jt),Jt}}return(b=V).\u0275fac=function(B){return new(B||b)},b.\u0275prov=c.jDH({token:b,factory:b.\u0275fac,providedIn:"root"}),V})();function jl(b){return function Xa(b){return b&&"object"==typeof b&&"default"in b}(b)?b.default:b}let Xo=(()=>{var b;class V{}return(b=V).\u0275fac=function(B){return new(B||b)},b.\u0275prov=c.jDH({token:b,factory:()=>(0,c.WQX)(ps),providedIn:"root"}),V})(),ps=(()=>{var b;class V{shouldProcessUrl(B){return!0}extract(B){return B}merge(B,z){return B}}return(b=V).\u0275fac=function(B){return new(B||b)},b.\u0275prov=c.jDH({token:b,factory:b.\u0275fac,providedIn:"root"}),V})();const ec=new c.nKC(""),mu=new c.nKC("");function U(b,V,J){const B=b.get(mu),z=b.get(Se.qQ);return b.get(c.SKi).runOutsideAngular(()=>{if(!z.startViewTransition||B.skipNextTransition)return B.skipNextTransition=!1,new Promise(nn=>setTimeout(nn));let Le;const Ge=new Promise(nn=>{Le=nn}),Jt=z.startViewTransition(()=>(Le(),function ie(b){return new Promise(V=>{(0,c.mal)({read:()=>setTimeout(V)},{injector:b})})}(b))),{onViewTransitionCreated:Dn}=B;return Dn&&(0,c.N4e)(b,()=>Dn({transition:Jt,from:V,to:J})),Ge})}const nt=new c.nKC("");let te=(()=>{var b;class V{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ne.B,this.transitionAbortSubject=new Ne.B,this.configLoader=(0,c.WQX)(Ga),this.environmentInjector=(0,c.WQX)(c.uvJ),this.urlSerializer=(0,c.WQX)(wt),this.rootContexts=(0,c.WQX)(X),this.location=(0,c.WQX)(Se.aZ),this.inputBindingEnabled=null!==(0,c.WQX)(po,{optional:!0}),this.titleStrategy=(0,c.WQX)(Fa),this.options=(0,c.WQX)(bo,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,c.WQX)(Xo),this.createViewTransition=(0,c.WQX)(ec,{optional:!0}),this.navigationErrorHandler=(0,c.WQX)(nt,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,A.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=Le=>this.events.next(new Jr(Le)),this.configLoader.onLoadStartListener=Le=>this.events.next(new Kr(Le))}complete(){var B;null===(B=this.transitions)||void 0===B||B.complete()}handleNavigationRequest(B){var z;const Le=++this.navigationId;null===(z=this.transitions)||void 0===z||z.next({...this.transitions.value,...B,id:Le})}setupNavigations(B,z,Le){return this.transitions=new I.t({id:0,currentUrlTree:z,currentRawUrl:z,extractedUrl:this.urlHandlingStrategy.extract(z),urlAfterRedirects:this.urlHandlingStrategy.extract(z),rawUrl:z,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:ui,restoredState:null,currentSnapshot:Le.snapshot,targetSnapshot:null,currentRouterState:Le,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Je.p)(Ge=>0!==Ge.id),(0,Re.T)(Ge=>({...Ge,extractedUrl:this.urlHandlingStrategy.extract(Ge.rawUrl)})),(0,Xe.n)(Ge=>{let Jt=!1,Dn=!1;return(0,A.of)(Ge).pipe((0,Xe.n)(nn=>{var lr;if(this.navigationId>Ge.id)return this.cancelNavigationTransition(Ge,"",ai.SupersededByNewNavigation),$.w;this.currentTransition=Ge,this.currentNavigation={id:nn.id,initialUrl:nn.rawUrl,extractedUrl:nn.extractedUrl,targetBrowserUrl:"string"==typeof nn.extras.browserUrl?this.urlSerializer.parse(nn.extras.browserUrl):nn.extras.browserUrl,trigger:nn.source,extras:nn.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const Pr=!B.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),ci=null!==(lr=nn.extras.onSameUrlNavigation)&&void 0!==lr?lr:B.onSameUrlNavigation;if(!Pr&&"reload"!==ci){const Vr="";return this.events.next(new eo(nn.id,this.urlSerializer.serialize(nn.rawUrl),Vr,Eo.IgnoredSameUrlNavigation)),nn.resolve(!1),$.w}if(this.urlHandlingStrategy.shouldProcessUrl(nn.rawUrl))return(0,A.of)(nn).pipe((0,Xe.n)(Vr=>{var Mi,uo;const Uo=null===(Mi=this.transitions)||void 0===Mi?void 0:Mi.getValue();return this.events.next(new yi(Vr.id,this.urlSerializer.serialize(Vr.extractedUrl),Vr.source,Vr.restoredState)),Uo!==(null===(uo=this.transitions)||void 0===uo?void 0:uo.getValue())?$.w:Promise.resolve(Vr)}),function zs(b,V,J,B,z,Le){return(0,xe.Z)(Ge=>function Qu(b,V,J,B,z,Le,Ge="emptyOnly"){return new Si(b,V,J,B,z,Ge,Le).recognize()}(b,V,J,B,Ge.extractedUrl,z,Le).pipe((0,Re.T)(({state:Jt,tree:Dn})=>({...Ge,targetSnapshot:Jt,urlAfterRedirects:Dn}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,B.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,rt.M)(Vr=>{Ge.targetSnapshot=Vr.targetSnapshot,Ge.urlAfterRedirects=Vr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Vr.urlAfterRedirects};const Mi=new vo(Vr.id,this.urlSerializer.serialize(Vr.extractedUrl),this.urlSerializer.serialize(Vr.urlAfterRedirects),Vr.targetSnapshot);this.events.next(Mi)}));if(Pr&&this.urlHandlingStrategy.shouldProcessUrl(nn.currentRawUrl)){const{id:Vr,extractedUrl:Mi,source:uo,restoredState:Uo,extras:Fo}=nn,Jo=new yi(Vr,this.urlSerializer.serialize(Mi),uo,Uo);this.events.next(Jo);const ta=Vt(this.rootComponentType).snapshot;return this.currentTransition=Ge={...nn,targetSnapshot:ta,urlAfterRedirects:Mi,extras:{...Fo,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=Mi,(0,A.of)(Ge)}{const Vr="";return this.events.next(new eo(nn.id,this.urlSerializer.serialize(nn.extractedUrl),Vr,Eo.IgnoredByUrlHandlingStrategy)),nn.resolve(!1),$.w}}),(0,rt.M)(nn=>{const lr=new Di(nn.id,this.urlSerializer.serialize(nn.extractedUrl),this.urlSerializer.serialize(nn.urlAfterRedirects),nn.targetSnapshot);this.events.next(lr)}),(0,Re.T)(nn=>(this.currentTransition=Ge={...nn,guards:Ur(nn.targetSnapshot,nn.currentSnapshot,this.rootContexts)},Ge)),function pu(b,V){return(0,xe.Z)(J=>{const{targetSnapshot:B,currentSnapshot:z,guards:{canActivateChecks:Le,canDeactivateChecks:Ge}}=J;return 0===Ge.length&&0===Le.length?(0,A.of)({...J,guardsResult:!0}):function Wo(b,V,J,B){return(0,N.H)(b).pipe((0,xe.Z)(z=>function re(b,V,J,B,z){const Le=V&&V.routeConfig?V.routeConfig.canDeactivate:null;if(!Le||0===Le.length)return(0,A.of)(!0);const Ge=Le.map(Jt=>{var Dn;const nn=null!==(Dn=le(V))&&void 0!==Dn?Dn:z,lr=Yo(Jt,nn);return K(function xa(b){return b&&Io(b.canDeactivate)}(lr)?lr.canDeactivate(b,V,J,B):(0,c.N4e)(nn,()=>lr(b,V,J,B))).pipe((0,Ke.$)())});return(0,A.of)(Ge).pipe(Os())}(z.component,z.route,J,V,B)),(0,Ke.$)(z=>!0!==z,!0))}(Ge,B,z,b).pipe((0,xe.Z)(Jt=>Jt&&function Fl(b){return"boolean"==typeof b}(Jt)?function Gl(b,V,J,B){return(0,N.H)(V).pipe(Ye(z=>(0,C.x)(function ae(b,V){return null!==b&&V&&V(new ss(b)),(0,A.of)(!0)}(z.route.parent,B),function gu(b,V){return null!==b&&V&&V(new Wn(b)),(0,A.of)(!0)}(z.route,B),function Ae(b,V,J){const B=V[V.length-1],Le=V.slice(0,V.length-1).reverse().map(Ge=>function go(b){const V=b.routeConfig?b.routeConfig.canActivateChild:null;return V&&0!==V.length?{node:b,guards:V}:null}(Ge)).filter(Ge=>null!==Ge).map(Ge=>x(()=>{const Jt=Ge.guards.map(Dn=>{var nn;const lr=null!==(nn=le(Ge.node))&&void 0!==nn?nn:J,Pr=Yo(Dn,lr);return K(function _l(b){return b&&Io(b.canActivateChild)}(Pr)?Pr.canActivateChild(B,b):(0,c.N4e)(lr,()=>Pr(B,b))).pipe((0,Ke.$)())});return(0,A.of)(Jt).pipe(Os())}));return(0,A.of)(Le).pipe(Os())}(b,z.path,J),function W(b,V,J){const B=V.routeConfig?V.routeConfig.canActivate:null;if(!B||0===B.length)return(0,A.of)(!0);const z=B.map(Le=>x(()=>{var Ge;const Jt=null!==(Ge=le(V))&&void 0!==Ge?Ge:J,Dn=Yo(Le,Jt);return K(function za(b){return b&&Io(b.canActivate)}(Dn)?Dn.canActivate(V,b):(0,c.N4e)(Jt,()=>Dn(V,b))).pipe((0,Ke.$)())}));return(0,A.of)(z).pipe(Os())}(b,z.route,J))),(0,Ke.$)(z=>!0!==z,!0))}(B,Le,b,V):(0,A.of)(Jt)),(0,Re.T)(Jt=>({...J,guardsResult:Jt})))})}(this.environmentInjector,nn=>this.events.next(nn)),(0,rt.M)(nn=>{if(Ge.guardsResult=nn.guardsResult,nn.guardsResult&&"boolean"!=typeof nn.guardsResult)throw wo(0,nn.guardsResult);const lr=new io(nn.id,this.urlSerializer.serialize(nn.extractedUrl),this.urlSerializer.serialize(nn.urlAfterRedirects),nn.targetSnapshot,!!nn.guardsResult);this.events.next(lr)}),(0,Je.p)(nn=>!!nn.guardsResult||(this.cancelNavigationTransition(nn,"",ai.GuardRejected),!1)),yl(nn=>{if(nn.guards.canActivateChecks.length)return(0,A.of)(nn).pipe((0,rt.M)(lr=>{const Pr=new xo(lr.id,this.urlSerializer.serialize(lr.extractedUrl),this.urlSerializer.serialize(lr.urlAfterRedirects),lr.targetSnapshot);this.events.next(Pr)}),(0,Xe.n)(lr=>{let Pr=!1;return(0,A.of)(lr).pipe(function fs(b,V){return(0,xe.Z)(J=>{const{targetSnapshot:B,guards:{canActivateChecks:z}}=J;if(!z.length)return(0,A.of)(J);const Le=new Set(z.map(Dn=>Dn.route)),Ge=new Set;for(const Dn of Le)if(!Ge.has(Dn))for(const nn of qs(Dn))Ge.add(nn);let Jt=0;return(0,N.H)(Ge).pipe(Ye(Dn=>Le.has(Dn)?function Oo(b,V,J,B){const z=b.routeConfig,Le=b._resolve;return void 0!==(null==z?void 0:z.title)&&!Xr(z)&&(Le[sn]=z.title),function Ua(b,V,J,B){const z=bn(b);if(0===z.length)return(0,A.of)({});const Le={};return(0,N.H)(z).pipe((0,xe.Z)(Ge=>function Xs(b,V,J,B){var z;const Le=null!==(z=le(V))&&void 0!==z?z:B,Ge=Yo(b,Le);return K(Ge.resolve?Ge.resolve(V,J):(0,c.N4e)(Le,()=>Ge(V,J)))}(b[Ge],V,J,B).pipe((0,Ke.$)(),(0,rt.M)(Jt=>{if(Jt instanceof Ys)throw wo(new an,Jt);Le[Ge]=Jt}))),je(1),function Qe(b){return(0,Re.T)(()=>b)}(Le),(0,xt.W)(Ge=>qa(Ge)?$.w:Q(Ge)))}(Le,b,V,B).pipe((0,Re.T)(Ge=>(b._resolvedData=Ge,b.data=An(b,b.parent,J).resolve,null)))}(Dn,B,b,V):(Dn.data=An(Dn,Dn.parent,b).resolve,(0,A.of)(void 0))),(0,rt.M)(()=>Jt++),je(1),(0,xe.Z)(Dn=>Jt===Ge.size?(0,A.of)(J):$.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,rt.M)({next:()=>Pr=!0,complete:()=>{Pr||this.cancelNavigationTransition(lr,"",ai.NoDataFromResolver)}}))}),(0,rt.M)(lr=>{const Pr=new Un(lr.id,this.urlSerializer.serialize(lr.extractedUrl),this.urlSerializer.serialize(lr.urlAfterRedirects),lr.targetSnapshot);this.events.next(Pr)}))}),yl(nn=>{const lr=Pr=>{var ci;const Vr=[];null!==(ci=Pr.routeConfig)&&void 0!==ci&&ci.loadComponent&&!Pr.routeConfig._loadedComponent&&Vr.push(this.configLoader.loadComponent(Pr.routeConfig).pipe((0,rt.M)(Mi=>{Pr.component=Mi}),(0,Re.T)(()=>{})));for(const Mi of Pr.children)Vr.push(...lr(Mi));return Vr};return(0,P.z)(lr(nn.targetSnapshot.root)).pipe((0,At.U)(null),(0,it.s)(1))}),yl(()=>this.afterPreactivation()),(0,Xe.n)(()=>{var nn;const{currentSnapshot:lr,targetSnapshot:Pr}=Ge,ci=null===(nn=this.createViewTransition)||void 0===nn?void 0:nn.call(this,this.environmentInjector,lr.root,Pr.root);return ci?(0,N.H)(ci).pipe((0,Re.T)(()=>Ge)):(0,A.of)(Ge)}),(0,Re.T)(nn=>{const lr=function oo(b,V,J){const B=Zt(b,V._root,J?J._root:void 0);return new St(B,V)}(B.routeReuseStrategy,nn.targetSnapshot,nn.currentRouterState);return this.currentTransition=Ge={...nn,targetRouterState:lr},this.currentNavigation.targetRouterState=lr,Ge}),(0,rt.M)(()=>{this.events.next(new pn)}),((b,V,J,B)=>(0,Re.T)(z=>(new Xu(V,z.targetRouterState,z.currentRouterState,J,B).activate(b),z)))(this.rootContexts,B.routeReuseStrategy,nn=>this.events.next(nn),this.inputBindingEnabled),(0,it.s)(1),(0,rt.M)({next:nn=>{var lr;Jt=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new zi(nn.id,this.urlSerializer.serialize(nn.extractedUrl),this.urlSerializer.serialize(nn.urlAfterRedirects))),null===(lr=this.titleStrategy)||void 0===lr||lr.updateTitle(nn.targetRouterState.snapshot),nn.resolve(!0)},complete:()=>{Jt=!0}}),function kt(b){return(0,se.N)((V,J)=>{(0,M.Tg)(b).subscribe((0,ue._)(J,()=>J.complete(),Ut.l)),!J.closed&&V.subscribe(J)})}(this.transitionAbortSubject.pipe((0,rt.M)(nn=>{throw nn}))),Kt(()=>{var nn;!Jt&&!Dn&&this.cancelNavigationTransition(Ge,"",ai.SupersededByNewNavigation),(null===(nn=this.currentTransition)||void 0===nn?void 0:nn.id)===Ge.id&&(this.currentNavigation=null,this.currentTransition=null)}),(0,xt.W)(nn=>{if(Dn=!0,Ii(nn))this.events.next(new Ui(Ge.id,this.urlSerializer.serialize(Ge.extractedUrl),nn.message,nn.cancellationCode)),function us(b){return Ii(b)&&vr(b.url)}(nn)?this.events.next(new Ln(nn.url,nn.navigationBehaviorOptions)):Ge.resolve(!1);else{var lr;const Pr=new di(Ge.id,this.urlSerializer.serialize(Ge.extractedUrl),nn,null!==(lr=Ge.targetSnapshot)&&void 0!==lr?lr:void 0);try{const ci=(0,c.N4e)(this.environmentInjector,()=>{var Vr;return null===(Vr=this.navigationErrorHandler)||void 0===Vr?void 0:Vr.call(this,Pr)});if(ci instanceof Ys){const{message:Vr,cancellationCode:Mi}=wo(0,ci);this.events.next(new Ui(Ge.id,this.urlSerializer.serialize(Ge.extractedUrl),Vr,Mi)),this.events.next(new Ln(ci.redirectTo,ci.navigationBehaviorOptions))}else{this.events.next(Pr);const Vr=B.errorHandler(nn);Ge.resolve(!!Vr)}}catch(ci){this.options.resolveNavigationPromiseOnError?Ge.resolve(!1):Ge.reject(ci)}}return $.w}))}))}cancelNavigationTransition(B,z,Le){const Ge=new Ui(B.id,this.urlSerializer.serialize(B.extractedUrl),z,Le);this.events.next(Ge),B.resolve(!1)}isUpdatingInternalState(){var B,z;return(null===(B=this.currentTransition)||void 0===B?void 0:B.extractedUrl.toString())!==(null===(z=this.currentTransition)||void 0===z?void 0:z.currentUrlTree.toString())}isUpdatedBrowserUrl(){var B,z,Le,Ge;const Jt=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),Dn=null!==(B=null===(z=this.currentNavigation)||void 0===z?void 0:z.targetBrowserUrl)&&void 0!==B?B:null===(Le=this.currentNavigation)||void 0===Le?void 0:Le.extractedUrl;return Jt.toString()!==(null==Dn?void 0:Dn.toString())&&!(null!==(Ge=this.currentNavigation)&&void 0!==Ge&&Ge.extras.skipLocationChange)}}return(b=V).\u0275fac=function(B){return new(B||b)},b.\u0275prov=c.jDH({token:b,factory:b.\u0275fac,providedIn:"root"}),V})();function Oe(b){return b!==ui}let dt=(()=>{var b;class V{}return(b=V).\u0275fac=function(B){return new(B||b)},b.\u0275prov=c.jDH({token:b,factory:()=>(0,c.WQX)(Bn),providedIn:"root"}),V})();class ln{shouldDetach(V){return!1}store(V,J){}shouldAttach(V){return!1}retrieve(V){return null}shouldReuseRoute(V,J){return V.routeConfig===J.routeConfig}}let Bn=(()=>{var b;class V extends ln{}return(b=V).\u0275fac=(()=>{let J;return function(z){return(J||(J=c.xGo(b)))(z||b)}})(),b.\u0275prov=c.jDH({token:b,factory:b.\u0275fac,providedIn:"root"}),V})(),Or=(()=>{var b;class V{}return(b=V).\u0275fac=function(B){return new(B||b)},b.\u0275prov=c.jDH({token:b,factory:()=>(0,c.WQX)(Zr),providedIn:"root"}),V})(),Zr=(()=>{var b;class V extends Or{constructor(){super(...arguments),this.location=(0,c.WQX)(Se.aZ),this.urlSerializer=(0,c.WQX)(wt),this.options=(0,c.WQX)(bo,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,c.WQX)(Xo),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Te,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Vt(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){var B,z;return"computed"!==this.canceledNavigationResolution?this.currentPageId:null!==(B=null===(z=this.restoredState())||void 0===z?void 0:z.\u0275routerPageId)&&void 0!==B?B:this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(B){return this.location.subscribe(z=>{"popstate"===z.type&&B(z.url,z.state)})}handleRouterEvent(B,z){if(B instanceof yi)this.stateMemento=this.createStateMemento();else if(B instanceof eo)this.rawUrlTree=z.initialUrl;else if(B instanceof vo){if("eager"===this.urlUpdateStrategy&&!z.extras.skipLocationChange){var Le;const Jt=this.urlHandlingStrategy.merge(z.finalUrl,z.initialUrl);this.setBrowserUrl(null!==(Le=z.targetBrowserUrl)&&void 0!==Le?Le:Jt,z)}}else if(B instanceof pn){var Ge;this.currentUrlTree=z.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(z.finalUrl,z.initialUrl),this.routerState=z.targetRouterState,"deferred"!==this.urlUpdateStrategy||z.extras.skipLocationChange||this.setBrowserUrl(null!==(Ge=z.targetBrowserUrl)&&void 0!==Ge?Ge:this.rawUrlTree,z)}else B instanceof Ui&&(B.code===ai.GuardRejected||B.code===ai.NoDataFromResolver)?this.restoreHistory(z):B instanceof di?this.restoreHistory(z,!0):B instanceof zi&&(this.lastSuccessfulId=B.id,this.currentPageId=this.browserPageId)}setBrowserUrl(B,z){const Le=B instanceof Te?this.urlSerializer.serialize(B):B;if(this.location.isCurrentPathEqualTo(Le)||z.extras.replaceUrl){const Jt={...z.extras.state,...this.generateNgRouterState(z.id,this.browserPageId)};this.location.replaceState(Le,"",Jt)}else{const Ge={...z.extras.state,...this.generateNgRouterState(z.id,this.browserPageId+1)};this.location.go(Le,"",Ge)}}restoreHistory(B,z=!1){if("computed"===this.canceledNavigationResolution){const Ge=this.currentPageId-this.browserPageId;0!==Ge?this.location.historyGo(Ge):this.currentUrlTree===B.finalUrl&&0===Ge&&(this.resetState(B),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(z&&this.resetState(B),this.resetUrlToCurrentUrlTree())}resetState(B){var z;this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,null!==(z=B.finalUrl)&&void 0!==z?z:this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(B,z){return"computed"===this.canceledNavigationResolution?{navigationId:B,\u0275routerPageId:z}:{navigationId:B}}}return(b=V).\u0275fac=(()=>{let J;return function(z){return(J||(J=c.xGo(b)))(z||b)}})(),b.\u0275prov=c.jDH({token:b,factory:b.\u0275fac,providedIn:"root"}),V})();var Hr=function(b){return b[b.COMPLETE=0]="COMPLETE",b[b.FAILED=1]="FAILED",b[b.REDIRECTING=2]="REDIRECTING",b}(Hr||{});function Yr(b,V){b.events.pipe((0,Je.p)(J=>J instanceof zi||J instanceof Ui||J instanceof di||J instanceof eo),(0,Re.T)(J=>J instanceof zi||J instanceof eo?Hr.COMPLETE:J instanceof Ui&&(J.code===ai.Redirect||J.code===ai.SupersededByNewNavigation)?Hr.REDIRECTING:Hr.FAILED),(0,Je.p)(J=>J!==Hr.REDIRECTING),(0,it.s)(1)).subscribe(()=>{V()})}function Ei(b){throw b}const Sr={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},br={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let vi=(()=>{var b;class V{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){var B,z;this.disposed=!1,this.console=(0,c.WQX)(c.H3F),this.stateManager=(0,c.WQX)(Or),this.options=(0,c.WQX)(bo,{optional:!0})||{},this.pendingTasks=(0,c.WQX)(c.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,c.WQX)(te),this.urlSerializer=(0,c.WQX)(wt),this.location=(0,c.WQX)(Se.aZ),this.urlHandlingStrategy=(0,c.WQX)(Xo),this._events=new Ne.B,this.errorHandler=this.options.errorHandler||Ei,this.navigated=!1,this.routeReuseStrategy=(0,c.WQX)(dt),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=null!==(B=null===(z=(0,c.WQX)(Ba,{optional:!0}))||void 0===z?void 0:z.flat())&&void 0!==B?B:[],this.componentInputBindingEnabled=!!(0,c.WQX)(po,{optional:!0}),this.eventsSubscription=new S.yU,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:Le=>{this.console.warn(Le)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const B=this.navigationTransitions.events.subscribe(z=>{try{const Le=this.navigationTransitions.currentTransition,Ge=this.navigationTransitions.currentNavigation;if(null!==Le&&null!==Ge)if(this.stateManager.handleRouterEvent(z,Ge),z instanceof Ui&&z.code!==ai.Redirect&&z.code!==ai.SupersededByNewNavigation)this.navigated=!0;else if(z instanceof zi)this.navigated=!0;else if(z instanceof Ln){const Jt=z.navigationBehaviorOptions,Dn=this.urlHandlingStrategy.merge(z.url,Le.currentRawUrl),nn={browserUrl:Le.extras.browserUrl,info:Le.extras.info,skipLocationChange:Le.extras.skipLocationChange,replaceUrl:Le.extras.replaceUrl||"eager"===this.urlUpdateStrategy||Oe(Le.source),...Jt};this.scheduleNavigation(Dn,ui,null,nn,{resolve:Le.resolve,reject:Le.reject,promise:Le.promise})}(function Yn(b){return!(b instanceof pn||b instanceof Ln)})(z)&&this._events.next(z)}catch(Le){this.navigationTransitions.transitionAbortSubject.next(Le)}});this.eventsSubscription.add(B)}resetRootComponentType(B){this.routerState.root.component=B,this.navigationTransitions.rootComponentType=B}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ui,this.stateManager.restoredState())}setUpLocationChangeListener(){var B;null!==(B=this.nonRouterCurrentEntryChangeSubscription)&&void 0!==B||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((z,Le)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(z,"popstate",Le)},0)}))}navigateToSyncWithBrowser(B,z,Le){const Ge={replaceUrl:!0},Jt=null!=Le&&Le.navigationId?Le:null;if(Le){const nn={...Le};delete nn.navigationId,delete nn.\u0275routerPageId,0!==Object.keys(nn).length&&(Ge.state=nn)}const Dn=this.parseUrl(B);this.scheduleNavigation(Dn,z,Jt,Ge)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(B){this.config=B.map(Ns),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(B,z={}){const{relativeTo:Le,queryParams:Ge,fragment:Jt,queryParamsHandling:Dn,preserveFragment:nn}=z,lr=nn?this.currentUrlTree.fragment:Jt;let ci,Pr=null;switch(null!=Dn?Dn:this.options.defaultQueryParamsHandling){case"merge":Pr={...this.currentUrlTree.queryParams,...Ge};break;case"preserve":Pr=this.currentUrlTree.queryParams;break;default:Pr=Ge||null}null!==Pr&&(Pr=this.removeEmptyProps(Pr));try{ci=bt(Le?Le.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof B[0]||"/"!==B[0][0])&&(B=[]),ci=this.currentUrlTree.root}return Gn(ci,B,Pr,null!=lr?lr:null)}navigateByUrl(B,z={skipLocationChange:!1}){const Le=vr(B)?B:this.parseUrl(B),Ge=this.urlHandlingStrategy.merge(Le,this.rawUrlTree);return this.scheduleNavigation(Ge,ui,null,z)}navigate(B,z={skipLocationChange:!1}){return function $r(b){for(let V=0;V<b.length;V++)if(null==b[V])throw new c.wOt(4008,!1)}(B),this.navigateByUrl(this.createUrlTree(B,z),z)}serializeUrl(B){return this.urlSerializer.serialize(B)}parseUrl(B){try{return this.urlSerializer.parse(B)}catch{return this.urlSerializer.parse("/")}}isActive(B,z){let Le;if(Le=!0===z?{...Sr}:!1===z?{...br}:z,vr(B))return _e(this.currentUrlTree,B,Le);const Ge=this.parseUrl(B);return _e(this.currentUrlTree,Ge,Le)}removeEmptyProps(B){return Object.entries(B).reduce((z,[Le,Ge])=>(null!=Ge&&(z[Le]=Ge),z),{})}scheduleNavigation(B,z,Le,Ge,Jt){if(this.disposed)return Promise.resolve(!1);let Dn,nn,lr;Jt?(Dn=Jt.resolve,nn=Jt.reject,lr=Jt.promise):lr=new Promise((ci,Vr)=>{Dn=ci,nn=Vr});const Pr=this.pendingTasks.add();return Yr(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Pr))}),this.navigationTransitions.handleNavigationRequest({source:z,restoredState:Le,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:B,extras:Ge,resolve:Dn,reject:nn,promise:lr,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),lr.catch(ci=>Promise.reject(ci))}}return(b=V).\u0275fac=function(B){return new(B||b)},b.\u0275prov=c.jDH({token:b,factory:b.\u0275fac,providedIn:"root"}),V})(),Ir=(()=>{var b;class V{constructor(B,z,Le,Ge,Jt,Dn){var nn;this.router=B,this.route=z,this.tabIndexAttribute=Le,this.renderer=Ge,this.el=Jt,this.locationStrategy=Dn,this.href=null,this.onChanges=new Ne.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;const lr=null===(nn=Jt.nativeElement.tagName)||void 0===nn?void 0:nn.toLowerCase();this.isAnchorElement="a"===lr||"area"===lr,this.isAnchorElement?this.subscription=B.events.subscribe(Pr=>{Pr instanceof zi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(B){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",B)}ngOnChanges(B){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(B){null==B?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=vr(B)||Array.isArray(B)?B:[B],this.setTabIndexIfNotOnNativeEl("0"))}onClick(B,z,Le,Ge,Jt){const Dn=this.urlTree;return!!(null===Dn||this.isAnchorElement&&(0!==B||z||Le||Ge||Jt||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(Dn,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){var B;null===(B=this.subscription)||void 0===B||B.unsubscribe()}updateHref(){var B;const z=this.urlTree;this.href=null!==z&&this.locationStrategy?null===(B=this.locationStrategy)||void 0===B?void 0:B.prepareExternalUrl(this.router.serializeUrl(z)):null;const Le=null===this.href?null:(0,c.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",Le)}applyAttributeValue(B,z){const Le=this.renderer,Ge=this.el.nativeElement;null!==z?Le.setAttribute(Ge,B,z):Le.removeAttribute(Ge,B)}get urlTree(){return null===this.routerLinkInput?null:vr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(b=V).\u0275fac=function(B){return new(B||b)(c.rXU(vi),c.rXU(In),c.kS0("tabindex"),c.rXU(c.sFG),c.rXU(c.aKT),c.rXU(Se.hb))},b.\u0275dir=c.FsC({type:b,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(B,z){1&B&&c.bIt("click",function(Ge){return z.onClick(Ge.button,Ge.ctrlKey,Ge.shiftKey,Ge.altKey,Ge.metaKey)}),2&B&&c.BMQ("target",z.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",c.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",c.L39],replaceUrl:[2,"replaceUrl","replaceUrl",c.L39],routerLink:"routerLink"},standalone:!0,features:[c.GFd,c.OA$]}),V})();class Ni{}let ao=(()=>{var b;class V{preload(B,z){return z().pipe((0,xt.W)(()=>(0,A.of)(null)))}}return(b=V).\u0275fac=function(B){return new(B||b)},b.\u0275prov=c.jDH({token:b,factory:b.\u0275fac,providedIn:"root"}),V})(),Ti=(()=>{var b;class V{constructor(B,z,Le,Ge,Jt){this.router=B,this.injector=Le,this.preloadingStrategy=Ge,this.loader=Jt}setUpPreloading(){this.subscription=this.router.events.pipe((0,Je.p)(B=>B instanceof zi),Ye(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(B,z){const Le=[];for(const nn of z){var Ge,Jt;nn.providers&&!nn._injector&&(nn._injector=(0,c.Ol2)(nn.providers,B,`Route: ${nn.path}`));const lr=null!==(Ge=nn._injector)&&void 0!==Ge?Ge:B,Pr=null!==(Jt=nn._loadedInjector)&&void 0!==Jt?Jt:lr;var Dn;(nn.loadChildren&&!nn._loadedRoutes&&void 0===nn.canLoad||nn.loadComponent&&!nn._loadedComponent)&&Le.push(this.preloadConfig(lr,nn)),(nn.children||nn._loadedRoutes)&&Le.push(this.processRoutes(Pr,null!==(Dn=nn.children)&&void 0!==Dn?Dn:nn._loadedRoutes))}return(0,N.H)(Le).pipe((0,_n.U)())}preloadConfig(B,z){return this.preloadingStrategy.preload(z,()=>{let Le;Le=z.loadChildren&&void 0===z.canLoad?this.loader.loadChildren(B,z):(0,A.of)(null);const Ge=Le.pipe((0,xe.Z)(Jt=>{var Dn;return null===Jt?(0,A.of)(void 0):(z._loadedRoutes=Jt.routes,z._loadedInjector=Jt.injector,this.processRoutes(null!==(Dn=Jt.injector)&&void 0!==Dn?Dn:B,Jt.routes))}));if(z.loadComponent&&!z._loadedComponent){const Jt=this.loader.loadComponent(z);return(0,N.H)([Ge,Jt]).pipe((0,_n.U)())}return Ge})}}return(b=V).\u0275fac=function(B){return new(B||b)(c.KVO(vi),c.KVO(c.Ql9),c.KVO(c.uvJ),c.KVO(Ni),c.KVO(Ga))},b.\u0275prov=c.jDH({token:b,factory:b.\u0275fac,providedIn:"root"}),V})();const Gi=new c.nKC("");let Ms=(()=>{var b;class V{constructor(B,z,Le,Ge,Jt={}){this.urlSerializer=B,this.transitions=z,this.viewportScroller=Le,this.zone=Ge,this.options=Jt,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Jt.scrollPositionRestoration||(Jt.scrollPositionRestoration="disabled"),Jt.anchorScrolling||(Jt.anchorScrolling="disabled")}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(B=>{B instanceof yi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=B.navigationTrigger,this.restoredId=B.restoredState?B.restoredState.navigationId:0):B instanceof zi?(this.lastId=B.id,this.scheduleScrollEvent(B,this.urlSerializer.parse(B.urlAfterRedirects).fragment)):B instanceof eo&&B.code===Eo.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(B,this.urlSerializer.parse(B.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(B=>{B instanceof ir&&(B.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(B.position):B.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(B.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(B,z){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ir(B,"popstate"===this.lastSource?this.store[this.restoredId]:null,z))})},0)})}ngOnDestroy(){var B,z;null===(B=this.routerEventsSubscription)||void 0===B||B.unsubscribe(),null===(z=this.scrollEventsSubscription)||void 0===z||z.unsubscribe()}}return(b=V).\u0275fac=function(B){c.QTQ()},b.\u0275prov=c.jDH({token:b,factory:b.\u0275fac}),V})();function Js(b,V){return{\u0275kind:b,\u0275providers:V}}function Xi(){const b=(0,c.WQX)(c.zZn);return V=>{var J,B;const z=b.get(c.o8S);if(V!==z.components[0])return;const Le=b.get(vi),Ge=b.get(pa);1===b.get(Il)&&Le.initialNavigation(),null===(J=b.get(Tr,null,c.$GK.Optional))||void 0===J||J.setUpPreloading(),null===(B=b.get(Gi,null,c.$GK.Optional))||void 0===B||B.init(),Le.resetRootComponentType(z.componentTypes[0]),Ge.closed||(Ge.next(),Ge.complete(),Ge.unsubscribe())}}const pa=new c.nKC("",{factory:()=>new Ne.B}),Il=new c.nKC("",{providedIn:"root",factory:()=>1}),Tr=new c.nKC("");function ga(b){return Js(0,[{provide:Tr,useExisting:Ti},{provide:Ni,useExisting:b}])}function Hi(b){return Js(9,[{provide:ec,useValue:U},{provide:mu,useValue:{skipNextTransition:!(null==b||!b.skipInitialTransition),...b}}])}const xi=new c.nKC("ROUTER_FORROOT_GUARD"),lo=[Se.aZ,{provide:wt,useClass:an},vi,X,{provide:In,useFactory:function Ja(b){return b.routerState.root},deps:[vi]},Ga,[]];let Zs=(()=>{var b;class V{constructor(B){}static forRoot(B,z){return{ngModule:V,providers:[lo,[],{provide:Ba,multi:!0,useValue:B},{provide:xi,useFactory:Cl,deps:[[vi,new c.Xx1,new c.kdw]]},{provide:bo,useValue:z||{}},null!=z&&z.useHash?{provide:Se.hb,useClass:Se.fw}:{provide:Se.hb,useClass:Se.Sm},{provide:Gi,useFactory:()=>{const b=(0,c.WQX)(Se.Xr),V=(0,c.WQX)(c.SKi),J=(0,c.WQX)(bo),B=(0,c.WQX)(te),z=(0,c.WQX)(wt);return J.scrollOffset&&b.setOffset(J.scrollOffset),new Ms(z,B,b,V,J)}},null!=z&&z.preloadingStrategy?ga(z.preloadingStrategy).\u0275providers:[],null!=z&&z.initialNavigation?Eu(z):[],null!=z&&z.bindToComponentInputs?Js(8,[Li,{provide:po,useExisting:Li}]).\u0275providers:[],null!=z&&z.enableViewTransitions?Hi().\u0275providers:[],[{provide:rh,useFactory:Xi},{provide:c.iLQ,multi:!0,useExisting:rh}]]}}static forChild(B){return{ngModule:V,providers:[{provide:Ba,multi:!0,useValue:B}]}}}return(b=V).\u0275fac=function(B){return new(B||b)(c.KVO(xi,8))},b.\u0275mod=c.$C({type:b}),b.\u0275inj=c.G2t({}),V})();function Cl(b){return"guarded"}function Eu(b){return["disabled"===b.initialNavigation?Js(3,[{provide:c.hnV,multi:!0,useFactory:()=>{const V=(0,c.WQX)(vi);return()=>{V.setUpLocationChangeListener()}}},{provide:Il,useValue:2}]).\u0275providers:[],"enabledBlocking"===b.initialNavigation?Js(2,[{provide:Il,useValue:0},{provide:c.hnV,multi:!0,deps:[c.zZn],useFactory:V=>{const J=V.get(Se.hj,Promise.resolve());return()=>J.then(()=>new Promise(B=>{const z=V.get(vi),Le=V.get(pa);Yr(z,()=>{B(!0)}),V.get(te).afterPreactivation=()=>(B(!0),Le.closed?(0,A.of)(void 0):Le),z.initialNavigation()}))}}]).\u0275providers:[]]}const rh=new c.nKC("")},2687:(Jn,ft,y)=>{"use strict";y.d(ft,{$s:()=>we,Fi:()=>Mt,TT:()=>Nn,W0:()=>wt,WV:()=>ot,do:()=>Yt,iG:()=>rr});var c=y(467),d=y(8742),v=y(8041),w=y(1076),N=y(1362);y(9052);const I="analytics",P="firebase_id",F="origin",C=6e4,M="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",x="https://www.googletagmanager.com/gtag/js",j=new v.Vy("@firebase/analytics"),$=new w.FA("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function S(ht){if(!ht.startsWith(x)){const Bt=$.create("invalid-gtag-resource",{gtagURL:ht});return j.warn(Bt.message),""}return ht}function se(ht){return Promise.all(ht.map(Bt=>Bt.catch(Cn=>Cn)))}function Se(){return(Se=(0,c.A)(function*(ht,Bt,Cn,Kn,xn,Zn){const Hn=Kn[xn];try{if(Hn)yield Bt[Hn];else{const ct=(yield se(Cn)).find(bt=>bt.measurementId===xn);ct&&(yield Bt[ct.appId])}}catch(vr){j.error(vr)}ht("config",xn,Zn)})).apply(this,arguments)}function Xe(){return(Xe=(0,c.A)(function*(ht,Bt,Cn,Kn,xn){try{let Zn=[];if(xn&&xn.send_to){let Hn=xn.send_to;Array.isArray(Hn)||(Hn=[Hn]);const vr=yield se(Cn);for(const ct of Hn){const bt=vr.find(er=>er.measurementId===ct),Gn=bt&&Bt[bt.appId];if(!Gn){Zn=[];break}Zn.push(Gn)}}0===Zn.length&&(Zn=Object.values(Bt)),yield Promise.all(Zn),ht("event",Kn,xn||{})}catch(Zn){j.error(Zn)}})).apply(this,arguments)}const xe=30,rt=new class Ye{constructor(Bt={},Cn=1e3){this.throttleMetadata=Bt,this.intervalMillis=Cn}getThrottleMetadata(Bt){return this.throttleMetadata[Bt]}setThrottleMetadata(Bt,Cn){this.throttleMetadata[Bt]=Cn}deleteThrottleMetadata(Bt){delete this.throttleMetadata[Bt]}};function xt(ht){return new Headers({Accept:"application/json","x-goog-api-key":ht})}function At(){return(At=(0,c.A)(function*(ht){var Bt;const{appId:Cn,apiKey:Kn}=ht,xn={method:"GET",headers:xt(Kn)},Zn=M.replace("{app-id}",Cn),Hn=yield fetch(Zn,xn);if(200!==Hn.status&&304!==Hn.status){let vr="";try{const ct=yield Hn.json();null!==(Bt=ct.error)&&void 0!==Bt&&Bt.message&&(vr=ct.error.message)}catch{}throw $.create("config-fetch-failed",{httpStatus:Hn.status,responseMessage:vr})}return Hn.json()})).apply(this,arguments)}function pe(){return(pe=(0,c.A)(function*(ht,Bt=rt,Cn){const{appId:Kn,apiKey:xn,measurementId:Zn}=ht.options;if(!Kn)throw $.create("no-app-id");if(!xn){if(Zn)return{measurementId:Zn,appId:Kn};throw $.create("no-api-key")}const Hn=Bt.getThrottleMetadata(Kn)||{backoffCount:0,throttleEndTimeMillis:Date.now()},vr=new Ut;return setTimeout((0,c.A)(function*(){vr.abort()}),void 0!==Cn?Cn:C),fe({appId:Kn,apiKey:xn,measurementId:Zn},Hn,vr,Bt)})).apply(this,arguments)}function fe(ht,Bt,Cn){return Ie.apply(this,arguments)}function Ie(){return Ie=(0,c.A)(function*(ht,{throttleEndTimeMillis:Bt,backoffCount:Cn},Kn,xn=rt){var Zn;const{appId:Hn,measurementId:vr}=ht;try{yield function Qe(ht,Bt){return new Promise((Cn,Kn)=>{const xn=Math.max(Bt-Date.now(),0),Zn=setTimeout(Cn,xn);ht.addEventListener(()=>{clearTimeout(Zn),Kn($.create("fetch-throttle",{throttleEndTimeMillis:Bt}))})})}(Kn,Bt)}catch(ct){if(vr)return j.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${vr} provided in the "measurementId" field in the local Firebase config. [${null==ct?void 0:ct.message}]`),{appId:Hn,measurementId:vr};throw ct}try{const ct=yield function on(ht){return At.apply(this,arguments)}(ht);return xn.deleteThrottleMetadata(Hn),ct}catch(ct){const bt=ct;if(!function Kt(ht){if(!(ht instanceof w.g&&ht.customData))return!1;const Bt=Number(ht.customData.httpStatus);return 429===Bt||500===Bt||503===Bt||504===Bt}(bt)){if(xn.deleteThrottleMetadata(Hn),vr)return j.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${vr} provided in the "measurementId" field in the local Firebase config. [${null==bt?void 0:bt.message}]`),{appId:Hn,measurementId:vr};throw ct}const Gn=503===Number(null===(Zn=null==bt?void 0:bt.customData)||void 0===Zn?void 0:Zn.httpStatus)?(0,w.p9)(Cn,xn.intervalMillis,xe):(0,w.p9)(Cn,xn.intervalMillis),er={throttleEndTimeMillis:Date.now()+Gn,backoffCount:Cn+1};return xn.setThrottleMetadata(Hn,er),j.debug(`Calling attemptFetch again in ${Gn} millis`),fe(ht,er,Kn,xn)}}),Ie.apply(this,arguments)}class Ut{constructor(){this.listeners=[]}addEventListener(Bt){this.listeners.push(Bt)}abort(){this.listeners.forEach(Bt=>Bt())}}let kt,K;function vt(){return(vt=(0,c.A)(function*(ht,Bt,Cn,Kn,xn){if(xn&&xn.global)ht("event",Cn,Kn);else{const Zn=yield Bt;ht("event",Cn,Object.assign(Object.assign({},Kn),{send_to:Zn}))}})).apply(this,arguments)}function sn(){return(sn=(0,c.A)(function*(ht,Bt,Cn,Kn){if(Kn&&Kn.global)return ht("set",{screen_name:Cn}),Promise.resolve();ht("config",yield Bt,{update:!0,screen_name:Cn})})).apply(this,arguments)}function Vn(){return(Vn=(0,c.A)(function*(ht,Bt,Cn,Kn){if(Kn&&Kn.global)return ht("set",{user_id:Cn}),Promise.resolve();ht("config",yield Bt,{update:!0,user_id:Cn})})).apply(this,arguments)}function sr(){return(sr=(0,c.A)(function*(ht,Bt,Cn,Kn){if(Kn&&Kn.global){const xn={};for(const Zn of Object.keys(Cn))xn[`user_properties.${Zn}`]=Cn[Zn];return ht("set",xn),Promise.resolve()}ht("config",yield Bt,{update:!0,user_properties:Cn})})).apply(this,arguments)}function vn(){return(vn=(0,c.A)(function*(ht,Bt){const Cn=yield ht;window[`ga-disable-${Cn}`]=!Bt})).apply(this,arguments)}function Me(){return(Me=(0,c.A)(function*(){if(!(0,w.zW)())return j.warn($.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,w.eX)()}catch(ht){return j.warn($.create("indexeddb-unavailable",{errorInfo:null==ht?void 0:ht.toString()}).message),!1}return!0})).apply(this,arguments)}function $e(){return $e=(0,c.A)(function*(ht,Bt,Cn,Kn,xn,Zn,Hn){var vr;const ct=function je(ht){return pe.apply(this,arguments)}(ht);ct.then(Dt=>{Cn[Dt.measurementId]=Dt.appId,ht.options.measurementId&&Dt.measurementId!==ht.options.measurementId&&j.warn(`The measurement ID in the local Firebase config (${ht.options.measurementId}) does not match the measurement ID fetched from the server (${Dt.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Dt=>j.error(Dt)),Bt.push(ct);const bt=function _e(){return Me.apply(this,arguments)}().then(Dt=>{if(Dt)return Kn.getId()}),[Gn,er]=yield Promise.all([ct,bt]);(function Je(ht){const Bt=window.document.getElementsByTagName("script");for(const Cn of Object.values(Bt))if(Cn.src&&Cn.src.includes(x)&&Cn.src.includes(ht))return Cn;return null})(Zn)||function Be(ht,Bt){const Cn=function ue(ht,Bt){let Cn;return window.trustedTypes&&(Cn=window.trustedTypes.createPolicy(ht,Bt)),Cn}("firebase-js-sdk-policy",{createScriptURL:S}),Kn=document.createElement("script"),xn=`${x}?l=${ht}&id=${Bt}`;Kn.src=Cn?null==Cn?void 0:Cn.createScriptURL(xn):xn,Kn.async=!0,document.head.appendChild(Kn)}(Zn,Gn.measurementId),K&&(xn("consent","default",K),function H(ht){K=ht}(void 0)),xn("js",new Date);const Er=null!==(vr=null==Hn?void 0:Hn.config)&&void 0!==vr?vr:{};return Er[F]="firebase",Er.update=!0,null!=er&&(Er[P]=er),xn("config",Gn.measurementId,Er),kt&&(xn("set",kt),function ye(ht){kt=ht}(void 0)),Gn.measurementId}),$e.apply(this,arguments)}class pt{constructor(Bt){this.app=Bt}_delete(){return delete zt[this.app.options.appId],Promise.resolve()}}let zt={},ge=[];const Te={};let mt,Ze,Pe="dataLayer",Rt="gtag",Ot=!1;function wt(ht){if(Ot)throw $.create("already-initialized");ht.dataLayerName&&(Pe=ht.dataLayerName),ht.gtagName&&(Rt=ht.gtagName)}function Xt(ht,Bt,Cn){!function an(){const ht=[];if((0,w.sr)()&&ht.push("This is a browser extension environment."),(0,w.dM)()||ht.push("Cookies are not available."),ht.length>0){const Bt=ht.map((Kn,xn)=>`(${xn+1}) ${Kn}`).join(" "),Cn=$.create("invalid-analytics-context",{errorInfo:Bt});j.warn(Cn.message)}}();const Kn=ht.options.appId;if(!Kn)throw $.create("no-app-id");if(!ht.options.apiKey){if(!ht.options.measurementId)throw $.create("no-api-key");j.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${ht.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=zt[Kn])throw $.create("already-exists",{id:Kn});if(!Ot){!function me(ht){let Bt=[];Array.isArray(window[ht])?Bt=window[ht]:window[ht]=Bt}(Pe);const{wrappedGtag:Zn,gtagCore:Hn}=function We(ht,Bt,Cn,Kn,xn){let Zn=function(...Hn){window[Kn].push(arguments)};return window[xn]&&"function"==typeof window[xn]&&(Zn=window[xn]),window[xn]=function it(ht,Bt,Cn,Kn){function Zn(){return Zn=(0,c.A)(function*(Hn,...vr){try{if("event"===Hn){const[ct,bt]=vr;yield function Re(ht,Bt,Cn,Kn,xn){return Xe.apply(this,arguments)}(ht,Bt,Cn,ct,bt)}else if("config"===Hn){const[ct,bt]=vr;yield function Ne(ht,Bt,Cn,Kn,xn,Zn){return Se.apply(this,arguments)}(ht,Bt,Cn,Kn,ct,bt)}else if("consent"===Hn){const[ct,bt]=vr;ht("consent",ct,bt)}else if("get"===Hn){const[ct,bt,Gn]=vr;ht("get",ct,bt,Gn)}else if("set"===Hn){const[ct]=vr;ht("set",ct)}else ht(Hn,...vr)}catch(ct){j.error(ct)}}),Zn.apply(this,arguments)}return function xn(Hn){return Zn.apply(this,arguments)}}(Zn,ht,Bt,Cn),{gtagCore:Zn,wrappedGtag:window[xn]}}(zt,ge,Te,Pe,Rt);Ze=Zn,mt=Hn,Ot=!0}return zt[Kn]=function Fe(ht,Bt,Cn,Kn,xn,Zn,Hn){return $e.apply(this,arguments)}(ht,ge,Te,Bt,mt,Pe,Cn),new pt(ht)}function Nn(){return ar.apply(this,arguments)}function ar(){return(ar=(0,c.A)(function*(){if((0,w.sr)()||!(0,w.dM)()||!(0,w.zW)())return!1;try{return yield(0,w.eX)()}catch{return!1}})).apply(this,arguments)}function rr(ht,Bt,Cn){ht=(0,w.Ku)(ht),function It(ht,Bt,Cn,Kn){return sn.apply(this,arguments)}(Ze,zt[ht.app.options.appId],Bt,Cn).catch(Kn=>j.error(Kn))}function Yt(ht,Bt,Cn){ht=(0,w.Ku)(ht),function Mn(ht,Bt,Cn,Kn){return Vn.apply(this,arguments)}(Ze,zt[ht.app.options.appId],Bt,Cn).catch(Kn=>j.error(Kn))}function Mt(ht,Bt,Cn){ht=(0,w.Ku)(ht),function nr(ht,Bt,Cn,Kn){return sr.apply(this,arguments)}(Ze,zt[ht.app.options.appId],Bt,Cn).catch(Kn=>j.error(Kn))}function ot(ht,Bt){ht=(0,w.Ku)(ht),function jn(ht,Bt){return vn.apply(this,arguments)}(zt[ht.app.options.appId],Bt).catch(Cn=>j.error(Cn))}function we(ht,Bt,Cn,Kn){ht=(0,w.Ku)(ht),function _n(ht,Bt,Cn,Kn,xn){return vt.apply(this,arguments)}(Ze,zt[ht.app.options.appId],Bt,Cn,Kn).catch(xn=>j.error(xn))}const st="@firebase/analytics";!function Pt(){(0,d._registerComponent)(new N.uA(I,(Bt,{options:Cn})=>Xt(Bt.getProvider("app").getImmediate(),Bt.getProvider("installations-internal").getImmediate(),Cn),"PUBLIC")),(0,d._registerComponent)(new N.uA("analytics-internal",function ht(Bt){try{const Cn=Bt.getProvider(I).getImmediate();return{logEvent:(Kn,xn,Zn)=>we(Cn,Kn,xn,Zn)}}catch(Cn){throw $.create("interop-component-reg-failed",{reason:Cn})}},"PRIVATE")),(0,d.registerVersion)(st,"0.10.8"),(0,d.registerVersion)(st,"0.10.8","esm2017")}()},3345:(Jn,ft,y)=>{"use strict";y.d(ft,{A:()=>$});var c=y(1076),d=y(1362),v=y(8742),w=y(8041);class N{constructor(se,ue){this._delegate=se,this.firebase=ue,(0,v._addComponent)(se,new d.uA("app-compat",()=>this,"PUBLIC")),this.container=se.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(se){this._delegate.automaticDataCollectionEnabled=se}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(se=>{this._delegate.checkDestroyed(),se()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,v.deleteApp)(this._delegate)))}_getService(se,ue=v._DEFAULT_ENTRY_NAME){var Be;this._delegate.checkDestroyed();const me=this._delegate.container.getProvider(se);return!me.isInitialized()&&"EXPLICIT"===(null===(Be=me.getComponent())||void 0===Be?void 0:Be.instantiationMode)&&me.initialize(),me.getImmediate({identifier:ue})}_removeServiceInstance(se,ue=v._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(se).clearInstance(ue)}_addComponent(se){(0,v._addComponent)(this._delegate,se)}_addOrOverwriteComponent(se){(0,v._addOrOverwriteComponent)(this._delegate,se)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const I=new c.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),C=function F(){const S=function P(S){const se={},ue={__esModule:!0,initializeApp:function Ne(it,We={}){const Je=v.initializeApp(it,We);if((0,c.gR)(se,Je.name))return se[Je.name];const xe=new S(Je,ue);return se[Je.name]=xe,xe},app:me,registerVersion:v.registerVersion,setLogLevel:v.setLogLevel,onLog:v.onLog,apps:null,SDK_VERSION:v.SDK_VERSION,INTERNAL:{registerComponent:function Re(it){const We=it.name,Je=We.replace("-compat","");if(v._registerComponent(it)&&"PUBLIC"===it.type){const xe=(Ke=me())=>{if("function"!=typeof Ke[Je])throw I.create("invalid-app-argument",{appName:We});return Ke[Je]()};void 0!==it.serviceProps&&(0,c.zw)(xe,it.serviceProps),ue[Je]=xe,S.prototype[Je]=function(...Ke){return this._getService.bind(this,We).apply(this,it.multipleInstances?Ke:[])}}return"PUBLIC"===it.type?ue[Je]:null},removeApp:function Be(it){delete se[it]},useAsService:function Xe(it,We){return"serverAuth"===We?null:We},modularAPIs:v}};function me(it){if(!(0,c.gR)(se,it=it||v._DEFAULT_ENTRY_NAME))throw I.create("no-app",{appName:it});return se[it]}return ue.default=ue,Object.defineProperty(ue,"apps",{get:function Se(){return Object.keys(se).map(it=>se[it])}}),me.App=S,ue}(N);return S.INTERNAL=Object.assign(Object.assign({},S.INTERNAL),{createFirebaseNamespace:F,extendNamespace:function se(ue){(0,c.zw)(S,ue)},createSubscribe:c.tD,ErrorFactory:c.FA,deepExtend:c.zw}),S}(),M=new w.Vy("@firebase/app-compat");try{const S=(0,c.mS)();if(void 0!==S.firebase){M.warn("\n      Warning: Firebase is already defined in the global scope. Please make sure\n      Firebase library is only loaded once.\n    ");const se=S.firebase.SDK_VERSION;se&&se.indexOf("LITE")>=0&&M.warn("\n        Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n        ")}}catch{}const $=C;!function Q(S){(0,v.registerVersion)("@firebase/app-compat","0.2.43",S)}()},8742:(Jn,ft,y)=>{"use strict";y.r(ft),y.d(ft,{FirebaseError:()=>w.g,SDK_VERSION:()=>K,_DEFAULT_ENTRY_NAME:()=>Ie,_addComponent:()=>_n,_addOrOverwriteComponent:()=>vt,_apps:()=>Kt,_clearComponents:()=>sr,_components:()=>kt,_getProvider:()=>sn,_isFirebaseApp:()=>Vn,_isFirebaseServerApp:()=>nr,_registerComponent:()=>It,_removeServiceInstance:()=>Mn,_serverApps:()=>Ut,deleteApp:()=>Fe,getApp:()=>_e,getApps:()=>Me,initializeApp:()=>H,initializeServerApp:()=>ye,onLog:()=>zt,registerVersion:()=>pt,setLogLevel:()=>ge});var c=y(467),d=y(1362),v=y(8041),w=y(1076),N=y(6749);class A{constructor(_t){this.container=_t}getPlatformInfoString(){return this.container.getProviders().map(we=>{if(function I(ot){const _t=ot.getComponent();return"VERSION"===(null==_t?void 0:_t.type)}(we)){const ke=we.getImmediate();return`${ke.library}/${ke.version}`}return null}).filter(we=>we).join(" ")}}const P="@firebase/app",F="0.10.13",C=new v.Vy("@firebase/app"),M="@firebase/app-compat",x="@firebase/analytics-compat",j="@firebase/analytics",Q="@firebase/app-check-compat",$="@firebase/app-check",S="@firebase/auth",se="@firebase/auth-compat",ue="@firebase/database",Be="@firebase/data-connect",me="@firebase/database-compat",Ne="@firebase/functions",Se="@firebase/functions-compat",Re="@firebase/installations",Xe="@firebase/installations-compat",it="@firebase/messaging",We="@firebase/messaging-compat",Je="@firebase/performance",xe="@firebase/performance-compat",Ke="@firebase/remote-config",Ye="@firebase/remote-config-compat",rt="@firebase/storage",xt="@firebase/storage-compat",on="@firebase/firestore",At="@firebase/vertexai-preview",je="@firebase/firestore-compat",pe="firebase",Ie="[DEFAULT]",Qe={[P]:"fire-core",[M]:"fire-core-compat",[j]:"fire-analytics",[x]:"fire-analytics-compat",[$]:"fire-app-check",[Q]:"fire-app-check-compat",[S]:"fire-auth",[se]:"fire-auth-compat",[ue]:"fire-rtdb",[Be]:"fire-data-connect",[me]:"fire-rtdb-compat",[Ne]:"fire-fn",[Se]:"fire-fn-compat",[Re]:"fire-iid",[Xe]:"fire-iid-compat",[it]:"fire-fcm",[We]:"fire-fcm-compat",[Je]:"fire-perf",[xe]:"fire-perf-compat",[Ke]:"fire-rc",[Ye]:"fire-rc-compat",[rt]:"fire-gcs",[xt]:"fire-gcs-compat",[on]:"fire-fst",[je]:"fire-fst-compat",[At]:"fire-vertex","fire-js":"fire-js",[pe]:"fire-js-all"},Kt=new Map,Ut=new Map,kt=new Map;function _n(ot,_t){try{ot.container.addComponent(_t)}catch(we){C.debug(`Component ${_t.name} failed to register with FirebaseApp ${ot.name}`,we)}}function vt(ot,_t){ot.container.addOrOverwriteComponent(_t)}function It(ot){const _t=ot.name;if(kt.has(_t))return C.debug(`There were multiple attempts to register component ${_t}.`),!1;kt.set(_t,ot);for(const we of Kt.values())_n(we,ot);for(const we of Ut.values())_n(we,ot);return!0}function sn(ot,_t){const we=ot.container.getProvider("heartbeat").getImmediate({optional:!0});return we&&we.triggerHeartbeat(),ot.container.getProvider(_t)}function Mn(ot,_t,we=Ie){sn(ot,_t).clearInstance(we)}function Vn(ot){return void 0!==ot.options}function nr(ot){return void 0!==ot.settings}function sr(){kt.clear()}const bn=new w.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class jn{constructor(_t,we,ke){this._isDeleted=!1,this._options=Object.assign({},_t),this._config=Object.assign({},we),this._name=we.name,this._automaticDataCollectionEnabled=we.automaticDataCollectionEnabled,this._container=ke,this.container.addComponent(new d.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(_t){this.checkDestroyed(),this._automaticDataCollectionEnabled=_t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(_t){this._isDeleted=_t}checkDestroyed(){if(this.isDeleted)throw bn.create("app-deleted",{appName:this._name})}}class vn extends jn{constructor(_t,we,ke,st){const jt=void 0!==we.automaticDataCollectionEnabled&&we.automaticDataCollectionEnabled,Pt={name:ke,automaticDataCollectionEnabled:jt};super(void 0!==_t.apiKey?_t:_t.options,Pt,st),this._serverConfig=Object.assign({automaticDataCollectionEnabled:jt},we),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,we.releaseOnDeref=void 0,pt(P,F,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(_t){this.isDeleted||(this._refCount++,void 0!==_t&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(_t,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Fe(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw bn.create("server-app-deleted")}}const K="10.14.1";function H(ot,_t={}){let we=ot;"object"!=typeof _t&&(_t={name:_t});const ke=Object.assign({name:Ie,automaticDataCollectionEnabled:!1},_t),st=ke.name;if("string"!=typeof st||!st)throw bn.create("bad-app-name",{appName:String(st)});if(we||(we=(0,w.T9)()),!we)throw bn.create("no-options");const jt=Kt.get(st);if(jt){if((0,w.bD)(we,jt.options)&&(0,w.bD)(ke,jt.config))return jt;throw bn.create("duplicate-app",{appName:st})}const Pt=new d.h1(st);for(const Bt of kt.values())Pt.addComponent(Bt);const ht=new jn(we,ke,Pt);return Kt.set(st,ht),ht}function ye(ot,_t){if((0,w.Bd)()&&!(0,w.p7)())throw bn.create("invalid-server-app-environment");let we;void 0===_t.automaticDataCollectionEnabled&&(_t.automaticDataCollectionEnabled=!1),we=Vn(ot)?ot.options:ot;const ke=Object.assign(Object.assign({},_t),we);if(void 0!==ke.releaseOnDeref&&delete ke.releaseOnDeref,void 0!==_t.releaseOnDeref&&typeof FinalizationRegistry>"u")throw bn.create("finalization-registry-not-supported",{});const jt=""+(Cn=JSON.stringify(ke),[...Cn].reduce((Kn,xn)=>Math.imul(31,Kn)+xn.charCodeAt(0)|0,0)),Pt=Ut.get(jt);var Cn;if(Pt)return Pt.incRefCount(_t.releaseOnDeref),Pt;const ht=new d.h1(jt);for(const Cn of kt.values())ht.addComponent(Cn);const Bt=new vn(we,_t,jt,ht);return Ut.set(jt,Bt),Bt}function _e(ot=Ie){const _t=Kt.get(ot);if(!_t&&ot===Ie&&(0,w.T9)())return H();if(!_t)throw bn.create("no-app",{appName:ot});return _t}function Me(){return Array.from(Kt.values())}function Fe(ot){return $e.apply(this,arguments)}function $e(){return($e=(0,c.A)(function*(ot){let _t=!1;const we=ot.name;Kt.has(we)?(_t=!0,Kt.delete(we)):Ut.has(we)&&ot.decRefCount()<=0&&(Ut.delete(we),_t=!0),_t&&(yield Promise.all(ot.container.getProviders().map(ke=>ke.delete())),ot.isDeleted=!0)})).apply(this,arguments)}function pt(ot,_t,we){var ke;let st=null!==(ke=Qe[ot])&&void 0!==ke?ke:ot;we&&(st+=`-${we}`);const jt=st.match(/\s|\//),Pt=_t.match(/\s|\//);if(jt||Pt){const ht=[`Unable to register library "${st}" with version "${_t}":`];return jt&&ht.push(`library name "${st}" contains illegal characters (whitespace or "/")`),jt&&Pt&&ht.push("and"),Pt&&ht.push(`version name "${_t}" contains illegal characters (whitespace or "/")`),void C.warn(ht.join(" "))}It(new d.uA(`${st}-version`,()=>({library:st,version:_t}),"VERSION"))}function zt(ot,_t){if(null!==ot&&"function"!=typeof ot)throw bn.create("invalid-log-argument");(0,v.Ey)(ot,_t)}function ge(ot){(0,v.He)(ot)}const Te="firebase-heartbeat-database",Pe=1,Rt="firebase-heartbeat-store";let mt=null;function Ze(){return mt||(mt=(0,N.P2)(Te,Pe,{upgrade:(ot,_t)=>{if(0===_t)try{ot.createObjectStore(Rt)}catch(we){console.warn(we)}}}).catch(ot=>{throw bn.create("idb-open",{originalErrorMessage:ot.message})})),mt}function wt(){return(wt=(0,c.A)(function*(ot){try{const we=(yield Ze()).transaction(Rt),ke=yield we.objectStore(Rt).get(hn(ot));return yield we.done,ke}catch(_t){if(_t instanceof w.g)C.warn(_t.message);else{const we=bn.create("idb-get",{originalErrorMessage:null==_t?void 0:_t.message});C.warn(we.message)}}})).apply(this,arguments)}function an(ot,_t){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,c.A)(function*(ot,_t){try{const ke=(yield Ze()).transaction(Rt,"readwrite");yield ke.objectStore(Rt).put(_t,hn(ot)),yield ke.done}catch(we){if(we instanceof w.g)C.warn(we.message);else{const ke=bn.create("idb-set",{originalErrorMessage:null==we?void 0:we.message});C.warn(ke.message)}}})).apply(this,arguments)}function hn(ot){return`${ot.name}!${ot.options.appId}`}class ar{constructor(_t){this.container=_t,this._heartbeatsCache=null;const we=this.container.getProvider("app").getImmediate();this._storage=new Et(we),this._heartbeatsCachePromise=this._storage.read().then(ke=>(this._heartbeatsCache=ke,ke))}triggerHeartbeat(){var _t=this;return(0,c.A)(function*(){var we,ke;try{const jt=_t.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Pt=rr();return null==(null===(we=_t._heartbeatsCache)||void 0===we?void 0:we.heartbeats)&&(_t._heartbeatsCache=yield _t._heartbeatsCachePromise,null==(null===(ke=_t._heartbeatsCache)||void 0===ke?void 0:ke.heartbeats))||_t._heartbeatsCache.lastSentHeartbeatDate===Pt||_t._heartbeatsCache.heartbeats.some(ht=>ht.date===Pt)?void 0:(_t._heartbeatsCache.heartbeats.push({date:Pt,agent:jt}),_t._heartbeatsCache.heartbeats=_t._heartbeatsCache.heartbeats.filter(ht=>{const Bt=new Date(ht.date).valueOf();return Date.now()-Bt<=2592e6}),_t._storage.overwrite(_t._heartbeatsCache))}catch(st){C.warn(st)}})()}getHeartbeatsHeader(){var _t=this;return(0,c.A)(function*(){var we;try{if(null===_t._heartbeatsCache&&(yield _t._heartbeatsCachePromise),null==(null===(we=_t._heartbeatsCache)||void 0===we?void 0:we.heartbeats)||0===_t._heartbeatsCache.heartbeats.length)return"";const ke=rr(),{heartbeatsToSend:st,unsentEntries:jt}=function Ht(ot,_t=1024){const we=[];let ke=ot.slice();for(const st of ot){const jt=we.find(Pt=>Pt.agent===st.agent);if(jt){if(jt.dates.push(st.date),Yt(we)>_t){jt.dates.pop();break}}else if(we.push({agent:st.agent,dates:[st.date]}),Yt(we)>_t){we.pop();break}ke=ke.slice(1)}return{heartbeatsToSend:we,unsentEntries:ke}}(_t._heartbeatsCache.heartbeats),Pt=(0,w.Uj)(JSON.stringify({version:2,heartbeats:st}));return _t._heartbeatsCache.lastSentHeartbeatDate=ke,jt.length>0?(_t._heartbeatsCache.heartbeats=jt,yield _t._storage.overwrite(_t._heartbeatsCache)):(_t._heartbeatsCache.heartbeats=[],_t._storage.overwrite(_t._heartbeatsCache)),Pt}catch(ke){return C.warn(ke),""}})()}}function rr(){return(new Date).toISOString().substring(0,10)}class Et{constructor(_t){this.app=_t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.A)(function*(){return!!(0,w.zW)()&&(0,w.eX)().then(()=>!0).catch(()=>!1)})()}read(){var _t=this;return(0,c.A)(function*(){if(yield _t._canUseIndexedDBPromise){const ke=yield function Ot(ot){return wt.apply(this,arguments)}(_t.app);return null!=ke&&ke.heartbeats?ke:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(_t){var we=this;return(0,c.A)(function*(){var ke;if(yield we._canUseIndexedDBPromise){const jt=yield we.read();return an(we.app,{lastSentHeartbeatDate:null!==(ke=_t.lastSentHeartbeatDate)&&void 0!==ke?ke:jt.lastSentHeartbeatDate,heartbeats:_t.heartbeats})}})()}add(_t){var we=this;return(0,c.A)(function*(){var ke;if(yield we._canUseIndexedDBPromise){const jt=yield we.read();return an(we.app,{lastSentHeartbeatDate:null!==(ke=_t.lastSentHeartbeatDate)&&void 0!==ke?ke:jt.lastSentHeartbeatDate,heartbeats:[...jt.heartbeats,..._t.heartbeats]})}})()}}function Yt(ot){return(0,w.Uj)(JSON.stringify({version:2,heartbeats:ot})).length}!function Mt(ot){It(new d.uA("platform-logger",_t=>new A(_t),"PRIVATE")),It(new d.uA("heartbeat",_t=>new ar(_t),"PRIVATE")),pt(P,F,ot),pt(P,F,"esm2017"),pt("fire-js","")}("")},1362:(Jn,ft,y)=>{"use strict";y.d(ft,{h1:()=>P,uA:()=>v});var c=y(467),d=y(1076);class v{constructor(C,M,x){this.name=C,this.instanceFactory=M,this.type=x,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(C){return this.instantiationMode=C,this}setMultipleInstances(C){return this.multipleInstances=C,this}setServiceProps(C){return this.serviceProps=C,this}setInstanceCreatedCallback(C){return this.onInstanceCreated=C,this}}const w="[DEFAULT]";class N{constructor(C,M){this.name=C,this.container=M,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(C){const M=this.normalizeInstanceIdentifier(C);if(!this.instancesDeferred.has(M)){const x=new d.cY;if(this.instancesDeferred.set(M,x),this.isInitialized(M)||this.shouldAutoInitialize())try{const j=this.getOrInitializeService({instanceIdentifier:M});j&&x.resolve(j)}catch{}}return this.instancesDeferred.get(M).promise}getImmediate(C){var M;const x=this.normalizeInstanceIdentifier(null==C?void 0:C.identifier),j=null!==(M=null==C?void 0:C.optional)&&void 0!==M&&M;if(!this.isInitialized(x)&&!this.shouldAutoInitialize()){if(j)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:x})}catch(Q){if(j)return null;throw Q}}getComponent(){return this.component}setComponent(C){if(C.name!==this.name)throw Error(`Mismatching Component ${C.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=C,this.shouldAutoInitialize()){if(function I(F){return"EAGER"===F.instantiationMode}(C))try{this.getOrInitializeService({instanceIdentifier:w})}catch{}for(const[M,x]of this.instancesDeferred.entries()){const j=this.normalizeInstanceIdentifier(M);try{const Q=this.getOrInitializeService({instanceIdentifier:j});x.resolve(Q)}catch{}}}}clearInstance(C=w){this.instancesDeferred.delete(C),this.instancesOptions.delete(C),this.instances.delete(C)}delete(){var C=this;return(0,c.A)(function*(){const M=Array.from(C.instances.values());yield Promise.all([...M.filter(x=>"INTERNAL"in x).map(x=>x.INTERNAL.delete()),...M.filter(x=>"_delete"in x).map(x=>x._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(C=w){return this.instances.has(C)}getOptions(C=w){return this.instancesOptions.get(C)||{}}initialize(C={}){const{options:M={}}=C,x=this.normalizeInstanceIdentifier(C.instanceIdentifier);if(this.isInitialized(x))throw Error(`${this.name}(${x}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const j=this.getOrInitializeService({instanceIdentifier:x,options:M});for(const[Q,$]of this.instancesDeferred.entries())x===this.normalizeInstanceIdentifier(Q)&&$.resolve(j);return j}onInit(C,M){var x;const j=this.normalizeInstanceIdentifier(M),Q=null!==(x=this.onInitCallbacks.get(j))&&void 0!==x?x:new Set;Q.add(C),this.onInitCallbacks.set(j,Q);const $=this.instances.get(j);return $&&C($,j),()=>{Q.delete(C)}}invokeOnInitCallbacks(C,M){const x=this.onInitCallbacks.get(M);if(x)for(const j of x)try{j(C,M)}catch{}}getOrInitializeService({instanceIdentifier:C,options:M={}}){let x=this.instances.get(C);if(!x&&this.component&&(x=this.component.instanceFactory(this.container,{instanceIdentifier:(F=C,F===w?void 0:F),options:M}),this.instances.set(C,x),this.instancesOptions.set(C,M),this.invokeOnInitCallbacks(x,C),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,C,x)}catch{}var F;return x||null}normalizeInstanceIdentifier(C=w){return this.component?this.component.multipleInstances?C:w:C}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class P{constructor(C){this.name=C,this.providers=new Map}addComponent(C){const M=this.getProvider(C.name);if(M.isComponentSet())throw new Error(`Component ${C.name} has already been registered with ${this.name}`);M.setComponent(C)}addOrOverwriteComponent(C){this.getProvider(C.name).isComponentSet()&&this.providers.delete(C.name),this.addComponent(C)}getProvider(C){if(this.providers.has(C))return this.providers.get(C);const M=new N(C,this);return this.providers.set(C,M),M}getProviders(){return Array.from(this.providers.values())}}},9052:(Jn,ft,y)=>{"use strict";var c=y(467),d=y(8742),v=y(1362),w=y(1076),N=y(6749);const A="@firebase/installations",I="0.6.9",P=1e4,F=`w:${I}`,C="FIS_v2",M="https://firebaseinstallations.googleapis.com/v1",x=36e5,S=new w.FA("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function se(Dt){return Dt instanceof w.g&&Dt.code.includes("request-failed")}function ue({projectId:Dt}){return`${M}/projects/${Dt}/installations`}function Be(Dt){return{token:Dt.token,requestStatus:2,expiresIn:We(Dt.expiresIn),creationTime:Date.now()}}function me(Dt,cn){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,c.A)(function*(Dt,cn){const ze=(yield cn.json()).error;return S.create("request-failed",{requestName:Dt,serverCode:ze.code,serverMessage:ze.message,serverStatus:ze.status})})).apply(this,arguments)}function Se({apiKey:Dt}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":Dt})}function Xe(Dt){return it.apply(this,arguments)}function it(){return(it=(0,c.A)(function*(Dt){const cn=yield Dt();return cn.status>=500&&cn.status<600?Dt():cn})).apply(this,arguments)}function We(Dt){return Number(Dt.replace("s","000"))}function Ke(){return(Ke=(0,c.A)(function*({appConfig:Dt,heartbeatServiceProvider:cn},{fid:mn}){const ze=ue(Dt),ce=Se(Dt),yt=cn.getImmediate({optional:!0});if(yt){const en=yield yt.getHeartbeatsHeader();en&&ce.append("x-firebase-client",en)}const Ee={method:"POST",headers:ce,body:JSON.stringify({fid:mn,authVersion:C,appId:Dt.appId,sdkVersion:F})},ut=yield Xe(()=>fetch(ze,Ee));if(ut.ok){const en=yield ut.json();return{fid:en.fid||mn,registrationStatus:2,refreshToken:en.refreshToken,authToken:Be(en.authToken)}}throw yield me("Create Installation",ut)})).apply(this,arguments)}function Ye(Dt){return new Promise(cn=>{setTimeout(cn,Dt)})}const xt=/^[cdef][\w-]{21}$/,on="";function At(){try{const Dt=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(Dt),Dt[0]=112+Dt[0]%16;const mn=function je(Dt){return function rt(Dt){return btoa(String.fromCharCode(...Dt)).replace(/\+/g,"-").replace(/\//g,"_")}(Dt).substr(0,22)}(Dt);return xt.test(mn)?mn:on}catch{return on}}function pe(Dt){return`${Dt.appName}!${Dt.appId}`}const fe=new Map;function Ie(Dt,cn){const mn=pe(Dt);Ut(mn,cn),function kt(Dt,cn){const mn=function vt(){return!_n&&"BroadcastChannel"in self&&(_n=new BroadcastChannel("[Firebase] FID Change"),_n.onmessage=Dt=>{Ut(Dt.data.key,Dt.data.fid)}),_n}();mn&&mn.postMessage({key:Dt,fid:cn}),function It(){0===fe.size&&_n&&(_n.close(),_n=null)}()}(mn,cn)}function Ut(Dt,cn){const mn=fe.get(Dt);if(mn)for(const ze of mn)ze(cn)}let _n=null;const sn="firebase-installations-database",Mn=1,Vn="firebase-installations-store";let nr=null;function sr(){return nr||(nr=(0,N.P2)(sn,Mn,{upgrade:(Dt,cn)=>{0===cn&&Dt.createObjectStore(Vn)}})),nr}function Qn(Dt,cn){return bn.apply(this,arguments)}function bn(){return(bn=(0,c.A)(function*(Dt,cn){const mn=pe(Dt),ce=(yield sr()).transaction(Vn,"readwrite"),yt=ce.objectStore(Vn),Ce=yield yt.get(mn);return yield yt.put(cn,mn),yield ce.done,(!Ce||Ce.fid!==cn.fid)&&Ie(Dt,cn.fid),cn})).apply(this,arguments)}function jn(Dt){return vn.apply(this,arguments)}function vn(){return(vn=(0,c.A)(function*(Dt){const cn=pe(Dt),ze=(yield sr()).transaction(Vn,"readwrite");yield ze.objectStore(Vn).delete(cn),yield ze.done})).apply(this,arguments)}function K(Dt,cn){return H.apply(this,arguments)}function H(){return(H=(0,c.A)(function*(Dt,cn){const mn=pe(Dt),ce=(yield sr()).transaction(Vn,"readwrite"),yt=ce.objectStore(Vn),Ce=yield yt.get(mn),Ee=cn(Ce);return void 0===Ee?yield yt.delete(mn):yield yt.put(Ee,mn),yield ce.done,Ee&&(!Ce||Ce.fid!==Ee.fid)&&Ie(Dt,Ee.fid),Ee})).apply(this,arguments)}function ye(Dt){return _e.apply(this,arguments)}function _e(){return _e=(0,c.A)(function*(Dt){let cn;const mn=yield K(Dt.appConfig,ze=>{const ce=function Me(Dt){return Pe(Dt||{fid:At(),registrationStatus:0})}(ze),yt=function Fe(Dt,cn){if(0===cn.registrationStatus){if(!navigator.onLine)return{installationEntry:cn,registrationPromise:Promise.reject(S.create("app-offline"))};const mn={fid:cn.fid,registrationStatus:1,registrationTime:Date.now()},ze=function $e(Dt,cn){return pt.apply(this,arguments)}(Dt,mn);return{installationEntry:mn,registrationPromise:ze}}return 1===cn.registrationStatus?{installationEntry:cn,registrationPromise:zt(Dt)}:{installationEntry:cn}}(Dt,ce);return cn=yt.registrationPromise,yt.installationEntry});return mn.fid===on?{installationEntry:yield cn}:{installationEntry:mn,registrationPromise:cn}}),_e.apply(this,arguments)}function pt(){return pt=(0,c.A)(function*(Dt,cn){try{const mn=yield function xe(Dt,cn){return Ke.apply(this,arguments)}(Dt,cn);return Qn(Dt.appConfig,mn)}catch(mn){throw se(mn)&&409===mn.customData.serverCode?yield jn(Dt.appConfig):yield Qn(Dt.appConfig,{fid:cn.fid,registrationStatus:0}),mn}}),pt.apply(this,arguments)}function zt(Dt){return ge.apply(this,arguments)}function ge(){return(ge=(0,c.A)(function*(Dt){let cn=yield Te(Dt.appConfig);for(;1===cn.registrationStatus;)yield Ye(100),cn=yield Te(Dt.appConfig);if(0===cn.registrationStatus){const{installationEntry:mn,registrationPromise:ze}=yield ye(Dt);return ze||mn}return cn})).apply(this,arguments)}function Te(Dt){return K(Dt,cn=>{if(!cn)throw S.create("installation-not-found");return Pe(cn)})}function Pe(Dt){return function Rt(Dt){return 1===Dt.registrationStatus&&Dt.registrationTime+P<Date.now()}(Dt)?{fid:Dt.fid,registrationStatus:0}:Dt}function Ze(){return(Ze=(0,c.A)(function*({appConfig:Dt,heartbeatServiceProvider:cn},mn){const ze=function Ot(Dt,{fid:cn}){return`${ue(Dt)}/${cn}/authTokens:generate`}(Dt,mn),ce=function Re(Dt,{refreshToken:cn}){const mn=Se(Dt);return mn.append("Authorization",function Je(Dt){return`${C} ${Dt}`}(cn)),mn}(Dt,mn),yt=cn.getImmediate({optional:!0});if(yt){const en=yield yt.getHeartbeatsHeader();en&&ce.append("x-firebase-client",en)}const Ee={method:"POST",headers:ce,body:JSON.stringify({installation:{sdkVersion:F,appId:Dt.appId}})},ut=yield Xe(()=>fetch(ze,Ee));if(ut.ok)return Be(yield ut.json());throw yield me("Generate Auth Token",ut)})).apply(this,arguments)}function wt(Dt){return an.apply(this,arguments)}function an(){return an=(0,c.A)(function*(Dt,cn=!1){let mn;const ze=yield K(Dt.appConfig,yt=>{if(!rr(yt))throw S.create("not-registered");const Ce=yt.authToken;if(!cn&&function Ht(Dt){return 2===Dt.requestStatus&&!function Et(Dt){const cn=Date.now();return cn<Dt.creationTime||Dt.creationTime+Dt.expiresIn<cn+x}(Dt)}(Ce))return yt;if(1===Ce.requestStatus)return mn=function Xt(Dt,cn){return hn.apply(this,arguments)}(Dt,cn),yt;{if(!navigator.onLine)throw S.create("app-offline");const Ee=function Yt(Dt){const cn={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},Dt),{authToken:cn})}(yt);return mn=function Nn(Dt,cn){return ar.apply(this,arguments)}(Dt,Ee),Ee}});return mn?yield mn:ze.authToken}),an.apply(this,arguments)}function hn(){return(hn=(0,c.A)(function*(Dt,cn){let mn=yield $n(Dt.appConfig);for(;1===mn.authToken.requestStatus;)yield Ye(100),mn=yield $n(Dt.appConfig);const ze=mn.authToken;return 0===ze.requestStatus?wt(Dt,cn):ze})).apply(this,arguments)}function $n(Dt){return K(Dt,cn=>{if(!rr(cn))throw S.create("not-registered");return function Mt(Dt){return 1===Dt.requestStatus&&Dt.requestTime+P<Date.now()}(cn.authToken)?Object.assign(Object.assign({},cn),{authToken:{requestStatus:0}}):cn})}function ar(){return ar=(0,c.A)(function*(Dt,cn){try{const mn=yield function mt(Dt,cn){return Ze.apply(this,arguments)}(Dt,cn),ze=Object.assign(Object.assign({},cn),{authToken:mn});return yield Qn(Dt.appConfig,ze),mn}catch(mn){if(!se(mn)||401!==mn.customData.serverCode&&404!==mn.customData.serverCode){const ze=Object.assign(Object.assign({},cn),{authToken:{requestStatus:0}});yield Qn(Dt.appConfig,ze)}else yield jn(Dt.appConfig);throw mn}}),ar.apply(this,arguments)}function rr(Dt){return void 0!==Dt&&2===Dt.registrationStatus}function _t(){return(_t=(0,c.A)(function*(Dt){const cn=Dt,{installationEntry:mn,registrationPromise:ze}=yield ye(cn);return ze?ze.catch(console.error):wt(cn).catch(console.error),mn.fid})).apply(this,arguments)}function ke(){return ke=(0,c.A)(function*(Dt,cn=!1){const mn=Dt;return yield function st(Dt){return jt.apply(this,arguments)}(mn),(yield wt(mn,cn)).token}),ke.apply(this,arguments)}function jt(){return(jt=(0,c.A)(function*(Dt){const{registrationPromise:cn}=yield ye(Dt);cn&&(yield cn)})).apply(this,arguments)}function vr(Dt){return S.create("missing-app-config-values",{valueName:Dt})}const ct="installations",Gn=Dt=>{const cn=Dt.getProvider("app").getImmediate(),mn=function Hn(Dt){if(!Dt||!Dt.options)throw vr("App Configuration");if(!Dt.name)throw vr("App Name");const cn=["projectId","apiKey","appId"];for(const mn of cn)if(!Dt.options[mn])throw vr(mn);return{appName:Dt.name,projectId:Dt.options.projectId,apiKey:Dt.options.apiKey,appId:Dt.options.appId}}(cn);return{app:cn,appConfig:mn,heartbeatServiceProvider:(0,d._getProvider)(cn,"heartbeat"),_delete:()=>Promise.resolve()}},er=Dt=>{const cn=Dt.getProvider("app").getImmediate(),mn=(0,d._getProvider)(cn,ct).getImmediate();return{getId:()=>function ot(Dt){return _t.apply(this,arguments)}(mn),getToken:ce=>function we(Dt){return ke.apply(this,arguments)}(mn,ce)}};(function Er(){(0,d._registerComponent)(new v.uA(ct,Gn,"PUBLIC")),(0,d._registerComponent)(new v.uA("installations-internal",er,"PRIVATE"))})(),(0,d.registerVersion)(A,I),(0,d.registerVersion)(A,I,"esm2017")},8041:(Jn,ft,y)=>{"use strict";y.d(ft,{$b:()=>d,Ey:()=>F,He:()=>P,Vy:()=>I});const c=[];var d=function(C){return C[C.DEBUG=0]="DEBUG",C[C.VERBOSE=1]="VERBOSE",C[C.INFO=2]="INFO",C[C.WARN=3]="WARN",C[C.ERROR=4]="ERROR",C[C.SILENT=5]="SILENT",C}(d||{});const v={debug:d.DEBUG,verbose:d.VERBOSE,info:d.INFO,warn:d.WARN,error:d.ERROR,silent:d.SILENT},w=d.INFO,N={[d.DEBUG]:"log",[d.VERBOSE]:"log",[d.INFO]:"info",[d.WARN]:"warn",[d.ERROR]:"error"},A=(C,M,...x)=>{if(M<C.logLevel)return;const j=(new Date).toISOString(),Q=N[M];if(!Q)throw new Error(`Attempted to log a message with an invalid logType (value: ${M})`);console[Q](`[${j}]  ${C.name}:`,...x)};class I{constructor(M){this.name=M,this._logLevel=w,this._logHandler=A,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(M){if(!(M in d))throw new TypeError(`Invalid value "${M}" assigned to \`logLevel\``);this._logLevel=M}setLogLevel(M){this._logLevel="string"==typeof M?v[M]:M}get logHandler(){return this._logHandler}set logHandler(M){if("function"!=typeof M)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=M}get userLogHandler(){return this._userLogHandler}set userLogHandler(M){this._userLogHandler=M}debug(...M){this._userLogHandler&&this._userLogHandler(this,d.DEBUG,...M),this._logHandler(this,d.DEBUG,...M)}log(...M){this._userLogHandler&&this._userLogHandler(this,d.VERBOSE,...M),this._logHandler(this,d.VERBOSE,...M)}info(...M){this._userLogHandler&&this._userLogHandler(this,d.INFO,...M),this._logHandler(this,d.INFO,...M)}warn(...M){this._userLogHandler&&this._userLogHandler(this,d.WARN,...M),this._logHandler(this,d.WARN,...M)}error(...M){this._userLogHandler&&this._userLogHandler(this,d.ERROR,...M),this._logHandler(this,d.ERROR,...M)}}function P(C){c.forEach(M=>{M.setLogLevel(C)})}function F(C,M){for(const x of c){let j=null;M&&M.level&&(j=v[M.level]),x.userLogHandler=null===C?null:(Q,$,...S)=>{const se=S.map(ue=>{if(null==ue)return null;if("string"==typeof ue)return ue;if("number"==typeof ue||"boolean"==typeof ue)return ue.toString();if(ue instanceof Error)return ue.message;try{return JSON.stringify(ue)}catch{return null}}).filter(ue=>ue).join(" ");$>=(null!=j?j:Q.logLevel)&&C({level:d[$].toLowerCase(),message:se,args:S,type:Q.name})}}}},4555:(Jn,ft,y)=>{"use strict";y.d(ft,{TT:()=>jt,gf:()=>xn,ni:()=>Hn,xD:()=>vr});var c=y(467),v=(y(9052),y(1362)),w=y(6749),N=y(1076),A=y(8742);const I="/firebase-messaging-sw.js",P="/firebase-cloud-messaging-push-scope",F="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",C="https://fcmregistrations.googleapis.com/v1",M="google.c.a.c_id",x="google.c.a.c_l",j="google.c.a.ts";var S=function(ct){return ct.PUSH_RECEIVED="push-received",ct.NOTIFICATION_CLICKED="notification-clicked",ct}(S||{});function se(ct){const bt=new Uint8Array(ct);return btoa(String.fromCharCode(...bt)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ue(ct){const Gn=(ct+"=".repeat((4-ct.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),er=atob(Gn),Er=new Uint8Array(er.length);for(let Dt=0;Dt<er.length;++Dt)Er[Dt]=er.charCodeAt(Dt);return Er}const Be="fcm_token_details_db",me=5,Ne="fcm_token_object_Store";function Re(){return Re=(0,c.A)(function*(ct){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Dt=>Dt.name).includes(Be))return null;let bt=null;return(yield(0,w.P2)(Be,me,{upgrade:(er=(0,c.A)(function*(Er,Dt,cn,mn){var ze;if(Dt<2||!Er.objectStoreNames.contains(Ne))return;const ce=mn.objectStore(Ne),yt=yield ce.index("fcmSenderId").get(ct);if(yield ce.clear(),yt)if(2===Dt){const Ce=yt;if(!Ce.auth||!Ce.p256dh||!Ce.endpoint)return;bt={token:Ce.fcmToken,createTime:null!==(ze=Ce.createTime)&&void 0!==ze?ze:Date.now(),subscriptionOptions:{auth:Ce.auth,p256dh:Ce.p256dh,endpoint:Ce.endpoint,swScope:Ce.swScope,vapidKey:"string"==typeof Ce.vapidKey?Ce.vapidKey:se(Ce.vapidKey)}}}else if(3===Dt){const Ce=yt;bt={token:Ce.fcmToken,createTime:Ce.createTime,subscriptionOptions:{auth:se(Ce.auth),p256dh:se(Ce.p256dh),endpoint:Ce.endpoint,swScope:Ce.swScope,vapidKey:se(Ce.vapidKey)}}}else if(4===Dt){const Ce=yt;bt={token:Ce.fcmToken,createTime:Ce.createTime,subscriptionOptions:{auth:se(Ce.auth),p256dh:se(Ce.p256dh),endpoint:Ce.endpoint,swScope:Ce.swScope,vapidKey:se(Ce.vapidKey)}}}}),function(Dt,cn,mn,ze){return er.apply(this,arguments)})})).close(),yield(0,w.MR)(Be),yield(0,w.MR)("fcm_vapid_details_db"),yield(0,w.MR)("undefined"),function Xe(ct){if(!ct||!ct.subscriptionOptions)return!1;const{subscriptionOptions:bt}=ct;return"number"==typeof ct.createTime&&ct.createTime>0&&"string"==typeof ct.token&&ct.token.length>0&&"string"==typeof bt.auth&&bt.auth.length>0&&"string"==typeof bt.p256dh&&bt.p256dh.length>0&&"string"==typeof bt.endpoint&&bt.endpoint.length>0&&"string"==typeof bt.swScope&&bt.swScope.length>0&&"string"==typeof bt.vapidKey&&bt.vapidKey.length>0}(bt)?bt:null;var er}),Re.apply(this,arguments)}const it="firebase-messaging-database",We=1,Je="firebase-messaging-store";let xe=null;function Ke(){return xe||(xe=(0,w.P2)(it,We,{upgrade:(ct,bt)=>{0===bt&&ct.createObjectStore(Je)}})),xe}function Ye(ct){return rt.apply(this,arguments)}function rt(){return rt=(0,c.A)(function*(ct){const bt=pe(ct),er=yield(yield Ke()).transaction(Je).objectStore(Je).get(bt);if(er)return er;{const Er=yield function Se(ct){return Re.apply(this,arguments)}(ct.appConfig.senderId);if(Er)return yield xt(ct,Er),Er}}),rt.apply(this,arguments)}function xt(ct,bt){return on.apply(this,arguments)}function on(){return(on=(0,c.A)(function*(ct,bt){const Gn=pe(ct),Er=(yield Ke()).transaction(Je,"readwrite");return yield Er.objectStore(Je).put(bt,Gn),yield Er.done,bt})).apply(this,arguments)}function je(){return(je=(0,c.A)(function*(ct){const bt=pe(ct),er=(yield Ke()).transaction(Je,"readwrite");yield er.objectStore(Je).delete(bt),yield er.done})).apply(this,arguments)}function pe({appConfig:ct}){return ct.appId}const Ie=new N.FA("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Qe(ct,bt){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,c.A)(function*(ct,bt){const Gn=yield sn(ct),er=Vn(bt),Er={method:"POST",headers:Gn,body:JSON.stringify(er)};let Dt;try{Dt=yield(yield fetch(It(ct.appConfig),Er)).json()}catch(cn){throw Ie.create("token-subscribe-failed",{errorInfo:null==cn?void 0:cn.toString()})}if(Dt.error)throw Ie.create("token-subscribe-failed",{errorInfo:Dt.error.message});if(!Dt.token)throw Ie.create("token-subscribe-no-token");return Dt.token})).apply(this,arguments)}function kt(){return(kt=(0,c.A)(function*(ct,bt){const Gn=yield sn(ct),er=Vn(bt.subscriptionOptions),Er={method:"PATCH",headers:Gn,body:JSON.stringify(er)};let Dt;try{Dt=yield(yield fetch(`${It(ct.appConfig)}/${bt.token}`,Er)).json()}catch(cn){throw Ie.create("token-update-failed",{errorInfo:null==cn?void 0:cn.toString()})}if(Dt.error)throw Ie.create("token-update-failed",{errorInfo:Dt.error.message});if(!Dt.token)throw Ie.create("token-update-no-token");return Dt.token})).apply(this,arguments)}function _n(ct,bt){return vt.apply(this,arguments)}function vt(){return(vt=(0,c.A)(function*(ct,bt){const er={method:"DELETE",headers:yield sn(ct)};try{const Dt=yield(yield fetch(`${It(ct.appConfig)}/${bt}`,er)).json();if(Dt.error)throw Ie.create("token-unsubscribe-failed",{errorInfo:Dt.error.message})}catch(Er){throw Ie.create("token-unsubscribe-failed",{errorInfo:null==Er?void 0:Er.toString()})}})).apply(this,arguments)}function It({projectId:ct}){return`${C}/projects/${ct}/registrations`}function sn(ct){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,c.A)(function*({appConfig:ct,installations:bt}){const Gn=yield bt.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":ct.apiKey,"x-goog-firebase-installations-auth":`FIS ${Gn}`})})).apply(this,arguments)}function Vn({p256dh:ct,auth:bt,endpoint:Gn,vapidKey:er}){const Er={web:{endpoint:Gn,auth:bt,p256dh:ct}};return er!==F&&(Er.web.applicationPubKey=er),Er}const nr=6048e5;function Qn(){return Qn=(0,c.A)(function*(ct){const bt=yield function _e(ct,bt){return Me.apply(this,arguments)}(ct.swRegistration,ct.vapidKey),Gn={vapidKey:ct.vapidKey,swScope:ct.swRegistration.scope,endpoint:bt.endpoint,auth:se(bt.getKey("auth")),p256dh:se(bt.getKey("p256dh"))},er=yield Ye(ct.firebaseDependencies);if(er){if(function Fe(ct,bt){return bt.vapidKey===ct.vapidKey&&bt.endpoint===ct.endpoint&&bt.auth===ct.auth&&bt.p256dh===ct.p256dh}(er.subscriptionOptions,Gn))return Date.now()>=er.createTime+nr?function vn(ct,bt){return K.apply(this,arguments)}(ct,{token:er.token,createTime:Date.now(),subscriptionOptions:Gn}):er.token;try{yield _n(ct.firebaseDependencies,er.token)}catch(Er){console.warn(Er)}return H(ct.firebaseDependencies,Gn)}return H(ct.firebaseDependencies,Gn)}),Qn.apply(this,arguments)}function jn(){return jn=(0,c.A)(function*(ct){const bt=yield Ye(ct.firebaseDependencies);bt&&(yield _n(ct.firebaseDependencies,bt.token),yield function At(ct){return je.apply(this,arguments)}(ct.firebaseDependencies));const Gn=yield ct.swRegistration.pushManager.getSubscription();return!Gn||Gn.unsubscribe()}),jn.apply(this,arguments)}function K(){return K=(0,c.A)(function*(ct,bt){try{const Gn=yield function Ut(ct,bt){return kt.apply(this,arguments)}(ct.firebaseDependencies,bt),er=Object.assign(Object.assign({},bt),{token:Gn,createTime:Date.now()});return yield xt(ct.firebaseDependencies,er),Gn}catch(Gn){throw Gn}}),K.apply(this,arguments)}function H(ct,bt){return ye.apply(this,arguments)}function ye(){return(ye=(0,c.A)(function*(ct,bt){const er={token:yield Qe(ct,bt),createTime:Date.now(),subscriptionOptions:bt};return yield xt(ct,er),er.token})).apply(this,arguments)}function Me(){return(Me=(0,c.A)(function*(ct,bt){return(yield ct.pushManager.getSubscription())||ct.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ue(bt)})})).apply(this,arguments)}function $e(ct){const bt={from:ct.from,collapseKey:ct.collapse_key,messageId:ct.fcmMessageId};return function pt(ct,bt){if(!bt.notification)return;ct.notification={};const Gn=bt.notification.title;Gn&&(ct.notification.title=Gn);const er=bt.notification.body;er&&(ct.notification.body=er);const Er=bt.notification.image;Er&&(ct.notification.image=Er);const Dt=bt.notification.icon;Dt&&(ct.notification.icon=Dt)}(bt,ct),function zt(ct,bt){bt.data&&(ct.data=bt.data)}(bt,ct),function ge(ct,bt){var Gn,er,Er,Dt,cn;if(!(bt.fcmOptions||null!==(Gn=bt.notification)&&void 0!==Gn&&Gn.click_action))return;ct.fcmOptions={};const mn=null!==(Er=null===(er=bt.fcmOptions)||void 0===er?void 0:er.link)&&void 0!==Er?Er:null===(Dt=bt.notification)||void 0===Dt?void 0:Dt.click_action;mn&&(ct.fcmOptions.link=mn);const ze=null===(cn=bt.fcmOptions)||void 0===cn?void 0:cn.analytics_label;ze&&(ct.fcmOptions.analyticsLabel=ze)}(bt,ct),bt}function mt(ct){return Ie.create("missing-app-config-values",{valueName:ct})}!function Pe(ct,bt){const Gn=[];for(let er=0;er<ct.length;er++)Gn.push(ct.charAt(er)),er<bt.length&&Gn.push(bt.charAt(er));Gn.join("")}("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ze{constructor(bt,Gn,er){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Er=function Rt(ct){if(!ct||!ct.options)throw mt("App Configuration Object");if(!ct.name)throw mt("App Name");const bt=["projectId","apiKey","appId","messagingSenderId"],{options:Gn}=ct;for(const er of bt)if(!Gn[er])throw mt(er);return{appName:ct.name,projectId:Gn.projectId,apiKey:Gn.apiKey,appId:Gn.appId,senderId:Gn.messagingSenderId}}(bt);this.firebaseDependencies={app:bt,appConfig:Er,installations:Gn,analyticsProvider:er}}_delete(){return Promise.resolve()}}function Ot(ct){return wt.apply(this,arguments)}function wt(){return(wt=(0,c.A)(function*(ct){try{ct.swRegistration=yield navigator.serviceWorker.register(I,{scope:P}),ct.swRegistration.update().catch(()=>{})}catch(bt){throw Ie.create("failed-service-worker-registration",{browserErrorMessage:null==bt?void 0:bt.message})}})).apply(this,arguments)}function Xt(){return(Xt=(0,c.A)(function*(ct,bt){if(!bt&&!ct.swRegistration&&(yield Ot(ct)),bt||!ct.swRegistration){if(!(bt instanceof ServiceWorkerRegistration))throw Ie.create("invalid-sw-registration");ct.swRegistration=bt}})).apply(this,arguments)}function $n(){return($n=(0,c.A)(function*(ct,bt){bt?ct.vapidKey=bt:ct.vapidKey||(ct.vapidKey=F)})).apply(this,arguments)}function Nn(ct,bt){return ar.apply(this,arguments)}function ar(){return ar=(0,c.A)(function*(ct,bt){if(!navigator)throw Ie.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Ie.create("permission-blocked");return yield function hn(ct,bt){return $n.apply(this,arguments)}(ct,null==bt?void 0:bt.vapidKey),yield function an(ct,bt){return Xt.apply(this,arguments)}(ct,null==bt?void 0:bt.serviceWorkerRegistration),function sr(ct){return Qn.apply(this,arguments)}(ct)}),ar.apply(this,arguments)}function Ht(){return(Ht=(0,c.A)(function*(ct,bt,Gn){const er=function Et(ct){switch(ct){case S.NOTIFICATION_CLICKED:return"notification_open";case S.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(bt);(yield ct.firebaseDependencies.analyticsProvider.get()).logEvent(er,{message_id:Gn[M],message_name:Gn[x],message_time:Gn[j],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Mt(){return Mt=(0,c.A)(function*(ct,bt){const Gn=bt.data;if(!Gn.isFirebaseMessaging)return;ct.onMessageHandler&&Gn.messageType===S.PUSH_RECEIVED&&("function"==typeof ct.onMessageHandler?ct.onMessageHandler($e(Gn)):ct.onMessageHandler.next($e(Gn)));const er=Gn.data;(function Te(ct){return"object"==typeof ct&&!!ct&&M in ct})(er)&&"1"===er["google.c.a.e"]&&(yield function rr(ct,bt,Gn){return Ht.apply(this,arguments)}(ct,Gn.messageType,er))}),Mt.apply(this,arguments)}const ot="@firebase/messaging",_t="0.12.12",we=ct=>{const bt=new Ze(ct.getProvider("app").getImmediate(),ct.getProvider("installations-internal").getImmediate(),ct.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",Gn=>function Yt(ct,bt){return Mt.apply(this,arguments)}(bt,Gn)),bt},ke=ct=>{const bt=ct.getProvider("messaging").getImmediate();return{getToken:er=>Nn(bt,er)}};function jt(){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,c.A)(function*(){try{yield(0,N.eX)()}catch{return!1}return typeof window<"u"&&(0,N.zW)()&&(0,N.dM)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}function Bt(){return Bt=(0,c.A)(function*(ct){if(!navigator)throw Ie.create("only-available-in-window");return ct.swRegistration||(yield Ot(ct)),function bn(ct){return jn.apply(this,arguments)}(ct)}),Bt.apply(this,arguments)}function xn(ct,bt){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,c.A)(function*(ct,bt){return Nn(ct=(0,N.Ku)(ct),bt)})).apply(this,arguments)}function Hn(ct){return function ht(ct){return Bt.apply(this,arguments)}(ct=(0,N.Ku)(ct))}function vr(ct,bt){return function Cn(ct,bt){if(!navigator)throw Ie.create("only-available-in-window");return ct.onMessageHandler=bt,()=>{ct.onMessageHandler=null}}(ct=(0,N.Ku)(ct),bt)}!function st(){(0,A._registerComponent)(new v.uA("messaging",we,"PUBLIC")),(0,A._registerComponent)(new v.uA("messaging-internal",ke,"PRIVATE")),(0,A.registerVersion)(ot,_t),(0,A.registerVersion)(ot,_t,"esm2017")}()},2872:(Jn,ft,y)=>{"use strict";y.d(ft,{Yq:()=>vn,TS:()=>sr,sR:()=>Qn,el:()=>Bt,Sb:()=>wt,QE:()=>Hn,CF:()=>mt,Rg:()=>_t,p4:()=>vr,jM:()=>cn,q9:()=>sn,Kb:()=>mn,CE:()=>Cn,pF:()=>Kn,fL:()=>bt,YV:()=>jt,er:()=>ct,z3:()=>Gn});var c=y(467),d=y(9842),v=y(4438),w=y(6432),N=y(177),A=y(5531),I=y(4442);var Ke=y(1413),Ye=y(3726),rt=y(4412),xt=y(4572),on=y(7673),At=y(1635),je=y(5964),pe=y(5558),fe=y(3294),Ie=y(4341);const Qe=["tabsInner"];let _n=(()=>{var ze;class ce{constructor(Ce,Ee){(0,d.A)(this,"doc",void 0),(0,d.A)(this,"_readyPromise",void 0),(0,d.A)(this,"win",void 0),(0,d.A)(this,"backButton",new Ke.B),(0,d.A)(this,"keyboardDidShow",new Ke.B),(0,d.A)(this,"keyboardDidHide",new Ke.B),(0,d.A)(this,"pause",new Ke.B),(0,d.A)(this,"resume",new Ke.B),(0,d.A)(this,"resize",new Ke.B),this.doc=Ce,Ee.run(()=>{var ut;let en;this.win=Ce.defaultView,this.backButton.subscribeWithPriority=function(wn,tr){return this.subscribe(Dr=>Dr.register(wn,fr=>Ee.run(()=>tr(fr))))},It(this.pause,Ce,"pause",Ee),It(this.resume,Ce,"resume",Ee),It(this.backButton,Ce,"ionBackButton",Ee),It(this.resize,this.win,"resize",Ee),It(this.keyboardDidShow,this.win,"ionKeyboardDidShow",Ee),It(this.keyboardDidHide,this.win,"ionKeyboardDidHide",Ee),this._readyPromise=new Promise(wn=>{en=wn}),null!==(ut=this.win)&&void 0!==ut&&ut.cordova?Ce.addEventListener("deviceready",()=>{en("cordova")},{once:!0}):en("dom")})}is(Ce){return(0,A.a)(this.win,Ce)}platforms(){return(0,A.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(Ce){return vt(this.win.location.href,Ce)}isLandscape(){return!this.isPortrait()}isPortrait(){var Ce,Ee;return null===(Ce=(Ee=this.win).matchMedia)||void 0===Ce?void 0:Ce.call(Ee,"(orientation: portrait)").matches}testUserAgent(Ce){const Ee=this.win.navigator;return!!(null!=Ee&&Ee.userAgent&&Ee.userAgent.indexOf(Ce)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return ze=ce,(0,d.A)(ce,"\u0275fac",function(Ce){return new(Ce||ze)(v.KVO(N.qQ),v.KVO(v.SKi))}),(0,d.A)(ce,"\u0275prov",v.jDH({token:ze,factory:ze.\u0275fac,providedIn:"root"})),ce})();const vt=(ze,ce)=>{ce=ce.replace(/[[\]\\]/g,"\\$&");const Ce=new RegExp("[\\?&]"+ce+"=([^&#]*)").exec(ze);return Ce?decodeURIComponent(Ce[1].replace(/\+/g," ")):null},It=(ze,ce,yt,Ce)=>{ce&&ce.addEventListener(yt,Ee=>{Ce.run(()=>{ze.next(null!=Ee?Ee.detail:void 0)})})};let sn=(()=>{var ze;class ce{constructor(Ce,Ee,ut,en){(0,d.A)(this,"location",void 0),(0,d.A)(this,"serializer",void 0),(0,d.A)(this,"router",void 0),(0,d.A)(this,"topOutlet",void 0),(0,d.A)(this,"direction",Vn),(0,d.A)(this,"animated",nr),(0,d.A)(this,"animationBuilder",void 0),(0,d.A)(this,"guessDirection","forward"),(0,d.A)(this,"guessAnimation",void 0),(0,d.A)(this,"lastNavId",-1),this.location=Ee,this.serializer=ut,this.router=en,en&&en.events.subscribe(wn=>{if(wn instanceof w.Z){const tr=wn.restoredState?wn.restoredState.navigationId:wn.id;this.guessDirection=this.guessAnimation=tr<this.lastNavId?"back":"forward",this.lastNavId="forward"===this.guessDirection?wn.id:tr}}),Ce.backButton.subscribeWithPriority(0,wn=>{this.pop(),wn()})}navigateForward(Ce,Ee={}){return this.setDirection("forward",Ee.animated,Ee.animationDirection,Ee.animation),this.navigate(Ce,Ee)}navigateBack(Ce,Ee={}){return this.setDirection("back",Ee.animated,Ee.animationDirection,Ee.animation),this.navigate(Ce,Ee)}navigateRoot(Ce,Ee={}){return this.setDirection("root",Ee.animated,Ee.animationDirection,Ee.animation),this.navigate(Ce,Ee)}back(Ce={animated:!0,animationDirection:"back"}){return this.setDirection("back",Ce.animated,Ce.animationDirection,Ce.animation),this.location.back()}pop(){var Ce=this;return(0,c.A)(function*(){let Ee=Ce.topOutlet;for(;Ee;){if(yield Ee.pop())return!0;Ee=Ee.parentOutlet}return!1})()}setDirection(Ce,Ee,ut,en){this.direction=Ce,this.animated=Mn(Ce,Ee,ut),this.animationBuilder=en}setTopOutlet(Ce){this.topOutlet=Ce}consumeTransition(){let Ee,Ce="root";const ut=this.animationBuilder;return"auto"===this.direction?(Ce=this.guessDirection,Ee=this.guessAnimation):(Ee=this.animated,Ce=this.direction),this.direction=Vn,this.animated=nr,this.animationBuilder=void 0,{direction:Ce,animation:Ee,animationBuilder:ut}}navigate(Ce,Ee){if(Array.isArray(Ce))return this.router.navigate(Ce,Ee);{const ut=this.serializer.parse(Ce.toString());return void 0!==Ee.queryParams&&(ut.queryParams={...Ee.queryParams}),void 0!==Ee.fragment&&(ut.fragment=Ee.fragment),this.router.navigateByUrl(ut,Ee)}}}return ze=ce,(0,d.A)(ce,"\u0275fac",function(Ce){return new(Ce||ze)(v.KVO(_n),v.KVO(N.aZ),v.KVO(w.Sd),v.KVO(w.Ix,8))}),(0,d.A)(ce,"\u0275prov",v.jDH({token:ze,factory:ze.\u0275fac,providedIn:"root"})),ce})();const Mn=(ze,ce,yt)=>{if(!1!==ce){if(void 0!==yt)return yt;if("forward"===ze||"back"===ze)return ze;if("root"===ze&&!0===ce)return"forward"}},Vn="auto",nr=void 0;let sr=(()=>{var ze;class ce{get(Ce,Ee){const ut=bn();return ut?ut.get(Ce,Ee):null}getBoolean(Ce,Ee){const ut=bn();return!!ut&&ut.getBoolean(Ce,Ee)}getNumber(Ce,Ee){const ut=bn();return ut?ut.getNumber(Ce,Ee):0}}return ze=ce,(0,d.A)(ce,"\u0275fac",function(Ce){return new(Ce||ze)}),(0,d.A)(ce,"\u0275prov",v.jDH({token:ze,factory:ze.\u0275fac,providedIn:"root"})),ce})();const Qn=new v.nKC("USERCONFIG"),bn=()=>{if(typeof window<"u"){const ze=window.Ionic;if(null!=ze&&ze.config)return ze.config}return null};class jn{constructor(ce={}){(0,d.A)(this,"data",void 0),this.data=ce,console.warn("[Ionic Warning]: NavParams has been deprecated in favor of using Angular's input API. Developers should migrate to either the @Input decorator or the Signals-based input API.")}get(ce){return this.data[ce]}}let vn=(()=>{var ze;class ce{constructor(){(0,d.A)(this,"zone",(0,v.WQX)(v.SKi)),(0,d.A)(this,"applicationRef",(0,v.WQX)(v.o8S)),(0,d.A)(this,"config",(0,v.WQX)(Qn))}create(Ce,Ee,ut){var en;return new K(Ce,Ee,this.applicationRef,this.zone,ut,null!==(en=this.config.useSetInputAPI)&&void 0!==en&&en)}}return ze=ce,(0,d.A)(ce,"\u0275fac",function(Ce){return new(Ce||ze)}),(0,d.A)(ce,"\u0275prov",v.jDH({token:ze,factory:ze.\u0275fac})),ce})();class K{constructor(ce,yt,Ce,Ee,ut,en){(0,d.A)(this,"environmentInjector",void 0),(0,d.A)(this,"injector",void 0),(0,d.A)(this,"applicationRef",void 0),(0,d.A)(this,"zone",void 0),(0,d.A)(this,"elementReferenceKey",void 0),(0,d.A)(this,"enableSignalsSupport",void 0),(0,d.A)(this,"elRefMap",new WeakMap),(0,d.A)(this,"elEventsMap",new WeakMap),this.environmentInjector=ce,this.injector=yt,this.applicationRef=Ce,this.zone=Ee,this.elementReferenceKey=ut,this.enableSignalsSupport=en}attachViewToDom(ce,yt,Ce,Ee){return this.zone.run(()=>new Promise(ut=>{const en={...Ce};void 0!==this.elementReferenceKey&&(en[this.elementReferenceKey]=ce),ut(H(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,ce,yt,en,Ee,this.elementReferenceKey,this.enableSignalsSupport))}))}removeViewFromDom(ce,yt){return this.zone.run(()=>new Promise(Ce=>{const Ee=this.elRefMap.get(yt);if(Ee){Ee.destroy(),this.elRefMap.delete(yt);const ut=this.elEventsMap.get(yt);ut&&(ut(),this.elEventsMap.delete(yt))}Ce()}))}}const H=(ze,ce,yt,Ce,Ee,ut,en,wn,tr,Dr,fr,yr)=>{const ui=v.zZn.create({providers:Fe(tr),parent:yt}),Ar=(0,v.a0P)(wn,{environmentInjector:ce,elementInjector:ui}),si=Ar.instance,yi=Ar.location.nativeElement;if(tr)if(fr&&void 0!==si[fr]&&console.error(`[Ionic Error]: ${fr} is a reserved property when using ${en.tagName.toLowerCase()}. Rename or remove the "${fr}" property from ${wn.name}.`),!0===yr&&void 0!==Ar.setInput){const{modal:ai,popover:Eo,...Ui}=tr;for(const eo in Ui)Ar.setInput(eo,Ui[eo]);void 0!==ai&&Object.assign(si,{modal:ai}),void 0!==Eo&&Object.assign(si,{popover:Eo})}else Object.assign(si,tr);if(Dr)for(const ai of Dr)yi.classList.add(ai);const zi=_e(ze,si,yi);return en.appendChild(yi),Ce.attachView(Ar.hostView),Ee.set(yi,Ar),ut.set(yi,zi),yi},ye=[I.L,I.a,I.b,I.c,I.d],_e=(ze,ce,yt)=>ze.run(()=>{const Ce=ye.filter(Ee=>"function"==typeof ce[Ee]).map(Ee=>{const ut=en=>ce[Ee](en.detail);return yt.addEventListener(Ee,ut),()=>yt.removeEventListener(Ee,ut)});return()=>Ce.forEach(Ee=>Ee())}),Me=new v.nKC("NavParamsToken"),Fe=ze=>[{provide:Me,useValue:ze},{provide:jn,useFactory:$e,deps:[Me]}],$e=ze=>new jn(ze),pt=(ze,ce)=>{const yt=ze.prototype;ce.forEach(Ce=>{Object.defineProperty(yt,Ce,{get(){return this.el[Ce]},set(Ee){this.z.runOutsideAngular(()=>this.el[Ce]=Ee)}})})},zt=(ze,ce)=>{const yt=ze.prototype;ce.forEach(Ce=>{yt[Ce]=function(){const Ee=arguments;return this.z.runOutsideAngular(()=>this.el[Ce].apply(this.el,Ee))}})},ge=(ze,ce,yt)=>{yt.forEach(Ce=>ze[Ce]=(0,Ye.R)(ce,Ce))};function Te(ze){return function(yt){const{defineCustomElementFn:Ce,inputs:Ee,methods:ut}=ze;return void 0!==Ce&&Ce(),Ee&&pt(yt,Ee),ut&&zt(yt,ut),yt}}const Pe=["alignment","animated","arrow","keepContentsMounted","backdropDismiss","cssClass","dismissOnSelect","enterAnimation","event","focusTrap","isOpen","keyboardClose","leaveAnimation","mode","showBackdrop","translucent","trigger","triggerAction","reference","size","side"],Rt=["present","dismiss","onDidDismiss","onWillDismiss"];let mt=(()=>{var ze;let ce=((0,d.A)(ze=class{constructor(Ce,Ee,ut){(0,d.A)(this,"z",void 0),(0,d.A)(this,"template",void 0),(0,d.A)(this,"isCmpOpen",!1),(0,d.A)(this,"el",void 0),this.z=ut,this.el=Ee.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,Ce.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,Ce.detectChanges()}),ge(this,this.el,["ionPopoverDidPresent","ionPopoverWillPresent","ionPopoverWillDismiss","ionPopoverDidDismiss","didPresent","willPresent","willDismiss","didDismiss"])}},"\u0275fac",function(Ce){return new(Ce||ze)(v.rXU(v.gRc),v.rXU(v.aKT),v.rXU(v.SKi))}),(0,d.A)(ze,"\u0275dir",v.FsC({type:ze,selectors:[["ion-popover"]],contentQueries:function(Ce,Ee,ut){if(1&Ce&&v.wni(ut,v.C4Q,5),2&Ce){let en;v.mGM(en=v.lsd())&&(Ee.template=en.first)}},inputs:{alignment:"alignment",animated:"animated",arrow:"arrow",keepContentsMounted:"keepContentsMounted",backdropDismiss:"backdropDismiss",cssClass:"cssClass",dismissOnSelect:"dismissOnSelect",enterAnimation:"enterAnimation",event:"event",focusTrap:"focusTrap",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger",triggerAction:"triggerAction",reference:"reference",size:"size",side:"side"}})),ze);return ce=(0,At.Cg)([Te({inputs:Pe,methods:Rt})],ce),ce})();const Ze=["animated","keepContentsMounted","backdropBreakpoint","backdropDismiss","breakpoints","canDismiss","cssClass","enterAnimation","event","focusTrap","handle","handleBehavior","initialBreakpoint","isOpen","keyboardClose","leaveAnimation","mode","presentingElement","showBackdrop","translucent","trigger"],Ot=["present","dismiss","onDidDismiss","onWillDismiss","setCurrentBreakpoint","getCurrentBreakpoint"];let wt=(()=>{var ze;let ce=((0,d.A)(ze=class{constructor(Ce,Ee,ut){(0,d.A)(this,"z",void 0),(0,d.A)(this,"template",void 0),(0,d.A)(this,"isCmpOpen",!1),(0,d.A)(this,"el",void 0),this.z=ut,this.el=Ee.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,Ce.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,Ce.detectChanges()}),ge(this,this.el,["ionModalDidPresent","ionModalWillPresent","ionModalWillDismiss","ionModalDidDismiss","ionBreakpointDidChange","didPresent","willPresent","willDismiss","didDismiss"])}},"\u0275fac",function(Ce){return new(Ce||ze)(v.rXU(v.gRc),v.rXU(v.aKT),v.rXU(v.SKi))}),(0,d.A)(ze,"\u0275dir",v.FsC({type:ze,selectors:[["ion-modal"]],contentQueries:function(Ce,Ee,ut){if(1&Ce&&v.wni(ut,v.C4Q,5),2&Ce){let en;v.mGM(en=v.lsd())&&(Ee.template=en.first)}},inputs:{animated:"animated",keepContentsMounted:"keepContentsMounted",backdropBreakpoint:"backdropBreakpoint",backdropDismiss:"backdropDismiss",breakpoints:"breakpoints",canDismiss:"canDismiss",cssClass:"cssClass",enterAnimation:"enterAnimation",event:"event",focusTrap:"focusTrap",handle:"handle",handleBehavior:"handleBehavior",initialBreakpoint:"initialBreakpoint",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",presentingElement:"presentingElement",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger"}})),ze);return ce=(0,At.Cg)([Te({inputs:Ze,methods:Ot})],ce),ce})();const Xt=(ze,ce)=>((ze=ze.filter(yt=>yt.stackId!==ce.stackId)).push(ce),ze),Nn=(ze,ce)=>{const yt=ze.createUrlTree(["."],{relativeTo:ce});return ze.serializeUrl(yt)},ar=(ze,ce)=>!ce||ze.stackId!==ce.stackId,rr=(ze,ce)=>{if(!ze)return;const yt=Ht(ce);for(let Ce=0;Ce<yt.length;Ce++){if(Ce>=ze.length)return yt[Ce];if(yt[Ce]!==ze[Ce])return}},Ht=ze=>ze.split("/").map(ce=>ce.trim()).filter(ce=>""!==ce),Et=ze=>{ze&&(ze.ref.destroy(),ze.unlistenEvents())};class Yt{constructor(ce,yt,Ce,Ee,ut,en){(0,d.A)(this,"containerEl",void 0),(0,d.A)(this,"router",void 0),(0,d.A)(this,"navCtrl",void 0),(0,d.A)(this,"zone",void 0),(0,d.A)(this,"location",void 0),(0,d.A)(this,"views",[]),(0,d.A)(this,"runningTask",void 0),(0,d.A)(this,"skipTransition",!1),(0,d.A)(this,"tabsPrefix",void 0),(0,d.A)(this,"activeView",void 0),(0,d.A)(this,"nextId",0),this.containerEl=yt,this.router=Ce,this.navCtrl=Ee,this.zone=ut,this.location=en,this.tabsPrefix=void 0!==ce?Ht(ce):void 0}createView(ce,yt){var Ce;const Ee=Nn(this.router,yt),ut=null==ce||null===(Ce=ce.location)||void 0===Ce?void 0:Ce.nativeElement,en=_e(this.zone,ce.instance,ut);return{id:this.nextId++,stackId:rr(this.tabsPrefix,Ee),unlistenEvents:en,element:ut,ref:ce,url:Ee}}getExistingView(ce){const yt=Nn(this.router,ce),Ce=this.views.find(Ee=>Ee.url===yt);return Ce&&Ce.ref.changeDetectorRef.reattach(),Ce}setActive(ce){var yt,Ce;const Ee=this.navCtrl.consumeTransition();let{direction:ut,animation:en,animationBuilder:wn}=Ee;const tr=this.activeView,Dr=ar(ce,tr);Dr&&(ut="back",en=void 0);const fr=this.views.slice();let yr;const ui=this.router;ui.getCurrentNavigation?yr=ui.getCurrentNavigation():null!==(yt=ui.navigations)&&void 0!==yt&&yt.value&&(yr=ui.navigations.value),null!==(Ce=yr)&&void 0!==Ce&&null!==(Ce=Ce.extras)&&void 0!==Ce&&Ce.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const Ar=this.views.includes(ce),si=this.insertView(ce,ut);Ar||ce.ref.changeDetectorRef.detectChanges();const yi=ce.animationBuilder;return void 0===wn&&"back"===ut&&!Dr&&void 0!==yi&&(wn=yi),tr&&(tr.animationBuilder=wn),this.zone.runOutsideAngular(()=>this.wait(()=>(tr&&tr.ref.changeDetectorRef.detach(),ce.ref.changeDetectorRef.reattach(),this.transition(ce,tr,en,this.canGoBack(1),!1,wn).then(()=>Mt(ce,si,fr,this.location,this.zone)).then(()=>({enteringView:ce,direction:ut,animation:en,tabSwitch:Dr})))))}canGoBack(ce,yt=this.getActiveStackId()){return this.getStack(yt).length>ce}pop(ce,yt=this.getActiveStackId()){return this.zone.run(()=>{const Ce=this.getStack(yt);if(Ce.length<=ce)return Promise.resolve(!1);const Ee=Ce[Ce.length-ce-1];let ut=Ee.url;const en=Ee.savedData;if(en){var wn;const Dr=en.get("primary");null!=Dr&&null!==(wn=Dr.route)&&void 0!==wn&&null!==(wn=wn._routerState)&&void 0!==wn&&wn.snapshot.url&&(ut=Dr.route._routerState.snapshot.url)}const{animationBuilder:tr}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(ut,{...Ee.savedExtras,animation:tr}).then(()=>!0)})}startBackTransition(){const ce=this.activeView;if(ce){const yt=this.getStack(ce.stackId),Ce=yt[yt.length-2],Ee=Ce.animationBuilder;return this.wait(()=>this.transition(Ce,ce,"back",this.canGoBack(2),!0,Ee))}return Promise.resolve()}endBackTransition(ce){ce?(this.skipTransition=!0,this.pop(1)):this.activeView&&ot(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(ce){const yt=this.getStack(ce);return yt.length>0?yt[yt.length-1]:void 0}getRootUrl(ce){const yt=this.getStack(ce);return yt.length>0?yt[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(Et),this.activeView=void 0,this.views=[]}getStack(ce){return this.views.filter(yt=>yt.stackId===ce)}insertView(ce,yt){return this.activeView=ce,this.views=((ze,ce,yt)=>"root"===yt?Xt(ze,ce):"forward"===yt?((ze,ce)=>(ze.indexOf(ce)>=0?ze=ze.filter(Ce=>Ce.stackId!==ce.stackId||Ce.id<=ce.id):ze.push(ce),ze))(ze,ce):((ze,ce)=>ze.indexOf(ce)>=0?ze.filter(Ce=>Ce.stackId!==ce.stackId||Ce.id<=ce.id):Xt(ze,ce))(ze,ce))(this.views,ce,yt),this.views.slice()}transition(ce,yt,Ce,Ee,ut,en){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(yt===ce)return Promise.resolve(!1);const wn=ce?ce.element:void 0,tr=yt?yt.element:void 0,Dr=this.containerEl;return wn&&wn!==tr&&(wn.classList.add("ion-page"),wn.classList.add("ion-page-invisible"),Dr.commit)?Dr.commit(wn,tr,{duration:void 0===Ce?0:void 0,direction:Ce,showGoBack:Ee,progressAnimation:ut,animationBuilder:en}):Promise.resolve(!1)}wait(ce){var yt=this;return(0,c.A)(function*(){void 0!==yt.runningTask&&(yield yt.runningTask,yt.runningTask=void 0);const Ce=yt.runningTask=ce();return Ce.finally(()=>yt.runningTask=void 0),Ce})()}}const Mt=(ze,ce,yt,Ce,Ee)=>"function"==typeof requestAnimationFrame?new Promise(ut=>{requestAnimationFrame(()=>{ot(ze,ce,yt,Ce,Ee),ut()})}):Promise.resolve(),ot=(ze,ce,yt,Ce,Ee)=>{Ee.run(()=>yt.filter(ut=>!ce.includes(ut)).forEach(Et)),ce.forEach(ut=>{const wn=Ce.path().split("?")[0].split("#")[0];if(ut!==ze&&ut.url!==wn){const tr=ut.element;tr.setAttribute("aria-hidden","true"),tr.classList.add("ion-page-hidden"),ut.ref.changeDetectorRef.detach()}})};let _t=(()=>{var ze;class ce{get activatedComponentRef(){return this.activated}set animation(Ce){this.nativeEl.animation=Ce}set animated(Ce){this.nativeEl.animated=Ce}set swipeGesture(Ce){this._swipeGesture=Ce,this.nativeEl.swipeHandler=Ce?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:Ee=>this.stackCtrl.endBackTransition(Ee)}:void 0}constructor(Ce,Ee,ut,en,wn,tr,Dr,fr){(0,d.A)(this,"parentOutlet",void 0),(0,d.A)(this,"nativeEl",void 0),(0,d.A)(this,"activatedView",null),(0,d.A)(this,"tabsPrefix",void 0),(0,d.A)(this,"_swipeGesture",void 0),(0,d.A)(this,"stackCtrl",void 0),(0,d.A)(this,"proxyMap",new WeakMap),(0,d.A)(this,"currentActivatedRoute$",new rt.t(null)),(0,d.A)(this,"activated",null),(0,d.A)(this,"_activatedRoute",null),(0,d.A)(this,"name",w.Xk),(0,d.A)(this,"stackWillChange",new v.bkB),(0,d.A)(this,"stackDidChange",new v.bkB),(0,d.A)(this,"activateEvents",new v.bkB),(0,d.A)(this,"deactivateEvents",new v.bkB),(0,d.A)(this,"parentContexts",(0,v.WQX)(w.Zp)),(0,d.A)(this,"location",(0,v.WQX)(v.c1b)),(0,d.A)(this,"environmentInjector",(0,v.WQX)(v.uvJ)),(0,d.A)(this,"inputBinder",(0,v.WQX)(ke,{optional:!0})),(0,d.A)(this,"supportsBindingToComponentInputs",!0),(0,d.A)(this,"config",(0,v.WQX)(sr)),(0,d.A)(this,"navCtrl",(0,v.WQX)(sn)),this.parentOutlet=fr,this.nativeEl=en.nativeElement,this.name=Ce||w.Xk,this.tabsPrefix="true"===Ee?Nn(wn,Dr):void 0,this.stackCtrl=new Yt(this.tabsPrefix,this.nativeEl,wn,this.navCtrl,tr,ut),this.parentContexts.onChildOutletCreated(this.name,this)}ngOnDestroy(){var Ce;this.stackCtrl.destroy(),null===(Ce=this.inputBinder)||void 0===Ce||Ce.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const Ce=this.getContext();null!=Ce&&Ce.route&&this.activateWith(Ce.route,Ce.injector)}new Promise(Ce=>((ze,ce)=>{ze.componentOnReady?ze.componentOnReady().then(yt=>ce(yt)):(ze=>{"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(ze):"function"==typeof requestAnimationFrame?requestAnimationFrame(ze):setTimeout(ze)})(()=>ce(ze))})(this.nativeEl,Ce)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(Ce,Ee){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const Ee=this.getContext();this.activatedView.savedData=new Map(Ee.children.contexts);const ut=this.activatedView.savedData.get("primary");if(ut&&Ee.route&&(ut.route={...Ee.route}),this.activatedView.savedExtras={},Ee.route){const en=Ee.route.snapshot;this.activatedView.savedExtras.queryParams=en.queryParams,this.activatedView.savedExtras.fragment=en.fragment}}const Ce=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(Ce)}}activateWith(Ce,Ee){var ut;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=Ce;let en,wn=this.stackCtrl.getExistingView(Ce);if(wn){en=this.activated=wn.ref;const fr=wn.savedData;fr&&(this.getContext().children.contexts=fr),this.updateActivatedRouteProxy(en.instance,Ce)}else{var tr;const fr=Ce._futureSnapshot,yr=this.parentContexts.getOrCreateContext(this.name).children,ui=new rt.t(null),Ar=this.createActivatedRouteProxy(ui,Ce),si=new we(Ar,yr,this.location.injector),yi=null!==(tr=fr.routeConfig.component)&&void 0!==tr?tr:fr.component;en=this.activated=this.outletContent.createComponent(yi,{index:this.outletContent.length,injector:si,environmentInjector:null!=Ee?Ee:this.environmentInjector}),ui.next(en.instance),wn=this.stackCtrl.createView(this.activated,Ce),this.proxyMap.set(en.instance,Ar),this.currentActivatedRoute$.next({component:en.instance,activatedRoute:Ce})}null===(ut=this.inputBinder)||void 0===ut||ut.bindActivatedRouteToOutletComponent(this),this.activatedView=wn,this.navCtrl.setTopOutlet(this);const Dr=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:wn,tabSwitch:ar(wn,Dr)}),this.stackCtrl.setActive(wn).then(fr=>{this.activateEvents.emit(en.instance),this.stackDidChange.emit(fr)})}canGoBack(Ce=1,Ee){return this.stackCtrl.canGoBack(Ce,Ee)}pop(Ce=1,Ee){return this.stackCtrl.pop(Ce,Ee)}getLastUrl(Ce){const Ee=this.stackCtrl.getLastUrl(Ce);return Ee?Ee.url:void 0}getLastRouteView(Ce){return this.stackCtrl.getLastUrl(Ce)}getRootView(Ce){return this.stackCtrl.getRootUrl(Ce)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(Ce,Ee){const ut=new w.nX;return ut._futureSnapshot=Ee._futureSnapshot,ut._routerState=Ee._routerState,ut.snapshot=Ee.snapshot,ut.outlet=Ee.outlet,ut.component=Ee.component,ut._paramMap=this.proxyObservable(Ce,"paramMap"),ut._queryParamMap=this.proxyObservable(Ce,"queryParamMap"),ut.url=this.proxyObservable(Ce,"url"),ut.params=this.proxyObservable(Ce,"params"),ut.queryParams=this.proxyObservable(Ce,"queryParams"),ut.fragment=this.proxyObservable(Ce,"fragment"),ut.data=this.proxyObservable(Ce,"data"),ut}proxyObservable(Ce,Ee){return Ce.pipe((0,je.p)(ut=>!!ut),(0,pe.n)(ut=>this.currentActivatedRoute$.pipe((0,je.p)(en=>null!==en&&en.component===ut),(0,pe.n)(en=>en&&en.activatedRoute[Ee]),(0,fe.F)())))}updateActivatedRouteProxy(Ce,Ee){const ut=this.proxyMap.get(Ce);if(!ut)throw new Error("Could not find activated route proxy for view");ut._futureSnapshot=Ee._futureSnapshot,ut._routerState=Ee._routerState,ut.snapshot=Ee.snapshot,ut.outlet=Ee.outlet,ut.component=Ee.component,this.currentActivatedRoute$.next({component:Ce,activatedRoute:Ee})}}return ze=ce,(0,d.A)(ce,"\u0275fac",function(Ce){return new(Ce||ze)(v.kS0("name"),v.kS0("tabs"),v.rXU(N.aZ),v.rXU(v.aKT),v.rXU(w.Ix),v.rXU(v.SKi),v.rXU(w.nX),v.rXU(ze,12))}),(0,d.A)(ce,"\u0275dir",v.FsC({type:ze,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]})),ce})();class we{constructor(ce,yt,Ce){(0,d.A)(this,"route",void 0),(0,d.A)(this,"childContexts",void 0),(0,d.A)(this,"parent",void 0),this.route=ce,this.childContexts=yt,this.parent=Ce}get(ce,yt){return ce===w.nX?this.route:ce===w.Zp?this.childContexts:this.parent.get(ce,yt)}}const ke=new v.nKC("");let st=(()=>{var ze;class ce{constructor(){(0,d.A)(this,"outletDataSubscriptions",new Map)}bindActivatedRouteToOutletComponent(Ce){this.unsubscribeFromRouteData(Ce),this.subscribeToRouteData(Ce)}unsubscribeFromRouteData(Ce){var Ee;null===(Ee=this.outletDataSubscriptions.get(Ce))||void 0===Ee||Ee.unsubscribe(),this.outletDataSubscriptions.delete(Ce)}subscribeToRouteData(Ce){const{activatedRoute:Ee}=Ce,ut=(0,xt.z)([Ee.queryParams,Ee.params,Ee.data]).pipe((0,pe.n)(([en,wn,tr],Dr)=>(tr={...en,...wn,...tr},0===Dr?(0,on.of)(tr):Promise.resolve(tr)))).subscribe(en=>{if(!Ce.isActivated||!Ce.activatedComponentRef||Ce.activatedRoute!==Ee||null===Ee.component)return void this.unsubscribeFromRouteData(Ce);const wn=(0,v.HJs)(Ee.component);if(wn)for(const{templateName:tr}of wn.inputs)Ce.activatedComponentRef.setInput(tr,en[tr]);else this.unsubscribeFromRouteData(Ce)});this.outletDataSubscriptions.set(Ce,ut)}}return ze=ce,(0,d.A)(ce,"\u0275fac",function(Ce){return new(Ce||ze)}),(0,d.A)(ce,"\u0275prov",v.jDH({token:ze,factory:ze.\u0275fac})),ce})();const jt=()=>({provide:ke,useFactory:Pt,deps:[w.Ix]});function Pt(ze){return null!=ze&&ze.componentInputBindingEnabled?new st:null}const ht=["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"];let Bt=(()=>{var ze;let ce=((0,d.A)(ze=class{constructor(Ce,Ee,ut,en,wn,tr){(0,d.A)(this,"routerOutlet",void 0),(0,d.A)(this,"navCtrl",void 0),(0,d.A)(this,"config",void 0),(0,d.A)(this,"r",void 0),(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.routerOutlet=Ce,this.navCtrl=Ee,this.config=ut,this.r=en,this.z=wn,tr.detach(),this.el=this.r.nativeElement}onClick(Ce){var Ee;const ut=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(Ee=this.routerOutlet)&&void 0!==Ee&&Ee.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),Ce.preventDefault()):null!=ut&&(this.navCtrl.navigateBack(ut,{animation:this.routerAnimation}),Ce.preventDefault())}},"\u0275fac",function(Ce){return new(Ce||ze)(v.rXU(_t,8),v.rXU(sn),v.rXU(sr),v.rXU(v.aKT),v.rXU(v.SKi),v.rXU(v.gRc))}),(0,d.A)(ze,"\u0275dir",v.FsC({type:ze,hostBindings:function(Ce,Ee){1&Ce&&v.bIt("click",function(en){return Ee.onClick(en)})},inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"}})),ze);return ce=(0,At.Cg)([Te({inputs:ht})],ce),ce})(),Cn=(()=>{var ze;class ce{constructor(Ce,Ee,ut,en,wn){(0,d.A)(this,"locationStrategy",void 0),(0,d.A)(this,"navCtrl",void 0),(0,d.A)(this,"elementRef",void 0),(0,d.A)(this,"router",void 0),(0,d.A)(this,"routerLink",void 0),(0,d.A)(this,"routerDirection","forward"),(0,d.A)(this,"routerAnimation",void 0),this.locationStrategy=Ce,this.navCtrl=Ee,this.elementRef=ut,this.router=en,this.routerLink=wn}ngOnInit(){this.updateTargetUrlAndHref(),this.updateTabindex()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTabindex(){const Ee=this.elementRef.nativeElement;["ION-BACK-BUTTON","ION-BREADCRUMB","ION-BUTTON","ION-CARD","ION-FAB-BUTTON","ION-ITEM","ION-ITEM-OPTION","ION-MENU-BUTTON","ION-SEGMENT-BUTTON","ION-TAB-BUTTON"].includes(Ee.tagName)&&"0"===Ee.getAttribute("tabindex")&&Ee.removeAttribute("tabindex")}updateTargetUrlAndHref(){var Ce;if(null!==(Ce=this.routerLink)&&void 0!==Ce&&Ce.urlTree){const Ee=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=Ee}}onClick(Ce){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),Ce.preventDefault()}}return ze=ce,(0,d.A)(ce,"\u0275fac",function(Ce){return new(Ce||ze)(v.rXU(N.hb),v.rXU(sn),v.rXU(v.aKT),v.rXU(w.Ix),v.rXU(w.Wk,8))}),(0,d.A)(ce,"\u0275dir",v.FsC({type:ze,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(Ce,Ee){1&Ce&&v.bIt("click",function(en){return Ee.onClick(en)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[v.OA$]})),ce})(),Kn=(()=>{var ze;class ce{constructor(Ce,Ee,ut,en,wn){(0,d.A)(this,"locationStrategy",void 0),(0,d.A)(this,"navCtrl",void 0),(0,d.A)(this,"elementRef",void 0),(0,d.A)(this,"router",void 0),(0,d.A)(this,"routerLink",void 0),(0,d.A)(this,"routerDirection","forward"),(0,d.A)(this,"routerAnimation",void 0),this.locationStrategy=Ce,this.navCtrl=Ee,this.elementRef=ut,this.router=en,this.routerLink=wn}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var Ce;if(null!==(Ce=this.routerLink)&&void 0!==Ce&&Ce.urlTree){const Ee=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=Ee}}onClick(){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation)}}return ze=ce,(0,d.A)(ce,"\u0275fac",function(Ce){return new(Ce||ze)(v.rXU(N.hb),v.rXU(sn),v.rXU(v.aKT),v.rXU(w.Ix),v.rXU(w.Wk,8))}),(0,d.A)(ce,"\u0275dir",v.FsC({type:ze,selectors:[["a","routerLink",""],["area","routerLink",""]],hostBindings:function(Ce,Ee){1&Ce&&v.bIt("click",function(){return Ee.onClick()})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[v.OA$]})),ce})();const xn=["animated","animation","root","rootParams","swipeGesture"],Zn=["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"];let Hn=(()=>{var ze;let ce=((0,d.A)(ze=class{constructor(Ce,Ee,ut,en,wn,tr){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=wn,tr.detach(),this.el=Ce.nativeElement,Ce.nativeElement.delegate=en.create(Ee,ut),ge(this,this.el,["ionNavDidChange","ionNavWillChange"])}},"\u0275fac",function(Ce){return new(Ce||ze)(v.rXU(v.aKT),v.rXU(v.uvJ),v.rXU(v.zZn),v.rXU(vn),v.rXU(v.SKi),v.rXU(v.gRc))}),(0,d.A)(ze,"\u0275dir",v.FsC({type:ze,inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"}})),ze);return ce=(0,At.Cg)([Te({inputs:xn,methods:Zn})],ce),ce})(),vr=(()=>{var ze;class ce{constructor(Ce){(0,d.A)(this,"navCtrl",void 0),(0,d.A)(this,"tabsInner",void 0),(0,d.A)(this,"ionTabsWillChange",new v.bkB),(0,d.A)(this,"ionTabsDidChange",new v.bkB),(0,d.A)(this,"tabBarSlot","bottom"),(0,d.A)(this,"hasTab",!1),(0,d.A)(this,"selectedTab",void 0),(0,d.A)(this,"leavingTab",void 0),this.navCtrl=Ce}ngAfterViewInit(){const Ce=this.tabs.length>0?this.tabs.first:void 0;Ce&&(this.hasTab=!0,this.setActiveTab(Ce.tab),this.tabSwitch())}ngAfterContentInit(){this.detectSlotChanges()}ngAfterContentChecked(){this.detectSlotChanges()}onStackWillChange({enteringView:Ce,tabSwitch:Ee}){const ut=Ce.stackId;Ee&&void 0!==ut&&this.ionTabsWillChange.emit({tab:ut})}onStackDidChange({enteringView:Ce,tabSwitch:Ee}){const ut=Ce.stackId;Ee&&void 0!==ut&&(this.tabBar&&(this.tabBar.selectedTab=ut),this.ionTabsDidChange.emit({tab:ut}))}select(Ce){const Ee="string"==typeof Ce,ut=Ee?Ce:Ce.detail.tab;if(this.hasTab)return this.setActiveTab(ut),void this.tabSwitch();const en=this.outlet.getActiveStackId()===ut,wn=`${this.outlet.tabsPrefix}/${ut}`;if(Ee||Ce.stopPropagation(),en){const tr=this.outlet.getActiveStackId(),Dr=this.outlet.getLastRouteView(tr);if((null==Dr?void 0:Dr.url)===wn)return;const fr=this.outlet.getRootView(ut);return this.navCtrl.navigateRoot(wn,{...fr&&wn===fr.url&&fr.savedExtras,animated:!0,animationDirection:"back"})}{const tr=this.outlet.getLastRouteView(ut);return this.navCtrl.navigateRoot((null==tr?void 0:tr.url)||wn,{...null==tr?void 0:tr.savedExtras,animated:!0,animationDirection:"back"})}}setActiveTab(Ce){const ut=this.tabs.find(en=>en.tab===Ce);ut?(this.leavingTab=this.selectedTab,this.selectedTab=ut,this.ionTabsWillChange.emit({tab:Ce}),ut.el.active=!0):console.error(`[Ionic Error]: Tab with id: "${Ce}" does not exist`)}tabSwitch(){const{selectedTab:Ce,leavingTab:Ee}=this;this.tabBar&&Ce&&(this.tabBar.selectedTab=Ce.tab),(null==Ee?void 0:Ee.tab)!==(null==Ce?void 0:Ce.tab)&&null!=Ee&&Ee.el&&(Ee.el.active=!1),Ce&&this.ionTabsDidChange.emit({tab:Ce.tab})}getSelected(){var Ce;return this.hasTab?null===(Ce=this.selectedTab)||void 0===Ce?void 0:Ce.tab:this.outlet.getActiveStackId()}detectSlotChanges(){this.tabBars.forEach(Ce=>{const Ee=Ce.el.getAttribute("slot");Ee!==this.tabBarSlot&&(this.tabBarSlot=Ee,this.relocateTabBar())})}relocateTabBar(){const Ce=this.tabBar.el;"top"===this.tabBarSlot?this.tabsInner.nativeElement.before(Ce):this.tabsInner.nativeElement.after(Ce)}}return ze=ce,(0,d.A)(ce,"\u0275fac",function(Ce){return new(Ce||ze)(v.rXU(sn))}),(0,d.A)(ce,"\u0275dir",v.FsC({type:ze,selectors:[["ion-tabs"]],viewQuery:function(Ce,Ee){if(1&Ce&&v.GBs(Qe,7,v.aKT),2&Ce){let ut;v.mGM(ut=v.lsd())&&(Ee.tabsInner=ut.first)}},hostBindings:function(Ce,Ee){1&Ce&&v.bIt("ionTabButtonClick",function(en){return Ee.select(en)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"}})),ce})();const ct=ze=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(ze):"function"==typeof requestAnimationFrame?requestAnimationFrame(ze):setTimeout(ze);let bt=(()=>{var ze;class ce{constructor(Ce,Ee){(0,d.A)(this,"injector",void 0),(0,d.A)(this,"elementRef",void 0),(0,d.A)(this,"onChange",()=>{}),(0,d.A)(this,"onTouched",()=>{}),(0,d.A)(this,"lastValue",void 0),(0,d.A)(this,"statusChanges",void 0),this.injector=Ce,this.elementRef=Ee}writeValue(Ce){this.elementRef.nativeElement.value=this.lastValue=Ce,Gn(this.elementRef)}handleValueChange(Ce,Ee){Ce===this.elementRef.nativeElement&&(Ee!==this.lastValue&&(this.lastValue=Ee,this.onChange(Ee)),Gn(this.elementRef))}_handleBlurEvent(Ce){Ce===this.elementRef.nativeElement&&(this.onTouched(),Gn(this.elementRef))}registerOnChange(Ce){this.onChange=Ce}registerOnTouched(Ce){this.onTouched=Ce}setDisabledState(Ce){this.elementRef.nativeElement.disabled=Ce}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let Ce;try{Ce=this.injector.get(Ie.vO)}catch{}if(!Ce)return;Ce.statusChanges&&(this.statusChanges=Ce.statusChanges.subscribe(()=>Gn(this.elementRef)));const Ee=Ce.control;Ee&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(en=>{if(typeof Ee[en]<"u"){const wn=Ee[en].bind(Ee);Ee[en]=(...tr)=>{wn(...tr),Gn(this.elementRef)}}})}}return ze=ce,(0,d.A)(ce,"\u0275fac",function(Ce){return new(Ce||ze)(v.rXU(v.zZn),v.rXU(v.aKT))}),(0,d.A)(ce,"\u0275dir",v.FsC({type:ze,hostBindings:function(Ce,Ee){1&Ce&&v.bIt("ionBlur",function(en){return Ee._handleBlurEvent(en.target)})}})),ce})();const Gn=ze=>{ct(()=>{const ce=ze.nativeElement,yt=null!=ce.value&&ce.value.toString().length>0,Ce=er(ce);Er(ce,Ce);const Ee=ce.closest("ion-item");Ee&&Er(Ee,yt?[...Ce,"item-has-value"]:Ce)})},er=ze=>{const ce=ze.classList,yt=[];for(let Ce=0;Ce<ce.length;Ce++){const Ee=ce.item(Ce);null!==Ee&&Dt(Ee,"ng-")&&yt.push(`ion-${Ee.substring(3)}`)}return yt},Er=(ze,ce)=>{const yt=ze.classList;yt.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),yt.add(...ce)},Dt=(ze,ce)=>ze.substring(0,ce.length)===ce;class cn{shouldDetach(ce){return!1}shouldAttach(ce){return!1}store(ce,yt){}retrieve(ce){return null}shouldReuseRoute(ce,yt){if(ce.routeConfig!==yt.routeConfig)return!1;const Ce=ce.params,Ee=yt.params,ut=Object.keys(Ce),en=Object.keys(Ee);if(ut.length!==en.length)return!1;for(const wn of ut)if(Ee[wn]!==Ce[wn])return!1;return!0}}class mn{constructor(ce){(0,d.A)(this,"ctrl",void 0),this.ctrl=ce}create(ce){return this.ctrl.create(ce||{})}dismiss(ce,yt,Ce){return this.ctrl.dismiss(ce,yt,Ce)}getTop(){return this.ctrl.getTop()}}},4742:(Jn,ft,y)=>{"use strict";y.d(ft,{U1:()=>nr,Jm:()=>K,hU:()=>ge,W9:()=>Te,lO:()=>an,eU:()=>Xt,iq:()=>hn,$w:()=>rr,uz:()=>Et,he:()=>ke,KO:()=>Gn,f0:()=>er,Rg:()=>di,ln:()=>yt,Nm:()=>en,Ip:()=>wn,IO:()=>si,BC:()=>ai,ai:()=>eo,bv:()=>wi,N7:()=>xo,Je:()=>Ie,Gw:()=>Qe});var c=y(9842),d=y(4438),v=y(4341),w=y(2872),N=y(1635),A=y(3726),I=y(177),P=y(6432),Q=(y(9986),y(3604),y(5022),y(3615),y(8607),y(9483)),$=y(464),se=(y(9568),y(9440)),Be=(y(8476),y(4261));y(1970),y(7192);var Xe=y(467);const it=Q.i,We=function(){var Y=(0,Xe.A)(function*(le,Ue){if(!(typeof window>"u"))return yield it(),(0,Be.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-input-password-toggle",[[33,"ion-input-password-toggle",{"color":[513],"showIcon":[1,"show-icon"],"hideIcon":[1,"hide-icon"],"type":[1025]},null,{"type":["onTypeChange"]}]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[1,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"swipeGesture":[1,"swipe-gesture"],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"swipeGesture":["swipeGestureChanged"],"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearInputIcon":[1,"clear-input-icon"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[516],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[516],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"type":["onTypeChange"],"value":["valueChanged"]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"lang":["onLangChanged"],"dir":["onDirChanged"],"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64],"getLength":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"value":["valueChanged"]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"focusTrap":[4,"focus-trap"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32],"isVisible":[64]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker",[[33,"ion-picker",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-picker-column",[[1,"ion-picker-column",{"disabled":[4],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"ariaLabel":[32],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64],"setFocus":[64]},null,{"aria-label":["ariaLabelChanged"],"value":["valueChange"]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"formatOptions":[16],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"formatOptions":["formatOptionsChanged"],"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"presentation":["presentationChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[34,"ion-picker-legacy",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[32,"ion-picker-legacy-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"compareWith":[1,"compare-with"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1],"isCircle":[32]},null,{"disabled":["disabledChanged"]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"fixedSlotPlacement":[1,"fixed-slot-placement"],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[33,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[38,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-option",[[33,"ion-picker-column-option",{"disabled":[4],"value":[8],"color":[513],"ariaLabel":[32]},null,{"aria-label":["onAriaLabelChange"]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"focusTrap":[4,"focus-trap"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[33,"ion-note",{"color":[513]}],[1,"ion-skeleton-text",{"animated":[4]}],[33,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[516],"download":[1],"href":[1],"rel":[1],"lines":[1],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"multipleInputs":[32],"focusable":[32]},[[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"button":["buttonChanged"]}],[38,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}]]]]'),Ue)});return function(Ue,X){return Y.apply(this,arguments)}}(),Je=["*"],xe=["outletContent"];let Ie=(()=>{var Y;class le extends w.fL{constructor(X,L){super(X,L)}_handleChangeEvent(X){this.handleValueChange(X,X.value)}}return Y=le,(0,c.A)(le,"\u0275fac",function(X){return new(X||Y)(d.rXU(d.zZn),d.rXU(d.aKT))}),(0,c.A)(le,"\u0275dir",d.FsC({type:Y,selectors:[["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(X,L){1&X&&d.bIt("ionChange",function(tt){return L._handleChangeEvent(tt.target)})},features:[d.Jv_([{provide:v.kq,useExisting:Y,multi:!0}]),d.Vt3]})),le})(),Qe=(()=>{var Y;class le extends w.fL{constructor(X,L){super(X,L)}_handleInputEvent(X){this.handleValueChange(X,X.value)}}return Y=le,(0,c.A)(le,"\u0275fac",function(X){return new(X||Y)(d.rXU(d.zZn),d.rXU(d.aKT))}),(0,c.A)(le,"\u0275dir",d.FsC({type:Y,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(X,L){1&X&&d.bIt("ionInput",function(tt){return L._handleInputEvent(tt.target)})},features:[d.Jv_([{provide:v.kq,useExisting:Y,multi:!0}]),d.Vt3]})),le})();const Kt=(Y,le)=>{const Ue=Y.prototype;le.forEach(X=>{Object.defineProperty(Ue,X,{get(){return this.el[X]},set(L){this.z.runOutsideAngular(()=>this.el[X]=L)},configurable:!0})})},Ut=(Y,le)=>{const Ue=Y.prototype;le.forEach(X=>{Ue[X]=function(){const L=arguments;return this.z.runOutsideAngular(()=>this.el[X].apply(this.el,L))}})},kt=(Y,le,Ue)=>{Ue.forEach(X=>Y[X]=(0,A.R)(le,X))};function vt(Y){return function(Ue){const{defineCustomElementFn:X,inputs:L,methods:q}=Y;return void 0!==X&&X(),L&&Kt(Ue,L),q&&Ut(Ue,q),Ue}}let nr=(()=>{var Y;let le=((0,c.A)(Y=class{constructor(X,L,q){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=q,X.detach(),this.el=L.nativeElement}},"\u0275fac",function(X){return new(X||Y)(d.rXU(d.gRc),d.rXU(d.aKT),d.rXU(d.SKi))}),(0,c.A)(Y,"\u0275cmp",d.VBU({type:Y,selectors:[["ion-app"]],ngContentSelectors:Je,decls:1,vars:0,template:function(X,L){1&X&&(d.NAR(),d.SdG(0))},encapsulation:2,changeDetection:0})),Y);return le=(0,N.Cg)([vt({methods:["setFocus"]})],le),le})(),K=(()=>{var Y;let le=((0,c.A)(Y=class{constructor(X,L,q){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=q,X.detach(),this.el=L.nativeElement,kt(this,this.el,["ionFocus","ionBlur"])}},"\u0275fac",function(X){return new(X||Y)(d.rXU(d.gRc),d.rXU(d.aKT),d.rXU(d.SKi))}),(0,c.A)(Y,"\u0275cmp",d.VBU({type:Y,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:Je,decls:1,vars:0,template:function(X,L){1&X&&(d.NAR(),d.SdG(0))},encapsulation:2,changeDetection:0})),Y);return le=(0,N.Cg)([vt({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],le),le})(),ge=(()=>{var Y;let le=((0,c.A)(Y=class{constructor(X,L,q){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=q,X.detach(),this.el=L.nativeElement}},"\u0275fac",function(X){return new(X||Y)(d.rXU(d.gRc),d.rXU(d.aKT),d.rXU(d.SKi))}),(0,c.A)(Y,"\u0275cmp",d.VBU({type:Y,selectors:[["ion-col"]],inputs:{offset:"offset",offsetLg:"offsetLg",offsetMd:"offsetMd",offsetSm:"offsetSm",offsetXl:"offsetXl",offsetXs:"offsetXs",pull:"pull",pullLg:"pullLg",pullMd:"pullMd",pullSm:"pullSm",pullXl:"pullXl",pullXs:"pullXs",push:"push",pushLg:"pushLg",pushMd:"pushMd",pushSm:"pushSm",pushXl:"pushXl",pushXs:"pushXs",size:"size",sizeLg:"sizeLg",sizeMd:"sizeMd",sizeSm:"sizeSm",sizeXl:"sizeXl",sizeXs:"sizeXs"},ngContentSelectors:Je,decls:1,vars:0,template:function(X,L){1&X&&(d.NAR(),d.SdG(0))},encapsulation:2,changeDetection:0})),Y);return le=(0,N.Cg)([vt({inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]})],le),le})(),Te=(()=>{var Y;let le=((0,c.A)(Y=class{constructor(X,L,q){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=q,X.detach(),this.el=L.nativeElement,kt(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}},"\u0275fac",function(X){return new(X||Y)(d.rXU(d.gRc),d.rXU(d.aKT),d.rXU(d.SKi))}),(0,c.A)(Y,"\u0275cmp",d.VBU({type:Y,selectors:[["ion-content"]],inputs:{color:"color",fixedSlotPlacement:"fixedSlotPlacement",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:Je,decls:1,vars:0,template:function(X,L){1&X&&(d.NAR(),d.SdG(0))},encapsulation:2,changeDetection:0})),Y);return le=(0,N.Cg)([vt({inputs:["color","fixedSlotPlacement","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],le),le})(),an=(()=>{var Y;let le=((0,c.A)(Y=class{constructor(X,L,q){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=q,X.detach(),this.el=L.nativeElement}},"\u0275fac",function(X){return new(X||Y)(d.rXU(d.gRc),d.rXU(d.aKT),d.rXU(d.SKi))}),(0,c.A)(Y,"\u0275cmp",d.VBU({type:Y,selectors:[["ion-grid"]],inputs:{fixed:"fixed"},ngContentSelectors:Je,decls:1,vars:0,template:function(X,L){1&X&&(d.NAR(),d.SdG(0))},encapsulation:2,changeDetection:0})),Y);return le=(0,N.Cg)([vt({inputs:["fixed"]})],le),le})(),Xt=(()=>{var Y;let le=((0,c.A)(Y=class{constructor(X,L,q){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=q,X.detach(),this.el=L.nativeElement}},"\u0275fac",function(X){return new(X||Y)(d.rXU(d.gRc),d.rXU(d.aKT),d.rXU(d.SKi))}),(0,c.A)(Y,"\u0275cmp",d.VBU({type:Y,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Je,decls:1,vars:0,template:function(X,L){1&X&&(d.NAR(),d.SdG(0))},encapsulation:2,changeDetection:0})),Y);return le=(0,N.Cg)([vt({inputs:["collapse","mode","translucent"]})],le),le})(),hn=(()=>{var Y;let le=((0,c.A)(Y=class{constructor(X,L,q){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=q,X.detach(),this.el=L.nativeElement}},"\u0275fac",function(X){return new(X||Y)(d.rXU(d.gRc),d.rXU(d.aKT),d.rXU(d.SKi))}),(0,c.A)(Y,"\u0275cmp",d.VBU({type:Y,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:Je,decls:1,vars:0,template:function(X,L){1&X&&(d.NAR(),d.SdG(0))},encapsulation:2,changeDetection:0})),Y);return le=(0,N.Cg)([vt({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],le),le})(),rr=(()=>{var Y;let le=((0,c.A)(Y=class{constructor(X,L,q){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=q,X.detach(),this.el=L.nativeElement,kt(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}},"\u0275fac",function(X){return new(X||Y)(d.rXU(d.gRc),d.rXU(d.aKT),d.rXU(d.SKi))}),(0,c.A)(Y,"\u0275cmp",d.VBU({type:Y,selectors:[["ion-input"]],inputs:{autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearInputIcon:"clearInputIcon",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:Je,decls:1,vars:0,template:function(X,L){1&X&&(d.NAR(),d.SdG(0))},encapsulation:2,changeDetection:0})),Y);return le=(0,N.Cg)([vt({inputs:["autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearInputIcon","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],le),le})(),Et=(()=>{var Y;let le=((0,c.A)(Y=class{constructor(X,L,q){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=q,X.detach(),this.el=L.nativeElement}},"\u0275fac",function(X){return new(X||Y)(d.rXU(d.gRc),d.rXU(d.aKT),d.rXU(d.SKi))}),(0,c.A)(Y,"\u0275cmp",d.VBU({type:Y,selectors:[["ion-item"]],inputs:{button:"button",color:"color",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:Je,decls:1,vars:0,template:function(X,L){1&X&&(d.NAR(),d.SdG(0))},encapsulation:2,changeDetection:0})),Y);return le=(0,N.Cg)([vt({inputs:["button","color","detail","detailIcon","disabled","download","href","lines","mode","rel","routerAnimation","routerDirection","target","type"]})],le),le})(),ke=(()=>{var Y;let le=((0,c.A)(Y=class{constructor(X,L,q){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=q,X.detach(),this.el=L.nativeElement}},"\u0275fac",function(X){return new(X||Y)(d.rXU(d.gRc),d.rXU(d.aKT),d.rXU(d.SKi))}),(0,c.A)(Y,"\u0275cmp",d.VBU({type:Y,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:Je,decls:1,vars:0,template:function(X,L){1&X&&(d.NAR(),d.SdG(0))},encapsulation:2,changeDetection:0})),Y);return le=(0,N.Cg)([vt({inputs:["color","mode","position"]})],le),le})(),Gn=(()=>{var Y;let le=((0,c.A)(Y=class{constructor(X,L,q){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=q,X.detach(),this.el=L.nativeElement,kt(this,this.el,["ionFocus","ionBlur"])}},"\u0275fac",function(X){return new(X||Y)(d.rXU(d.gRc),d.rXU(d.aKT),d.rXU(d.SKi))}),(0,c.A)(Y,"\u0275cmp",d.VBU({type:Y,selectors:[["ion-radio"]],inputs:{alignment:"alignment",color:"color",disabled:"disabled",justify:"justify",labelPlacement:"labelPlacement",mode:"mode",name:"name",value:"value"},ngContentSelectors:Je,decls:1,vars:0,template:function(X,L){1&X&&(d.NAR(),d.SdG(0))},encapsulation:2,changeDetection:0})),Y);return le=(0,N.Cg)([vt({inputs:["alignment","color","disabled","justify","labelPlacement","mode","name","value"]})],le),le})(),er=(()=>{var Y;let le=((0,c.A)(Y=class{constructor(X,L,q){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=q,X.detach(),this.el=L.nativeElement,kt(this,this.el,["ionChange"])}},"\u0275fac",function(X){return new(X||Y)(d.rXU(d.gRc),d.rXU(d.aKT),d.rXU(d.SKi))}),(0,c.A)(Y,"\u0275cmp",d.VBU({type:Y,selectors:[["ion-radio-group"]],inputs:{allowEmptySelection:"allowEmptySelection",compareWith:"compareWith",name:"name",value:"value"},ngContentSelectors:Je,decls:1,vars:0,template:function(X,L){1&X&&(d.NAR(),d.SdG(0))},encapsulation:2,changeDetection:0})),Y);return le=(0,N.Cg)([vt({inputs:["allowEmptySelection","compareWith","name","value"]})],le),le})(),yt=(()=>{var Y;let le=((0,c.A)(Y=class{constructor(X,L,q){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=q,X.detach(),this.el=L.nativeElement}},"\u0275fac",function(X){return new(X||Y)(d.rXU(d.gRc),d.rXU(d.aKT),d.rXU(d.SKi))}),(0,c.A)(Y,"\u0275cmp",d.VBU({type:Y,selectors:[["ion-row"]],ngContentSelectors:Je,decls:1,vars:0,template:function(X,L){1&X&&(d.NAR(),d.SdG(0))},encapsulation:2,changeDetection:0})),Y);return le=(0,N.Cg)([vt({})],le),le})(),en=(()=>{var Y;let le=((0,c.A)(Y=class{constructor(X,L,q){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=q,X.detach(),this.el=L.nativeElement,kt(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}},"\u0275fac",function(X){return new(X||Y)(d.rXU(d.gRc),d.rXU(d.aKT),d.rXU(d.SKi))}),(0,c.A)(Y,"\u0275cmp",d.VBU({type:Y,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",color:"color",compareWith:"compareWith",disabled:"disabled",expandedIcon:"expandedIcon",fill:"fill",interface:"interface",interfaceOptions:"interfaceOptions",justify:"justify",label:"label",labelPlacement:"labelPlacement",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",shape:"shape",toggleIcon:"toggleIcon",value:"value"},ngContentSelectors:Je,decls:1,vars:0,template:function(X,L){1&X&&(d.NAR(),d.SdG(0))},encapsulation:2,changeDetection:0})),Y);return le=(0,N.Cg)([vt({inputs:["cancelText","color","compareWith","disabled","expandedIcon","fill","interface","interfaceOptions","justify","label","labelPlacement","mode","multiple","name","okText","placeholder","selectedText","shape","toggleIcon","value"],methods:["open"]})],le),le})(),wn=(()=>{var Y;let le=((0,c.A)(Y=class{constructor(X,L,q){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=q,X.detach(),this.el=L.nativeElement}},"\u0275fac",function(X){return new(X||Y)(d.rXU(d.gRc),d.rXU(d.aKT),d.rXU(d.SKi))}),(0,c.A)(Y,"\u0275cmp",d.VBU({type:Y,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:Je,decls:1,vars:0,template:function(X,L){1&X&&(d.NAR(),d.SdG(0))},encapsulation:2,changeDetection:0})),Y);return le=(0,N.Cg)([vt({inputs:["disabled","value"]})],le),le})(),si=(()=>{var Y;let le=((0,c.A)(Y=class{constructor(X,L,q){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=q,X.detach(),this.el=L.nativeElement}},"\u0275fac",function(X){return new(X||Y)(d.rXU(d.gRc),d.rXU(d.aKT),d.rXU(d.SKi))}),(0,c.A)(Y,"\u0275cmp",d.VBU({type:Y,selectors:[["ion-text"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Je,decls:1,vars:0,template:function(X,L){1&X&&(d.NAR(),d.SdG(0))},encapsulation:2,changeDetection:0})),Y);return le=(0,N.Cg)([vt({inputs:["color","mode"]})],le),le})(),ai=(()=>{var Y;let le=((0,c.A)(Y=class{constructor(X,L,q){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=q,X.detach(),this.el=L.nativeElement}},"\u0275fac",function(X){return new(X||Y)(d.rXU(d.gRc),d.rXU(d.aKT),d.rXU(d.SKi))}),(0,c.A)(Y,"\u0275cmp",d.VBU({type:Y,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:Je,decls:1,vars:0,template:function(X,L){1&X&&(d.NAR(),d.SdG(0))},encapsulation:2,changeDetection:0})),Y);return le=(0,N.Cg)([vt({inputs:["color","size"]})],le),le})(),eo=(()=>{var Y;let le=((0,c.A)(Y=class{constructor(X,L,q){(0,c.A)(this,"z",void 0),(0,c.A)(this,"el",void 0),this.z=q,X.detach(),this.el=L.nativeElement}},"\u0275fac",function(X){return new(X||Y)(d.rXU(d.gRc),d.rXU(d.aKT),d.rXU(d.SKi))}),(0,c.A)(Y,"\u0275cmp",d.VBU({type:Y,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Je,decls:1,vars:0,template:function(X,L){1&X&&(d.NAR(),d.SdG(0))},encapsulation:2,changeDetection:0})),Y);return le=(0,N.Cg)([vt({inputs:["color","mode"]})],le),le})(),di=(()=>{var Y;class le extends w.Rg{constructor(X,L,q,tt,et,Ft,St,Vt){super(X,L,q,tt,et,Ft,St,Vt),(0,c.A)(this,"parentOutlet",void 0),(0,c.A)(this,"outletContent",void 0),this.parentOutlet=Vt}}return Y=le,(0,c.A)(le,"\u0275fac",function(X){return new(X||Y)(d.kS0("name"),d.kS0("tabs"),d.rXU(I.aZ),d.rXU(d.aKT),d.rXU(P.Ix),d.rXU(d.SKi),d.rXU(P.nX),d.rXU(Y,12))}),(0,c.A)(le,"\u0275cmp",d.VBU({type:Y,selectors:[["ion-router-outlet"]],viewQuery:function(X,L){if(1&X&&d.GBs(xe,7,d.c1b),2&X){let q;d.mGM(q=d.lsd())&&(L.outletContent=q.first)}},features:[d.Vt3],ngContentSelectors:Je,decls:3,vars:0,consts:[["outletContent",""]],template:function(X,L){1&X&&(d.NAR(),d.qex(0,null,0),d.SdG(2),d.bVm())},encapsulation:2})),le})(),xo=(()=>{var Y;class le extends w.CE{}return Y=le,(0,c.A)(le,"\u0275fac",(()=>{let Ue;return function(L){return(Ue||(Ue=d.xGo(Y)))(L||Y)}})()),(0,c.A)(le,"\u0275dir",d.FsC({type:Y,selectors:[["","routerLink","",5,"a",5,"area"]],features:[d.Vt3]})),le})();const ss={provide:v.cz,useExisting:(0,d.Rfq)(()=>Pn),multi:!0};let Pn=(()=>{var Y;class le extends v.zX{}return Y=le,(0,c.A)(le,"\u0275fac",(()=>{let Ue;return function(L){return(Ue||(Ue=d.xGo(Y)))(L||Y)}})()),(0,c.A)(le,"\u0275dir",d.FsC({type:Y,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(X,L){2&X&&d.BMQ("max",L._enabled?L.max:null)},features:[d.Jv_([ss]),d.Vt3]})),le})();const Wn={provide:v.cz,useExisting:(0,d.Rfq)(()=>Oa),multi:!0};let Oa=(()=>{var Y;class le extends v.VZ{}return Y=le,(0,c.A)(le,"\u0275fac",(()=>{let Ue;return function(L){return(Ue||(Ue=d.xGo(Y)))(L||Y)}})()),(0,c.A)(le,"\u0275dir",d.FsC({type:Y,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(X,L){2&X&&d.BMQ("min",L._enabled?L.min:null)},features:[d.Jv_([Wn]),d.Vt3]})),le})(),Ds=(()=>{var Y;class le extends w.Kb{constructor(){super(se.m),(0,c.A)(this,"angularDelegate",(0,d.WQX)(w.Yq)),(0,c.A)(this,"injector",(0,d.WQX)(d.zZn)),(0,c.A)(this,"environmentInjector",(0,d.WQX)(d.uvJ))}create(X){return super.create({...X,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return Y=le,(0,c.A)(le,"\u0275fac",function(X){return new(X||Y)}),(0,c.A)(le,"\u0275prov",d.jDH({token:Y,factory:Y.\u0275fac})),le})();class Pi extends w.Kb{constructor(){super(se.c),(0,c.A)(this,"angularDelegate",(0,d.WQX)(w.Yq)),(0,c.A)(this,"injector",(0,d.WQX)(d.zZn)),(0,c.A)(this,"environmentInjector",(0,d.WQX)(d.uvJ))}create(le){return super.create({...le,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}const jo=(Y,le,Ue)=>()=>{const X=le.defaultView;if(X&&typeof window<"u"){(0,$.s)({...Y,_zoneGate:q=>Ue.run(q)});const L="__zone_symbol__addEventListener"in le.body?"__zone_symbol__addEventListener":"addEventListener";return function Re(){var Y=[];if(typeof window<"u"){var le=window;(!le.customElements||le.Element&&(!le.Element.prototype.closest||!le.Element.prototype.matches||!le.Element.prototype.remove||!le.Element.prototype.getRootNode))&&Y.push(y.e(7278).then(y.t.bind(y,2190,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||le.NodeList&&!le.NodeList.prototype.forEach||!le.fetch||!function(){try{var X=new URL("b","http://a");return X.pathname="c%20d","http://a/c%20d"===X.href&&X.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&Y.push(y.e(9329).then(y.t.bind(y,7783,23)))}return Promise.all(Y)}().then(()=>We(X,{exclude:["ion-tabs"],syncQueue:!0,raf:w.er,jmp:q=>Ue.runOutsideAngular(q),ael(q,tt,et,Ft){q[L](tt,et,Ft)},rel(q,tt,et,Ft){q.removeEventListener(tt,et,Ft)}}))}};let wi=(()=>{var Y;class le{static forRoot(X={}){return{ngModule:le,providers:[{provide:w.sR,useValue:X},{provide:d.hnV,useFactory:jo,multi:!0,deps:[w.sR,I.qQ,d.SKi]},w.Yq,(0,w.YV)()]}}}return Y=le,(0,c.A)(le,"\u0275fac",function(X){return new(X||Y)}),(0,c.A)(le,"\u0275mod",d.$C({type:Y})),(0,c.A)(le,"\u0275inj",d.G2t({providers:[Ds,Pi],imports:[I.MD]})),le})()},7955:(Jn,ft,y)=>{"use strict";var c=y(467),d=y(3345),v=y(8742),w=y(1076),N=y(8041),A=y(1635),I=y(1362);const F={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const $=function j(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},S=function Q(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},se=new w.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Be=new N.Vy("@firebase/auth");function Ne(T,...p){Be.logLevel<=N.$b.ERROR&&Be.error(`Auth (${v.SDK_VERSION}): ${T}`,...p)}function Se(T,...p){throw Je(T,...p)}function Re(T,...p){return Je(T,...p)}function Xe(T,p,g){const O=Object.assign(Object.assign({},S()),{[p]:g});return new w.FA("auth","Firebase",O).create(p,{appName:T.name})}function it(T){return Xe(T,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function We(T,p,g){if(!(p instanceof g))throw g.name!==p.constructor.name&&Se(T,"argument-error"),Xe(T,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Je(T,...p){if("string"!=typeof T){const g=p[0],O=[...p.slice(1)];return O[0]&&(O[0].appName=T.name),T._errorFactory.create(g,...O)}return se.create(T,...p)}function xe(T,p,...g){if(!T)throw Je(p,...g)}function Ke(T){const p="INTERNAL ASSERTION FAILED: "+T;throw Ne(p),new Error(p)}function Ye(T,p){T||Ke(p)}function rt(){var T;return typeof self<"u"&&(null===(T=self.location)||void 0===T?void 0:T.href)||""}function xt(){return"http:"===on()||"https:"===on()}function on(){var T;return typeof self<"u"&&(null===(T=self.location)||void 0===T?void 0:T.protocol)||null}class pe{constructor(p,g){this.shortDelay=p,this.longDelay=g,Ye(g>p,"Short delay should be less than long delay!"),this.isMobile=(0,w.jZ)()||(0,w.lV)()}get(){return function At(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(xt()||(0,w.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function fe(T,p){Ye(T.emulator,"Emulator should always be set here");const{url:g}=T.emulator;return p?`${g}${p.startsWith("/")?p.slice(1):p}`:g}class Ie{static initialize(p,g,O){this.fetchImpl=p,g&&(this.headersImpl=g),O&&(this.responseImpl=O)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Ke("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Ke("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Ke("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Qe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Kt=new pe(3e4,6e4);function Ut(T,p){return T.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:T.tenantId}):p}function kt(T,p,g,O){return _n.apply(this,arguments)}function _n(){return(_n=(0,c.A)(function*(T,p,g,O,oe={}){return vt(T,oe,(0,c.A)(function*(){let be={},Nt={};O&&("GET"===p?Nt=O:be={body:JSON.stringify(O)});const rn=(0,w.Am)(Object.assign({key:T.config.apiKey},Nt)).slice(1),On=yield T._getAdditionalHeaders();On["Content-Type"]="application/json",T.languageCode&&(On["X-Firebase-Locale"]=T.languageCode);const cr=Object.assign({method:p,headers:On},be);return(0,w.c1)()||(cr.referrerPolicy="no-referrer"),Ie.fetch()(Vn(T,T.config.apiHost,g,rn),cr)}))})).apply(this,arguments)}function vt(T,p,g){return It.apply(this,arguments)}function It(){return(It=(0,c.A)(function*(T,p,g){T._canInitEmulator=!1;const O=Object.assign(Object.assign({},Qe),p);try{const oe=new sr(T),be=yield Promise.race([g(),oe.promise]);oe.clearNetworkTimeout();const Nt=yield be.json();if("needConfirmation"in Nt)throw Qn(T,"account-exists-with-different-credential",Nt);if(be.ok&&!("errorMessage"in Nt))return Nt;{const rn=be.ok?Nt.errorMessage:Nt.error.message,[On,cr]=rn.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===On)throw Qn(T,"credential-already-in-use",Nt);if("EMAIL_EXISTS"===On)throw Qn(T,"email-already-in-use",Nt);if("USER_DISABLED"===On)throw Qn(T,"user-disabled",Nt);const _r=O[On]||On.toLowerCase().replace(/[_\s]+/g,"-");if(cr)throw Xe(T,_r,cr);Se(T,_r)}}catch(oe){if(oe instanceof w.g)throw oe;Se(T,"network-request-failed",{message:String(oe)})}})).apply(this,arguments)}function sn(T,p,g,O){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,c.A)(function*(T,p,g,O,oe={}){const be=yield kt(T,p,g,O,oe);return"mfaPendingCredential"in be&&Se(T,"multi-factor-auth-required",{_serverResponse:be}),be})).apply(this,arguments)}function Vn(T,p,g,O){const oe=`${p}${g}?${O}`;return T.config.emulator?fe(T.config,oe):`${T.config.apiScheme}://${oe}`}function nr(T){switch(T){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class sr{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((g,O)=>{this.timer=setTimeout(()=>O(Re(this.auth,"network-request-failed")),Kt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Qn(T,p,g){const O={appName:T.name};g.email&&(O.email=g.email),g.phoneNumber&&(O.phoneNumber=g.phoneNumber);const oe=Re(T,p,O);return oe.customData._tokenResponse=g,oe}function bn(T){return void 0!==T&&void 0!==T.getResponse}function jn(T){return void 0!==T&&void 0!==T.enterprise}class vn{constructor(p){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===p.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=p.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=p.recaptchaEnforcementState}getProviderEnforcementState(p){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const g of this.recaptchaEnforcementState)if(g.provider&&g.provider===p)return nr(g.enforcementState);return null}isProviderEnabled(p){return"ENFORCE"===this.getProviderEnforcementState(p)||"AUDIT"===this.getProviderEnforcementState(p)}}function H(){return(H=(0,c.A)(function*(T){return(yield kt(T,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ye(T,p){return _e.apply(this,arguments)}function _e(){return(_e=(0,c.A)(function*(T,p){return kt(T,"GET","/v2/recaptchaConfig",Ut(T,p))})).apply(this,arguments)}function Fe(){return(Fe=(0,c.A)(function*(T,p){return kt(T,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function pt(){return(pt=(0,c.A)(function*(T,p){return kt(T,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function zt(T,p){return ge.apply(this,arguments)}function ge(){return(ge=(0,c.A)(function*(T,p){return kt(T,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function Te(T){if(T)try{const p=new Date(Number(T));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function mt(){return(mt=(0,c.A)(function*(T,p=!1){const g=(0,w.Ku)(T),O=yield g.getIdToken(p),oe=Ot(O);xe(oe&&oe.exp&&oe.auth_time&&oe.iat,g.auth,"internal-error");const be="object"==typeof oe.firebase?oe.firebase:void 0,Nt=null==be?void 0:be.sign_in_provider;return{claims:oe,token:O,authTime:Te(Ze(oe.auth_time)),issuedAtTime:Te(Ze(oe.iat)),expirationTime:Te(Ze(oe.exp)),signInProvider:Nt||null,signInSecondFactor:(null==be?void 0:be.sign_in_second_factor)||null}})).apply(this,arguments)}function Ze(T){return 1e3*Number(T)}function Ot(T){const[p,g,O]=T.split(".");if(void 0===p||void 0===g||void 0===O)return Ne("JWT malformed, contained fewer than 3 sections"),null;try{const oe=(0,w.u)(g);return oe?JSON.parse(oe):(Ne("Failed to decode base64 JWT payload"),null)}catch(oe){return Ne("Caught error parsing JWT payload as JSON",null==oe?void 0:oe.toString()),null}}function wt(T){const p=Ot(T);return xe(p,"internal-error"),xe(typeof p.exp<"u","internal-error"),xe(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}function an(T,p){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,c.A)(function*(T,p,g=!1){if(g)return p;try{return yield p}catch(O){throw O instanceof w.g&&function hn({code:T}){return"auth/user-disabled"===T||"auth/user-token-expired"===T}(O)&&T.auth.currentUser===T&&(yield T.auth.signOut()),O}})).apply(this,arguments)}class $n{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var g;if(p){const O=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),O}{this.errorBackoff=3e4;const oe=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,oe)}}schedule(p=!1){var g=this;if(!this.isRunning)return;const O=this.getInterval(p);this.timerId=setTimeout((0,c.A)(function*(){yield g.iteration()}),O)}iteration(){var p=this;return(0,c.A)(function*(){try{yield p.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===(null==g?void 0:g.code)&&p.schedule(!0))}p.schedule()})()}}class Nn{constructor(p,g){this.createdAt=p,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=Te(this.lastLoginAt),this.creationTime=Te(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ar(T){return rr.apply(this,arguments)}function rr(){return(rr=(0,c.A)(function*(T){var p;const g=T.auth,O=yield T.getIdToken(),oe=yield an(T,zt(g,{idToken:O}));xe(null==oe?void 0:oe.users.length,g,"internal-error");const be=oe.users[0];T._notifyReloadListener(be);const Nt=null!==(p=be.providerUserInfo)&&void 0!==p&&p.length?Mt(be.providerUserInfo):[],rn=function Yt(T,p){return[...T.filter(O=>!p.some(oe=>oe.providerId===O.providerId)),...p]}(T.providerData,Nt),_r=!!T.isAnonymous&&!(T.email&&be.passwordHash||null!=rn&&rn.length),mr={uid:be.localId,displayName:be.displayName||null,photoURL:be.photoUrl||null,email:be.email||null,emailVerified:be.emailVerified||!1,phoneNumber:be.phoneNumber||null,tenantId:be.tenantId||null,providerData:rn,metadata:new Nn(be.createdAt,be.lastLoginAt),isAnonymous:_r};Object.assign(T,mr)})).apply(this,arguments)}function Et(){return(Et=(0,c.A)(function*(T){const p=(0,w.Ku)(T);yield ar(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Mt(T){return T.map(p=>{var{providerId:g}=p,O=(0,A.Tt)(p,["providerId"]);return{providerId:g,uid:O.rawId||"",displayName:O.displayName||null,email:O.email||null,phoneNumber:O.phoneNumber||null,photoURL:O.photoUrl||null}})}function _t(){return(_t=(0,c.A)(function*(T,p){const g=yield vt(T,{},(0,c.A)(function*(){const O=(0,w.Am)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:oe,apiKey:be}=T.config,Nt=Vn(T,oe,"/v1/token",`key=${be}`),rn=yield T._getAdditionalHeaders();return rn["Content-Type"]="application/x-www-form-urlencoded",Ie.fetch()(Nt,{method:"POST",headers:rn,body:O})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}function ke(){return(ke=(0,c.A)(function*(T,p){return kt(T,"POST","/v2/accounts:revokeToken",Ut(T,p))})).apply(this,arguments)}class st{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){xe(p.idToken,"internal-error"),xe(typeof p.idToken<"u","internal-error"),xe(typeof p.refreshToken<"u","internal-error");const g="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):wt(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,g)}updateFromIdToken(p){xe(0!==p.length,"internal-error");const g=wt(p);this.updateTokensAndExpiration(p,null,g)}getToken(p,g=!1){var O=this;return(0,c.A)(function*(){return g||!O.accessToken||O.isExpired?(xe(O.refreshToken,p,"user-token-expired"),O.refreshToken?(yield O.refresh(p,O.refreshToken),O.accessToken):null):O.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,g){var O=this;return(0,c.A)(function*(){const{accessToken:oe,refreshToken:be,expiresIn:Nt}=yield function ot(T,p){return _t.apply(this,arguments)}(p,g);O.updateTokensAndExpiration(oe,be,Number(Nt))})()}updateTokensAndExpiration(p,g,O){this.refreshToken=g||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*O}static fromJSON(p,g){const{refreshToken:O,accessToken:oe,expirationTime:be}=g,Nt=new st;return O&&(xe("string"==typeof O,"internal-error",{appName:p}),Nt.refreshToken=O),oe&&(xe("string"==typeof oe,"internal-error",{appName:p}),Nt.accessToken=oe),be&&(xe("number"==typeof be,"internal-error",{appName:p}),Nt.expirationTime=be),Nt}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new st,this.toJSON())}_performRefresh(){return Ke("not implemented")}}function jt(T,p){xe("string"==typeof T||typeof T>"u","internal-error",{appName:p})}class Pt{constructor(p){var{uid:g,auth:O,stsTokenManager:oe}=p,be=(0,A.Tt)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new $n(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=O,this.stsTokenManager=oe,this.accessToken=oe.accessToken,this.displayName=be.displayName||null,this.email=be.email||null,this.emailVerified=be.emailVerified||!1,this.phoneNumber=be.phoneNumber||null,this.photoURL=be.photoURL||null,this.isAnonymous=be.isAnonymous||!1,this.tenantId=be.tenantId||null,this.providerData=be.providerData?[...be.providerData]:[],this.metadata=new Nn(be.createdAt||void 0,be.lastLoginAt||void 0)}getIdToken(p){var g=this;return(0,c.A)(function*(){const O=yield an(g,g.stsTokenManager.getToken(g.auth,p));return xe(O,g.auth,"internal-error"),g.accessToken!==O&&(g.accessToken=O,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),O})()}getIdTokenResult(p){return function Rt(T){return mt.apply(this,arguments)}(this,p)}reload(){return function Ht(T){return Et.apply(this,arguments)}(this)}_assign(p){this!==p&&(xe(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(g=>Object.assign({},g)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const g=new Pt(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(p){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,g=!1){var O=this;return(0,c.A)(function*(){let oe=!1;p.idToken&&p.idToken!==O.stsTokenManager.accessToken&&(O.stsTokenManager.updateFromServerResponse(p),oe=!0),g&&(yield ar(O)),yield O.auth._persistUserIfCurrent(O),oe&&O.auth._notifyListenersIfCurrent(O)})()}delete(){var p=this;return(0,c.A)(function*(){if((0,v._isFirebaseServerApp)(p.auth.app))return Promise.reject(it(p.auth));const g=yield p.getIdToken();return yield an(p,function Me(T,p){return Fe.apply(this,arguments)}(p.auth,{idToken:g})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,g){var O,oe,be,Nt,rn,On,cr,_r;const mr=null!==(O=g.displayName)&&void 0!==O?O:void 0,Yi=null!==(oe=g.email)&&void 0!==oe?oe:void 0,ks=null!==(be=g.phoneNumber)&&void 0!==be?be:void 0,vc=null!==(Nt=g.photoURL)&&void 0!==Nt?Nt:void 0,fp=null!==(rn=g.tenantId)&&void 0!==rn?rn:void 0,Ia=null!==(On=g._redirectEventId)&&void 0!==On?On:void 0,Gg=null!==(cr=g.createdAt)&&void 0!==cr?cr:void 0,_d=null!==(_r=g.lastLoginAt)&&void 0!==_r?_r:void 0,{uid:$g,emailVerified:pp,isAnonymous:Kg,providerData:gp,stsTokenManager:mp}=g;xe($g&&mp,p,"internal-error");const Lh=st.fromJSON(this.name,mp);xe("string"==typeof $g,p,"internal-error"),jt(mr,p.name),jt(Yi,p.name),xe("boolean"==typeof pp,p,"internal-error"),xe("boolean"==typeof Kg,p,"internal-error"),jt(ks,p.name),jt(vc,p.name),jt(fp,p.name),jt(Ia,p.name),jt(Gg,p.name),jt(_d,p.name);const Ca=new Pt({uid:$g,auth:p,email:Yi,emailVerified:pp,displayName:mr,isAnonymous:Kg,photoURL:vc,phoneNumber:ks,tenantId:fp,stsTokenManager:Lh,createdAt:Gg,lastLoginAt:_d});return gp&&Array.isArray(gp)&&(Ca.providerData=gp.map(nu=>Object.assign({},nu))),Ia&&(Ca._redirectEventId=Ia),Ca}static _fromIdTokenResponse(p,g,O=!1){return(0,c.A)(function*(){const oe=new st;oe.updateFromServerResponse(g);const be=new Pt({uid:g.localId,auth:p,stsTokenManager:oe,isAnonymous:O});return yield ar(be),be})()}static _fromGetAccountInfoResponse(p,g,O){return(0,c.A)(function*(){const oe=g.users[0];xe(void 0!==oe.localId,"internal-error");const be=void 0!==oe.providerUserInfo?Mt(oe.providerUserInfo):[],Nt=!(oe.email&&oe.passwordHash||null!=be&&be.length),rn=new st;rn.updateFromIdToken(O);const On=new Pt({uid:oe.localId,auth:p,stsTokenManager:rn,isAnonymous:Nt}),cr={uid:oe.localId,displayName:oe.displayName||null,photoURL:oe.photoUrl||null,email:oe.email||null,emailVerified:oe.emailVerified||!1,phoneNumber:oe.phoneNumber||null,tenantId:oe.tenantId||null,providerData:be,metadata:new Nn(oe.createdAt,oe.lastLoginAt),isAnonymous:!(oe.email&&oe.passwordHash||null!=be&&be.length)};return Object.assign(On,cr),On})()}}const ht=new Map;function Bt(T){Ye(T instanceof Function,"Expected a class definition");let p=ht.get(T);return p?(Ye(p instanceof T,"Instance stored in cache mismatched with class"),p):(p=new T,ht.set(T,p),p)}const Kn=(()=>{class T{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.A)(function*(){return!0})()}_set(g,O){var oe=this;return(0,c.A)(function*(){oe.storage[g]=O})()}_get(g){var O=this;return(0,c.A)(function*(){const oe=O.storage[g];return void 0===oe?null:oe})()}_remove(g){var O=this;return(0,c.A)(function*(){delete O.storage[g]})()}_addListener(g,O){}_removeListener(g,O){}}return T.type="NONE",T})();function xn(T,p,g){return`firebase:${T}:${p}:${g}`}class Zn{constructor(p,g,O){this.persistence=p,this.auth=g,this.userKey=O;const{config:oe,name:be}=this.auth;this.fullUserKey=xn(this.userKey,oe.apiKey,be),this.fullPersistenceKey=xn("persistence",oe.apiKey,be),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,c.A)(function*(){const g=yield p.persistence._get(p.fullUserKey);return g?Pt._fromJSON(p.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var g=this;return(0,c.A)(function*(){if(g.persistence===p)return;const O=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=p,O?g.setCurrentUser(O):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,g,O="authUser"){return(0,c.A)(function*(){if(!g.length)return new Zn(Bt(Kn),p,O);const oe=(yield Promise.all(g.map(function(){var cr=(0,c.A)(function*(_r){if(yield _r._isAvailable())return _r});return function(_r){return cr.apply(this,arguments)}}()))).filter(cr=>cr);let be=oe[0]||Bt(Kn);const Nt=xn(O,p.config.apiKey,p.name);let rn=null;for(const cr of g)try{const _r=yield cr._get(Nt);if(_r){const mr=Pt._fromJSON(p,_r);cr!==be&&(rn=mr),be=cr;break}}catch{}const On=oe.filter(cr=>cr._shouldAllowMigration);return be._shouldAllowMigration&&On.length?(be=On[0],rn&&(yield be._set(Nt,rn.toJSON())),yield Promise.all(g.map(function(){var cr=(0,c.A)(function*(_r){if(_r!==be)try{yield _r._remove(Nt)}catch{}});return function(_r){return cr.apply(this,arguments)}}())),new Zn(be,p,O)):new Zn(be,p,O)})()}}function Hn(T){const p=T.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Gn(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(vr(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Er(p))return"Blackberry";if(Dt(p))return"Webos";if(ct(p))return"Safari";if((p.includes("chrome/")||bt(p))&&!p.includes("edge/"))return"Chrome";if(er(p))return"Android";{const O=T.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==O?void 0:O.length))return O[1]}return"Other"}function vr(T=(0,w.ZQ)()){return/firefox\//i.test(T)}function ct(T=(0,w.ZQ)()){const p=T.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function bt(T=(0,w.ZQ)()){return/crios\//i.test(T)}function Gn(T=(0,w.ZQ)()){return/iemobile/i.test(T)}function er(T=(0,w.ZQ)()){return/android/i.test(T)}function Er(T=(0,w.ZQ)()){return/blackberry/i.test(T)}function Dt(T=(0,w.ZQ)()){return/webos/i.test(T)}function cn(T=(0,w.ZQ)()){return/iphone|ipad|ipod/i.test(T)||/macintosh/i.test(T)&&/mobile/i.test(T)}function yt(T=(0,w.ZQ)()){return cn(T)||er(T)||Dt(T)||Er(T)||/windows phone/i.test(T)||Gn(T)}function Ce(T,p=[]){let g;switch(T){case"Browser":g=Hn((0,w.ZQ)());break;case"Worker":g=`${Hn((0,w.ZQ)())}-${T}`;break;default:g=T}const O=p.length?p.join(","):"FirebaseCore-web";return`${g}/JsCore/${v.SDK_VERSION}/${O}`}class Ee{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,g){const O=be=>new Promise((Nt,rn)=>{try{Nt(p(be))}catch(On){rn(On)}});O.onAbort=g,this.queue.push(O);const oe=this.queue.length-1;return()=>{this.queue[oe]=()=>Promise.resolve()}}runMiddleware(p){var g=this;return(0,c.A)(function*(){if(g.auth.currentUser===p)return;const O=[];try{for(const oe of g.queue)yield oe(p),oe.onAbort&&O.push(oe.onAbort)}catch(oe){O.reverse();for(const be of O)try{be()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:null==oe?void 0:oe.message})}})()}}function en(){return(en=(0,c.A)(function*(T,p={}){return kt(T,"GET","/v2/passwordPolicy",Ut(T,p))})).apply(this,arguments)}class tr{constructor(p){var g,O,oe,be;const Nt=p.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(g=Nt.minPasswordLength)&&void 0!==g?g:6,Nt.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Nt.maxPasswordLength),void 0!==Nt.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Nt.containsLowercaseCharacter),void 0!==Nt.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Nt.containsUppercaseCharacter),void 0!==Nt.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Nt.containsNumericCharacter),void 0!==Nt.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Nt.containsNonAlphanumericCharacter),this.enforcementState=p.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(oe=null===(O=p.allowedNonAlphanumericCharacters)||void 0===O?void 0:O.join(""))&&void 0!==oe?oe:"",this.forceUpgradeOnSignin=null!==(be=p.forceUpgradeOnSignin)&&void 0!==be&&be,this.schemaVersion=p.schemaVersion}validatePassword(p){var g,O,oe,be,Nt,rn;const On={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(p,On),this.validatePasswordCharacterOptions(p,On),On.isValid&&(On.isValid=null===(g=On.meetsMinPasswordLength)||void 0===g||g),On.isValid&&(On.isValid=null===(O=On.meetsMaxPasswordLength)||void 0===O||O),On.isValid&&(On.isValid=null===(oe=On.containsLowercaseLetter)||void 0===oe||oe),On.isValid&&(On.isValid=null===(be=On.containsUppercaseLetter)||void 0===be||be),On.isValid&&(On.isValid=null===(Nt=On.containsNumericCharacter)||void 0===Nt||Nt),On.isValid&&(On.isValid=null===(rn=On.containsNonAlphanumericCharacter)||void 0===rn||rn),On}validatePasswordLengthOptions(p,g){const O=this.customStrengthOptions.minPasswordLength,oe=this.customStrengthOptions.maxPasswordLength;O&&(g.meetsMinPasswordLength=p.length>=O),oe&&(g.meetsMaxPasswordLength=p.length<=oe)}validatePasswordCharacterOptions(p,g){let O;this.updatePasswordCharacterOptionsStatuses(g,!1,!1,!1,!1);for(let oe=0;oe<p.length;oe++)O=p.charAt(oe),this.updatePasswordCharacterOptionsStatuses(g,O>="a"&&O<="z",O>="A"&&O<="Z",O>="0"&&O<="9",this.allowedNonAlphanumericCharacters.includes(O))}updatePasswordCharacterOptionsStatuses(p,g,O,oe,be){this.customStrengthOptions.containsLowercaseLetter&&(p.containsLowercaseLetter||(p.containsLowercaseLetter=g)),this.customStrengthOptions.containsUppercaseLetter&&(p.containsUppercaseLetter||(p.containsUppercaseLetter=O)),this.customStrengthOptions.containsNumericCharacter&&(p.containsNumericCharacter||(p.containsNumericCharacter=oe)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(p.containsNonAlphanumericCharacter||(p.containsNonAlphanumericCharacter=be))}}class Dr{constructor(p,g,O,oe){this.app=p,this.heartbeatServiceProvider=g,this.appCheckServiceProvider=O,this.config=oe,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yr(this),this.idTokenSubscription=new yr(this),this.beforeStateQueue=new Ee(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=se,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=oe.sdkClientVersion}_initializeWithPersistence(p,g){var O=this;return g&&(this._popupRedirectResolver=Bt(g)),this._initializationPromise=this.queue((0,c.A)(function*(){var oe,be;if(!O._deleted&&(O.persistenceManager=yield Zn.create(O,p),!O._deleted)){if(null!==(oe=O._popupRedirectResolver)&&void 0!==oe&&oe._shouldInitProactively)try{yield O._popupRedirectResolver._initialize(O)}catch{}yield O.initializeCurrentUser(g),O.lastNotifiedUid=(null===(be=O.currentUser)||void 0===be?void 0:be.uid)||null,!O._deleted&&(O._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,c.A)(function*(){if(p._deleted)return;const g=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||g){if(p.currentUser&&g&&p.currentUser.uid===g.uid)return p._currentUser._assign(g),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(g,!0)}})()}initializeCurrentUserFromIdToken(p){var g=this;return(0,c.A)(function*(){try{const O=yield zt(g,{idToken:p}),oe=yield Pt._fromGetAccountInfoResponse(g,O,p);yield g.directlySetCurrentUser(oe)}catch(O){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",O),yield g.directlySetCurrentUser(null)}})()}initializeCurrentUser(p){var g=this;return(0,c.A)(function*(){var O;if((0,v._isFirebaseServerApp)(g.app)){const rn=g.app.settings.authIdToken;return rn?new Promise(On=>{setTimeout(()=>g.initializeCurrentUserFromIdToken(rn).then(On,On))}):g.directlySetCurrentUser(null)}const oe=yield g.assertedPersistence.getCurrentUser();let be=oe,Nt=!1;if(p&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const rn=null===(O=g.redirectUser)||void 0===O?void 0:O._redirectEventId,On=null==be?void 0:be._redirectEventId,cr=yield g.tryRedirectSignIn(p);(!rn||rn===On)&&null!=cr&&cr.user&&(be=cr.user,Nt=!0)}if(!be)return g.directlySetCurrentUser(null);if(!be._redirectEventId){if(Nt)try{yield g.beforeStateQueue.runMiddleware(be)}catch(rn){be=oe,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(rn))}return be?g.reloadAndSetCurrentUserOrClear(be):g.directlySetCurrentUser(null)}return xe(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===be._redirectEventId?g.directlySetCurrentUser(be):g.reloadAndSetCurrentUserOrClear(be)})()}tryRedirectSignIn(p){var g=this;return(0,c.A)(function*(){let O=null;try{O=yield g._popupRedirectResolver._completeRedirectFn(g,p,!0)}catch{yield g._setRedirectUser(null)}return O})()}reloadAndSetCurrentUserOrClear(p){var g=this;return(0,c.A)(function*(){try{yield ar(p)}catch(O){if("auth/network-request-failed"!==(null==O?void 0:O.code))return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function je(){if(typeof navigator>"u")return null;const T=navigator;return T.languages&&T.languages[0]||T.language||null}()}_delete(){var p=this;return(0,c.A)(function*(){p._deleted=!0})()}updateCurrentUser(p){var g=this;return(0,c.A)(function*(){if((0,v._isFirebaseServerApp)(g.app))return Promise.reject(it(g));const O=p?(0,w.Ku)(p):null;return O&&xe(O.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(O&&O._clone(g))})()}_updateCurrentUser(p,g=!1){var O=this;return(0,c.A)(function*(){if(!O._deleted)return p&&xe(O.tenantId===p.tenantId,O,"tenant-id-mismatch"),g||(yield O.beforeStateQueue.runMiddleware(p)),O.queue((0,c.A)(function*(){yield O.directlySetCurrentUser(p),O.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,c.A)(function*(){return(0,v._isFirebaseServerApp)(p.app)?Promise.reject(it(p)):(yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0))})()}setPersistence(p){var g=this;return(0,v._isFirebaseServerApp)(this.app)?Promise.reject(it(this)):this.queue((0,c.A)(function*(){yield g.assertedPersistence.setPersistence(Bt(p))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(p){var g=this;return(0,c.A)(function*(){g._getPasswordPolicyInternal()||(yield g._updatePasswordPolicy());const O=g._getPasswordPolicyInternal();return O.schemaVersion!==g.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(g._errorFactory.create("unsupported-password-policy-schema-version",{})):O.validatePassword(p)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var p=this;return(0,c.A)(function*(){const g=yield function ut(T){return en.apply(this,arguments)}(p),O=new tr(g);null===p.tenantId?p._projectPasswordPolicy=O:p._tenantPasswordPolicies[p.tenantId]=O})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new w.FA("auth","Firebase",p())}onAuthStateChanged(p,g,O){return this.registerStateListener(this.authStateSubscription,p,g,O)}beforeAuthStateChanged(p,g){return this.beforeStateQueue.pushCallback(p,g)}onIdTokenChanged(p,g,O){return this.registerStateListener(this.idTokenSubscription,p,g,O)}authStateReady(){return new Promise((p,g)=>{if(this.currentUser)p();else{const O=this.onAuthStateChanged(()=>{O(),p()},g)}})}revokeAccessToken(p){var g=this;return(0,c.A)(function*(){if(g.currentUser){const O=yield g.currentUser.getIdToken(),oe={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:p,idToken:O};null!=g.tenantId&&(oe.tenantId=g.tenantId),yield function we(T,p){return ke.apply(this,arguments)}(g,oe)}})()}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,g){var O=this;return(0,c.A)(function*(){const oe=yield O.getOrInitRedirectPersistenceManager(g);return null===p?oe.removeCurrentUser():oe.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var g=this;return(0,c.A)(function*(){if(!g.redirectPersistenceManager){const O=p&&Bt(p)||g._popupRedirectResolver;xe(O,g,"argument-error"),g.redirectPersistenceManager=yield Zn.create(g,[Bt(O._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(p){var g=this;return(0,c.A)(function*(){var O,oe;return g._isInitialized&&(yield g.queue((0,c.A)(function*(){}))),(null===(O=g._currentUser)||void 0===O?void 0:O._redirectEventId)===p?g._currentUser:(null===(oe=g.redirectUser)||void 0===oe?void 0:oe._redirectEventId)===p?g.redirectUser:null})()}_persistUserIfCurrent(p){var g=this;return(0,c.A)(function*(){if(p===g.currentUser)return g.queue((0,c.A)(function*(){return g.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const O=null!==(g=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==O&&(this.lastNotifiedUid=O,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,g,O,oe){if(this._deleted)return()=>{};const be="function"==typeof g?g:g.next.bind(g);let Nt=!1;const rn=this._isInitialized?Promise.resolve():this._initializationPromise;if(xe(rn,this,"internal-error"),rn.then(()=>{Nt||be(this.currentUser)}),"function"==typeof g){const On=p.addObserver(g,O,oe);return()=>{Nt=!0,On()}}{const On=p.addObserver(g);return()=>{Nt=!0,On()}}}directlySetCurrentUser(p){var g=this;return(0,c.A)(function*(){g.currentUser&&g.currentUser!==p&&g._currentUser._stopProactiveRefresh(),p&&g.isProactiveRefreshEnabled&&p._startProactiveRefresh(),g.currentUser=p,p?yield g.assertedPersistence.setCurrentUser(p):yield g.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Ce(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,c.A)(function*(){var g;const O={"X-Client-Version":p.clientVersion};p.app.options.appId&&(O["X-Firebase-gmpid"]=p.app.options.appId);const oe=yield null===(g=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();oe&&(O["X-Firebase-Client"]=oe);const be=yield p._getAppCheckToken();return be&&(O["X-Firebase-AppCheck"]=be),O})()}_getAppCheckToken(){var p=this;return(0,c.A)(function*(){var g;const O=yield null===(g=p.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getToken();return null!=O&&O.error&&function me(T,...p){Be.logLevel<=N.$b.WARN&&Be.warn(`Auth (${v.SDK_VERSION}): ${T}`,...p)}(`Error while retrieving App Check token: ${O.error}`),null==O?void 0:O.token})()}}function fr(T){return(0,w.Ku)(T)}class yr{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,w.tD)(g=>this.observer=g)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ui={loadJS:()=>(0,c.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function si(T){return ui.loadJS(T)}function Eo(T){return`__${T}${Math.floor(1e6*Math.random())}`}class di{constructor(p){this.type="recaptcha-enterprise",this.auth=fr(p)}verify(p="verify",g=!1){var O=this;return(0,c.A)(function*(){function be(){return be=(0,c.A)(function*(rn){if(!g){if(null==rn.tenantId&&null!=rn._agentRecaptchaConfig)return rn._agentRecaptchaConfig.siteKey;if(null!=rn.tenantId&&void 0!==rn._tenantRecaptchaConfigs[rn.tenantId])return rn._tenantRecaptchaConfigs[rn.tenantId].siteKey}return new Promise(function(){var On=(0,c.A)(function*(cr,_r){ye(rn,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(mr=>{if(void 0!==mr.recaptchaKey){const Yi=new vn(mr);return null==rn.tenantId?rn._agentRecaptchaConfig=Yi:rn._tenantRecaptchaConfigs[rn.tenantId]=Yi,cr(Yi.siteKey)}_r(new Error("recaptcha Enterprise site key undefined"))}).catch(mr=>{_r(mr)})});return function(cr,_r){return On.apply(this,arguments)}}())}),be.apply(this,arguments)}function Nt(rn,On,cr){const _r=window.grecaptcha;jn(_r)?_r.enterprise.ready(()=>{_r.enterprise.execute(rn,{action:p}).then(mr=>{On(mr)}).catch(()=>{On("NO_RECAPTCHA")})}):cr(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((rn,On)=>{(function oe(rn){return be.apply(this,arguments)})(O.auth).then(cr=>{if(!g&&jn(window.grecaptcha))Nt(cr,rn,On);else{if(typeof window>"u")return void On(new Error("RecaptchaVerifier is only supported in browser"));let _r=function zi(){return ui.recaptchaEnterpriseScript}();0!==_r.length&&(_r+=cr),si(_r).then(()=>{Nt(cr,rn,On)}).catch(mr=>{On(mr)})}}).catch(cr=>{On(cr)})})})()}}function vo(T,p,g){return Di.apply(this,arguments)}function Di(){return(Di=(0,c.A)(function*(T,p,g,O=!1){const oe=new di(T);let be;try{be=yield oe.verify(g)}catch{be=yield oe.verify(g,!0)}const Nt=Object.assign({},p);return Object.assign(Nt,O?{captchaResp:be}:{captchaResponse:be}),Object.assign(Nt,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Nt,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Nt})).apply(this,arguments)}function io(T,p,g,O){return xo.apply(this,arguments)}function xo(){return xo=(0,c.A)(function*(T,p,g,O){var oe;if(null!==(oe=T._getRecaptchaConfig())&&void 0!==oe&&oe.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const be=yield vo(T,p,g,"getOobCode"===g);return O(T,be)}return O(T,p).catch(function(){var be=(0,c.A)(function*(Nt){if("auth/missing-recaptcha-token"===Nt.code){console.log(`${g} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const rn=yield vo(T,p,g,"getOobCode"===g);return O(T,rn)}return Promise.reject(Nt)});return function(Nt){return be.apply(this,arguments)}}())}),xo.apply(this,arguments)}function Wn(T){const p=T.indexOf(":");return p<0?"":T.substr(0,p+1)}function ir(T){if(!T)return null;const p=Number(T);return isNaN(p)?null:p}class Ln{constructor(p,g){this.providerId=p,this.signInMethod=g}toJSON(){return Ke("not implemented")}_getIdTokenResponse(p){return Ke("not implemented")}_linkToIdToken(p,g){return Ke("not implemented")}_getReauthenticationResolver(p){return Ke("not implemented")}}function Fi(T,p){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,c.A)(function*(T,p){return kt(T,"POST","/v1/accounts:resetPassword",Ut(T,p))})).apply(this,arguments)}function Ds(){return(Ds=(0,c.A)(function*(T,p){return kt(T,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function ba(T,p){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,c.A)(function*(T,p){return kt(T,"POST","/v1/accounts:signUp",p)})).apply(this,arguments)}function jo(){return(jo=(0,c.A)(function*(T,p){return kt(T,"POST","/v1/accounts:update",Ut(T,p))})).apply(this,arguments)}function Na(T,p){return as.apply(this,arguments)}function as(){return(as=(0,c.A)(function*(T,p){return sn(T,"POST","/v1/accounts:signInWithPassword",Ut(T,p))})).apply(this,arguments)}function wi(T,p){return Y.apply(this,arguments)}function Y(){return(Y=(0,c.A)(function*(T,p){return kt(T,"POST","/v1/accounts:sendOobCode",Ut(T,p))})).apply(this,arguments)}function Ue(){return(Ue=(0,c.A)(function*(T,p){return wi(T,p)})).apply(this,arguments)}function X(T,p){return L.apply(this,arguments)}function L(){return(L=(0,c.A)(function*(T,p){return wi(T,p)})).apply(this,arguments)}function q(T,p){return tt.apply(this,arguments)}function tt(){return(tt=(0,c.A)(function*(T,p){return wi(T,p)})).apply(this,arguments)}function Ft(){return(Ft=(0,c.A)(function*(T,p){return wi(T,p)})).apply(this,arguments)}function Vt(){return(Vt=(0,c.A)(function*(T,p){return sn(T,"POST","/v1/accounts:signInWithEmailLink",Ut(T,p))})).apply(this,arguments)}function In(){return(In=(0,c.A)(function*(T,p){return sn(T,"POST","/v1/accounts:signInWithEmailLink",Ut(T,p))})).apply(this,arguments)}class An extends Ln{constructor(p,g,O,oe=null){super("password",O),this._email=p,this._password=g,this._tenantId=oe}static _fromEmailAndPassword(p,g){return new An(p,g,"password")}static _fromEmailAndCode(p,g,O=null){return new An(p,g,"emailLink",O)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p;if(null!=g&&g.email&&null!=g&&g.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(p){var g=this;return(0,c.A)(function*(){switch(g.signInMethod){case"password":return io(p,{returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Na);case"emailLink":return function St(T,p){return Vt.apply(this,arguments)}(p,{email:g._email,oobCode:g._password});default:Se(p,"internal-error")}})()}_linkToIdToken(p,g){var O=this;return(0,c.A)(function*(){switch(O.signInMethod){case"password":return io(p,{idToken:g,returnSecureToken:!0,email:O._email,password:O._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ba);case"emailLink":return function Qt(T,p){return In.apply(this,arguments)}(p,{idToken:g,email:O._email,oobCode:O._password});default:Se(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function qn(T,p){return or.apply(this,arguments)}function or(){return(or=(0,c.A)(function*(T,p){return sn(T,"POST","/v1/accounts:signInWithIdp",Ut(T,p))})).apply(this,arguments)}class gr extends Ln{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const g=new gr(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(g.idToken=p.idToken),p.accessToken&&(g.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(g.nonce=p.nonce),p.pendingToken&&(g.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(g.accessToken=p.oauthToken,g.secret=p.oauthTokenSecret):Se("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:O,signInMethod:oe}=g,be=(0,A.Tt)(g,["providerId","signInMethod"]);if(!O||!oe)return null;const Nt=new gr(O,oe);return Nt.idToken=be.idToken||void 0,Nt.accessToken=be.accessToken||void 0,Nt.secret=be.secret,Nt.nonce=be.nonce,Nt.pendingToken=be.pendingToken||null,Nt}_getIdTokenResponse(p){return qn(p,this.buildRequest())}_linkToIdToken(p,g){const O=this.buildRequest();return O.idToken=g,qn(p,O)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,qn(p,g)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),p.postBody=(0,w.Am)(g)}return p}}function ni(){return(ni=(0,c.A)(function*(T,p){return kt(T,"POST","/v1/accounts:sendVerificationCode",Ut(T,p))})).apply(this,arguments)}function Qr(){return(Qr=(0,c.A)(function*(T,p){return sn(T,"POST","/v1/accounts:signInWithPhoneNumber",Ut(T,p))})).apply(this,arguments)}function po(){return(po=(0,c.A)(function*(T,p){const g=yield sn(T,"POST","/v1/accounts:signInWithPhoneNumber",Ut(T,p));if(g.temporaryProof)throw Qn(T,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Li={USER_NOT_FOUND:"user-not-found"};function Zt(){return(Zt=(0,c.A)(function*(T,p){return sn(T,"POST","/v1/accounts:signInWithPhoneNumber",Ut(T,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Li)})).apply(this,arguments)}class to extends Ln{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,g){return new to({verificationId:p,verificationCode:g})}static _fromTokenResponse(p,g){return new to({phoneNumber:p,temporaryProof:g})}_getIdTokenResponse(p){return function Xr(T,p){return Qr.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,g){return function hi(T,p){return po.apply(this,arguments)}(p,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function oo(T,p){return Zt.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:g,verificationId:O,verificationCode:oe}=this.params;return p&&g?{temporaryProof:p,phoneNumber:g}:{sessionInfo:O,code:oe}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:g,verificationCode:O,phoneNumber:oe,temporaryProof:be}=p;return O||g||oe||be?new to({verificationId:g,verificationCode:O,phoneNumber:oe,temporaryProof:be}):null}}class ls{constructor(p){var g,O,oe,be,Nt,rn;const On=(0,w.I9)((0,w.hp)(p)),cr=null!==(g=On.apiKey)&&void 0!==g?g:null,_r=null!==(O=On.oobCode)&&void 0!==O?O:null,mr=function yo(T){switch(T){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(oe=On.mode)&&void 0!==oe?oe:null);xe(cr&&_r&&mr,"argument-error"),this.apiKey=cr,this.operation=mr,this.code=_r,this.continueUrl=null!==(be=On.continueUrl)&&void 0!==be?be:null,this.languageCode=null!==(Nt=On.languageCode)&&void 0!==Nt?Nt:null,this.tenantId=null!==(rn=On.tenantId)&&void 0!==rn?rn:null}static parseLink(p){const g=function Ys(T){const p=(0,w.I9)((0,w.hp)(T)).link,g=p?(0,w.I9)((0,w.hp)(p)).deep_link_id:null,O=(0,w.I9)((0,w.hp)(T)).deep_link_id;return(O?(0,w.I9)((0,w.hp)(O)).link:null)||O||g||p||T}(p);try{return new ls(g)}catch{return null}}}let ko=(()=>{class T{constructor(){this.providerId=T.PROVIDER_ID}static credential(g,O){return An._fromEmailAndPassword(g,O)}static credentialWithLink(g,O){const oe=ls.parseLink(O);return xe(oe,"argument-error"),An._fromEmailAndCode(g,oe.code,oe.tenantId)}}return T.PROVIDER_ID="password",T.EMAIL_PASSWORD_SIGN_IN_METHOD="password",T.EMAIL_LINK_SIGN_IN_METHOD="emailLink",T})();class us{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Ii extends us{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class Ho extends Ii{static credentialFromJSON(p){const g="string"==typeof p?JSON.parse(p):p;return xe("providerId"in g&&"signInMethod"in g,"argument-error"),gr._fromParams(g)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return xe(p.idToken||p.accessToken,"argument-error"),gr._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return Ho.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return Ho.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:g,oauthAccessToken:O,oauthTokenSecret:oe,pendingToken:be,nonce:Nt,providerId:rn}=p;if(!O&&!oe&&!g&&!be||!rn)return null;try{return new Ho(rn)._credential({idToken:g,accessToken:O,nonce:Nt,pendingToken:be})}catch{return null}}}let cs=(()=>{class T extends Ii{constructor(){super("facebook.com")}static credential(g){return gr._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return T.credentialFromTaggedObject(g)}static credentialFromError(g){return T.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return T.credential(g.oauthAccessToken)}catch{return null}}}return T.FACEBOOK_SIGN_IN_METHOD="facebook.com",T.PROVIDER_ID="facebook.com",T})(),Xu=(()=>{class T extends Ii{constructor(){super("google.com"),this.addScope("profile")}static credential(g,O){return gr._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:O})}static credentialFromResult(g){return T.credentialFromTaggedObject(g)}static credentialFromError(g){return T.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:O,oauthAccessToken:oe}=g;if(!O&&!oe)return null;try{return T.credential(O,oe)}catch{return null}}}return T.GOOGLE_SIGN_IN_METHOD="google.com",T.PROVIDER_ID="google.com",T})(),Ma=(()=>{class T extends Ii{constructor(){super("github.com")}static credential(g){return gr._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return T.credentialFromTaggedObject(g)}static credentialFromError(g){return T.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return T.credential(g.oauthAccessToken)}catch{return null}}}return T.GITHUB_SIGN_IN_METHOD="github.com",T.PROVIDER_ID="github.com",T})();class Ur extends Ln{constructor(p,g){super(p,p),this.pendingToken=g}_getIdTokenResponse(p){return qn(p,this.buildRequest())}_linkToIdToken(p,g){const O=this.buildRequest();return O.idToken=g,qn(p,O)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,qn(p,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:O,signInMethod:oe,pendingToken:be}=g;return O&&oe&&be&&O===oe?new Ur(O,be):null}static _create(p,g){return new Ur(p,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Yo extends us{constructor(p){xe(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Yo.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Yo.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const g=Ur.fromJSON(p);return xe(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:g,providerId:O}=p;if(!g||!O)return null;try{return Ur._create(O,g)}catch{return null}}}let Ai=(()=>{class T extends Ii{constructor(){super("twitter.com")}static credential(g,O){return gr._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:O})}static credentialFromResult(g){return T.credentialFromTaggedObject(g)}static credentialFromError(g){return T.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:O,oauthTokenSecret:oe}=g;if(!O||!oe)return null;try{return T.credential(O,oe)}catch{return null}}}return T.TWITTER_SIGN_IN_METHOD="twitter.com",T.PROVIDER_ID="twitter.com",T})();function Pa(T,p){return ws.apply(this,arguments)}function ws(){return(ws=(0,c.A)(function*(T,p){return sn(T,"POST","/v1/accounts:signUp",Ut(T,p))})).apply(this,arguments)}class ri{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,g,O,oe=!1){return(0,c.A)(function*(){const be=yield Pt._fromIdTokenResponse(p,O,oe),Nt=Io(O);return new ri({user:be,providerId:Nt,_tokenResponse:O,operationType:g})})()}static _forOperation(p,g,O){return(0,c.A)(function*(){yield p._updateTokensIfNecessary(O,!0);const oe=Io(O);return new ri({user:p,providerId:oe,_tokenResponse:O,operationType:g})})()}}function Io(T){return T.providerId?T.providerId:"phoneNumber"in T?"phone":null}function La(){return(La=(0,c.A)(function*(T){var p;if((0,v._isFirebaseServerApp)(T.app))return Promise.reject(it(T));const g=fr(T);if(yield g._initializationPromise,null!==(p=g.currentUser)&&void 0!==p&&p.isAnonymous)return new ri({user:g.currentUser,providerId:null,operationType:"signIn"});const O=yield Pa(g,{returnSecureToken:!0}),oe=yield ri._fromIdTokenResponse(g,"signIn",O,!0);return yield g._updateCurrentUser(oe.user),oe})).apply(this,arguments)}class za extends w.g{constructor(p,g,O,oe){var be;super(g.code,g.message),this.operationType=O,this.user=oe,Object.setPrototypeOf(this,za.prototype),this.customData={appName:p.name,tenantId:null!==(be=p.tenantId)&&void 0!==be?be:void 0,_serverResponse:g.customData._serverResponse,operationType:O}}static _fromErrorAndOperation(p,g,O,oe){return new za(p,g,O,oe)}}function _l(T,p,g,O){return("reauthenticate"===p?g._getReauthenticationResolver(T):g._getIdTokenResponse(T)).catch(be=>{throw"auth/multi-factor-auth-required"===be.code?za._fromErrorAndOperation(T,be,p,O):be})}function xa(T){return new Set(T.map(({providerId:p})=>p).filter(p=>!!p))}function qa(){return qa=(0,c.A)(function*(T,p){const g=(0,w.Ku)(T);yield Bl(!0,g,p);const{providerUserInfo:O}=yield function $e(T,p){return pt.apply(this,arguments)}(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[p]}),oe=xa(O||[]);return g.providerData=g.providerData.filter(be=>oe.has(be.providerId)),oe.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g}),qa.apply(this,arguments)}function ii(T,p){return Os.apply(this,arguments)}function Os(){return(Os=(0,c.A)(function*(T,p,g=!1){const O=yield an(T,p._linkToIdToken(T.auth,yield T.getIdToken()),g);return ri._forOperation(T,"link",O)})).apply(this,arguments)}function Bl(T,p,g){return pu.apply(this,arguments)}function pu(){return(pu=(0,c.A)(function*(T,p,g){yield ar(p);const oe=!1===T?"provider-already-linked":"no-such-provider";xe(xa(p.providerData).has(g)===T,p.auth,oe)})).apply(this,arguments)}function Wo(T,p){return Gl.apply(this,arguments)}function Gl(){return(Gl=(0,c.A)(function*(T,p,g=!1){const{auth:O}=T;if((0,v._isFirebaseServerApp)(O.app))return Promise.reject(it(O));const oe="reauthenticate";try{const be=yield an(T,_l(O,oe,p,T),g);xe(be.idToken,O,"internal-error");const Nt=Ot(be.idToken);xe(Nt,O,"internal-error");const{sub:rn}=Nt;return xe(T.uid===rn,O,"user-mismatch"),ri._forOperation(T,oe,be)}catch(be){throw"auth/user-not-found"===(null==be?void 0:be.code)&&Se(O,"user-mismatch"),be}})).apply(this,arguments)}function gu(T,p){return ae.apply(this,arguments)}function ae(){return(ae=(0,c.A)(function*(T,p,g=!1){if((0,v._isFirebaseServerApp)(T.app))return Promise.reject(it(T));const O="signIn",oe=yield _l(T,O,p),be=yield ri._fromIdTokenResponse(T,O,oe);return g||(yield T._updateCurrentUser(be.user)),be})).apply(this,arguments)}function W(T,p){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,c.A)(function*(T,p){return gu(fr(T),p)})).apply(this,arguments)}function re(T,p){return He.apply(this,arguments)}function He(){return(He=(0,c.A)(function*(T,p){const g=(0,w.Ku)(T);return yield Bl(!1,g,p.providerId),ii(g,p)})).apply(this,arguments)}function Fn(T,p){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,c.A)(function*(T,p){return Wo((0,w.Ku)(T),p)})).apply(this,arguments)}function Vi(){return(Vi=(0,c.A)(function*(T,p){return sn(T,"POST","/v1/accounts:signInWithCustomToken",Ut(T,p))})).apply(this,arguments)}function zo(){return zo=(0,c.A)(function*(T,p){if((0,v._isFirebaseServerApp)(T.app))return Promise.reject(it(T));const g=fr(T),O=yield function gi(T,p){return Vi.apply(this,arguments)}(g,{token:p,returnSecureToken:!0}),oe=yield ri._fromIdTokenResponse(g,"signIn",O);return yield g._updateCurrentUser(oe.user),oe}),zo.apply(this,arguments)}class mi{constructor(p,g){this.factorId=p,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(p,g){return"phoneInfo"in g?ca._fromServerResponse(p,g):"totpInfo"in g?qo._fromServerResponse(p,g):Se(p,"internal-error")}}class ca extends mi{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,g){return new ca(g)}}class qo extends mi{constructor(p){super("totp",p)}static _fromServerResponse(p,g){return new qo(g)}}function ka(T,p,g){var O;xe((null===(O=g.url)||void 0===O?void 0:O.length)>0,T,"invalid-continue-uri"),xe(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,T,"invalid-dynamic-link-domain"),p.continueUrl=g.url,p.dynamicLinkDomain=g.dynamicLinkDomain,p.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(xe(g.iOS.bundleId.length>0,T,"missing-ios-bundle-id"),p.iOSBundleId=g.iOS.bundleId),g.android&&(xe(g.android.packageName.length>0,T,"missing-android-pkg-name"),p.androidInstallApp=g.android.installApp,p.androidMinimumVersionCode=g.android.minimumVersion,p.androidPackageName=g.android.packageName)}function Gr(T){return kr.apply(this,arguments)}function kr(){return(kr=(0,c.A)(function*(T){const p=fr(T);p._getPasswordPolicyInternal()&&(yield p._updatePasswordPolicy())})).apply(this,arguments)}function _i(){return(_i=(0,c.A)(function*(T,p,g){const O=fr(T),oe={requestType:"PASSWORD_RESET",email:p,clientType:"CLIENT_TYPE_WEB"};g&&ka(O,oe,g),yield io(O,oe,"getOobCode",X)})).apply(this,arguments)}function El(){return El=(0,c.A)(function*(T,p,g){yield Fi((0,w.Ku)(T),{oobCode:p,newPassword:g}).catch(function(){var O=(0,c.A)(function*(oe){throw"auth/password-does-not-meet-requirements"===oe.code&&Gr(T),oe});return function(oe){return O.apply(this,arguments)}}())}),El.apply(this,arguments)}function Oi(){return Oi=(0,c.A)(function*(T,p){yield function Hs(T,p){return jo.apply(this,arguments)}((0,w.Ku)(T),{oobCode:p})}),Oi.apply(this,arguments)}function vl(T,p){return Ju.apply(this,arguments)}function Ju(){return(Ju=(0,c.A)(function*(T,p){const g=(0,w.Ku)(T),O=yield Fi(g,{oobCode:p}),oe=O.requestType;switch(xe(oe,g,"internal-error"),oe){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":xe(O.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":xe(O.mfaInfo,g,"internal-error");default:xe(O.email,g,"internal-error")}let be=null;return O.mfaInfo&&(be=mi._fromServerResponse(fr(g),O.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===O.requestType?O.newEmail:O.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===O.requestType?O.email:O.newEmail)||null,multiFactorInfo:be},operation:oe}})).apply(this,arguments)}function Qu(){return(Qu=(0,c.A)(function*(T,p){const{data:g}=yield vl((0,w.Ku)(T),p);return g.email})).apply(this,arguments)}function Si(){return(Si=(0,c.A)(function*(T,p,g){if((0,v._isFirebaseServerApp)(T.app))return Promise.reject(it(T));const O=fr(T),Nt=yield io(O,{returnSecureToken:!0,email:p,password:g,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Pa).catch(On=>{throw"auth/password-does-not-meet-requirements"===On.code&&Gr(T),On}),rn=yield ri._fromIdTokenResponse(O,"signIn",Nt);return yield O._updateCurrentUser(rn.user),rn})).apply(this,arguments)}function Ws(){return(Ws=(0,c.A)(function*(T,p,g){const O=fr(T),oe={requestType:"EMAIL_SIGNIN",email:p,clientType:"CLIENT_TYPE_WEB"};(function be(Nt,rn){xe(rn.handleCodeInApp,O,"argument-error"),rn&&ka(O,Nt,rn)})(oe,g),yield io(O,oe,"getOobCode",q)})).apply(this,arguments)}function hs(){return(hs=(0,c.A)(function*(T,p,g){if((0,v._isFirebaseServerApp)(T.app))return Promise.reject(it(T));const O=(0,w.Ku)(T),oe=ko.credentialWithLink(p,g||rt());return xe(oe._tenantId===(O.tenantId||null),O,"tenant-id-mismatch"),W(O,oe)})).apply(this,arguments)}function fs(){return(fs=(0,c.A)(function*(T,p){return kt(T,"POST","/v1/accounts:createAuthUri",Ut(T,p))})).apply(this,arguments)}function Oo(){return Oo=(0,c.A)(function*(T,p){const O={identifier:p,continueUri:xt()?rt():"http://localhost"},{signinMethods:oe}=yield function zs(T,p){return fs.apply(this,arguments)}((0,w.Ku)(T),O);return oe||[]}),Oo.apply(this,arguments)}function Xs(){return Xs=(0,c.A)(function*(T,p){const g=(0,w.Ku)(T),oe={requestType:"VERIFY_EMAIL",idToken:yield T.getIdToken()};p&&ka(g.auth,oe,p);const{email:be}=yield function le(T,p){return Ue.apply(this,arguments)}(g.auth,oe);be!==T.email&&(yield T.reload())}),Xs.apply(this,arguments)}function Fa(){return Fa=(0,c.A)(function*(T,p,g){const O=(0,w.Ku)(T),be={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield T.getIdToken(),newEmail:p};g&&ka(O.auth,be,g);const{email:Nt}=yield function et(T,p){return Ft.apply(this,arguments)}(O.auth,be);Nt!==T.email&&(yield T.reload())}),Fa.apply(this,arguments)}function bo(){return(bo=(0,c.A)(function*(T,p){return kt(T,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Ns(){return Ns=(0,c.A)(function*(T,{displayName:p,photoURL:g}){if(void 0===p&&void 0===g)return;const O=(0,w.Ku)(T),be={idToken:yield O.getIdToken(),displayName:p,photoUrl:g,returnSecureToken:!0},Nt=yield an(O,function Co(T,p){return bo.apply(this,arguments)}(O.auth,be));O.displayName=Nt.displayName||null,O.photoURL=Nt.photoUrl||null;const rn=O.providerData.find(({providerId:On})=>"password"===On);rn&&(rn.displayName=O.displayName,rn.photoURL=O.photoURL),yield O._updateTokensIfNecessary(Nt)}),Ns.apply(this,arguments)}function $a(T,p,g){return Xa.apply(this,arguments)}function Xa(){return Xa=(0,c.A)(function*(T,p,g){const{auth:O}=T,be={idToken:yield T.getIdToken(),returnSecureToken:!0};p&&(be.email=p),g&&(be.password=g);const Nt=yield an(T,function jr(T,p){return Ds.apply(this,arguments)}(O,be));yield T._updateTokensIfNecessary(Nt,!0)}),Xa.apply(this,arguments)}class Xo{constructor(p,g,O={}){this.isNewUser=p,this.providerId=g,this.profile=O}}class ps extends Xo{constructor(p,g,O,oe){super(p,g,O),this.username=oe}}class ec extends Xo{constructor(p,g){super(p,"facebook.com",g)}}class mu extends ps{constructor(p,g){super(p,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class U extends Xo{constructor(p,g){super(p,"google.com",g)}}class ie extends ps{constructor(p,g,O){super(p,"twitter.com",g,O)}}function nt(T){const{user:p,_tokenResponse:g}=T;return p.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function jl(T){var p,g;if(!T)return null;const{providerId:O}=T,oe=T.rawUserInfo?JSON.parse(T.rawUserInfo):{},be=T.isNewUser||"identitytoolkit#SignupNewUserResponse"===T.kind;if(!O&&null!=T&&T.idToken){const Nt=null===(g=null===(p=Ot(T.idToken))||void 0===p?void 0:p.firebase)||void 0===g?void 0:g.sign_in_provider;if(Nt)return new Xo(be,"anonymous"!==Nt&&"custom"!==Nt?Nt:null)}if(!O)return null;switch(O){case"facebook.com":return new ec(be,oe);case"github.com":return new mu(be,oe);case"google.com":return new U(be,oe);case"twitter.com":return new ie(be,oe,T.screenName||null);case"custom":case"anonymous":return new Xo(be,null);default:return new Xo(be,O,oe)}}(g)}class $r{constructor(p,g,O){this.type=p,this.credential=g,this.user=O}static _fromIdtoken(p,g){return new $r("enroll",p,g)}static _fromMfaPendingCredential(p){return new $r("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var g,O;if(null!=p&&p.multiFactorSession){if(null!==(g=p.multiFactorSession)&&void 0!==g&&g.pendingCredential)return $r._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(O=p.multiFactorSession)&&void 0!==O&&O.idToken)return $r._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Yn{constructor(p,g,O){this.session=p,this.hints=g,this.signInResolver=O}static _fromError(p,g){const O=fr(p),oe=g.customData._serverResponse,be=(oe.mfaInfo||[]).map(rn=>mi._fromServerResponse(O,rn));xe(oe.mfaPendingCredential,O,"internal-error");const Nt=$r._fromMfaPendingCredential(oe.mfaPendingCredential);return new Yn(Nt,be,function(){var rn=(0,c.A)(function*(On){const cr=yield On._process(O,Nt);delete oe.mfaInfo,delete oe.mfaPendingCredential;const _r=Object.assign(Object.assign({},oe),{idToken:cr.idToken,refreshToken:cr.refreshToken});switch(g.operationType){case"signIn":const mr=yield ri._fromIdTokenResponse(O,g.operationType,_r);return yield O._updateCurrentUser(mr.user),mr;case"reauthenticate":return xe(g.user,O,"internal-error"),ri._forOperation(g.user,g.operationType,_r);default:Se(O,"internal-error")}});return function(On){return rn.apply(this,arguments)}}())}resolveSignIn(p){var g=this;return(0,c.A)(function*(){return g.signInResolver(p)})()}}class Ti{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(O=>mi._fromServerResponse(p.auth,O)))})}static _fromUser(p){return new Ti(p)}getSession(){var p=this;return(0,c.A)(function*(){return $r._fromIdtoken(yield p.user.getIdToken(),p.user)})()}enroll(p,g){var O=this;return(0,c.A)(function*(){const oe=p,be=yield O.getSession(),Nt=yield an(O.user,oe._process(O.user.auth,be,g));return yield O.user._updateTokensIfNecessary(Nt),O.user.reload()})()}unenroll(p){var g=this;return(0,c.A)(function*(){const O="string"==typeof p?p:p.uid,oe=yield g.user.getIdToken();try{const be=yield an(g.user,function ha(T,p){return kt(T,"POST","/v2/accounts/mfaEnrollment:withdraw",Ut(T,p))}(g.user.auth,{idToken:oe,mfaEnrollmentId:O}));g.enrolledFactors=g.enrolledFactors.filter(({uid:Nt})=>Nt!==O),yield g.user._updateTokensIfNecessary(be),yield g.user.reload()}catch(be){throw be}})()}}const Gi=new WeakMap,Nr="__sak";class Ja{constructor(p,g){this.storageRetriever=p,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Nr,"1"),this.storage.removeItem(Nr),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,g){return this.storage.setItem(p,JSON.stringify(g)),Promise.resolve()}_get(p){const g=this.storage.getItem(p);return Promise.resolve(g?JSON.parse(g):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Qs=(()=>{class T extends Ja{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,O)=>this.onStorageEvent(g,O),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=yt(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const O of Object.keys(this.listeners)){const oe=this.storage.getItem(O),be=this.localCache[O];oe!==be&&g(O,be,oe)}}onStorageEvent(g,O=!1){if(!g.key)return void this.forAllChangedKeys((rn,On,cr)=>{this.notifyListeners(rn,cr)});const oe=g.key;O?this.detachListener():this.stopPolling();const be=()=>{const rn=this.storage.getItem(oe);!O&&this.localCache[oe]===rn||this.notifyListeners(oe,rn)},Nt=this.storage.getItem(oe);!function ce(){return(0,w.lT)()&&10===document.documentMode}()||Nt===g.newValue||g.newValue===g.oldValue?be():setTimeout(be,10)}notifyListeners(g,O){this.localCache[g]=O;const oe=this.listeners[g];if(oe)for(const be of Array.from(oe))be(O&&JSON.parse(O))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,O,oe)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:O,newValue:oe}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,O){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(O)}_removeListener(g,O){this.listeners[g]&&(this.listeners[g].delete(O),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,O){var oe=()=>super._set,be=this;return(0,c.A)(function*(){yield oe().call(be,g,O),be.localCache[g]=JSON.stringify(O)})()}_get(g){var O=()=>super._get,oe=this;return(0,c.A)(function*(){const be=yield O().call(oe,g);return oe.localCache[g]=JSON.stringify(be),be})()}_remove(g){var O=()=>super._remove,oe=this;return(0,c.A)(function*(){yield O().call(oe,g),delete oe.localCache[g]})()}}return T.type="LOCAL",T})(),Xi=(()=>{class T extends Ja{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,O){}_removeListener(g,O){}}return T.type="SESSION",T})();let Il=(()=>{class T{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const O=this.receivers.find(be=>be.isListeningto(g));if(O)return O;const oe=new T(g);return this.receivers.push(oe),oe}isListeningto(g){return this.eventTarget===g}handleEvent(g){var O=this;return(0,c.A)(function*(){const oe=g,{eventId:be,eventType:Nt,data:rn}=oe.data,On=O.handlersMap[Nt];if(null==On||!On.size)return;oe.ports[0].postMessage({status:"ack",eventId:be,eventType:Nt});const cr=Array.from(On).map(function(){var mr=(0,c.A)(function*(Yi){return Yi(oe.origin,rn)});return function(Yi){return mr.apply(this,arguments)}}()),_r=yield function pa(T){return Promise.all(T.map(function(){var p=(0,c.A)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(O){return{fulfilled:!1,reason:O}}});return function(g){return p.apply(this,arguments)}}()))}(cr);oe.ports[0].postMessage({status:"done",eventId:be,eventType:Nt,response:_r})})()}_subscribe(g,O){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(O)}_unsubscribe(g,O){this.handlersMap[g]&&O&&this.handlersMap[g].delete(O),(!O||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return T.receivers=[],T})();function gs(T="",p=10){let g="";for(let O=0;O<p;O++)g+=Math.floor(10*Math.random());return T+g}class Yl{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,g,O=50){var oe=this;return(0,c.A)(function*(){const be=typeof MessageChannel<"u"?new MessageChannel:null;if(!be)throw new Error("connection_unavailable");let Nt,rn;return new Promise((On,cr)=>{const _r=gs("",20);be.port1.start();const mr=setTimeout(()=>{cr(new Error("unsupported_event"))},O);rn={messageChannel:be,onMessage(Yi){const ks=Yi;if(ks.data.eventId===_r)switch(ks.data.status){case"ack":clearTimeout(mr),Nt=setTimeout(()=>{cr(new Error("timeout"))},3e3);break;case"done":clearTimeout(Nt),On(ks.data.response);break;default:clearTimeout(mr),clearTimeout(Nt),cr(new Error("invalid_response"))}}},oe.handlers.add(rn),be.port1.addEventListener("message",rn.onMessage),oe.target.postMessage({eventType:p,eventId:_r,data:g},[be.port2])}).finally(()=>{rn&&oe.removeMessageHandler(rn)})})()}}function ei(){return window}function ga(){return typeof ei().WorkerGlobalScope<"u"&&"function"==typeof ei().importScripts}function ms(){return(ms=(0,c.A)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Hi="firebaseLocalStorageDb",xi="firebaseLocalStorage",lo="fbase_key";class Zs{constructor(p){this.request=p}toPromise(){return new Promise((p,g)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function ea(T,p){return T.transaction([xi],p?"readwrite":"readonly").objectStore(xi)}function To(){const T=indexedDB.open(Hi,1);return new Promise((p,g)=>{T.addEventListener("error",()=>{g(T.error)}),T.addEventListener("upgradeneeded",()=>{const O=T.result;try{O.createObjectStore(xi,{keyPath:lo})}catch(oe){g(oe)}}),T.addEventListener("success",(0,c.A)(function*(){const O=T.result;O.objectStoreNames.contains(xi)?p(O):(O.close(),yield function Ka(){const T=indexedDB.deleteDatabase(Hi);return new Zs(T).toPromise()}(),p(yield To()))}))})}function Cl(T,p,g){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,c.A)(function*(T,p,g){const O=ea(T,!0).put({[lo]:p,value:g});return new Zs(O).toPromise()})).apply(this,arguments)}function _s(){return(_s=(0,c.A)(function*(T,p){const g=ea(T,!1).get(p),O=yield new Zs(g).toPromise();return void 0===O?null:O.value})).apply(this,arguments)}function ih(T,p){const g=ea(T,!0).delete(p);return new Zs(g).toPromise()}const vu=(()=>{class T{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,c.A)(function*(){return g.db||(g.db=yield To()),g.db})()}_withRetries(g){var O=this;return(0,c.A)(function*(){let oe=0;for(;;)try{const be=yield O._openDb();return yield g(be)}catch(be){if(oe++>3)throw be;O.db&&(O.db.close(),O.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,c.A)(function*(){return ga()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,c.A)(function*(){g.receiver=Il._getInstance(function ro(){return ga()?self:null}()),g.receiver._subscribe("keyChanged",function(){var O=(0,c.A)(function*(oe,be){return{keyProcessed:(yield g._poll()).includes(be.key)}});return function(oe,be){return O.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var O=(0,c.A)(function*(oe,be){return["keyChanged"]});return function(oe,be){return O.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,c.A)(function*(){var O,oe;if(g.activeServiceWorker=yield function _u(){return ms.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Yl(g.activeServiceWorker);const be=yield g.sender._send("ping",{},800);be&&null!==(O=be[0])&&void 0!==O&&O.fulfilled&&null!==(oe=be[0])&&void 0!==oe&&oe.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var O=this;return(0,c.A)(function*(){if(O.sender&&O.activeServiceWorker&&function Qa(){var T;return(null===(T=null==navigator?void 0:navigator.serviceWorker)||void 0===T?void 0:T.controller)||null}()===O.activeServiceWorker)try{yield O.sender._send("keyChanged",{key:g},O.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,c.A)(function*(){try{if(!indexedDB)return!1;const g=yield To();return yield Cl(g,Nr,"1"),yield ih(g,Nr),!0}catch{}return!1})()}_withPendingWrite(g){var O=this;return(0,c.A)(function*(){O.pendingWrites++;try{yield g()}finally{O.pendingWrites--}})()}_set(g,O){var oe=this;return(0,c.A)(function*(){return oe._withPendingWrite((0,c.A)(function*(){return yield oe._withRetries(be=>Cl(be,g,O)),oe.localCache[g]=O,oe.notifyServiceWorker(g)}))})()}_get(g){var O=this;return(0,c.A)(function*(){const oe=yield O._withRetries(be=>function rh(T,p){return _s.apply(this,arguments)}(be,g));return O.localCache[g]=oe,oe})()}_remove(g){var O=this;return(0,c.A)(function*(){return O._withPendingWrite((0,c.A)(function*(){return yield O._withRetries(oe=>ih(oe,g)),delete O.localCache[g],O.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,c.A)(function*(){const O=yield g._withRetries(Nt=>{const rn=ea(Nt,!1).getAll();return new Zs(rn).toPromise()});if(!O)return[];if(0!==g.pendingWrites)return[];const oe=[],be=new Set;if(0!==O.length)for(const{fbase_key:Nt,value:rn}of O)be.add(Nt),JSON.stringify(g.localCache[Nt])!==JSON.stringify(rn)&&(g.notifyListeners(Nt,rn),oe.push(Nt));for(const Nt of Object.keys(g.localCache))g.localCache[Nt]&&!be.has(Nt)&&(g.notifyListeners(Nt,null),oe.push(Nt));return oe})()}notifyListeners(g,O){this.localCache[g]=O;const oe=this.listeners[g];if(oe)for(const be of Array.from(oe))be(O)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,c.A)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,O){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(O)}_removeListener(g,O){this.listeners[g]&&(this.listeners[g].delete(O),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return T.type="LOCAL",T})(),z=1e12;class Le{constructor(p){this.auth=p,this.counter=z,this._widgets=new Map}render(p,g){const O=this.counter;return this._widgets.set(O,new Ge(p,this.auth.name,g||{})),this.counter++,O}reset(p){var g;const O=p||z;null===(g=this._widgets.get(O))||void 0===g||g.delete(),this._widgets.delete(O)}getResponse(p){var g;return(null===(g=this._widgets.get(p||z))||void 0===g?void 0:g.getResponse())||""}execute(p){var g=this;return(0,c.A)(function*(){var O;return null===(O=g._widgets.get(p||z))||void 0===O||O.execute(),""})()}}class Ge{constructor(p,g,O){this.params=O,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const oe="string"==typeof p?document.getElementById(p):p;xe(oe,"argument-error",{appName:g}),this.container=oe,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Jt(T){const p=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let O=0;O<T;O++)p.push(g.charAt(Math.floor(62*Math.random())));return p.join("")}(50);const{callback:p,"expired-callback":g}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Dn=Eo("rcb"),nn=new pe(3e4,6e4);class lr{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=ei().grecaptcha)||void 0===p||!p.render)}load(p,g=""){return xe(function Pr(T){return T.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(T)}(g),p,"argument-error"),this.shouldResolveImmediately(g)&&bn(ei().grecaptcha)?Promise.resolve(ei().grecaptcha):new Promise((O,oe)=>{const be=ei().setTimeout(()=>{oe(Re(p,"network-request-failed"))},nn.get());ei()[Dn]=()=>{ei().clearTimeout(be),delete ei()[Dn];const rn=ei().grecaptcha;if(!rn||!bn(rn))return void oe(Re(p,"internal-error"));const On=rn.render;rn.render=(cr,_r)=>{const mr=On(cr,_r);return this.counter++,mr},this.hostLanguage=g,O(rn)},si(`${function yi(){return ui.recaptchaV2Script}()}?${(0,w.Am)({onload:Dn,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(be),oe(Re(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var g;return!(null===(g=ei().grecaptcha)||void 0===g||!g.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ci{load(p){return(0,c.A)(function*(){return new Le(p)})()}clearedOneInstance(){}}const Vr="recaptcha",Mi={theme:"light",type:"image"};class uo{constructor(p,g,O=Object.assign({},Mi)){this.parameters=O,this.type=Vr,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=fr(p),this.isInvisible="invisible"===this.parameters.size,xe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const oe="string"==typeof g?document.getElementById(g):g;xe(oe,this.auth,"argument-error"),this.container=oe,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ci:new lr,this.validateStartingState()}verify(){var p=this;return(0,c.A)(function*(){p.assertNotDestroyed();const g=yield p.render(),O=p.getAssertedRecaptcha();return O.getResponse(g)||new Promise(be=>{const Nt=rn=>{rn&&(p.tokenChangeListeners.delete(Nt),be(rn))};p.tokenChangeListeners.add(Nt),p.isInvisible&&O.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){xe(!this.parameters.sitekey,this.auth,"argument-error"),xe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),xe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return g=>{if(this.tokenChangeListeners.forEach(O=>O(g)),"function"==typeof p)p(g);else if("string"==typeof p){const O=ei()[p];"function"==typeof O&&O(g)}}}assertNotDestroyed(){xe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,c.A)(function*(){if(yield p.init(),!p.widgetId){let g=p.container;if(!p.isInvisible){const O=document.createElement("div");g.appendChild(O),g=O}p.widgetId=p.getAssertedRecaptcha().render(g,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,c.A)(function*(){xe(xt()&&!ga(),p.auth,"internal-error"),yield function Uo(){let T=null;return new Promise(p=>{"complete"!==document.readyState?(T=()=>p(),window.addEventListener("load",T)):p()}).catch(p=>{throw T&&window.removeEventListener("load",T),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const g=yield function K(T){return H.apply(this,arguments)}(p.auth);xe(g,p.auth,"internal-error"),p.parameters.sitekey=g})()}getAssertedRecaptcha(){return xe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Fo{constructor(p,g){this.verificationId=p,this.onConfirmation=g}confirm(p){const g=to._fromVerification(this.verificationId,p);return this.onConfirmation(g)}}function ta(){return(ta=(0,c.A)(function*(T,p,g){if((0,v._isFirebaseServerApp)(T.app))return Promise.reject(it(T));const O=fr(T),oe=yield rc(O,p,(0,w.Ku)(g));return new Fo(oe,be=>W(O,be))})).apply(this,arguments)}function Sl(){return(Sl=(0,c.A)(function*(T,p,g){const O=(0,w.Ku)(T);yield Bl(!1,O,"phone");const oe=yield rc(O.auth,p,(0,w.Ku)(g));return new Fo(oe,be=>re(O,be))})).apply(this,arguments)}function zl(){return(zl=(0,c.A)(function*(T,p,g){const O=(0,w.Ku)(T);if((0,v._isFirebaseServerApp)(O.auth.app))return Promise.reject(it(O.auth));const oe=yield rc(O.auth,p,(0,w.Ku)(g));return new Fo(oe,be=>Fn(O,be))})).apply(this,arguments)}function rc(T,p,g){return $i.apply(this,arguments)}function $i(){return $i=(0,c.A)(function*(T,p,g){var O;const oe=yield g.verify();try{let be;if(xe("string"==typeof oe,T,"argument-error"),xe(g.type===Vr,T,"argument-error"),be="string"==typeof p?{phoneNumber:p}:p,"session"in be){const Nt=be.session;if("phoneNumber"in be)return xe("enroll"===Nt.type,T,"internal-error"),(yield function Ri(T,p){return kt(T,"POST","/v2/accounts/mfaEnrollment:start",Ut(T,p))}(T,{idToken:Nt.credential,phoneEnrollmentInfo:{phoneNumber:be.phoneNumber,recaptchaToken:oe}})).phoneSessionInfo.sessionInfo;{xe("signin"===Nt.type,T,"internal-error");const rn=(null===(O=be.multiFactorHint)||void 0===O?void 0:O.uid)||be.multiFactorUid;return xe(rn,T,"missing-multi-factor-info"),(yield function Za(T,p){return kt(T,"POST","/v2/accounts/mfaSignIn:start",Ut(T,p))}(T,{mfaPendingCredential:Nt.credential,mfaEnrollmentId:rn,phoneSignInInfo:{recaptchaToken:oe}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Nt}=yield function qr(T,p){return ni.apply(this,arguments)}(T,{phoneNumber:be.phoneNumber,recaptchaToken:oe});return Nt}}finally{g._reset()}}),$i.apply(this,arguments)}function yu(){return(yu=(0,c.A)(function*(T,p){const g=(0,w.Ku)(T);if((0,v._isFirebaseServerApp)(g.auth.app))return Promise.reject(it(g.auth));yield ii(g,p)})).apply(this,arguments)}let Iu=(()=>{class T{constructor(g){this.providerId=T.PROVIDER_ID,this.auth=fr(g)}verifyPhoneNumber(g,O){return rc(this.auth,g,(0,w.Ku)(O))}static credential(g,O){return to._fromVerification(g,O)}static credentialFromResult(g){return T.credentialFromTaggedObject(g)}static credentialFromError(g){return T.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:O,temporaryProof:oe}=g;return O&&oe?to._fromTokenResponse(O,oe):null}}return T.PROVIDER_ID="phone",T.PHONE_SIGN_IN_METHOD="phone",T})();function ti(T,p){return p?Bt(p):(xe(T._popupRedirectResolver,T,"argument-error"),T._popupRedirectResolver)}class Tl extends Ln{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return qn(p,this._buildIdpRequest())}_linkToIdToken(p,g){return qn(p,this._buildIdpRequest(g))}_getReauthenticationResolver(p){return qn(p,this._buildIdpRequest())}_buildIdpRequest(p){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(g.idToken=p),g}}function Xc(T){return gu(T.auth,new Tl(T),T.bypassAuthState)}function Qo(T){const{auth:p,user:g}=T;return xe(g,p,"internal-error"),Wo(g,new Tl(T),T.bypassAuthState)}function ic(T){return vs.apply(this,arguments)}function vs(){return(vs=(0,c.A)(function*(T){const{auth:p,user:g}=T;return xe(g,p,"internal-error"),ii(g,new Tl(T),T.bypassAuthState)})).apply(this,arguments)}class Al{constructor(p,g,O,oe,be=!1){this.auth=p,this.resolver=O,this.user=oe,this.bypassAuthState=be,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var p=this;return new Promise(function(){var g=(0,c.A)(function*(O,oe){p.pendingPromise={resolve:O,reject:oe};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(be){p.reject(be)}});return function(O,oe){return g.apply(this,arguments)}}())}onAuthEvent(p){var g=this;return(0,c.A)(function*(){const{urlResponse:O,sessionId:oe,postBody:be,tenantId:Nt,error:rn,type:On}=p;if(rn)return void g.reject(rn);const cr={auth:g.auth,requestUri:O,sessionId:oe,tenantId:Nt||void 0,postBody:be||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(On)(cr))}catch(_r){g.reject(_r)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Xc;case"linkViaPopup":case"linkViaRedirect":return ic;case"reauthViaPopup":case"reauthViaRedirect":return Qo;default:Se(this.auth,"internal-error")}}resolve(p){Ye(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){Ye(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ps=new pe(2e3,1e4);function el(){return(el=(0,c.A)(function*(T,p,g){if((0,v._isFirebaseServerApp)(T.app))return Promise.reject(Re(T,"operation-not-supported-in-this-environment"));const O=fr(T);We(T,p,us);const oe=ti(O,g);return new Jc(O,"signInViaPopup",p,oe).executeNotNull()})).apply(this,arguments)}function Zo(){return(Zo=(0,c.A)(function*(T,p,g){const O=(0,w.Ku)(T);if((0,v._isFirebaseServerApp)(O.auth.app))return Promise.reject(Re(O.auth,"operation-not-supported-in-this-environment"));We(O.auth,p,us);const oe=ti(O.auth,g);return new Jc(O.auth,"reauthViaPopup",p,oe,O).executeNotNull()})).apply(this,arguments)}function oc(){return(oc=(0,c.A)(function*(T,p,g){const O=(0,w.Ku)(T);We(O.auth,p,us);const oe=ti(O.auth,g);return new Jc(O.auth,"linkViaPopup",p,oe,O).executeNotNull()})).apply(this,arguments)}let Jc=(()=>{class T extends Al{constructor(g,O,oe,be,Nt){super(g,O,be,Nt),this.provider=oe,this.authWindow=null,this.pollId=null,T.currentPopupAction&&T.currentPopupAction.cancel(),T.currentPopupAction=this}executeNotNull(){var g=this;return(0,c.A)(function*(){const O=yield g.execute();return xe(O,g.auth,"internal-error"),O})()}onExecution(){var g=this;return(0,c.A)(function*(){Ye(1===g.filter.length,"Popup operations only handle one event");const O=gs();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],O),g.authWindow.associatedEvent=O,g.resolver._originValidation(g.auth).catch(oe=>{g.reject(oe)}),g.resolver._isIframeWebStorageSupported(g.auth,oe=>{oe||g.reject(Re(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(Re(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,T.currentPopupAction=null}pollUserCancellation(){const g=()=>{var O,oe;this.pollId=null!==(oe=null===(O=this.authWindow)||void 0===O?void 0:O.window)&&void 0!==oe&&oe.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Re(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(g,Ps.get())};g()}}return T.currentPopupAction=null,T})();const ah="pendingRedirect",Ki=new Map;class oi extends Al{constructor(p,g,O=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,O),this.eventId=null}execute(){var p=()=>super.execute,g=this;return(0,c.A)(function*(){let O=Ki.get(g.auth._key());if(!O){try{const be=(yield function Qc(T,p){return sc.apply(this,arguments)}(g.resolver,g.auth))?yield p().call(g):null;O=()=>Promise.resolve(be)}catch(oe){O=()=>Promise.reject(oe)}Ki.set(g.auth._key(),O)}return g.bypassAuthState||Ki.set(g.auth._key(),()=>Promise.resolve(null)),O()})()}onAuthEvent(p){var g=()=>super.onAuthEvent,O=this;return(0,c.A)(function*(){if("signInViaRedirect"===p.type)return g().call(O,p);if("unknown"!==p.type){if(p.eventId){const oe=yield O.auth._redirectUserForId(p.eventId);if(oe)return O.user=oe,g().call(O,p);O.resolve(null)}}else O.resolve(null)})()}onExecution(){return(0,c.A)(function*(){})()}cleanUp(){}}function sc(){return(sc=(0,c.A)(function*(T,p){const g=Yf(p),O=uh(T);if(!(yield O._isAvailable()))return!1;const oe="true"===(yield O._get(g));return yield O._remove(g),oe})).apply(this,arguments)}function Ls(T,p){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,c.A)(function*(T,p){return uh(T)._set(Yf(p),"true")})).apply(this,arguments)}function ac(T,p){Ki.set(T._key(),p)}function uh(T){return Bt(T._redirectPersistence)}function Yf(T){return xn(ah,T.config.apiKey,T.name)}function Zc(T,p,g){return function ed(T,p,g){return Cu.apply(this,arguments)}(T,p,g)}function Cu(){return(Cu=(0,c.A)(function*(T,p,g){if((0,v._isFirebaseServerApp)(T.app))return Promise.reject(it(T));const O=fr(T);We(T,p,us),yield O._initializationPromise;const oe=ti(O,g);return yield Ls(oe,O),oe._openRedirect(O,p,"signInViaRedirect")})).apply(this,arguments)}function td(T,p,g){return function ql(T,p,g){return ch.apply(this,arguments)}(T,p,g)}function ch(){return(ch=(0,c.A)(function*(T,p,g){const O=(0,w.Ku)(T);if(We(O.auth,p,us),(0,v._isFirebaseServerApp)(O.auth.app))return Promise.reject(it(O.auth));yield O.auth._initializationPromise;const oe=ti(O.auth,g);yield Ls(oe,O.auth);const be=yield Wf(O);return oe._openRedirect(O.auth,p,"reauthViaRedirect",be)})).apply(this,arguments)}function Mg(T,p,g){return function S_(T,p,g){return dh.apply(this,arguments)}(T,p,g)}function dh(){return(dh=(0,c.A)(function*(T,p,g){const O=(0,w.Ku)(T);We(O.auth,p,us),yield O.auth._initializationPromise;const oe=ti(O.auth,g);yield Bl(!1,O,p.providerId),yield Ls(oe,O.auth);const be=yield Wf(O);return oe._openRedirect(O.auth,p,"linkViaRedirect",be)})).apply(this,arguments)}function Rn(){return(Rn=(0,c.A)(function*(T,p){return yield fr(T)._initializationPromise,Wr(T,p,!1)})).apply(this,arguments)}function Wr(T,p){return hh.apply(this,arguments)}function hh(){return(hh=(0,c.A)(function*(T,p,g=!1){if((0,v._isFirebaseServerApp)(T.app))return Promise.reject(it(T));const O=fr(T),oe=ti(O,p),Nt=yield new oi(O,oe,g).execute();return Nt&&!g&&(delete Nt.user._redirectEventId,yield O._persistUserIfCurrent(Nt.user),yield O._setRedirectUser(null,p)),Nt})).apply(this,arguments)}function Wf(T){return fi.apply(this,arguments)}function fi(){return(fi=(0,c.A)(function*(T){const p=gs(`${T.uid}:::`);return T._redirectEventId=p,yield T.auth._setRedirectUser(T),yield T.auth._persistUserIfCurrent(T),p})).apply(this,arguments)}class Tu{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let g=!1;return this.consumers.forEach(O=>{this.isEventForConsumer(p,O)&&(g=!0,this.sendToConsumer(p,O),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function nd(T){switch(T.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ji(T);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=p,g=!0)),g}sendToConsumer(p,g){var O;if(p.error&&!Ji(p)){const oe=(null===(O=p.error.code)||void 0===O?void 0:O.split("auth/")[1])||"internal-error";g.onError(Re(this.auth,oe))}else g.onAuthEvent(p)}isEventForConsumer(p,g){const O=null===g.eventId||!!p.eventId&&p.eventId===g.eventId;return g.filter.includes(p.type)&&O}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ma(p))}saveEventToCache(p){this.cachedEventUids.add(ma(p)),this.lastProcessedEventTime=Date.now()}}function ma(T){return[T.type,T.eventId,T.sessionId,T.tenantId].filter(p=>p).join("-")}function Ji({type:T,error:p}){return"unknown"===T&&"auth/no-auth-event"===(null==p?void 0:p.code)}function rd(T){return zf.apply(this,arguments)}function zf(){return(zf=(0,c.A)(function*(T,p={}){return kt(T,"GET","/v1/projects",p)})).apply(this,arguments)}const fh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ja=/^https?/;function id(){return(id=(0,c.A)(function*(T){if(T.config.emulator)return;const{authorizedDomains:p}=yield rd(T);for(const g of p)try{if(Vo(g))return}catch{}Se(T,"unauthorized-domain")})).apply(this,arguments)}function Vo(T){const p=rt(),{protocol:g,hostname:O}=new URL(p);if(T.startsWith("chrome-extension://")){const Nt=new URL(T);return""===Nt.hostname&&""===O?"chrome-extension:"===g&&T.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===g&&Nt.hostname===O}if(!ja.test(g))return!1;if(fh.test(T))return O===T;const oe=T.replace(/\./g,"\\.");return new RegExp("^(.+\\."+oe+"|"+oe+")$","i").test(O)}const tl=new pe(3e4,6e4);function ph(){const T=ei().___jsl;if(null!=T&&T.H)for(const p of Object.keys(T.H))if(T.H[p].r=T.H[p].r||[],T.H[p].L=T.H[p].L||[],T.H[p].r=[...T.H[p].L],T.CP)for(let g=0;g<T.CP.length;g++)T.CP[g]=null}let Ea=null;const lc=new pe(5e3,15e3),Xf="__/auth/iframe",A_="emulator/auth/iframe",gh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},uc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mh(T){const p=T.config;xe(p.authDomain,T,"auth-domain-config-required");const g=p.emulator?fe(p,A_):`https://${T.config.authDomain}/${Xf}`,O={apiKey:p.apiKey,appName:T.name,v:v.SDK_VERSION},oe=uc.get(T.config.apiHost);oe&&(O.eid=oe);const be=T._getFrameworks();return be.length&&(O.fw=be.join(",")),`${g}?${(0,w.Am)(O).slice(1)}`}function Jf(){return Jf=(0,c.A)(function*(T){const p=yield function T_(T){return Ea=Ea||function _a(T){return new Promise((p,g)=>{var O,oe,be;function Nt(){ph(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{ph(),g(Re(T,"network-request-failed"))},timeout:tl.get()})}if(null!==(oe=null===(O=ei().gapi)||void 0===O?void 0:O.iframes)&&void 0!==oe&&oe.Iframe)p(gapi.iframes.getContext());else{if(null===(be=ei().gapi)||void 0===be||!be.load){const rn=Eo("iframefcb");return ei()[rn]=()=>{gapi.load?Nt():g(Re(T,"network-request-failed"))},si(`${function ai(){return ui.gapiScript}()}?onload=${rn}`).catch(On=>g(On))}Nt()}}).catch(p=>{throw Ea=null,p})}(T),Ea}(T),g=ei().gapi;return xe(g,T,"internal-error"),p.open({where:document.body,url:mh(T),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gh,dontclear:!0},O=>new Promise(function(){var oe=(0,c.A)(function*(be,Nt){yield O.restyle({setHideOnLeave:!1});const rn=Re(T,"network-request-failed"),On=ei().setTimeout(()=>{Nt(rn)},lc.get());function cr(){ei().clearTimeout(On),be(O)}O.ping(cr).then(cr,()=>{Nt(rn)})});return function(be,Nt){return oe.apply(this,arguments)}}()))}),Jf.apply(this,arguments)}const Qf={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Xl{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const No="__/auth/handler",ys="emulator/auth/handler",ki=encodeURIComponent("fac");function ep(T,p,g,O,oe,be){return Eh.apply(this,arguments)}function Eh(){return(Eh=(0,c.A)(function*(T,p,g,O,oe,be){xe(T.config.authDomain,T,"auth-domain-config-required"),xe(T.config.apiKey,T,"invalid-api-key");const Nt={apiKey:T.config.apiKey,appName:T.name,authType:g,redirectUrl:O,v:v.SDK_VERSION,eventId:oe};if(p instanceof us){p.setDefaultLanguage(T.languageCode),Nt.providerId=p.providerId||"",(0,w.Im)(p.getCustomParameters())||(Nt.customParameters=JSON.stringify(p.getCustomParameters()));for(const[_r,mr]of Object.entries(be||{}))Nt[_r]=mr}if(p instanceof Ii){const _r=p.getScopes().filter(mr=>""!==mr);_r.length>0&&(Nt.scopes=_r.join(","))}T.tenantId&&(Nt.tid=T.tenantId);const rn=Nt;for(const _r of Object.keys(rn))void 0===rn[_r]&&delete rn[_r];const On=yield T._getAppCheckToken(),cr=On?`#${ki}=${encodeURIComponent(On)}`:"";return`${function vh({config:T}){return T.emulator?fe(T,ys):`https://${T.authDomain}/${No}`}(T)}?${(0,w.Am)(rn).slice(1)}${cr}`})).apply(this,arguments)}const Dl="webStorageSupport",wl=class Jl{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Xi,this._completeRedirectFn=Wr,this._overrideRedirectResult=ac}_openPopup(p,g,O,oe){var be=this;return(0,c.A)(function*(){var Nt;Ye(null===(Nt=be.eventManagers[p._key()])||void 0===Nt?void 0:Nt.manager,"_initialize() not called before _openPopup()");const rn=yield ep(p,g,O,rt(),oe);return function _h(T,p,g,O=500,oe=600){const be=Math.max((window.screen.availHeight-oe)/2,0).toString(),Nt=Math.max((window.screen.availWidth-O)/2,0).toString();let rn="";const On=Object.assign(Object.assign({},Qf),{width:O.toString(),height:oe.toString(),top:be,left:Nt}),cr=(0,w.ZQ)().toLowerCase();g&&(rn=bt(cr)?"_blank":g),vr(cr)&&(p=p||"http://localhost",On.scrollbars="yes");const _r=Object.entries(On).reduce((Yi,[ks,vc])=>`${Yi}${ks}=${vc},`,"");if(function ze(T=(0,w.ZQ)()){var p;return cn(T)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(cr)&&"_self"!==rn)return function R_(T,p){const g=document.createElement("a");g.href=T,g.target=p;const O=document.createEvent("MouseEvent");O.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(O)}(p||"",rn),new Xl(null);const mr=window.open(p||"",rn,_r);xe(mr,T,"popup-blocked");try{mr.focus()}catch{}return new Xl(mr)}(p,rn,gs())})()}_openRedirect(p,g,O,oe){var be=this;return(0,c.A)(function*(){return yield be._originValidation(p),function Tr(T){ei().location.href=T}(yield ep(p,g,O,rt(),oe)),new Promise(()=>{})})()}_initialize(p){const g=p._key();if(this.eventManagers[g]){const{manager:oe,promise:be}=this.eventManagers[g];return oe?Promise.resolve(oe):(Ye(be,"If manager is not set, promise should be"),be)}const O=this.initAndGetManager(p);return this.eventManagers[g]={promise:O},O.catch(()=>{delete this.eventManagers[g]}),O}initAndGetManager(p){var g=this;return(0,c.A)(function*(){const O=yield function od(T){return Jf.apply(this,arguments)}(p),oe=new Tu(p);return O.register("authEvent",be=>(xe(null==be?void 0:be.authEvent,p,"invalid-auth-event"),{status:oe.onEvent(be.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[p._key()]={manager:oe},g.iframes[p._key()]=O,oe})()}_isIframeWebStorageSupported(p,g){this.iframes[p._key()].send(Dl,{type:Dl},oe=>{var be;const Nt=null===(be=null==oe?void 0:oe[0])||void 0===be?void 0:be[Dl];void 0!==Nt&&g(!!Nt),Se(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function qf(T){return id.apply(this,arguments)}(p)),this.originValidationPromises[g]}get _shouldInitProactively(){return yt()||ct()||cn()}};class nl{constructor(p){this.factorId=p}_process(p,g,O){switch(g.type){case"enroll":return this._finalizeEnroll(p,g.credential,O);case"signin":return this._finalizeSignIn(p,g.credential);default:return Ke("unexpected MultiFactorSessionType")}}}class ra extends nl{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new ra(p)}_finalizeEnroll(p,g,O){return function no(T,p){return kt(T,"POST","/v2/accounts/mfaEnrollment:finalize",Ut(T,p))}(p,{idToken:g,displayName:O,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,g){return function b(T,p){return kt(T,"POST","/v2/accounts/mfaSignIn:finalize",Ut(T,p))}(p,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let tp=(()=>{class T{constructor(){}static assertion(g){return ra._fromCredential(g)}}return T.FACTOR_ID="phone",T})();var yh="@firebase/auth";class Ch{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var g=this;return(0,c.A)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const g=this.auth.onIdTokenChanged(O=>{p((null==O?void 0:O.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,g),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const g=this.internalListeners.get(p);g&&(this.internalListeners.delete(p),g(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function il(){return window}(0,w.XA)("authIdTokenMaxAge"),function Ar(T){ui=T}({loadJS:T=>new Promise((p,g)=>{const O=document.createElement("script");O.setAttribute("src",T),O.onload=p,O.onerror=oe=>{const be=Re("internal-error");be.customData=oe,g(be)},O.type="text/javascript",O.charset="UTF-8",function w_(){var T,p;return null!==(p=null===(T=document.getElementsByTagName("head"))||void 0===T?void 0:T[0])&&void 0!==p?p:document}().appendChild(O)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function ad(T){(0,v._registerComponent)(new I.uA("auth",(p,{options:g})=>{const O=p.getProvider("app").getImmediate(),oe=p.getProvider("heartbeat"),be=p.getProvider("app-check-internal"),{apiKey:Nt,authDomain:rn}=O.options;xe(Nt&&!Nt.includes(":"),"invalid-api-key",{appName:O.name});const On={apiKey:Nt,authDomain:rn,clientPlatform:T,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ce(T)},cr=new Dr(O,oe,be,On);return function ss(T,p){const g=(null==p?void 0:p.persistence)||[],O=(Array.isArray(g)?g:[g]).map(Bt);null!=p&&p.errorMap&&T._updateErrorMap(p.errorMap),T._initializeWithPersistence(O,null==p?void 0:p.popupRedirectResolver)}(cr,g),cr},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,g,O)=>{p.getProvider("auth-internal").initialize()})),(0,v._registerComponent)(new I.uA("auth-internal",p=>{const g=fr(p.getProvider("auth").getImmediate());return new Ch(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,v.registerVersion)(yh,"1.7.9",function rl(T){switch(T){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(T)),(0,v.registerVersion)(yh,"1.7.9","esm2017")}("Browser");function sl(){return sl=(0,c.A)(function*(T,p,g){var O;const{BuildInfo:oe}=il();Ye(p.sessionId,"AuthEvent did not contain a session ID");const be=yield function fc(T){return Rh.apply(this,arguments)}(p.sessionId),Nt={};return cn()?Nt.ibi=oe.packageName:er()?Nt.apn=oe.packageName:Se(T,"operation-not-supported-in-this-environment"),oe.displayName&&(Nt.appDisplayName=oe.displayName),Nt.sessionId=be,ep(T,g,p.type,void 0,null!==(O=p.eventId)&&void 0!==O?O:void 0,Nt)}),sl.apply(this,arguments)}function Ql(){return(Ql=(0,c.A)(function*(T){const{BuildInfo:p}=il(),g={};cn()?g.iosBundleId=p.packageName:er()?g.androidPackageName=p.packageName:Se(T,"operation-not-supported-in-this-environment"),yield rd(T,g)})).apply(this,arguments)}function ld(){return(ld=(0,c.A)(function*(T,p,g){const{cordova:O}=il();let oe=()=>{};try{yield new Promise((be,Nt)=>{let rn=null;function On(){var mr;be();const Yi=null===(mr=O.plugins.browsertab)||void 0===mr?void 0:mr.close;"function"==typeof Yi&&Yi(),"function"==typeof(null==g?void 0:g.close)&&g.close()}function cr(){rn||(rn=window.setTimeout(()=>{Nt(Re(T,"redirect-cancelled-by-user"))},2e3))}function _r(){"visible"===(null==document?void 0:document.visibilityState)&&cr()}p.addPassiveListener(On),document.addEventListener("resume",cr,!1),er()&&document.addEventListener("visibilitychange",_r,!1),oe=()=>{p.removePassiveListener(On),document.removeEventListener("resume",cr,!1),document.removeEventListener("visibilitychange",_r,!1),rn&&window.clearTimeout(rn)}})}finally{oe()}})).apply(this,arguments)}function Rh(){return(Rh=(0,c.A)(function*(T){const p=function rp(T){if(Ye(/[0-9a-zA-Z]+/.test(T),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(T);const p=new ArrayBuffer(T.length),g=new Uint8Array(p);for(let O=0;O<T.length;O++)g[O]=T.charCodeAt(O);return g}(T),g=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(g)).map(oe=>oe.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class b_ extends Tu{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInitialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInitialized(),this.passiveListeners.forEach(g=>g(p)),super.onEvent(p)}initialized(){var p=this;return(0,c.A)(function*(){yield p.initPromise})()}}function cd(T){return pc.apply(this,arguments)}function pc(){return(pc=(0,c.A)(function*(T){const p=yield al()._get(wh(T));return p&&(yield al()._remove(wh(T))),p})).apply(this,arguments)}function Zl(){const T=[];for(let g=0;g<20;g++){const O=Math.floor(62*Math.random());T.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(O))}return T.join("")}function al(){return Bt(Qs)}function wh(T){return xn("authEvent",T.config.apiKey,T.name)}function gc(T){if(null==T||!T.includes("?"))return{};const[p,...g]=T.split("?");return(0,w.I9)(g.join("?"))}const hd=class Oh{constructor(){this._redirectPersistence=Xi,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Wr,this._overrideRedirectResult=ac}_initialize(p){var g=this;return(0,c.A)(function*(){const O=p._key();let oe=g.eventManagers.get(O);return oe||(oe=new b_(p),g.eventManagers.set(O,oe),g.attachCallbackListeners(p,oe)),oe})()}_openPopup(p){Se(p,"operation-not-supported-in-this-environment")}_openRedirect(p,g,O,oe){var be=this;return(0,c.A)(function*(){!function Ah(T){var p,g,O,oe,be,Nt,rn,On,cr,_r;const mr=il();xe("function"==typeof(null===(p=null==mr?void 0:mr.universalLinks)||void 0===p?void 0:p.subscribe),T,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),xe(typeof(null===(g=null==mr?void 0:mr.BuildInfo)||void 0===g?void 0:g.packageName)<"u",T,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),xe("function"==typeof(null===(be=null===(oe=null===(O=null==mr?void 0:mr.cordova)||void 0===O?void 0:O.plugins)||void 0===oe?void 0:oe.browsertab)||void 0===be?void 0:be.openUrl),T,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),xe("function"==typeof(null===(On=null===(rn=null===(Nt=null==mr?void 0:mr.cordova)||void 0===Nt?void 0:Nt.plugins)||void 0===rn?void 0:rn.browsertab)||void 0===On?void 0:On.isAvailable),T,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),xe("function"==typeof(null===(_r=null===(cr=null==mr?void 0:mr.cordova)||void 0===cr?void 0:cr.InAppBrowser)||void 0===_r?void 0:_r.open),T,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const Nt=yield be._initialize(p);yield Nt.initialized(),Nt.resetRedirect(),function lh(){Ki.clear()}(),yield be._originValidation(p);const rn=function va(T,p,g=null){return{type:p,eventId:g,urlResponse:null,sessionId:Zl(),postBody:null,tenantId:T.tenantId,error:Re(T,"no-auth-event")}}(p,O,oe);yield function Dh(T,p){return al()._set(wh(T),p)}(p,rn);const On=yield function ol(T,p,g){return sl.apply(this,arguments)}(p,rn,g),cr=yield function O_(T){const{cordova:p}=il();return new Promise(g=>{p.plugins.browsertab.isAvailable(O=>{let oe=null;O?p.plugins.browsertab.openUrl(T):oe=p.InAppBrowser.open(T,function mn(T=(0,w.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(T)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(T)}()?"_blank":"_system","location=yes"),g(oe)})})}(On);return function Du(T,p,g){return ld.apply(this,arguments)}(p,Nt,cr)})()}_isIframeWebStorageSupported(p,g){throw new Error("Method not implemented.")}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Th(T){return Ql.apply(this,arguments)}(p)),this.originValidationPromises[g]}attachCallbackListeners(p,g){const{universalLinks:O,handleOpenURL:oe,BuildInfo:be}=il(),Nt=setTimeout((0,c.A)(function*(){yield cd(p),g.onEvent(Is())}),500),rn=function(){var _r=(0,c.A)(function*(mr){clearTimeout(Nt);const Yi=yield cd(p);let ks=null;Yi&&null!=mr&&mr.url&&(ks=function wu(T,p){var g,O;const oe=function Bo(T){const p=gc(T),g=p.link?decodeURIComponent(p.link):void 0,O=gc(g).link,oe=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return gc(oe).link||oe||O||g||T}(p);if(oe.includes("/__/auth/callback")){const be=gc(oe),Nt=be.firebaseError?function ip(T){try{return JSON.parse(T)}catch{return null}}(decodeURIComponent(be.firebaseError)):null,rn=null===(O=null===(g=null==Nt?void 0:Nt.code)||void 0===g?void 0:g.split("auth/"))||void 0===O?void 0:O[1],On=rn?Re(rn):null;return On?{type:T.type,eventId:T.eventId,tenantId:T.tenantId,error:On,urlResponse:null,sessionId:null,postBody:null}:{type:T.type,eventId:T.eventId,tenantId:T.tenantId,sessionId:T.sessionId,urlResponse:oe,postBody:null}}return null}(Yi,mr.url)),g.onEvent(ks||Is())});return function(Yi){return _r.apply(this,arguments)}}();typeof O<"u"&&"function"==typeof O.subscribe&&O.subscribe(null,rn);const On=oe,cr=`${be.packageName.toLowerCase()}://`;il().handleOpenURL=function(){var _r=(0,c.A)(function*(mr){if(mr.toLowerCase().startsWith(cr)&&rn({url:mr}),"function"==typeof On)try{On(mr)}catch(Yi){console.error(Yi)}});return function(mr){return _r.apply(this,arguments)}}()}};function Is(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Re("no-auth-event")}}function Cs(){var T;return(null===(T=null==self?void 0:self.location)||void 0===T?void 0:T.protocol)||null}function Ol(T=(0,w.ZQ)()){return!("file:"!==Cs()&&"ionic:"!==Cs()&&"capacitor:"!==Cs()||!T.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ec(){try{const T=self.localStorage,p=gs();if(T)return T.setItem(p,"1"),T.removeItem(p),!function Ug(T=(0,w.ZQ)()){return function ap(){return(0,w.lT)()&&11===(null==document?void 0:document.documentMode)}()||function kg(T=(0,w.ZQ)()){return/Edge\/\d+/.test(T)}(T)}()||(0,w.zW)()}catch{return lp()&&(0,w.zW)()}return!1}function lp(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Ou(){return(function So(){return"http:"===Cs()||"https:"===Cs()}()||(0,w.sr)()||Ol())&&!function sp(){return(0,w.lV)()||(0,w.Ll)()}()&&Ec()&&!lp()}function fd(){return Ol()&&typeof document<"u"}function pd(){return(pd=(0,c.A)(function*(){return!!fd()&&new Promise(T=>{const p=setTimeout(()=>{T(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),T(!0)})})})).apply(this,arguments)}const xs={LOCAL:"local",NONE:"none",SESSION:"session"},Ha=xe,bu="persistence";function gd(T){return up.apply(this,arguments)}function up(){return(up=(0,c.A)(function*(T){yield T._initializationPromise;const p=M_(),g=xn(bu,T.config.apiKey,T.name);p&&p.setItem(g,T._getPersistence())})).apply(this,arguments)}function M_(){var T;try{return(null===(T=function N_(){return typeof window<"u"?window:null}())||void 0===T?void 0:T.sessionStorage)||null}catch{return null}}const Bg=xe;class bl{constructor(){this.browserResolver=Bt(wl),this.cordovaResolver=Bt(hd),this.underlyingResolver=null,this._redirectPersistence=Xi,this._completeRedirectFn=Wr,this._overrideRedirectResult=ac}_initialize(p){var g=this;return(0,c.A)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,g,O,oe){var be=this;return(0,c.A)(function*(){return yield be.selectUnderlyingResolver(),be.assertedUnderlyingResolver._openPopup(p,g,O,oe)})()}_openRedirect(p,g,O,oe){var be=this;return(0,c.A)(function*(){return yield be.selectUnderlyingResolver(),be.assertedUnderlyingResolver._openRedirect(p,g,O,oe)})()}_isIframeWebStorageSupported(p,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,g)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return fd()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Bg(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,c.A)(function*(){if(p.underlyingResolver)return;const g=yield function bh(){return pd.apply(this,arguments)}();p.underlyingResolver=g?p.cordovaResolver:p.browserResolver})()}}function Mo(T){return T.unwrap()}function P_(T){return cp(T)}function cp(T){const{_tokenResponse:p}=T instanceof w.g?T.customData:T;if(!p)return null;if(!(T instanceof w.g)&&"temporaryProof"in p&&"phoneNumber"in p)return Iu.credentialFromResult(T);const g=p.providerId;if(!g||g===F.PASSWORD)return null;let O;switch(g){case F.GOOGLE:O=Xu;break;case F.FACEBOOK:O=cs;break;case F.GITHUB:O=Ma;break;case F.TWITTER:O=Ai;break;default:const{oauthIdToken:oe,oauthAccessToken:be,oauthTokenSecret:Nt,pendingToken:rn,nonce:On}=p;return be||Nt||oe||rn?rn?g.startsWith("saml.")?Ur._create(g,rn):gr._fromParams({providerId:g,signInMethod:g,pendingToken:rn,idToken:oe,accessToken:be}):new Ho(g).credential({idToken:oe,accessToken:be,rawNonce:On}):null}return T instanceof w.g?O.credentialFromError(T):O.credentialFromResult(T)}function ia(T,p){return p.catch(g=>{throw g instanceof w.g&&function Ry(T,p){var g;const O=null===(g=p.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===(null==p?void 0:p.code))p.resolver=new tu(T,function Ir(T,p){var g;const O=(0,w.Ku)(T),oe=p;return xe(p.customData.operationType,O,"argument-error"),xe(null===(g=oe.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,O,"argument-error"),Yn._fromError(O,oe)}(T,p));else if(O){const oe=cp(p),be=p;oe&&(be.credential=oe,be.tenantId=O.tenantId||void 0,be.email=O.email||void 0,be.phoneNumber=O.phoneNumber||void 0)}}(T,g),g}).then(g=>{const oe=g.user;return{operationType:g.operationType,credential:P_(g),additionalUserInfo:nt(g),user:ya.getOrCreate(oe)}})}function Nu(T,p){return Nh.apply(this,arguments)}function Nh(){return(Nh=(0,c.A)(function*(T,p){const g=yield p;return{verificationId:g.verificationId,confirm:O=>ia(T,g.confirm(O))}})).apply(this,arguments)}class tu{constructor(p,g){this.resolver=g,this.auth=function Go(T){return T.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return ia(Mo(this.auth),this.resolver.resolveSignIn(p))}}class ya{constructor(p){this._delegate=p,this.multiFactor=function Ms(T){const p=(0,w.Ku)(T);return Gi.has(p)||Gi.set(p,Ti._fromUser(p)),Gi.get(p)}(p)}static getOrCreate(p){return ya.USER_MAP.has(p)||ya.USER_MAP.set(p,new ya(p)),ya.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var g=this;return(0,c.A)(function*(){return ia(g.auth,re(g._delegate,p))})()}linkWithPhoneNumber(p,g){var O=this;return(0,c.A)(function*(){return Nu(O.auth,function nc(T,p,g){return Sl.apply(this,arguments)}(O._delegate,p,g))})()}linkWithPopup(p){var g=this;return(0,c.A)(function*(){return ia(g.auth,function sh(T,p,g){return oc.apply(this,arguments)}(g._delegate,p,bl))})()}linkWithRedirect(p){var g=this;return(0,c.A)(function*(){return yield gd(fr(g.auth)),Mg(g._delegate,p,bl)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var g=this;return(0,c.A)(function*(){return ia(g.auth,Fn(g._delegate,p))})()}reauthenticateWithPhoneNumber(p,g){return Nu(this.auth,function Wl(T,p,g){return zl.apply(this,arguments)}(this._delegate,p,g))}reauthenticateWithPopup(p){return ia(this.auth,function Hf(T,p,g){return Zo.apply(this,arguments)}(this._delegate,p,bl))}reauthenticateWithRedirect(p){var g=this;return(0,c.A)(function*(){return yield gd(fr(g.auth)),td(g._delegate,p,bl)})()}sendEmailVerification(p){return function Ua(T,p){return Xs.apply(this,arguments)}(this._delegate,p)}unlink(p){var g=this;return(0,c.A)(function*(){return yield function Vl(T,p){return qa.apply(this,arguments)}(g._delegate,p),g})()}updateEmail(p){return function Ba(T,p){const g=(0,w.Ku)(T);return(0,v._isFirebaseServerApp)(g.auth.app)?Promise.reject(it(g.auth)):$a(g,p,null)}(this._delegate,p)}updatePassword(p){return function Ga(T,p){return $a((0,w.Ku)(T),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function na(T,p){return yu.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function Va(T,p){return Ns.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,g){return function yl(T,p,g){return Fa.apply(this,arguments)}(this._delegate,p,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ya.USER_MAP=new WeakMap;const md=xe;let Nl=(()=>{class T{constructor(g,O){if(this.app=g,O.isInitialized())return this._delegate=O.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:oe}=g.options;md(oe,"invalid-api-key",{appName:g.name}),md(oe,"invalid-api-key",{appName:g.name});const be=typeof window<"u"?bl:void 0;this._delegate=O.initialize({options:{persistence:hp(oe,g.name),popupRedirectResolver:be}}),this._delegate._updateErrorMap($),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ya.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,O){!function Pn(T,p,g){const O=fr(T);xe(O._canInitEmulator,O,"emulator-config-failed"),xe(/^https?:\/\//.test(p),O,"invalid-emulator-scheme");const oe=!(null==g||!g.disableWarnings),be=Wn(p),{host:Nt,port:rn}=function Oa(T){const p=Wn(T),g=/(\/\/)?([^?#/]+)/.exec(T.substr(p.length));if(!g)return{host:"",port:null};const O=g[2].split("@").pop()||"",oe=/^(\[[^\]]+\])(:|$)/.exec(O);if(oe){const be=oe[1];return{host:be,port:ir(O.substr(be.length+1))}}{const[be,Nt]=O.split(":");return{host:be,port:ir(Nt)}}}(p);O.config.emulator={url:`${be}//${Nt}${null===rn?"":`:${rn}`}/`},O.settings.appVerificationDisabledForTesting=!0,O.emulatorConfig=Object.freeze({host:Nt,port:rn,protocol:be.replace(":",""),options:Object.freeze({disableWarnings:oe})}),oe||function pn(){function T(){const p=document.createElement("p"),g=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",T):T())}()}(this._delegate,g,O)}applyActionCode(g){return function da(T,p){return Oi.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return vl(this._delegate,g)}confirmPasswordReset(g,O){return function Fr(T,p,g){return El.apply(this,arguments)}(this._delegate,g,O)}createUserWithEmailAndPassword(g,O){var oe=this;return(0,c.A)(function*(){return ia(oe._delegate,function bs(T,p,g){return Si.apply(this,arguments)}(oe._delegate,g,O))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function qs(T,p){return Oo.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function $l(T,p){const g=ls.parseLink(p);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}(0,g)}getRedirectResult(){var g=this;return(0,c.A)(function*(){md(Ou(),g._delegate,"operation-not-supported-in-this-environment");const O=yield function Pg(T,p){return Rn.apply(this,arguments)}(g._delegate,bl);return O?ia(g._delegate,Promise.resolve(O)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function mc(T,p){fr(T)._logFramework(p)}(this._delegate,g)}onAuthStateChanged(g,O,oe){const{next:be,error:Nt,complete:rn}=dp(g,O,oe);return this._delegate.onAuthStateChanged(be,Nt,rn)}onIdTokenChanged(g,O,oe){const{next:be,error:Nt,complete:rn}=dp(g,O,oe);return this._delegate.onIdTokenChanged(be,Nt,rn)}sendSignInLinkToEmail(g,O){return function Zu(T,p,g){return Ws.apply(this,arguments)}(this._delegate,g,O)}sendPasswordResetEmail(g,O){return function Bi(T,p,g){return _i.apply(this,arguments)}(this._delegate,g,O||void 0)}setPersistence(g){var O=this;return(0,c.A)(function*(){let oe;switch(function Fg(T,p){Ha(Object.values(xs).includes(p),T,"invalid-persistence-type"),(0,w.lV)()?Ha(p!==xs.SESSION,T,"unsupported-persistence-type"):(0,w.Ll)()?Ha(p===xs.NONE,T,"unsupported-persistence-type"):lp()?Ha(p===xs.NONE||p===xs.LOCAL&&(0,w.zW)(),T,"unsupported-persistence-type"):Ha(p===xs.NONE||Ec(),T,"unsupported-persistence-type")}(O._delegate,g),g){case xs.SESSION:oe=Xi;break;case xs.LOCAL:oe=(yield Bt(vu)._isAvailable())?vu:Qs;break;case xs.NONE:oe=Kn;break;default:return Se("argument-error",{appName:O._delegate.name})}return O._delegate.setPersistence(oe)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return ia(this._delegate,function Fl(T){return La.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return ia(this._delegate,W(this._delegate,g))}signInWithCustomToken(g){return ia(this._delegate,function so(T,p){return zo.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,O){return ia(this._delegate,function ds(T,p,g){return(0,v._isFirebaseServerApp)(T.app)?Promise.reject(it(T)):W((0,w.Ku)(T),ko.credential(p,g)).catch(function(){var O=(0,c.A)(function*(oe){throw"auth/password-does-not-meet-requirements"===oe.code&&Gr(T),oe});return function(oe){return O.apply(this,arguments)}}())}(this._delegate,g,O))}signInWithEmailLink(g,O){return ia(this._delegate,function Kl(T,p,g){return hs.apply(this,arguments)}(this._delegate,g,O))}signInWithPhoneNumber(g,O){return Nu(this._delegate,function Jo(T,p,g){return ta.apply(this,arguments)}(this._delegate,g,O))}signInWithPopup(g){var O=this;return(0,c.A)(function*(){return md(Ou(),O._delegate,"operation-not-supported-in-this-environment"),ia(O._delegate,function Ng(T,p,g){return el.apply(this,arguments)}(O._delegate,g,bl))})()}signInWithRedirect(g){var O=this;return(0,c.A)(function*(){return md(Ou(),O._delegate,"operation-not-supported-in-this-environment"),yield gd(O._delegate),Zc(O._delegate,g,bl)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function bi(T,p){return Qu.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return T.Persistence=xs,T})();function dp(T,p,g){let O=T;"function"!=typeof T&&({next:O,error:p,complete:g}=T);const oe=O;return{next:Nt=>oe(Nt&&ya.getOrCreate(Nt)),error:p,complete:g}}function hp(T,p){const g=function Vg(T,p){const g=M_();if(!g)return[];const O=xn(bu,T,p);switch(g.getItem(O)){case xs.NONE:return[Kn];case xs.LOCAL:return[vu,Xi];case xs.SESSION:return[Xi];default:return[]}}(T,p);if(typeof self<"u"&&!g.includes(vu)&&g.push(vu),typeof window<"u")for(const O of[Qs,Xi])g.includes(O)||g.push(O);return g.includes(Kn)||g.push(Kn),g}class es{constructor(){this.providerId="phone",this._delegate=new Iu(Mo(d.A.auth()))}static credential(p,g){return Iu.credential(p,g)}verifyPhoneNumber(p,g){return this._delegate.verifyPhoneNumber(p,g)}unwrap(){return this._delegate}}es.PHONE_SIGN_IN_METHOD=Iu.PHONE_SIGN_IN_METHOD,es.PROVIDER_ID=Iu.PROVIDER_ID;const Mu=xe;class Mh{constructor(p,g,O=d.A.app()){var oe;Mu(null===(oe=O.options)||void 0===oe?void 0:oe.apiKey,"invalid-api-key",{appName:O.name}),this._delegate=new uo(O.auth(),p,g),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Dy(T){T.INTERNAL.registerComponent(new I.uA("auth-compat",p=>{const g=p.getProvider("app-compat").getImmediate(),O=p.getProvider("auth");return new Nl(g,O)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:ko,FacebookAuthProvider:cs,GithubAuthProvider:Ma,GoogleAuthProvider:Xu,OAuthProvider:Ho,SAMLAuthProvider:Yo,PhoneAuthProvider:es,PhoneMultiFactorGenerator:tp,RecaptchaVerifier:Mh,TwitterAuthProvider:Ai,Auth:Nl,AuthCredential:Ln,Error:w.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),T.registerVersion("@firebase/auth-compat","0.5.14")}(d.A)},5900:(Jn,ft,y)=>{"use strict";var c=y(3345),d=y(467),v=y(8742),w=y(1076),N=y(1362);const A="type.googleapis.com/google.protobuf.Int64Value",I="type.googleapis.com/google.protobuf.UInt64Value";function P(vt,It){const sn={};for(const Mn in vt)vt.hasOwnProperty(Mn)&&(sn[Mn]=It(vt[Mn]));return sn}function F(vt){if(null==vt)return null;if(vt instanceof Number&&(vt=vt.valueOf()),"number"==typeof vt&&isFinite(vt)||!0===vt||!1===vt||"[object String]"===Object.prototype.toString.call(vt))return vt;if(vt instanceof Date)return vt.toISOString();if(Array.isArray(vt))return vt.map(It=>F(It));if("function"==typeof vt||"object"==typeof vt)return P(vt,It=>F(It));throw new Error("Data cannot be encoded in JSON: "+vt)}function C(vt){if(null==vt)return vt;if(vt["@type"])switch(vt["@type"]){case A:case I:{const It=Number(vt.value);if(isNaN(It))throw new Error("Data cannot be decoded from JSON: "+vt);return It}default:throw new Error("Data cannot be decoded from JSON: "+vt)}return Array.isArray(vt)?vt.map(It=>C(It)):"function"==typeof vt||"object"==typeof vt?P(vt,It=>C(It)):vt}const M="functions",x={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class j extends w.g{constructor(It,sn,Mn){super(`${M}/${It}`,sn||""),this.details=Mn}}class S{constructor(It,sn,Mn){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=It.getImmediate({optional:!0}),this.messaging=sn.getImmediate({optional:!0}),this.auth||It.get().then(Vn=>this.auth=Vn,()=>{}),this.messaging||sn.get().then(Vn=>this.messaging=Vn,()=>{}),this.appCheck||Mn.get().then(Vn=>this.appCheck=Vn,()=>{})}getAuthToken(){var It=this;return(0,d.A)(function*(){if(It.auth)try{const sn=yield It.auth.getToken();return null==sn?void 0:sn.accessToken}catch{return}})()}getMessagingToken(){var It=this;return(0,d.A)(function*(){if(It.messaging&&"Notification"in self&&"granted"===Notification.permission)try{return yield It.messaging.getToken()}catch{return}})()}getAppCheckToken(It){var sn=this;return(0,d.A)(function*(){if(sn.appCheck){const Mn=It?yield sn.appCheck.getLimitedUseToken():yield sn.appCheck.getToken();return Mn.error?null:Mn.token}return null})()}getContext(It){var sn=this;return(0,d.A)(function*(){return{authToken:yield sn.getAuthToken(),messagingToken:yield sn.getMessagingToken(),appCheckToken:yield sn.getAppCheckToken(It)}})()}}const se="us-central1";class Be{constructor(It,sn,Mn,Vn,nr=se,sr){this.app=It,this.fetchImpl=sr,this.emulatorOrigin=null,this.contextProvider=new S(sn,Mn,Vn),this.cancelAllRequests=new Promise(Qn=>{this.deleteService=()=>Promise.resolve(Qn())});try{const Qn=new URL(nr);this.customDomain=Qn.origin+("/"===Qn.pathname?"":Qn.pathname),this.region=se}catch{this.customDomain=null,this.region=nr}}_delete(){return this.deleteService()}_url(It){const sn=this.app.options.projectId;return null!==this.emulatorOrigin?`${this.emulatorOrigin}/${sn}/${this.region}/${It}`:null!==this.customDomain?`${this.customDomain}/${It}`:`https://${this.region}-${sn}.cloudfunctions.net/${It}`}}function Re(vt,It,sn,Mn){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,d.A)(function*(vt,It,sn,Mn){let Vn;sn["Content-Type"]="application/json";try{Vn=yield Mn(vt,{method:"POST",body:JSON.stringify(It),headers:sn})}catch{return{status:0,json:null}}let nr=null;try{nr=yield Vn.json()}catch{}return{status:Vn.status,json:nr}})).apply(this,arguments)}function We(vt,It,sn,Mn){return Je.apply(this,arguments)}function Je(){return(Je=(0,d.A)(function*(vt,It,sn,Mn){const Vn={data:sn=F(sn)},nr={},sr=yield vt.contextProvider.getContext(Mn.limitedUseAppCheckTokens);sr.authToken&&(nr.Authorization="Bearer "+sr.authToken),sr.messagingToken&&(nr["Firebase-Instance-ID-Token"]=sr.messagingToken),null!==sr.appCheckToken&&(nr["X-Firebase-AppCheck"]=sr.appCheckToken);const bn=function ue(vt){let It=null;return{promise:new Promise((sn,Mn)=>{It=setTimeout(()=>{Mn(new j("deadline-exceeded","deadline-exceeded"))},vt)}),cancel:()=>{It&&clearTimeout(It)}}}(Mn.timeout||7e4),jn=yield Promise.race([Re(It,Vn,nr,vt.fetchImpl),bn.promise,vt.cancelAllRequests]);if(bn.cancel(),!jn)throw new j("cancelled","Firebase Functions instance was deleted.");const vn=function $(vt,It){let Vn,sn=function Q(vt){if(vt>=200&&vt<300)return"ok";switch(vt){case 0:case 500:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(vt),Mn=sn;try{const nr=It&&It.error;if(nr){const sr=nr.status;if("string"==typeof sr){if(!x[sr])return new j("internal","internal");sn=x[sr],Mn=sr}const Qn=nr.message;"string"==typeof Qn&&(Mn=Qn),Vn=nr.details,void 0!==Vn&&(Vn=C(Vn))}}catch{}return"ok"===sn?null:new j(sn,Mn,Vn)}(jn.status,jn.json);if(vn)throw vn;if(!jn.json)throw new j("internal","Response is not valid JSON object.");let K=jn.json.data;if(typeof K>"u"&&(K=jn.json.result),typeof K>"u")throw new j("internal","Response is missing data field.");return{data:C(K)}})).apply(this,arguments)}const xe="@firebase/functions";function je(vt,It,sn){!function me(vt,It,sn){vt.emulatorOrigin=`http://${It}:${sn}`}((0,w.Ku)(vt),It,sn)}!function on(vt,It){(0,v._registerComponent)(new N.uA(M,(Mn,{instanceIdentifier:Vn})=>{const nr=Mn.getProvider("app").getImmediate(),sr=Mn.getProvider("auth-internal"),Qn=Mn.getProvider("messaging-internal"),bn=Mn.getProvider("app-check-internal");return new Be(nr,sr,Qn,bn,Vn,vt)},"PUBLIC").setMultipleInstances(!0)),(0,v.registerVersion)(xe,"0.11.8",It),(0,v.registerVersion)(xe,"0.11.8","esm2017")}(fetch.bind(self));class Kt{constructor(It,sn){this.app=It,this._delegate=sn,this._region=this._delegate.region,this._customDomain=this._delegate.customDomain}httpsCallable(It,sn){return function pe(vt,It,sn){return function Ne(vt,It,sn){return Mn=>function it(vt,It,sn,Mn){const Vn=vt._url(It);return We(vt,Vn,sn,Mn)}(vt,It,Mn,sn||{})}((0,w.Ku)(vt),It,sn)}(this._delegate,It,sn)}httpsCallableFromURL(It,sn){return function fe(vt,It,sn){return function Se(vt,It,sn){return Mn=>We(vt,It,Mn,sn||{})}((0,w.Ku)(vt),It,sn)}(this._delegate,It,sn)}useFunctionsEmulator(It){const sn=It.match("[a-zA-Z]+://([a-zA-Z0-9.-]+)(?::([0-9]+))?");if(null==sn)throw new w.g("functions","No origin provided to useFunctionsEmulator()");if(null==sn[2])throw new w.g("functions","Port missing in origin provided to useFunctionsEmulator()");return je(this._delegate,sn[1],Number(sn[2]))}useEmulator(It,sn){return je(this._delegate,It,sn)}}const kt=(vt,{instanceIdentifier:It})=>{const sn=vt.getProvider("app-compat").getImmediate(),Mn=vt.getProvider("functions").getImmediate({identifier:null!=It?It:"us-central1"});return new Kt(sn,Mn)};(function _n(){const vt={Functions:Kt};c.A.INTERNAL.registerComponent(new N.uA("functions-compat",kt,"PUBLIC").setServiceProps(vt).setMultipleInstances(!0))})(),c.A.registerVersion("@firebase/functions-compat","0.3.14")},6749:(Jn,ft,y)=>{"use strict";y.d(ft,{MR:()=>Ne,P2:()=>me});var c=y(467);const d=(We,Je)=>Je.some(xe=>We instanceof xe);let v,w;const I=new WeakMap,P=new WeakMap,F=new WeakMap,C=new WeakMap,M=new WeakMap;let Q={get(We,Je,xe){if(We instanceof IDBTransaction){if("done"===Je)return P.get(We);if("objectStoreNames"===Je)return We.objectStoreNames||F.get(We);if("store"===Je)return xe.objectStoreNames[1]?void 0:xe.objectStore(xe.objectStoreNames[0])}return ue(We[Je])},set:(We,Je,xe)=>(We[Je]=xe,!0),has:(We,Je)=>We instanceof IDBTransaction&&("done"===Je||"store"===Je)||Je in We};function se(We){return"function"==typeof We?function S(We){return We!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function A(){return w||(w=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(We)?function(...Je){return We.apply(Be(this),Je),ue(I.get(this))}:function(...Je){return ue(We.apply(Be(this),Je))}:function(Je,...xe){const Ke=We.call(Be(this),Je,...xe);return F.set(Ke,Je.sort?Je.sort():[Je]),ue(Ke)}}(We):(We instanceof IDBTransaction&&function j(We){if(P.has(We))return;const Je=new Promise((xe,Ke)=>{const Ye=()=>{We.removeEventListener("complete",rt),We.removeEventListener("error",xt),We.removeEventListener("abort",xt)},rt=()=>{xe(),Ye()},xt=()=>{Ke(We.error||new DOMException("AbortError","AbortError")),Ye()};We.addEventListener("complete",rt),We.addEventListener("error",xt),We.addEventListener("abort",xt)});P.set(We,Je)}(We),d(We,function N(){return v||(v=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(We,Q):We)}function ue(We){if(We instanceof IDBRequest)return function x(We){const Je=new Promise((xe,Ke)=>{const Ye=()=>{We.removeEventListener("success",rt),We.removeEventListener("error",xt)},rt=()=>{xe(ue(We.result)),Ye()},xt=()=>{Ke(We.error),Ye()};We.addEventListener("success",rt),We.addEventListener("error",xt)});return Je.then(xe=>{xe instanceof IDBCursor&&I.set(xe,We)}).catch(()=>{}),M.set(Je,We),Je}(We);if(C.has(We))return C.get(We);const Je=se(We);return Je!==We&&(C.set(We,Je),M.set(Je,We)),Je}const Be=We=>M.get(We);function me(We,Je,{blocked:xe,upgrade:Ke,blocking:Ye,terminated:rt}={}){const xt=indexedDB.open(We,Je),on=ue(xt);return Ke&&xt.addEventListener("upgradeneeded",At=>{Ke(ue(xt.result),At.oldVersion,At.newVersion,ue(xt.transaction),At)}),xe&&xt.addEventListener("blocked",At=>xe(At.oldVersion,At.newVersion,At)),on.then(At=>{rt&&At.addEventListener("close",()=>rt()),Ye&&At.addEventListener("versionchange",je=>Ye(je.oldVersion,je.newVersion,je))}).catch(()=>{}),on}function Ne(We,{blocked:Je}={}){const xe=indexedDB.deleteDatabase(We);return Je&&xe.addEventListener("blocked",Ke=>Je(Ke.oldVersion,Ke)),ue(xe).then(()=>{})}const Se=["get","getKey","getAll","getAllKeys","count"],Re=["put","add","delete","clear"],Xe=new Map;function it(We,Je){if(!(We instanceof IDBDatabase)||Je in We||"string"!=typeof Je)return;if(Xe.get(Je))return Xe.get(Je);const xe=Je.replace(/FromIndex$/,""),Ke=Je!==xe,Ye=Re.includes(xe);if(!(xe in(Ke?IDBIndex:IDBObjectStore).prototype)||!Ye&&!Se.includes(xe))return;const rt=function(){var xt=(0,c.A)(function*(on,...At){const je=this.transaction(on,Ye?"readwrite":"readonly");let pe=je.store;return Ke&&(pe=pe.index(At.shift())),(yield Promise.all([pe[xe](...At),Ye&&je.done]))[0]});return function(At){return xt.apply(this,arguments)}}();return Xe.set(Je,rt),rt}!function $(We){Q=We(Q)}(We=>({...We,get:(Je,xe,Ke)=>it(Je,xe)||We.get(Je,xe,Ke),has:(Je,xe)=>!!it(Je,xe)||We.has(Je,xe)}))},467:(Jn,ft,y)=>{"use strict";function c(v,w,N,A,I,P,F){try{var C=v[P](F),M=C.value}catch(x){return void N(x)}C.done?w(M):Promise.resolve(M).then(A,I)}function d(v){return function(){var w=this,N=arguments;return new Promise(function(A,I){var P=v.apply(w,N);function F(M){c(P,A,I,F,C,"next",M)}function C(M){c(P,A,I,F,C,"throw",M)}F(void 0)})}}y.d(ft,{A:()=>d})},9842:(Jn,ft,y)=>{"use strict";function c(N){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(A){return typeof A}:function(A){return A&&"function"==typeof Symbol&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A})(N)}function w(N,A,I){return(A=function v(N){var A=function d(N,A){if("object"!=c(N)||!N)return N;var I=N[Symbol.toPrimitive];if(void 0!==I){var P=I.call(N,A||"default");if("object"!=c(P))return P;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===A?String:Number)(N)}(N,"string");return"symbol"==c(A)?A:A+""}(A))in N?Object.defineProperty(N,A,{value:I,enumerable:!0,configurable:!0,writable:!0}):N[A]=I,N}y.d(ft,{A:()=>w})},1635:(Jn,ft,y)=>{"use strict";function w(pe,fe){var Ie={};for(var Qe in pe)Object.prototype.hasOwnProperty.call(pe,Qe)&&fe.indexOf(Qe)<0&&(Ie[Qe]=pe[Qe]);if(null!=pe&&"function"==typeof Object.getOwnPropertySymbols){var Kt=0;for(Qe=Object.getOwnPropertySymbols(pe);Kt<Qe.length;Kt++)fe.indexOf(Qe[Kt])<0&&Object.prototype.propertyIsEnumerable.call(pe,Qe[Kt])&&(Ie[Qe[Kt]]=pe[Qe[Kt]])}return Ie}function N(pe,fe,Ie,Qe){var kt,Kt=arguments.length,Ut=Kt<3?fe:null===Qe?Qe=Object.getOwnPropertyDescriptor(fe,Ie):Qe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ut=Reflect.decorate(pe,fe,Ie,Qe);else for(var _n=pe.length-1;_n>=0;_n--)(kt=pe[_n])&&(Ut=(Kt<3?kt(Ut):Kt>3?kt(fe,Ie,Ut):kt(fe,Ie))||Ut);return Kt>3&&Ut&&Object.defineProperty(fe,Ie,Ut),Ut}function x(pe,fe,Ie,Qe){return new(Ie||(Ie=Promise))(function(Ut,kt){function _n(sn){try{It(Qe.next(sn))}catch(Mn){kt(Mn)}}function vt(sn){try{It(Qe.throw(sn))}catch(Mn){kt(Mn)}}function It(sn){sn.done?Ut(sn.value):function Kt(Ut){return Ut instanceof Ie?Ut:new Ie(function(kt){kt(Ut)})}(sn.value).then(_n,vt)}It((Qe=Qe.apply(pe,fe||[])).next())})}function Ne(pe){return this instanceof Ne?(this.v=pe,this):new Ne(pe)}function Se(pe,fe,Ie){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Kt,Qe=Ie.apply(pe,fe||[]),Ut=[];return Kt=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),_n("next"),_n("throw"),_n("return",function kt(nr){return function(sr){return Promise.resolve(sr).then(nr,Mn)}}),Kt[Symbol.asyncIterator]=function(){return this},Kt;function _n(nr,sr){Qe[nr]&&(Kt[nr]=function(Qn){return new Promise(function(bn,jn){Ut.push([nr,Qn,bn,jn])>1||vt(nr,Qn)})},sr&&(Kt[nr]=sr(Kt[nr])))}function vt(nr,sr){try{!function It(nr){nr.value instanceof Ne?Promise.resolve(nr.value.v).then(sn,Mn):Vn(Ut[0][2],nr)}(Qe[nr](sr))}catch(Qn){Vn(Ut[0][3],Qn)}}function sn(nr){vt("next",nr)}function Mn(nr){vt("throw",nr)}function Vn(nr,sr){nr(sr),Ut.shift(),Ut.length&&vt(Ut[0][0],Ut[0][1])}}function Xe(pe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ie,fe=pe[Symbol.asyncIterator];return fe?fe.call(pe):(pe=function S(pe){var fe="function"==typeof Symbol&&Symbol.iterator,Ie=fe&&pe[fe],Qe=0;if(Ie)return Ie.call(pe);if(pe&&"number"==typeof pe.length)return{next:function(){return pe&&Qe>=pe.length&&(pe=void 0),{value:pe&&pe[Qe++],done:!pe}}};throw new TypeError(fe?"Object is not iterable.":"Symbol.iterator is not defined.")}(pe),Ie={},Qe("next"),Qe("throw"),Qe("return"),Ie[Symbol.asyncIterator]=function(){return this},Ie);function Qe(Ut){Ie[Ut]=pe[Ut]&&function(kt){return new Promise(function(_n,vt){!function Kt(Ut,kt,_n,vt){Promise.resolve(vt).then(function(It){Ut({value:It,done:_n})},kt)}(_n,vt,(kt=pe[Ut](kt)).done,kt.value)})}}}y.d(ft,{AQ:()=>Se,Cg:()=>N,N3:()=>Ne,Tt:()=>w,sH:()=>x,xN:()=>Xe}),"function"==typeof SuppressedError&&SuppressedError}},Jn=>{Jn(Jn.s=4543)}]);